function hasCanvasSupport(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}define("fido/app/Fallback",["require","exports","module"],function(e,t,i){var o=function(e){this.domElement=e||document.body;var t={message:'<p>Uh-oh! It looks like you need to update your browser before you\'ll be able to play this game</p><p>In the meantime, check out <a href="#brand_url">this</a> or <a href="#cbeebies_games_url">this</a>.',brand_url:"http://www.someurl.tld/",games_url:"http://www.someurl.tld/",enabled:!0},i=t.message;i=i.replace("#brand_url",t.brand_url),i=i.replace("#games_url",t.games_url),this.active=!1,this.checkDevice(navigator.userAgent),this.checkCanvas(),this.checkCookies()};o.prototype.constructor=o,o.prototype={checkDevice:function(e){for(var t=[/(Mobile\/8C148)/,/(Mobile\/8C148a)/,/(Mobile\/8A293)/,/(Mobile\/8A306)/,/(Mobile\/8A400)/,/(Mobile\/8B117)/,/(Mobile\/8E128)/,/(Mobile\/8E200)/,/(Mobile\/8E303)/,/(Mobile\/8E401)/,/(Mobile\/8E600)/,/(Mobile\/8E501)/,/(Mobile\/8G4)/,/(Mobile\/8H7)/,/(Mobile\/8J2)/,/(Mobile\/8K2)/,/(Mobile\/8L1)/,/(Mobile\/9A334)/,/(Mobile\/10A523)/,/(Mobile\/9A405)/],i=0;i<t.length;i++)if(e.match(t[i])){var o=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(o),!1}if(/iP[ao]d|iPhone/i.test(e)){var n=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;if(6>n){var o=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(o),!1}}},checkCanvas:function(){if(!this.hasCanvasSupport()){var e=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(e),!1}return!0},hasCanvasSupport:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},checkCookies:function(){if(!this.cookiesEnabled()){var e=ASSET_URL+"img/cookies.jpg";this.createBigImage(e)}},cookiesEnabled:function(){var e=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")?!0:!1),e},createBigImage2:function(e){var t=document.createElement("div");t.style.backgroundPosition="50% 50%",t.style.backgroundColor="#3b3b3b",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.bottom="0",t.style.right="0",t.style.zIndex=1e5,t.height="100%",t.width="100%",t.style.backgroundImage="url("+e+")",this.domElement.appendChild(t),this.active=!0},createBigImage:function(e){var t=new Image;t.style.backgroundPosition="50% 50%",t.style.backgroundColor="#3b3b3b",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.bottom="0",t.style.right="0",t.style.zIndex=1e5,t.src=e,this.domElement.appendChild(t),window.onresize=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=e/750;o>1&&(o=1),t.width=750*o,t.height=500*o,t.style.left=e/2-750*o/2+"px",t.style.top=i/2-500*o/2+"px"},window.onresize(),this.active=!0}},i.exports=o});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var o=function(e){var t,i=[],o=e.length;for(t=0;t!==o;i.push(e[t++]));return i},n=function(e,t,o){i.call(this,e,t,o),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},r=1e-10,s=i._internals,a=s.isSelector,h=s.isArray,c=n.prototype=i.to({},.1,{}),l=[];n.version="1.17.0",c.constructor=n,c.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=i.killTweensOf,n.getTweensOf=i.getTweensOf,n.lagSmoothing=i.lagSmoothing,n.ticker=i.ticker,n.render=i.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(e,t){var o,n=this.ratio,r=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(o in e)this.vars[o]=e[o];if(this._initted||r)if(t)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0||r){this._initted=!1,this._init();for(var a,h=1/(1-n),c=this._firstPT;c;)a=c.s+c.c,c.c*=h,c.s=a-c.c,c=c._next}return this},c.render=function(e,t,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var o,n,a,h,c,l,p,u,d=this._dirty?this.totalDuration():this._totalDuration,g=this._time,f=this._totalTime,m=this._cycle,v=this._duration,y=this._rawPrevTime;if(e>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(o=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>y||y===r)&&y!==e&&(i=!0,y>r&&(n="onReverseComplete")),this._rawPrevTime=u=!t||e||y===e?e:r)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==f||0===v&&y>0)&&(n="onReverseComplete",o=this._reversed),0>e&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=u=!t||e||y===e?e:r)),this._initted||(i=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:0>this._time&&(this._time=0)),this._easeType?(c=this._time/v,l=this._easeType,p=this._easePower,(1===l||3===l&&c>=.5)&&(c=1-c),3===l&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===l?1-c:2===l?c:.5>this._time/v?c/2:1-c/2):this.ratio=this._ease.getRatio(this._time/v)),g===this._time&&!i&&m===this._cycle)return void(f!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=f,this._rawPrevTime=y,this._cycle=m,s.lazyTweens.push(this),void(this._lazy=[e,t]);this._time&&!o?this.ratio=this._ease.getRatio(this._time/v):o&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&e>=0&&(this._active=!0),0===f&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._totalTime!==f||o)&&this._callback("onUpdate")),this._cycle!==m&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),n&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[n]&&this._callback(n),0===v&&this._rawPrevTime===r&&u!==r&&(this._rawPrevTime=0))},n.to=function(e,t,i){return new n(e,t,i)},n.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(e,t,i)},n.fromTo=function(e,t,i,o){return o.startAt=i,o.immediateRender=0!=o.immediateRender&&0!=i.immediateRender,new n(e,t,o)},n.staggerTo=n.allTo=function(e,t,r,s,c,p,u){s=s||0;var d,g,f,m,v=r.delay||0,y=[],_=function(){r.onComplete&&r.onComplete.apply(r.onCompleteScope||this,arguments),c.apply(u||r.callbackScope||this,p||l)};for(h(e)||("string"==typeof e&&(e=i.selector(e)||e),a(e)&&(e=o(e))),e=e||[],0>s&&(e=o(e),e.reverse(),s*=-1),d=e.length-1,f=0;d>=f;f++){g={};for(m in r)g[m]=r[m];g.delay=v,f===d&&c&&(g.onComplete=_),y[f]=new n(e[f],t,g),v+=s}return y},n.staggerFrom=n.allFrom=function(e,t,i,o,r,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(e,t,i,o,r,s,a)},n.staggerFromTo=n.allFromTo=function(e,t,i,o,r,s,a,h){return o.startAt=i,o.immediateRender=0!=o.immediateRender&&0!=i.immediateRender,n.staggerTo(e,t,o,r,s,a,h)},n.delayedCall=function(e,t,i,o,r){return new n(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:o,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},n.set=function(e,t){return new n(e,0,t)},n.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var p=function(e,t){for(var o=[],n=0,r=e._first;r;)r instanceof i?o[n++]=r:(t&&(o[n++]=r),o=o.concat(p(r,t)),n=o.length),r=r._next;return o},u=n.getAllTweens=function(t){return p(e._rootTimeline,t).concat(p(e._rootFramesTimeline,t))};n.killAll=function(e,i,o,n){null==i&&(i=!0),null==o&&(o=!0);var r,s,a,h=u(0!=n),c=h.length,l=i&&o&&n;for(a=0;c>a;a++)s=h[a],(l||s instanceof t||(r=s.target===s.vars.onComplete)&&o||i&&!r)&&(e?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},n.killChildTweensOf=function(e,t){if(null!=e){var r,c,l,p,u,d=s.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),a(e)&&(e=o(e)),h(e))for(p=e.length;--p>-1;)n.killChildTweensOf(e[p],t);else{r=[];for(l in d)for(c=d[l].target.parentNode;c;)c===e&&(r=r.concat(d[l].tweens)),c=c.parentNode;for(u=r.length,p=0;u>p;p++)t&&r[p].totalTime(r[p].totalDuration()),r[p]._enabled(!1,!1)}}};var d=function(e,i,o,n){i=i!==!1,o=o!==!1,n=n!==!1;for(var r,s,a=u(n),h=i&&o&&n,c=a.length;--c>-1;)s=a[c],(h||s instanceof t||(r=s.target===s.vars.onComplete)&&o||i&&!r)&&s.paused(e)};return n.pauseAll=function(e,t,i){d(!0,e,t,i)},n.resumeAll=function(e,t,i){d(!1,e,t,i)},n.globalTimeScale=function(t){var o=e._rootTimeline,n=i.ticker.time;return arguments.length?(t=t||r,o._startTime=n-(n-o._startTime)*o._timeScale/t,o=e._rootFramesTimeline,n=i.ticker.frame,o._startTime=n-(n-o._startTime)*o._timeScale/t,o._timeScale=e._rootTimeline._timeScale=t,t):o._timeScale},c.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},c.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},c.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var o=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,o,n=this.vars;for(o in n)i=n[o],h(i)&&-1!==i.join("").indexOf("{self}")&&(n[o]=this._swapSelfInParams(i));h(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},n=1e-10,r=i._internals,s=o._internals={},a=r.isSelector,h=r.isArray,c=r.lazyTweens,l=r.lazyRender,p=[],u=_gsScope._gsDefine.globals,d=function(e){var t,i={};for(t in e)i[t]=e[t];return i},g=s.pauseCallback=function(e,t,i,o){var r,s=e._timeline,a=s._totalTime,h=e._startTime,c=0>e._rawPrevTime||0===e._rawPrevTime&&s._reversed,l=c?0:n,u=c?n:0;if(t||!this._forcingPlayhead){for(s.pause(h),r=e._prev;r&&r._startTime===h;)r._rawPrevTime=u,r=r._prev;for(r=e._next;r&&r._startTime===h;)r._rawPrevTime=l,r=r._next;t&&t.apply(o||s.vars.callbackScope||s,i||p),(this._forcingPlayhead||!s._paused)&&s.seek(a)}},f=function(e){var t,i=[],o=e.length;for(t=0;t!==o;i.push(e[t++]));return i},m=o.prototype=new t;return o.version="1.17.0",m.constructor=o,m.kill()._gc=m._forcingPlayhead=!1,m.to=function(e,t,o,n){var r=o.repeat&&u.TweenMax||i;return t?this.add(new r(e,t,o),n):this.set(e,o,n)},m.from=function(e,t,o,n){return this.add((o.repeat&&u.TweenMax||i).from(e,t,o),n)},m.fromTo=function(e,t,o,n,r){var s=n.repeat&&u.TweenMax||i;return t?this.add(s.fromTo(e,t,o,n),r):this.set(e,n,r)},m.staggerTo=function(e,t,n,r,s,h,c,l){var p,u=new o({onComplete:h,onCompleteParams:c,callbackScope:l,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],a(e)&&(e=f(e)),r=r||0,0>r&&(e=f(e),e.reverse(),r*=-1),p=0;e.length>p;p++)n.startAt&&(n.startAt=d(n.startAt)),u.to(e[p],t,d(n),p*r);return this.add(u,s)},m.staggerFrom=function(e,t,i,o,n,r,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,o,n,r,s,a)},m.staggerFromTo=function(e,t,i,o,n,r,s,a,h){return o.startAt=i,o.immediateRender=0!=o.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,o,n,r,s,a,h)},m.call=function(e,t,o,n){return this.add(i.delayedCall(0,e,t,o),n)},m.set=function(e,t,o){return o=this._parseTimeOrLabel(o,0,!0),null==t.immediateRender&&(t.immediateRender=o===this._time&&!this._paused),this.add(new i(e,0,t),o)},o.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var n,r,s=new o(e),a=s._timeline;for(null==t&&(t=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,n=a._first;n;)r=n._next,t&&n instanceof i&&n.target===n.vars.onComplete||s.add(n,n._startTime-n._delay),n=r;return a.add(s,0),s},m.add=function(n,r,s,a){var c,l,p,u,d,g;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,n)),!(n instanceof e)){if(n instanceof Array||n&&n.push&&h(n)){for(s=s||"normal",a=a||0,c=r,l=n.length,p=0;l>p;p++)h(u=n[p])&&(u=new o({tweens:u})),this.add(u,c),"string"!=typeof u&&"function"!=typeof u&&("sequence"===s?c=u._startTime+u.totalDuration()/u._timeScale:"start"===s&&(u._startTime-=u.delay())),c+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,r);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(t.prototype.add.call(this,n,r),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,g=d.rawTime()>n._startTime;d._timeline;)g&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},m.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&h(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},m._remove=function(e,i){t.prototype._remove.call(this,e,i);var o=this._last;return o?this._time>o._startTime+o._totalDuration/o._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},m.insert=m.insertMultiple=function(e,t,i,o){return this.add(e,t||0,i,o)},m.appendMultiple=function(e,t,i,o){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,o)},m.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},m.addPause=function(e,t,o,n){var r=i.delayedCall(0,g,["{self}",t,o,n],this);return r.data="isPause",this.add(r,e)},m.removeLabel=function(e){return delete this._labels[e],this},m.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},m._parseTimeOrLabel=function(t,i,o,n){var r;if(n instanceof e&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&h(n)))for(r=n.length;--r>-1;)n[r]instanceof e&&n[r].timeline===this&&this.remove(n[r]);if("string"==typeof i)return this._parseTimeOrLabel(i,o&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,o);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(r=t.indexOf("="),-1===r)return null==this._labels[t]?o?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(r-1)+"1",10)*Number(t.substr(r+1)),t=r>1?this._parseTimeOrLabel(t.substr(0,r-1),0,o):this.duration()}return Number(t)+i},m.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(e,t){return this.play(e,t)},m.gotoAndStop=function(e,t){return this.pause(e,t)},m.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var o,r,s,a,h,p=this._dirty?this.totalDuration():this._totalDuration,u=this._time,d=this._startTime,g=this._timeScale,f=this._paused;if(e>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===n)&&this._rawPrevTime!==e&&this._first&&(h=!0,this._rawPrevTime>n&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,e=p+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==u||0===this._duration&&this._rawPrevTime!==n&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,0===e&&r)for(o=this._first;o&&0===o._startTime;)o._duration||(r=!1),o=o._next;e=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==u&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&e>0&&(this._active=!0),0===u&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),this._time>=u)for(o=this._first;o&&(s=o._next,!this._paused||f);)(o._active||o._startTime<=this._time&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,i):o.render((e-o._startTime)*o._timeScale,t,i)),o=s;else for(o=this._last;o&&(s=o._prev,!this._paused||f);)(o._active||u>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,i):o.render((e-o._startTime)*o._timeScale,t,i)),o=s;this._onUpdate&&(t||(c.length&&l(),this._callback("onUpdate"))),a&&(this._gc||(d===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(r&&(c.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a)))}},m._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof o&&e._hasPausedChild())return!0;e=e._next}return!1},m.getChildren=function(e,t,o,n){n=n||-9999999999;for(var r=[],s=this._first,a=0;s;)n>s._startTime||(s instanceof i?t!==!1&&(r[a++]=s):(o!==!1&&(r[a++]=s),e!==!1&&(r=r.concat(s.getChildren(!0,t,o)),a=r.length))),s=s._next;return r},m.getTweensOf=function(e,t){var o,n,r=this._gc,s=[],a=0;for(r&&this._enabled(!0,!0),o=i.getTweensOf(e),n=o.length;--n>-1;)(o[n].timeline===this||t&&this._contains(o[n]))&&(s[a++]=o[n]);return r&&this._enabled(!1,!0),s},m.recent=function(){return this._recent},m._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},m.shiftChildren=function(e,t,i){i=i||0;for(var o,n=this._first,r=this._labels;n;)n._startTime>=i&&(n._startTime+=e),n=n._next;if(t)for(o in r)r[o]>=i&&(r[o]+=e);return this._uncache(!0)},m._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),o=i.length,n=!1;--o>-1;)i[o]._kill(e,t)&&(n=!0);return n},m.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},m._enabled=function(e,i){if(e===this._gc)for(var o=this._first;o;)o._enabled(e,!0),o=o._next;return t.prototype._enabled.call(this,e,i)},m.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},m.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,o=0,n=this._last,r=999999999999;n;)t=n._prev,n._dirty&&n.totalDuration(),n._startTime>r&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):r=n._startTime,0>n._startTime&&!n._paused&&(o-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),r=0),i=n._startTime+n._totalDuration/n._timeScale,i>o&&(o=i),n=t;this._duration=this._totalDuration=o,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},m.paused=function(t){if(!t)for(var i=this._first,o=this._time;i;)i._startTime===o&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},m.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},o},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,i){var o=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},n=1e-10,r=t._internals,s=r.lazyTweens,a=r.lazyRender,h=new i(null,null,1,0),c=o.prototype=new e;return c.constructor=o,c.kill()._gc=!1,o.version="1.17.0",c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},c.addCallback=function(e,i,o,n){return this.add(t.delayedCall(0,e,o,n),i)},c.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),o=i.length,n=this._parseTimeOrLabel(t);--o>-1;)i[o]._startTime===n&&i[o]._enabled(!1,!1);return this},c.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},c.tweenTo=function(e,i){i=i||{};var o,n,r,s={ease:h,useFrames:this.usesFrames(),immediateRender:!1};for(n in i)s[n]=i[n];return s.time=this._parseTimeOrLabel(e),o=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,r=new t(this,o,s),s.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&o===r.duration()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),i.onStart&&r._callback("onStart")},r},c.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var o=this.tweenTo(t,i);return o.duration(Math.abs(o.vars.time-e)/this._timeScale||.001)},c.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var o,r,h,c,l,p,u=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,g=this._time,f=this._totalTime,m=this._startTime,v=this._timeScale,y=this._rawPrevTime,_=this._paused,x=this._cycle;if(e>=u)this._locked||(this._totalTime=u,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,c="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>y||y===n)&&y!==e&&this._first&&(l=!0,y>n&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,this._yoyo&&0!==(1&this._cycle)?this._time=e=0:(this._time=d,e=d+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===d&&y!==n&&(y>0||0>e&&y>=0)&&!this._locked)&&(c="onReverseComplete",r=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,c="onReverseComplete"):y>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=d||!t||e||this._rawPrevTime===e?e:n,0===e&&r)for(o=this._first;o&&0===o._startTime;)o._duration||(r=!1),o=o._next;e=0,this._initted||(l=!0)}else 0===d&&0>y&&(l=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(p=d+this._repeatDelay,this._cycle=this._totalTime/p>>0,0!==this._cycle&&this._cycle===this._totalTime/p&&this._cycle--,this._time=this._totalTime-this._cycle*p,this._yoyo&&0!==(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,e=d+1e-4):0>this._time?this._time=e=0:e=this._time));if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!==(1&x),b=w===(this._yoyo&&0!==(1&this._cycle)),k=this._totalTime,S=this._cycle,T=this._rawPrevTime,C=this._time;if(this._totalTime=x*d,x>this._cycle?w=!w:this._totalTime+=d,this._time=g,this._rawPrevTime=0===d?y-1e-4:y,this._cycle=x,this._locked=!0,g=w?0:d,this.render(g,t,0===d),t||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),b&&(g=w?d+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=C,this._totalTime=k,this._cycle=S,this._rawPrevTime=T}if(!(this._time!==g&&this._first||i||l))return void(f!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==f&&e>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._totalTime&&(t||this._callback("onStart")),this._time>=g)for(o=this._first;o&&(h=o._next,!this._paused||_);)(o._active||o._startTime<=this._time&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,i):o.render((e-o._startTime)*o._timeScale,t,i)),o=h;else for(o=this._last;o&&(h=o._prev,!this._paused||_);)(o._active||g>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,i):o.render((e-o._startTime)*o._timeScale,t,i)),o=h;this._onUpdate&&(t||(s.length&&a(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(m===this._startTime||v!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(r&&(s.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))},c.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var o,n,r=[],s=this.getChildren(e,t,i),a=0,h=s.length;for(o=0;h>o;o++)n=s[o],n.isActive()&&(r[a++]=n);return r},c.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),o=i.length;for(t=0;o>t;t++)if(i[t].time>e)return i[t].name;return null},c.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(e>t[i].time)return t[i].name;return null},c.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},c.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},c.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},c.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},o},!0),function(){var e=180/Math.PI,t=[],i=[],o=[],n={},r=_gsScope._gsDefine.globals,s=function(e,t,i,o){this.a=e,this.b=t,this.c=i,this.d=o,this.da=o-e,this.ca=i-e,this.ba=t-e},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(e,t,i,o){var n={a:e},r={},s={},a={c:o},h=(e+t)/2,c=(t+i)/2,l=(i+o)/2,p=(h+c)/2,u=(c+l)/2,d=(u-p)/8;return n.b=h+(e-h)/4,r.b=p+d,n.c=r.a=(n.b+r.b)/2,r.c=s.a=(p+u)/2,s.b=u-d,a.b=l+(o-l)/4,s.c=a.a=(s.b+a.b)/2,[n,r,s,a]},c=function(e,n,r,s,a){var c,l,p,u,d,g,f,m,v,y,_,x,w,b=e.length-1,k=0,S=e[0].a;for(c=0;b>c;c++)d=e[k],l=d.a,p=d.d,u=e[k+1].d,a?(_=t[c],x=i[c],w=.25*(x+_)*n/(s?.5:o[c]||.5),g=p-(p-l)*(s?.5*n:0!==_?w/_:0),f=p+(u-p)*(s?.5*n:0!==x?w/x:0),m=p-(g+((f-g)*(3*_/(_+x)+.5)/4||0))):(g=p-.5*(p-l)*n,f=p+.5*(u-p)*n,m=p-(g+f)/2),g+=m,f+=m,d.c=v=g,d.b=0!==c?S:S=d.a+.6*(d.c-d.a),d.da=p-l,d.ca=v-l,d.ba=S-l,r?(y=h(l,S,v,p),e.splice(k,1,y[0],y[1],y[2],y[3]),k+=4):k++,S=f;d=e[k],d.b=S,d.c=S+.4*(d.d-S),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=S-d.a,r&&(y=h(d.a,S,d.c,d.d),e.splice(k,1,y[0],y[1],y[2],y[3]))},l=function(e,o,n,r){var a,h,c,l,p,u,d=[];if(r)for(e=[r].concat(e),h=e.length;--h>-1;)"string"==typeof(u=e[h][o])&&"="===u.charAt(1)&&(e[h][o]=r[o]+Number(u.charAt(0)+u.substr(2)));if(a=e.length-2,0>a)return d[0]=new s(e[0][o],0,0,e[-1>a?0:1][o]),d;for(h=0;a>h;h++)c=e[h][o],l=e[h+1][o],d[h]=new s(c,0,0,l),n&&(p=e[h+2][o],t[h]=(t[h]||0)+(l-c)*(l-c),i[h]=(i[h]||0)+(p-l)*(p-l));return d[h]=new s(e[h][o],0,0,e[h+1][o]),d},p=function(e,r,s,h,p,u){var d,g,f,m,v,y,_,x,w={},b=[],k=u||e[0];p="string"==typeof p?","+p+",":a,null==r&&(r=1);for(g in e[0])b.push(g);if(e.length>1){for(x=e[e.length-1],_=!0,d=b.length;--d>-1;)if(g=b[d],Math.abs(k[g]-x[g])>.05){_=!1;break}_&&(e=e.concat(),u&&e.unshift(u),e.push(e[1]),u=e[e.length-3])}for(t.length=i.length=o.length=0,d=b.length;--d>-1;)g=b[d],n[g]=-1!==p.indexOf(","+g+","),w[g]=l(e,g,n[g],u);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!h){for(d=b.length;--d>-1;)if(n[g])for(f=w[b[d]],y=f.length-1,m=0;y>m;m++)v=f[m+1].da/i[m]+f[m].da/t[m],o[m]=(o[m]||0)+v*v;for(d=o.length;--d>-1;)o[d]=Math.sqrt(o[d]);
}for(d=b.length,m=s?4:1;--d>-1;)g=b[d],f=w[g],c(f,r,s,h,n[g]),_&&(f.splice(0,m),f.splice(f.length-m,m));return w},u=function(e,t,i){t=t||"soft";var o,n,r,a,h,c,l,p,u,d,g,f={},m="cubic"===t?3:2,v="soft"===t,y=[];if(v&&i&&(e=[i].concat(e)),null==e||m+1>e.length)throw"invalid Bezier data";for(u in e[0])y.push(u);for(c=y.length;--c>-1;){for(u=y[c],f[u]=h=[],d=0,p=e.length,l=0;p>l;l++)o=null==i?e[l][u]:"string"==typeof(g=e[l][u])&&"="===g.charAt(1)?i[u]+Number(g.charAt(0)+g.substr(2)):Number(g),v&&l>1&&p-1>l&&(h[d++]=(o+h[d-2])/2),h[d++]=o;for(p=d-m+1,d=0,l=0;p>l;l+=m)o=h[l],n=h[l+1],r=h[l+2],a=2===m?0:h[l+3],h[d++]=g=3===m?new s(o,n,r,a):new s(o,(2*n+o)/3,(2*n+r)/3,r);h.length=d}return f},d=function(e,t,i){for(var o,n,r,s,a,h,c,l,p,u,d,g=1/i,f=e.length;--f>-1;)for(u=e[f],r=u.a,s=u.d-r,a=u.c-r,h=u.b-r,o=n=0,l=1;i>=l;l++)c=g*l,p=1-c,o=n-(n=(c*c*s+3*p*(c*a+p*h))*c),d=f*i+l-1,t[d]=(t[d]||0)+o*o},g=function(e,t){t=t>>0||6;var i,o,n,r,s=[],a=[],h=0,c=0,l=t-1,p=[],u=[];for(i in e)d(e[i],s,t);for(n=s.length,o=0;n>o;o++)h+=Math.sqrt(s[o]),r=o%t,u[r]=h,r===l&&(c+=h,r=o/t>>0,p[r]=u,a[r]=c,h=0,u=[]);return{length:c,lengths:a,segments:p}},f=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var o,n,r,s,a,h=t.values||[],c={},l=h[0],d=t.autoRotate||i.vars.orientToBezier;this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",d===!0?0:Number(d)||0]]:null;for(o in l)this._props.push(o);for(r=this._props.length;--r>-1;)o=this._props[r],this._overwriteProps.push(o),n=this._func[o]="function"==typeof e[o],c[o]=n?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),a||c[o]!==h[0][o]&&(a=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?p(h,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a):u(h,t.type,c),this._segCount=this._beziers[o].length,this._timeRes){var f=g(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),r=d.length;--r>-1;){for(s=0;3>s;s++)o=d[r][s],this._func[o]="function"==typeof e[o]?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]:!1;o=d[r][2],this._initialRotations[r]=this._func[o]?this._func[o].call(this._target):this._target[o]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,o,n,r,s,a,h,c,l,p,u=this._segCount,d=this._func,g=this._target,f=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,p=this._curSeg,t*=this._length,n=this._li,t>this._l2&&u-1>n){for(c=u-1;c>n&&t>=(this._l2=l[++n]););this._l1=l[n-1],this._li=n,this._curSeg=p=this._segments[n],this._s2=p[this._s1=this._si=0]}else if(this._l1>t&&n>0){for(;n>0&&(this._l1=l[--n])>=t;);0===n&&this._l1>t?this._l1=0:n++,this._l2=l[n],this._li=n,this._curSeg=p=this._segments[n],this._s1=p[(this._si=p.length-1)-1]||0,this._s2=p[this._si]}if(i=n,t-=this._l1,n=this._si,t>this._s2&&p.length-1>n){for(c=p.length-1;c>n&&t>=(this._s2=p[++n]););this._s1=p[n-1],this._si=n}else if(this._s1>t&&n>0){for(;n>0&&(this._s1=p[--n])>=t;);0===n&&this._s1>t?this._s1=0:n++,this._s2=p[n],this._si=n}a=(n+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?u-1:u*t>>0,a=(t-i*(1/u))*u;for(o=1-a,n=this._props.length;--n>-1;)r=this._props[n],s=this._beziers[r][i],h=(a*a*s.da+3*o*(a*s.ca+o*s.ba))*a+s.a,this._round[r]&&(h=Math.round(h)),d[r]?g[r](h):g[r]=h;if(this._autoRotate){var m,v,y,_,x,w,b,k=this._autoRotate;for(n=k.length;--n>-1;)r=k[n][2],w=k[n][3]||0,b=k[n][4]===!0?1:e,s=this._beziers[k[n][0]],m=this._beziers[k[n][1]],s&&m&&(s=s[i],m=m[i],v=s.a+(s.b-s.a)*a,_=s.b+(s.c-s.b)*a,v+=(_-v)*a,_+=(s.c+(s.d-s.c)*a-_)*a,y=m.a+(m.b-m.a)*a,x=m.b+(m.c-m.b)*a,y+=(x-y)*a,x+=(m.c+(m.d-m.c)*a-x)*a,h=f?Math.atan2(x-y,_-v)*b+w:this._initialRotations[n],d[r]?g[r](h):g[r]=h)}}}),m=f.prototype;f.bezierThrough=p,f.cubicToQuadratic=h,f._autoCSS=!0,f.quadraticToCubic=function(e,t,i){return new s(e,(2*t+e)/3,(2*t+i)/3,i)},f._cssRegister=function(){var e=r.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,o=t._setPluginRatio,n=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,r,s,a,h){t instanceof Array&&(t={values:t}),h=new f;var c,l,p,u=t.values,d=u.length-1,g=[],m={};if(0>d)return a;for(c=0;d>=c;c++)p=i(e,u[c],s,a,h,d!==c),g[c]=p.end;for(l in t)m[l]=t[l];return m.values=g,a=new n(e,"bezier",0,0,p.pt,2),a.data=p,a.plugin=h,a.setRatio=o,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(c=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=p.end.left?[["left","top","rotation",c,!1]]:null!=p.end.x?[["x","y","rotation",c,!1]]:!1),m.autoRotate&&(s._transform||s._enableTransforms(!1),p.autoRotate=s._target._gsTransform),h._onInitTween(p.proxy,m,s._tween),a}})}},m._roundProps=function(e,t){for(var i=this._overwriteProps,o=i.length;--o>-1;)(e[i[o]]||e.bezier||e.bezierThrough)&&(this._round[i[o]]=t)},m._kill=function(e){var t,i,o=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=o.length;--i>-1;)o[i]===t&&o.splice(i,1);return this._super._kill.call(this,e)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,o,n,r,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},a=_gsScope._gsDefine.globals,h={},c=s.prototype=new e("css");c.constructor=s,s.version="1.17.0",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,c="px",s.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var l,p,u,d,g,f,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,b=/opacity:([^;]*)/i,k=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,T=/([A-Z])/g,C=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(e,t){return t.toUpperCase()},E=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,B=/,(?=[^\)]*(?:\(|$))/gi,A=Math.PI/180,O=180/Math.PI,L={},D=document,R=function(e){return D.createElementNS?D.createElementNS("http://www.w3.org/1999/xhtml",e):D.createElement(e)},G=R("div"),W=R("img"),N=s._internals={_specialProps:h},j=navigator.userAgent,U=function(){var e=j.indexOf("Android"),t=R("a");return u=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===e||Number(j.substr(e+8,1))>3),g=u&&6>Number(j.substr(j.indexOf("Version/")+8,1)),d=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(f=parseFloat(RegExp.$1)),t?(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity)):!1}(),X=function(e){return w.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(e){window.console&&void 0},H="",z="",q=function(e,t){t=t||G;var i,o,n=t.style;if(void 0!==n[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],o=5;--o>-1&&void 0===n[i[o]+e];);return o>=0?(z=3===o?"ms":i[o],H="-"+z.toLowerCase()+"-",z+e):null},Y=D.defaultView?D.defaultView.getComputedStyle:function(){},Z=s.getStyle=function(e,t,i,o,n){var r;return U||"opacity"!==t?(!o&&e.style[t]?r=e.style[t]:(i=i||Y(e))?r=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(T,"-$1").toLowerCase()):e.currentStyle&&(r=e.currentStyle[t]),null==n||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:n):X(e)},K=N.convertToPixels=function(e,i,o,n,r){if("px"===n||!n)return o;if("auto"===n||!o)return 0;var a,h,c,l=E.test(i),p=e,u=G.style,d=0>o;if(d&&(o=-o),"%"===n&&-1!==i.indexOf("border"))a=o/100*(l?e.clientWidth:e.clientHeight);else{if(u.cssText="border:0 solid red;position:"+Z(e,"position")+";line-height:0;","%"!==n&&p.appendChild)u[l?"borderLeftWidth":"borderTopWidth"]=o+n;else{if(p=e.parentNode||D.body,h=p._gsCache,c=t.ticker.frame,h&&l&&h.time===c)return h.width*o/100;u[l?"width":"height"]=o+n}p.appendChild(G),a=parseFloat(G[l?"offsetWidth":"offsetHeight"]),p.removeChild(G),l&&"%"===n&&s.cacheWidths!==!1&&(h=p._gsCache=p._gsCache||{},h.time=c,h.width=100*(a/o)),0!==a||r||(a=K(e,i,o,n,!0))}return d?-a:a},J=N.calculateOffset=function(e,t,i){if("absolute"!==Z(e,"position",i))return 0;var o="left"===t?"Left":"Top",n=Z(e,"margin"+o,i);return e["offset"+o]-(K(e,t,parseFloat(n),n.replace(x,""))||0)},Q=function(e,t){var i,o,n,r={};if(t=t||Y(e,null))if(i=t.length)for(;--i>-1;)n=t[i],(-1===n.indexOf("-transform")||Se===n)&&(r[n.replace(C,P)]=t.getPropertyValue(n));else for(i in t)(-1===i.indexOf("Transform")||ke===i)&&(r[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===r[i]&&(r[i.replace(C,P)]=t[i]);return U||(r.opacity=X(e)),o=De(e,t,!1),r.rotation=o.rotation,r.skewX=o.skewX,r.scaleX=o.scaleX,r.scaleY=o.scaleY,r.x=o.x,r.y=o.y,Ce&&(r.z=o.z,r.rotationX=o.rotationX,r.rotationY=o.rotationY,r.scaleZ=o.scaleZ),r.filters&&delete r.filters,r},$=function(e,t,i,o,n){var r,s,a,h={},c=e.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(t[s]!==(r=i[s])||n&&n[s])&&-1===s.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(h[s]="auto"!==r||"left"!==s&&"top"!==s?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof t[s]||""===t[s].replace(_,"")?r:0:J(e,s),void 0!==c[s]&&(a=new de(c,s,c[s],a)));if(o)for(s in o)"className"!==s&&(h[s]=o[s]);return{difs:h,firstMPT:a}},ee={width:["Left","Right"],height:["Top","Bottom"]},te=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(e,t,i){var o=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),n=ee[t],r=n.length;for(i=i||Y(e,null);--r>-1;)o-=parseFloat(Z(e,"padding"+n[r],i,!0))||0,o-=parseFloat(Z(e,"border"+n[r]+"Width",i,!0))||0;return o},oe=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),o=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],n=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==n?n="center"===o?"50%":"0":"center"===n&&(n="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),e=o+" "+n+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==o.indexOf("%"),t.oyp=-1!==n.indexOf("%"),t.oxr="="===o.charAt(1),t.oyr="="===n.charAt(1),t.ox=parseFloat(o.replace(_,"")),t.oy=parseFloat(n.replace(_,"")),t.v=e),t||e},ne=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},re=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},se=function(e,t,i,o){var n,r,s,a,h,c=1e-6;return null==e?a=t:"number"==typeof e?a=e:(n=360,r=e.split("_"),h="="===e.charAt(1),s=(h?parseInt(e.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===e.indexOf("rad")?1:O)-(h?0:t),r.length&&(o&&(o[i]=t+s),-1!==e.indexOf("short")&&(s%=n,s!==s%(n/2)&&(s=0>s?s+n:s-n)),-1!==e.indexOf("_cw")&&0>s?s=(s+9999999999*n)%n-(0|s/n)*n:-1!==e.indexOf("ccw")&&s>0&&(s=(s-9999999999*n)%n-(0|s/n)*n)),a=t+s),c>a&&a>-c&&(a=0),a},ae={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},ce=s.parseColor=function(e){var t,i,o,n,r,s;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ae[e]?ae[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+t+t+i+i+o+o),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(m),n=Number(e[0])%360/360,r=Number(e[1])/100,s=Number(e[2])/100,i=.5>=s?s*(r+1):s+r-s*r,t=2*s-i,e.length>3&&(e[3]=Number(e[3])),e[0]=he(n+1/3,t,i),e[1]=he(n,t,i),e[2]=he(n-1/3,t,i),e):(e=e.match(m)||ae.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):ae.black},le="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(c in ae)le+="|"+c+"\\b";le=RegExp(le+")","gi");var pe=function(e,t,i,o){if(null==e)return function(e){return e};var n,r=t?(e.match(le)||[""])[0]:"",s=e.split(r).join("").match(y)||[],a=e.substr(0,e.indexOf(s[0])),h=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",l=s.length,p=l>0?s[0].replace(m,""):"";return l?n=t?function(e){var t,u,d,g;if("number"==typeof e)e+=p;else if(o&&B.test(e)){for(g=e.replace(B,"|").split("|"),d=0;g.length>d;d++)g[d]=n(g[d]);return g.join(",")}if(t=(e.match(le)||[r])[0],u=e.split(t).join("").match(y)||[],d=u.length,l>d--)for(;l>++d;)u[d]=i?u[0|(d-1)/2]:s[d];return a+u.join(c)+c+t+h+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,r,u;if("number"==typeof e)e+=p;else if(o&&B.test(e)){for(r=e.replace(B,"|").split("|"),u=0;r.length>u;u++)r[u]=n(r[u]);return r.join(",")}if(t=e.match(y)||[],u=t.length,l>u--)for(;l>++u;)t[u]=i?t[0|(u-1)/2]:s[u];return a+t.join(c)+h}:function(e){return e}},ue=function(e){return e=e.split(","),function(t,i,o,n,r,s,a){var h,c=(i+"").split(" ");for(a={},h=0;4>h;h++)a[e[h]]=c[h]=c[h]||c[(h-1)/2>>0];return n.parse(t,a,r,s)}},de=(N._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,o,n,r=this.data,s=r.proxy,a=r.firstMPT,h=1e-6;a;)t=s[a.v],a.r?t=Math.round(t):h>t&&t>-h&&(t=0),a.t[a.p]=t,a=a._next;if(r.autoRotate&&(r.autoRotate.rotation=s.rotation),1===e)for(a=r.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,o=1;i.l>o;o++)n+=i["xn"+o]+i["xs"+(o+1)];i.e=n}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,o,n){this.t=e,this.p=t,this.v=i,this.r=n,o&&(o._prev=this,this._next=o)}),ge=(N._parseToProxy=function(e,t,i,o,n,r){var s,a,h,c,l,p=o,u={},d={},g=i._transform,f=L;for(i._transform=null,L=t,o=l=i.parse(e,t,o,n),L=f,r&&(i._transform=g,p&&(p._prev=null,p._prev&&(p._prev._next=null)));o&&o!==p;){if(1>=o.type&&(a=o.p,d[a]=o.s+o.c,u[a]=o.s,r||(c=new de(o,"s",a,c,o.r),o.c=0),1===o.type))for(s=o.l;--s>0;)h="xn"+s,a=o.p+"_"+h,d[a]=o.data[h],u[a]=o[h],r||(c=new de(o,h,a,c,o.rxp[h]));o=o._next}return{proxy:u,end:d,firstMPT:c,pt:l}},N.CSSPropTween=function(e,t,o,n,s,a,h,c,l,p,u){this.t=e,this.p=t,this.s=o,this.c=n,this.n=h||t,e instanceof ge||r.push(this.n),this.r=c,this.type=a||0,l&&(this.pr=l,i=!0),this.b=void 0===p?o:p,this.e=void 0===u?o+n:u,s&&(this._next=s,s._prev=this)}),fe=function(e,t,i,o,n,r){var s=new ge(e,t,i,o-i,n,-1,r);return s.b=i,s.e=s.xs0=o,s},me=s.parseComplex=function(e,t,i,o,n,r,s,a,h,c){i=i||r||"",s=new ge(e,t,0,0,s,c?2:1,null,!1,a,i,o),o+="";var p,u,d,g,f,y,_,x,w,b,k,T,C=i.split(", ").join(",").split(" "),M=o.split(", ").join(",").split(" "),P=C.length,E=l!==!1;for((-1!==o.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(B,", ").split(" "),M=M.join(" ").replace(B,", ").split(" "),P=C.length),P!==M.length&&(C=(r||"").split(" "),P=C.length),s.plugin=h,s.setRatio=c,p=0;P>p;p++)if(g=C[p],f=M[p],x=parseFloat(g),x||0===x)s.appendXtra("",x,ne(f,x),f.replace(v,""),E&&-1!==f.indexOf("px"),!0);else if(n&&("#"===g.charAt(0)||ae[g]||S.test(g)))T=","===f.charAt(f.length-1)?"),":")",g=ce(g),f=ce(f),w=g.length+f.length>6,w&&!U&&0===f[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(M[p]).join("transparent")):(U||(w=!1),s.appendXtra(w?"rgba(":"rgb(",g[0],f[0]-g[0],",",!0,!0).appendXtra("",g[1],f[1]-g[1],",",!0).appendXtra("",g[2],f[2]-g[2],w?",":T,!0),w&&(g=4>g.length?1:g[3],s.appendXtra("",g,(4>f.length?1:f[3])-g,T,!1)));else if(y=g.match(m)){if(_=f.match(v),!_||_.length!==y.length)return s;for(d=0,u=0;y.length>u;u++)k=y[u],b=g.indexOf(k,d),s.appendXtra(g.substr(d,b-d),Number(k),ne(_[u],k),"",E&&"px"===g.substr(b+k.length,2),0===u),d=b+k.length;s["xs"+s.l]+=g.substr(d)}else s["xs"+s.l]+=s.l?" "+g:g;if(-1!==o.indexOf("=")&&s.data){for(T=s.xs0+s.data.s,p=1;s.l>p;p++)T+=s["xs"+p]+s.data["xn"+p];s.e=T+s["xs"+p]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},ve=9;for(c=ge.prototype,c.l=c.pr=0;--ve>0;)c["xn"+ve]=0,c["xs"+ve]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,i,o,n,r){var s=this,a=s.l;return s["xs"+a]+=r&&a?" "+e:e||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=o||"",a>0?(s.data["xn"+a]=t+i,s.rxp["xn"+a]=n,s["xn"+a]=t,s.plugin||(s.xfirst=new ge(s,"xn"+a,t,i,s.xfirst||s,0,s.n,n,s.pr),s.xfirst.xs0=0),s):(s.data={s:t+i},s.rxp={},s.s=t,s.c=i,s.r=n,s)):(s["xs"+a]+=t+(o||""),s)};var ye=function(e,t){t=t||{},this.p=t.prefix?q(e)||e:e,h[e]=h[this.p]=this,this.format=t.formatter||pe(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},_e=N._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var o,n,r=e.split(","),s=t.defaultValue;for(i=i||[s],o=0;r.length>o;o++)t.prefix=0===o&&t.prefix,t.defaultValue=i[o]||s,n=new ye(r[o],t)},xe=function(e){if(!h[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";_e(e,{parser:function(e,i,o,n,r,s,c){var l=a.com.greensock.plugins[t];return l?(l._cssRegister(),h[o].parse(e,i,o,n,r,s,c)):(V("Error: "+t+" js file not loaded."),r)}})}};c=ye.prototype,c.parseComplex=function(e,t,i,o,n,r){var s,a,h,c,l,p,u=this.keyword;if(this.multi&&(B.test(i)||B.test(t)?(a=t.replace(B,"|").split("|"),h=i.replace(B,"|").split("|")):u&&(a=[t],h=[i])),h){for(c=h.length>a.length?h.length:a.length,s=0;c>s;s++)t=a[s]=a[s]||this.dflt,i=h[s]=h[s]||this.dflt,u&&(l=t.indexOf(u),p=i.indexOf(u),l!==p&&(-1===p?a[s]=a[s].split(u).join(""):-1===l&&(a[s]+=" "+u)));t=a.join(", "),i=h.join(", ")}return me(e,this.p,t,i,this.clrs,this.dflt,o,this.pr,n,r)},c.parse=function(e,t,i,o,r,s){return this.parseComplex(e.style,this.format(Z(e,this.p,n,!1,this.dflt)),this.format(t),r,s)},s.registerSpecialProp=function(e,t,i){_e(e,{parser:function(e,o,n,r,s,a){var h=new ge(e,n,0,0,s,2,n,!1,i);return h.plugin=a,h.setRatio=t(e,o,r._tween,n),h},priority:i})},s.useSVGTransformAttr=u||d;var we,be="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ke=q("transform"),Se=H+"transform",Te=q("transformOrigin"),Ce=null!==q("perspective"),Me=N.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=s.defaultForce3D!==!1&&Ce?s.defaultForce3D||"auto":!1},Pe=window.SVGElement,Ee=function(e,t,i){var o,n=D.createElementNS("http://www.w3.org/2000/svg",e),r=/([a-z])([A-Z])/g;for(o in i)n.setAttributeNS(null,o.replace(r,"$1-$2").toLowerCase(),i[o]);return t.appendChild(n),n},Ie=D.documentElement,Fe=function(){var e,t,i,o=f||/Android/i.test(j)&&!window.chrome;return D.createElementNS&&!o&&(e=Ee("svg",Ie),t=Ee("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[Te]="50% 50%",t.style[ke]="scaleX(0.5)",o=i===t.getBoundingClientRect().width&&!(d&&Ce),Ie.removeChild(e)),o}(),Be=function(e,t,i,o,n){var r,a,h,c,l,p,u,d,g,f,m,v,y,_,x=e._gsTransform,w=Le(e,!0);x&&(y=x.xOrigin,_=x.yOrigin),(!o||2>(r=o.split(" ")).length)&&(u=e.getBBox(),t=oe(t).split(" "),r=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*u.width:parseFloat(t[0]))+u.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*u.height:parseFloat(t[1]))+u.y]),i.xOrigin=c=parseFloat(r[0]),i.yOrigin=l=parseFloat(r[1]),o&&w!==Oe&&(p=w[0],u=w[1],d=w[2],g=w[3],f=w[4],m=w[5],v=p*g-u*d,a=c*(g/v)+l*(-d/v)+(d*m-g*f)/v,h=c*(-u/v)+l*(p/v)-(p*m-u*f)/v,c=i.xOrigin=r[0]=a,l=i.yOrigin=r[1]=h),x&&(n||n!==!1&&s.defaultSmoothOrigin!==!1?(a=c-y,h=l-_,x.xOffset+=a*w[0]+h*w[2]-a,x.yOffset+=a*w[1]+h*w[3]-h):x.xOffset=x.yOffset=0),e.setAttribute("data-svg-origin",r.join(" "))},Ae=function(e){return!!(Pe&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},Oe=[1,0,0,1,0,0],Le=function(e,t){var i,o,n,r,s,a=e._gsTransform||new Me,h=1e5;if(ke?o=Z(e,Se,null,!0):e.currentStyle&&(o=e.currentStyle.filter.match(I),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),a.x||0,a.y||0].join(","):""),i=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,(a.svg||e.getBBox&&Ae(e))&&(i&&-1!==(e.style[ke]+"").indexOf("matrix")&&(o=e.style[ke],i=0),n=e.getAttribute("transform"),i&&n&&(-1!==n.indexOf("matrix")?(o=n,i=0):-1!==n.indexOf("translate")&&(o="matrix(1,0,0,1,"+n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Oe;for(n=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ve=n.length;--ve>-1;)r=Number(n[ve]),n[ve]=(s=r-(r|=0))?(0|s*h+(0>s?-.5:.5))/h+r:r;return t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},De=N.getTransform=function(e,i,o,r){if(e._gsTransform&&o&&!r)return e._gsTransform;var a,h,c,l,p,u,d=o?e._gsTransform||new Me:new Me,g=0>d.scaleX,f=2e-5,m=1e5,v=Ce?parseFloat(Z(e,Te,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,y=parseFloat(s.defaultTransformPerspective)||0;if(d.svg=!(!e.getBBox||!Ae(e)),d.svg&&(Be(e,Z(e,Te,n,!1,"50% 50%")+"",d,e.getAttribute("data-svg-origin")),we=s.useSVGTransformAttr||Fe),a=Le(e),a!==Oe){if(16===a.length){var _,x,w,b,k,S=a[0],T=a[1],C=a[2],M=a[3],P=a[4],E=a[5],I=a[6],F=a[7],B=a[8],A=a[9],L=a[10],D=a[12],R=a[13],G=a[14],W=a[11],N=Math.atan2(I,L);d.zOrigin&&(G=-d.zOrigin,D=B*G-a[12],R=A*G-a[13],G=L*G+d.zOrigin-a[14]),d.rotationX=N*O,N&&(b=Math.cos(-N),k=Math.sin(-N),_=P*b+B*k,x=E*b+A*k,w=I*b+L*k,B=P*-k+B*b,A=E*-k+A*b,L=I*-k+L*b,W=F*-k+W*b,P=_,E=x,I=w),N=Math.atan2(B,L),d.rotationY=N*O,N&&(b=Math.cos(-N),k=Math.sin(-N),_=S*b-B*k,x=T*b-A*k,w=C*b-L*k,A=T*k+A*b,L=C*k+L*b,W=M*k+W*b,S=_,T=x,C=w),N=Math.atan2(T,S),d.rotation=N*O,N&&(b=Math.cos(-N),k=Math.sin(-N),S=S*b+P*k,x=T*b+E*k,E=T*-k+E*b,I=C*-k+I*b,T=x),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(0|Math.sqrt(S*S+T*T)*m+.5)/m,d.scaleY=(0|Math.sqrt(E*E+A*A)*m+.5)/m,d.scaleZ=(0|Math.sqrt(I*I+L*L)*m+.5)/m,d.skewX=0,d.perspective=W?1/(0>W?-W:W):0,d.x=D,d.y=R,d.z=G,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*S-d.yOrigin*P),d.y-=d.yOrigin-(d.yOrigin*T-d.xOrigin*E))}else if(!(Ce&&!r&&a.length&&d.x===a[4]&&d.y===a[5]&&(d.rotationX||d.rotationY)||void 0!==d.x&&"none"===Z(e,"display",i))){var j=a.length>=6,U=j?a[0]:1,X=a[1]||0,V=a[2]||0,H=j?a[3]:1;d.x=a[4]||0,d.y=a[5]||0,c=Math.sqrt(U*U+X*X),l=Math.sqrt(H*H+V*V),p=U||X?Math.atan2(X,U)*O:d.rotation||0,u=V||H?Math.atan2(V,H)*O+p:d.skewX||0,Math.abs(u)>90&&270>Math.abs(u)&&(g?(c*=-1,u+=0>=p?180:-180,p+=0>=p?180:-180):(l*=-1,u+=0>=u?180:-180)),d.scaleX=c,d.scaleY=l,d.rotation=p,d.skewX=u,Ce&&(d.rotationX=d.rotationY=d.z=0,d.perspective=y,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*U+d.yOrigin*V),d.y-=d.yOrigin-(d.xOrigin*X+d.yOrigin*H))}d.zOrigin=v;for(h in d)f>d[h]&&d[h]>-f&&(d[h]=0)}return o&&(e._gsTransform=d,d.svg&&(we&&e.style[ke]?t.delayedCall(.001,function(){Ne(e.style,ke)}):!we&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),d},Re=function(e){var t,i,o=this.data,n=-o.rotation*A,r=n+o.skewX*A,s=1e5,a=(0|Math.cos(n)*o.scaleX*s)/s,h=(0|Math.sin(n)*o.scaleX*s)/s,c=(0|Math.sin(r)*-o.scaleY*s)/s,l=(0|Math.cos(r)*o.scaleY*s)/s,p=this.t.style,u=this.t.currentStyle;if(u){i=h,h=-c,c=-i,t=u.filter,p.filter="";var d,g,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==u.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+h+", M21="+c+", M22="+l,b=o.x+m*o.xPercent/100,k=o.y+v*o.yPercent/100;if(null!=o.ox&&(d=(o.oxp?.01*m*o.ox:o.ox)-m/2,g=(o.oyp?.01*v*o.oy:o.oy)-v/2,b+=d-(d*a+g*h),k+=g-(d*c+g*l)),y?(d=m/2,g=v/2,_+=", Dx="+(d-(d*a+g*h)+b)+", Dy="+(g-(d*c+g*l)+k)+")"):_+=", sizingMethod='auto expand')",p.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(F,_):_+" "+t,(0===e||1===e)&&1===a&&0===h&&0===c&&1===l&&(y&&-1===_.indexOf("Dx=0, Dy=0")||w.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&p.removeAttribute("filter")),!y){var S,T,C,M=8>f?1:-1;for(d=o.ieOffsetX||0,g=o.ieOffsetY||0,o.ieOffsetX=Math.round((m-((0>a?-a:a)*m+(0>h?-h:h)*v))/2+b),o.ieOffsetY=Math.round((v-((0>l?-l:l)*v+(0>c?-c:c)*m))/2+k),ve=0;4>ve;ve++)T=te[ve],S=u[T],i=-1!==S.indexOf("px")?parseFloat(S):K(this.t,T,parseFloat(S),S.replace(x,""))||0,C=i!==o[T]?2>ve?-o.ieOffsetX:-o.ieOffsetY:2>ve?d-o.ieOffsetX:g-o.ieOffsetY,p[T]=(o[T]=Math.round(i-C*(0===ve||2===ve?1:M)))+"px"}}},Ge=N.set3DTransformRatio=N.setTransformRatio=function(e){var t,i,o,n,r,s,a,h,c,l,p,u,g,f,m,v,y,_,x,w,b,k,S,T=this.data,C=this.t.style,M=T.rotation,P=T.rotationX,E=T.rotationY,I=T.scaleX,F=T.scaleY,B=T.scaleZ,O=T.x,L=T.y,D=T.z,R=T.svg,G=T.perspective,W=T.force3D;if(!((1!==e&&0!==e||"auto"!==W||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&W||D||G||E||P)||we&&R||!Ce)return void(M||T.skewX||R?(M*=A,k=T.skewX*A,S=1e5,t=Math.cos(M)*I,n=Math.sin(M)*I,i=Math.sin(M-k)*-F,r=Math.cos(M-k)*F,k&&"simple"===T.skewType&&(y=Math.tan(k),y=Math.sqrt(1+y*y),i*=y,r*=y,T.skewY&&(t*=y,n*=y)),R&&(O+=T.xOrigin-(T.xOrigin*t+T.yOrigin*i)+T.xOffset,L+=T.yOrigin-(T.xOrigin*n+T.yOrigin*r)+T.yOffset,we&&(T.xPercent||T.yPercent)&&(f=this.t.getBBox(),O+=.01*T.xPercent*f.width,L+=.01*T.yPercent*f.height),f=1e-6,f>O&&O>-f&&(O=0),f>L&&L>-f&&(L=0)),x=(0|t*S)/S+","+(0|n*S)/S+","+(0|i*S)/S+","+(0|r*S)/S+","+O+","+L+")",R&&we?this.t.setAttribute("transform","matrix("+x):C[ke]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+x):C[ke]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+I+",0,0,"+F+","+O+","+L+")");if(d&&(f=1e-4,f>I&&I>-f&&(I=B=2e-5),f>F&&F>-f&&(F=B=2e-5),!G||T.z||T.rotationX||T.rotationY||(G=0)),M||T.skewX)M*=A,m=t=Math.cos(M),v=n=Math.sin(M),T.skewX&&(M-=T.skewX*A,m=Math.cos(M),v=Math.sin(M),"simple"===T.skewType&&(y=Math.tan(T.skewX*A),y=Math.sqrt(1+y*y),m*=y,v*=y,T.skewY&&(t*=y,n*=y))),i=-v,r=m;else{if(!(E||P||1!==B||G||R))return void(C[ke]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+L+"px,"+D+"px)"+(1!==I||1!==F?" scale("+I+","+F+")":""));t=r=1,i=n=0}c=1,o=s=a=h=l=p=0,u=G?-1/G:0,g=T.zOrigin,f=1e-6,w=",",b="0",M=E*A,M&&(m=Math.cos(M),v=Math.sin(M),a=-v,l=u*-v,o=t*v,s=n*v,c=m,u*=m,t*=m,n*=m),M=P*A,M&&(m=Math.cos(M),v=Math.sin(M),y=i*m+o*v,_=r*m+s*v,h=c*v,p=u*v,o=i*-v+o*m,s=r*-v+s*m,c*=m,u*=m,i=y,r=_),1!==B&&(o*=B,s*=B,c*=B,u*=B),1!==F&&(i*=F,r*=F,h*=F,p*=F),1!==I&&(t*=I,n*=I,a*=I,l*=I),(g||R)&&(g&&(O+=o*-g,L+=s*-g,D+=c*-g+g),R&&(O+=T.xOrigin-(T.xOrigin*t+T.yOrigin*i)+T.xOffset,L+=T.yOrigin-(T.xOrigin*n+T.yOrigin*r)+T.yOffset),f>O&&O>-f&&(O=b),f>L&&L>-f&&(L=b),f>D&&D>-f&&(D=0)),x=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",x+=(f>t&&t>-f?b:t)+w+(f>n&&n>-f?b:n)+w+(f>a&&a>-f?b:a),x+=w+(f>l&&l>-f?b:l)+w+(f>i&&i>-f?b:i)+w+(f>r&&r>-f?b:r),P||E?(x+=w+(f>h&&h>-f?b:h)+w+(f>p&&p>-f?b:p)+w+(f>o&&o>-f?b:o),x+=w+(f>s&&s>-f?b:s)+w+(f>c&&c>-f?b:c)+w+(f>u&&u>-f?b:u)+w):x+=",0,0,0,0,1,0,",x+=O+w+L+w+D+w+(G?1+-D/G:1)+")",C[ke]=x};c=Me.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,_e("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,o,r,a,h){if(o._lastParsedTransform===h)return r;o._lastParsedTransform=h;var c,l,p,u,d,g,f,m,v,y=e._gsTransform,_=o._transform=De(e,n,!0,h.parseTransform),x=e.style,w=1e-6,b=be.length,k=h,S={},T="transformOrigin";if("string"==typeof k.transform&&ke)p=G.style,p[ke]=k.transform,p.display="block",p.position="absolute",D.body.appendChild(G),c=De(G,null,!1),D.body.removeChild(G),null!=k.xPercent&&(c.xPercent=re(k.xPercent,_.xPercent)),null!=k.yPercent&&(c.yPercent=re(k.yPercent,_.yPercent));else if("object"==typeof k){if(c={scaleX:re(null!=k.scaleX?k.scaleX:k.scale,_.scaleX),scaleY:re(null!=k.scaleY?k.scaleY:k.scale,_.scaleY),scaleZ:re(k.scaleZ,_.scaleZ),x:re(k.x,_.x),y:re(k.y,_.y),z:re(k.z,_.z),xPercent:re(k.xPercent,_.xPercent),yPercent:re(k.yPercent,_.yPercent),perspective:re(k.transformPerspective,_.perspective)},f=k.directionalRotation,null!=f)if("object"==typeof f)for(p in f)k[p]=f[p];else k.rotation=f;"string"==typeof k.x&&-1!==k.x.indexOf("%")&&(c.x=0,c.xPercent=re(k.x,_.xPercent)),"string"==typeof k.y&&-1!==k.y.indexOf("%")&&(c.y=0,c.yPercent=re(k.y,_.yPercent)),c.rotation=se("rotation"in k?k.rotation:"shortRotation"in k?k.shortRotation+"_short":"rotationZ"in k?k.rotationZ:_.rotation,_.rotation,"rotation",S),Ce&&(c.rotationX=se("rotationX"in k?k.rotationX:"shortRotationX"in k?k.shortRotationX+"_short":_.rotationX||0,_.rotationX,"rotationX",S),c.rotationY=se("rotationY"in k?k.rotationY:"shortRotationY"in k?k.shortRotationY+"_short":_.rotationY||0,_.rotationY,"rotationY",S)),c.skewX=null==k.skewX?_.skewX:se(k.skewX,_.skewX),c.skewY=null==k.skewY?_.skewY:se(k.skewY,_.skewY),(l=c.skewY-_.skewY)&&(c.skewX+=l,c.rotation+=l)}for(Ce&&null!=k.force3D&&(_.force3D=k.force3D,g=!0),_.skewType=k.skewType||_.skewType||s.defaultSkewType,d=_.force3D||_.z||_.rotationX||_.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,d||null==k.scale||(c.scaleZ=1);--b>-1;)i=be[b],u=c[i]-_[i],(u>w||-w>u||null!=k[i]||null!=L[i])&&(g=!0,r=new ge(_,i,_[i],u,r),i in S&&(r.e=S[i]),r.xs0=0,r.plugin=a,o._overwriteProps.push(r.n));return u=k.transformOrigin,_.svg&&(u||k.svgOrigin)&&(m=_.xOffset,v=_.yOffset,Be(e,oe(u),c,k.svgOrigin,k.smoothOrigin),r=fe(_,"xOrigin",(y?_:c).xOrigin,c.xOrigin,r,T),r=fe(_,"yOrigin",(y?_:c).yOrigin,c.yOrigin,r,T),(m!==_.xOffset||v!==_.yOffset)&&(r=fe(_,"xOffset",y?m:_.xOffset,_.xOffset,r,T),r=fe(_,"yOffset",y?v:_.yOffset,_.yOffset,r,T)),u=we?null:"0px 0px"),(u||Ce&&d&&_.zOrigin)&&(ke?(g=!0,i=Te,u=(u||Z(e,i,n,!1,"50% 50%"))+"",r=new ge(x,i,0,0,r,-1,T),r.b=x[i],r.plugin=a,Ce?(p=_.zOrigin,u=u.split(" "),_.zOrigin=(u.length>2&&(0===p||"0px"!==u[2])?parseFloat(u[2]):p)||0,r.xs0=r.e=u[0]+" "+(u[1]||"50%")+" 0px",r=new ge(_,"zOrigin",0,0,r,-1,r.n),r.b=p,r.xs0=r.e=_.zOrigin):r.xs0=r.e=u):oe(u+"",_)),g&&(o._transformType=_.svg&&we||!d&&3!==this._transformType?2:3),r},prefix:!0}),_e("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_e("borderRadius",{defaultValue:"0px",parser:function(e,t,i,r,s){t=this.format(t);var a,h,c,l,p,u,d,g,f,m,v,y,_,x,w,b,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=e.style;for(f=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),a=t.split(" "),h=0;k.length>h;h++)this.p.indexOf("border")&&(k[h]=q(k[h])),p=l=Z(e,k[h],n,!1,"0px"),-1!==p.indexOf(" ")&&(l=p.split(" "),p=l[0],l=l[1]),u=c=a[h],d=parseFloat(p),y=p.substr((d+"").length),_="="===u.charAt(1),_?(g=parseInt(u.charAt(0)+"1",10),u=u.substr(2),g*=parseFloat(u),v=u.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(u),v=u.substr((g+"").length)),""===v&&(v=o[i]||y),v!==y&&(x=K(e,"borderLeft",d,y),w=K(e,"borderTop",d,y),"%"===v?(p=100*(x/f)+"%",l=100*(w/m)+"%"):"em"===v?(b=K(e,"borderLeft",1,"em"),p=x/b+"em",l=w/b+"em"):(p=x+"px",l=w+"px"),_&&(u=parseFloat(p)+g+v,c=parseFloat(l)+g+v)),s=me(S,k[h],p+" "+l,u+" "+c,!1,"0px",s);
return s},prefix:!0,formatter:pe("0px 0px 0px 0px",!1,!0)}),_e("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,o,r,s){var a,h,c,l,p,u,d="background-position",g=n||Y(e,null),m=this.format((g?f?g.getPropertyValue(d+"-x")+" "+g.getPropertyValue(d+"-y"):g.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&(u=Z(e,"backgroundImage").replace(M,""),u&&"none"!==u)){for(a=m.split(" "),h=v.split(" "),W.setAttribute("src",u),c=2;--c>-1;)m=a[c],l=-1!==m.indexOf("%"),l!==(-1!==h[c].indexOf("%"))&&(p=0===c?e.offsetWidth-W.width:e.offsetHeight-W.height,a[c]=l?parseFloat(m)/100*p+"px":100*(parseFloat(m)/p)+"%");m=a.join(" ")}return this.parseComplex(e.style,m,v,r,s)},formatter:oe}),_e("backgroundSize",{defaultValue:"0 0",formatter:oe}),_e("perspective",{defaultValue:"0px",prefix:!0}),_e("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_e("transformStyle",{prefix:!0}),_e("backfaceVisibility",{prefix:!0}),_e("userSelect",{prefix:!0}),_e("margin",{parser:ue("marginTop,marginRight,marginBottom,marginLeft")}),_e("padding",{parser:ue("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_e("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,o,r,s){var a,h,c;return 9>f?(h=e.currentStyle,c=8>f?" ":",",a="rect("+h.clipTop+c+h.clipRight+c+h.clipBottom+c+h.clipLeft+")",t=this.format(t).split(",").join(c)):(a=this.format(Z(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,a,t,r,s)}}),_e("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_e("autoRound,strictUnits",{parser:function(e,t,i,o,n){return n}}),_e("border",{defaultValue:"0px solid #000",parser:function(e,t,i,o,r,s){return this.parseComplex(e.style,this.format(Z(e,"borderTopWidth",n,!1,"0px")+" "+Z(e,"borderTopStyle",n,!1,"solid")+" "+Z(e,"borderTopColor",n,!1,"#000")),this.format(t),r,s)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(le)||["#000"])[0]}}),_e("borderWidth",{parser:ue("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_e("float,cssFloat,styleFloat",{parser:function(e,t,i,o,n){var r=e.style,s="cssFloat"in r?"cssFloat":"styleFloat";return new ge(r,s,0,0,n,-1,i,!1,0,r[s],t)}});var We=function(e){var t,i=this.t,o=i.filter||Z(this.data,"filter")||"",n=0|this.s+this.c*e;100===n&&(-1===o.indexOf("atrix(")&&-1===o.indexOf("radient(")&&-1===o.indexOf("oader(")?(i.removeAttribute("filter"),t=!Z(this.data,"filter")):(i.filter=o.replace(k,""),t=!0)),t||(this.xn1&&(i.filter=o=o||"alpha(opacity="+n+")"),-1===o.indexOf("pacity")?0===n&&this.xn1||(i.filter=o+" alpha(opacity="+n+")"):i.filter=o.replace(w,"opacity="+n))};_e("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,o,r,s){var a=parseFloat(Z(e,"opacity",n,!1,"1")),h=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),c&&1===a&&"hidden"===Z(e,"visibility",n)&&0!==t&&(a=0),U?r=new ge(h,"opacity",a,t-a,r):(r=new ge(h,"opacity",100*a,100*(t-a),r),r.xn1=c?1:0,h.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=s,r.setRatio=We),c&&(r=new ge(h,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit"),r.xs0="inherit",o._overwriteProps.push(r.n),o._overwriteProps.push(i)),r}});var Ne=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(T,"-$1").toLowerCase())):e.removeAttribute(t))},je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ne(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_e("className",{parser:function(e,t,o,r,s,a,h){var c,l,p,u,d,g=e.getAttribute("class")||"",f=e.style.cssText;if(s=r._classNamePT=new ge(e,o,0,0,s,2),s.setRatio=je,s.pr=-11,i=!0,s.b=g,l=Q(e,n),p=e._gsClassPT){for(u={},d=p.data;d;)u[d.p]=1,d=d._next;p.setRatio(1)}return e._gsClassPT=s,s.e="="!==t.charAt(1)?t:g.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",s.e),c=$(e,l,Q(e),h,u),e.setAttribute("class",g),s.data=c.firstMPT,e.style.cssText=f,s=s.xfirst=r.parse(e,c.difs,s,a)}});var Ue=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,o,n,r,s=this.t.style,a=h.transform.parse;if("all"===this.e)s.cssText="",n=!0;else for(t=this.e.split(" ").join("").split(","),o=t.length;--o>-1;)i=t[o],h[i]&&(h[i].parse===a?n=!0:i="transformOrigin"===i?Te:h[i].p),Ne(s,i);n&&(Ne(s,ke),r=this.t._gsTransform,r&&(r.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(_e("clearProps",{parser:function(e,t,o,n,r){return r=new ge(e,o,0,0,r,2),r.setRatio=Ue,r.e=t,r.pr=-10,r.data=n._tween,i=!0,r}}),c="bezier,throwProps,physicsProps,physics2D".split(","),ve=c.length;ve--;)xe(c[ve]);c=s.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,a){if(!e.nodeType)return!1;this._target=e,this._tween=a,this._vars=t,l=t.autoRound,i=!1,o=t.suffixMap||s.suffixMap,n=Y(e,""),r=this._overwriteProps;var c,d,f,m,v,y,_,x,w,k=e.style;if(p&&""===k.zIndex&&(c=Z(e,"zIndex",n),("auto"===c||""===c)&&this._addLazySet(k,"zIndex",0)),"string"==typeof t&&(m=k.cssText,c=Q(e,n),k.cssText=m+";"+t,c=$(e,c,Q(e)).difs,!U&&b.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,k.cssText=m),this._firstPT=d=t.className?h.className.parse(e,t.className,"className",this,null,null,t):this.parse(e,t,null),this._transformType){for(w=3===this._transformType,ke?u&&(p=!0,""===k.zIndex&&(_=Z(e,"zIndex",n),("auto"===_||""===_)&&this._addLazySet(k,"zIndex",0)),g&&this._addLazySet(k,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):k.zoom=1,f=d;f&&f._next;)f=f._next;x=new ge(e,"transform",0,0,null,2),this._linkCSSP(x,null,f),x.setRatio=ke?Ge:Re,x.data=this._transform||De(e,n,!0),x.tween=a,x.pr=-1,r.pop()}if(i){for(;d;){for(y=d._next,f=m;f&&f.pr>d.pr;)f=f._next;(d._prev=f?f._prev:v)?d._prev._next=d:m=d,(d._next=f)?f._prev=d:v=d,d=y}this._firstPT=m}return!0},c.parse=function(e,t,i,r){var s,a,c,p,u,d,g,f,m,v,y=e.style;for(s in t)d=t[s],a=h[s],a?i=a.parse(e,d,s,this,i,r,t):(u=Z(e,s,n)+"",m="string"==typeof d,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||m&&S.test(d)?(m||(d=ce(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=me(y,s,u,d,!0,"transparent",i,0,r)):!m||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(c=parseFloat(u),g=c||0===c?u.substr((c+"").length):"",(""===u||"auto"===u)&&("width"===s||"height"===s?(c=ie(e,s,n),g="px"):"left"===s||"top"===s?(c=J(e,s,n),g="px"):(c="opacity"!==s?0:1,g="")),v=m&&"="===d.charAt(1),v?(p=parseInt(d.charAt(0)+"1",10),d=d.substr(2),p*=parseFloat(d),f=d.replace(x,"")):(p=parseFloat(d),f=m?d.replace(x,""):""),""===f&&(f=s in o?o[s]:g),d=p||0===p?(v?p+c:p)+f:t[s],g!==f&&""!==f&&(p||0===p)&&c&&(c=K(e,s,c,g),"%"===f?(c/=K(e,s,100,"%")/100,t.strictUnits!==!0&&(u=c+"%")):"em"===f?c/=K(e,s,1,"em"):"px"!==f&&(p=K(e,s,p,f),f="px"),v&&(p||0===p)&&(d=p+c+f)),v&&(p+=c),!c&&0!==c||!p&&0!==p?void 0!==y[s]&&(d||"NaN"!=d+""&&null!=d)?(i=new ge(y,s,p||c||0,0,i,-1,s,!1,0,u,d),i.xs0="none"!==d||"display"!==s&&-1===s.indexOf("Style")?d:u):V("invalid "+s+" tween value: "+t[s]):(i=new ge(y,s,c,p-c,i,0,s,l!==!1&&("px"===f||"zIndex"===s),0,u,d),i.xs0=f)):i=me(y,s,u,d,!0,null,i,0,r)),r&&i&&!i.plugin&&(i.plugin=r);return i},c.setRatio=function(e){var t,i,o,n=this._firstPT,r=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;n;){if(t=n.c*e+n.s,n.r?t=Math.round(t):r>t&&t>-r&&(t=0),n.type)if(1===n.type)if(o=n.l,2===o)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2;else if(3===o)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===o)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===o)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+t+n.xs1,o=1;n.l>o;o++)i+=n["xn"+o]+n["xs"+(o+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(e);else n.t[n.p]=t+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(e),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(t=Math.round(n.s+n.c),n.type){if(1===n.type){for(o=n.l,i=n.xs0+t+n.xs1,o=1;n.l>o;o++)i+=n["xn"+o]+n["xs"+(o+1)];n.t[n.p]=i}}else n.t[n.p]=t+n.xs0;else n.t[n.p]=n.e;else n.setRatio(e);n=n._next}},c._enableTransforms=function(e){this._transform=this._transform||De(this._target,n,!0),this._transformType=this._transform.svg&&we||!e&&3!==this._transformType?2:3};var Xe=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,i){var o=this._firstPT=new ge(e,t,0,0,this._firstPT,2);o.e=i,o.setRatio=Xe,o.data=this},c._linkCSSP=function(e,t,i,o){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,o=!0),i?i._next=e:o||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},c._kill=function(t){var i,o,n,r=t;if(t.autoAlpha||t.alpha){r={};for(o in t)r[o]=t[o];r.opacity=1,r.autoAlpha&&(r.visibility=1)}return t.className&&(i=this._classNamePT)&&(n=i.xfirst,n&&n._prev?this._linkCSSP(n._prev,i._next,n._prev._prev):n===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,n._prev),this._classNamePT=null),e.prototype._kill.call(this,r)};var Ve=function(e,t,i){var o,n,r,s;if(e.slice)for(n=e.length;--n>-1;)Ve(e[n],t,i);else for(o=e.childNodes,n=o.length;--n>-1;)r=o[n],s=r.type,r.style&&(t.push(Q(r)),i&&i.push(r)),1!==s&&9!==s&&11!==s||!r.childNodes.length||Ve(r,t,i)};return s.cascadeTo=function(e,i,o){var n,r,s,a,h=t.to(e,i,o),c=[h],l=[],p=[],u=[],d=t._internals.reservedProps;for(e=h._targets||h.target,Ve(e,l,u),h.render(i,!0,!0),Ve(e,p),h.render(0,!0,!0),h._enabled(!0),n=u.length;--n>-1;)if(r=$(u[n],l[n],p[n]),r.firstMPT){r=r.difs;for(s in o)d[s]&&(r[s]=o[s]);a={};for(s in r)a[s]=l[n][s];c.push(t.fromTo(u[n],i,a,r))}return c},e.activate([s]),s},!0),function(){var e=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=e.prototype;t._onInitAllProps=function(){for(var e,t,i,o=this._tween,n=o.vars.roundProps instanceof Array?o.vars.roundProps:o.vars.roundProps.split(","),r=n.length,s={},a=o._propLookup.roundProps;--r>-1;)s[n[r]]=1;for(r=n.length;--r>-1;)for(e=n[r],t=o._firstPT;t;)i=t._next,t.pg?t.t._roundProps(s,!0):t.n===e&&(this._add(t.t,e,t.s,t.c),i&&(i._prev=t._prev),t._prev?t._prev._next=i:o._firstPT===t&&(o._firstPT=i),t._next=t._prev=null,o._propLookup[e]=a),t=i;return!1},t._add=function(e,t,i,o){this._addTween(e,t,i,i+o,t,!0),this._overwriteProps.push(t)}}(),function(){var e=/(?:\d|\-|\+|=|#|\.)*/g,t=/[A-Za-z%]/g;_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(i,o){var n,r,s,a,h;if("function"!=typeof i.setAttribute)return!1;this._target=i,this._proxy={},this._start={},this._end={},this._suffix={};for(n in o)this._start[n]=this._proxy[n]=r=i.getAttribute(n)+"",this._end[n]=s=o[n]+"",this._suffix[n]=a=t.test(s)?s.replace(e,""):t.test(r)?r.replace(e,""):"",a&&(h=s.indexOf(a),-1!==h&&(s=s.substr(0,h))),this._addTween(this._proxy,n,parseFloat(r),s,n)||(this._suffix[n]=""),"="===s.charAt(1)&&(this._end[n]=this._firstPT.s+this._firstPT.c+a),this._overwriteProps.push(n);return!0},set:function(e){this._super.setRatio.call(this,e);for(var t,i=this._overwriteProps,o=i.length,n=1===e?this._end:e?this._proxy:this._start,r=n===this._proxy;--o>-1;)t=i[o],this._target.setAttribute(t,n[t]+(r?this._suffix[t]:""))}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var i,o,n,r,s,a,h=t.useRadians===!0?2*Math.PI:360,c=1e-6;for(i in t)"useRadians"!==i&&(a=(t[i]+"").split("_"),o=a[0],n=parseFloat("function"!=typeof e[i]?e[i]:e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]()),r=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?n+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,s=r-n,a.length&&(o=a.join("_"),-1!==o.indexOf("short")&&(s%=h,s!==s%(h/2)&&(s=0>s?s+h:s-h)),-1!==o.indexOf("_cw")&&0>s?s=(s+9999999999*h)%h-(0|s/h)*h:-1!==o.indexOf("ccw")&&s>0&&(s=(s-9999999999*h)%h-(0|s/h)*h)),(s>c||-c>s)&&(this._addTween(e,i,n,n+s,i),this._overwriteProps.push(i)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,o,n=_gsScope.GreenSockGlobals||_gsScope,r=n.com.greensock,s=2*Math.PI,a=Math.PI/2,h=r._class,c=function(t,i){var o=h("easing."+t,function(){},!0),n=o.prototype=new e;return n.constructor=o,n.getRatio=i,o},l=e.register||function(){},p=function(e,t,i,o){var n=h("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new o},!0);return l(n,e),n},u=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},d=function(t,i){var o=h("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=o.prototype=new e;return n.constructor=o,n.getRatio=i,n.config=function(e){return new o(e)},o},g=p("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),f=h("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=f.prototype=new e;return m.constructor=f,m.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},f.ease=new f(.7,.7),m.config=f.config=function(e,t,i){return new f(e,t,i)},t=h("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),m=t.prototype=new e,m.constructor=t,m.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},m.config=t.config=function(e){return new t(e)},i=h("easing.RoughEase",function(t){t=t||{};for(var i,o,n,r,s,a,h=t.taper||"none",c=[],l=0,p=0|(t.points||20),d=p,g=t.randomize!==!1,f=t.clamp===!0,m=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=g?Math.random():1/p*d,o=m?m.getRatio(i):i,"none"===h?n=v:"out"===h?(r=1-i,n=r*r*v):"in"===h?n=i*i*v:.5>i?(r=2*i,n=.5*r*r*v):(r=2*(1-i),n=.5*r*r*v),g?o+=Math.random()*n-.5*n:d%2?o+=.5*n:o-=.5*n,f&&(o>1?o=1:0>o&&(o=0)),c[l++]={x:i,y:o};for(c.sort(function(e,t){return e.x-t.x}),a=new u(1,1,null),d=p;--d>-1;)s=c[d],a=new u(s.x,s.y,a);this._prev=new u(0,0,0!==a.t?a:a.next)},!0),m=i.prototype=new e,m.constructor=i,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new i(e)},i.ease=new i,p("Bounce",c("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),p("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),o=function(t,i,o){var n=h("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||o)/(1>e?e:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e,t){return new n(e,t)},n},p("Elastic",o("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),o("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),o("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)+1},.45)),p("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),p("Sine",c("SineOut",function(e){return Math.sin(e*a)}),c("SineIn",function(e){return-Math.cos(e*a)+1}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),h("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),l(n.SlowMo,"SlowMo","ease,"),l(i,"RoughEase","ease,"),l(t,"SteppedEase","ease,"),g},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e,t){var i=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!i.TweenLite){var o,n,r,s,a,h=function(e){var t,o=e.split("."),n=i;for(t=0;o.length>t;t++)n[o[t]]=n=n[o[t]]||{};return n},c=h("com.greensock"),l=1e-10,p=function(e){var t,i=[],o=e.length;for(t=0;t!==o;i.push(e[t++]));return i},u=function(){},d=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),g={},f=function(o,n,r,s){this.sc=g[o]?g[o].sc:[],g[o]=this,this.gsClass=null,this.func=r;var a=[];this.check=function(c){for(var l,p,u,d,m=n.length,v=m;--m>-1;)(l=g[n[m]]||new f(n[m],[])).gsClass?(a[m]=l.gsClass,v--):c&&l.sc.push(this);if(0===v&&r)for(p=("com.greensock."+o).split("."),u=p.pop(),d=h(p.join("."))[u]=this.gsClass=r.apply(r,a),s&&(i[u]=d,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return d}):o===t&&"undefined"!=typeof module&&module.exports&&(module.exports=d)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},m=e._gsDefine=function(e,t,i,o){return new f(e,t,i,o)},v=c._class=function(e,t,i){return t=t||function(){},m(e,[],function(){return t},i),t};m.globals=i;var y=[0,0,1,1],_=[],x=v("easing.Ease",function(e,t,i,o){this._func=e,this._type=i||0,this._power=o||0,this._params=t?y.concat(t):y},!0),w=x.map={},b=x.register=function(e,t,i,o){for(var n,r,s,a,h=t.split(","),l=h.length,p=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(r=h[l],n=o?v("easing."+r,null,!0):c.easing[r]||{},s=p.length;--s>-1;)a=p[s],w[r+"."+a]=w[a+r]=n[a]=e.getRatio?e:e[a]||new e};for(r=x.prototype,r._calcEnd=!1,r.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,o=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?o*=o:2===i?o*=o*o:3===i?o*=o*o*o:4===i&&(o*=o*o*o*o),1===t?1-o:2===t?o:.5>e?o/2:1-o/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=o.length;--n>-1;)r=o[n]+",Power"+n,b(new x(null,null,1,n),r,"easeOut",!0),b(new x(null,null,2,n),r,"easeIn"+(0===n?",easeNone":"")),b(new x(null,null,3,n),r,"easeInOut");w.linear=c.easing.Linear.easeIn,w.swing=c.easing.Quad.easeInOut;var k=v("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});r=k.prototype,r.addEventListener=function(e,t,i,o,n){n=n||0;var r,h,c=this._listeners[e],l=0;for(null==c&&(this._listeners[e]=c=[]),h=c.length;--h>-1;)r=c[h],r.c===t&&r.s===i?c.splice(h,1):0===l&&n>r.pr&&(l=h+1);c.splice(l,0,{c:t,s:i,up:o,pr:n}),this!==s||a||s.wake()},r.removeEventListener=function(e,t){var i,o=this._listeners[e];if(o)for(i=o.length;--i>-1;)if(o[i].c===t)return void o.splice(i,1)},r.dispatchEvent=function(e){var t,i,o,n=this._listeners[e];if(n)for(t=n.length,i=this._eventTarget;--t>-1;)o=n[t],o&&(o.up?o.c.call(o.s||i,{type:e,target:i}):o.c.call(o.s||i))};var S=e.requestAnimationFrame,T=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},M=C();for(o=["ms","moz","webkit","o"],n=o.length;--n>-1&&!S;)S=e[o[n]+"RequestAnimationFrame"],T=e[o[n]+"CancelAnimationFrame"]||e[o[n]+"CancelRequestAnimationFrame"];v("Ticker",function(e,t){var i,o,n,r,h,c=this,p=C(),d=t!==!1&&S,g=500,f=33,m="tick",v=function(e){var t,s,a=C()-M;a>g&&(p+=a-f),M+=a,c.time=(M-p)/1e3,t=c.time-h,(!i||t>0||e===!0)&&(c.frame++,h+=t+(t>=r?.004:r-t),s=!0),e!==!0&&(n=o(v)),s&&c.dispatchEvent(m)};k.call(c),c.time=c.frame=0,c.tick=function(){v(!0)},c.lagSmoothing=function(e,t){g=e||1/l,f=Math.min(t,g,0)},c.sleep=function(){null!=n&&(d&&T?T(n):clearTimeout(n),o=u,n=null,c===s&&(a=!1))},c.wake=function(){null!==n?c.sleep():c.frame>10&&(M=C()-g+5),o=0===i?u:d&&S?S:function(e){return setTimeout(e,0|1e3*(h-c.time)+1)},c===s&&(a=!0),v(2)},c.fps=function(e){return arguments.length?(i=e,r=1/(i||60),h=this.time+r,void c.wake()):i},c.useRAF=function(e){return arguments.length?(c.sleep(),d=e,void c.fps(i)):d},c.fps(e),setTimeout(function(){d&&5>c.frame&&c.useRAF(!1)},1500)}),r=c.Ticker.prototype=new c.events.EventDispatcher,r.constructor=c.Ticker;var P=v("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,X){a||s.wake();var i=this.vars.useFrames?U:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});s=P.ticker=new c.Ticker,r=P.prototype,r._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var E=function(){a&&C()-M>2e3&&s.wake(),setTimeout(E,2e3)};E(),r.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},r.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},r.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},r.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},r.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},r.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},r.render=function(){},r.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},r.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},r._enabled=function(e,t){return a||s.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(){return this._enabled(!1,!1)},r.kill=function(e,t){return this._kill(e,t),this},r._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},r._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},r._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||_)},r.eventCallback=function(e,t,i,o){if("on"===(e||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[e];null==t?delete n[e]:(n[e]=t,n[e+"Params"]=d(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[e+"Scope"]=o),"onUpdate"===e&&(this._onUpdate=t)}return this},r.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},r.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},r.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},r.totalTime=function(e,t,i){if(a||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var o=this._totalDuration,n=this._timeline;if(e>o&&!i&&(e=o),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?o-e:e)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),O.length&&H())}return this},r.progress=r.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},r.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},r.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},r.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||l,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},r.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},r.paused=function(e){if(!arguments.length)return this._paused;var t,i,o=this._timeline;return e!=this._paused&&o&&(a||e||s.wake(),t=o.rawTime(),i=t-this._pauseTime,!e&&o.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&this.render(o.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,!0,!0)),this._gc&&!e&&this._enabled(!0,!1),this};var I=v("core.SimpleTimeline",function(e){P.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});r=I.prototype=new P,r.constructor=I,r.kill()._gc=!1,r._first=r._last=r._recent=null,r._sortChildren=!1,r.add=r.insert=function(e,t){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},r._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},r.render=function(e,t,i){var o,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;n;)o=n._next,(n._active||e>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o},r.rawTime=function(){return a||s.wake(),this._totalTime};var F=v("TweenLite",function(t,i,o){if(P.call(this,i,o),this.render=F.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:F.selector(t)||t;var n,r,s,a=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?j[F.defaultOverwrite]:"number"==typeof h?h>>0:j[h],(a||t instanceof Array||t.push&&d(t))&&"number"!=typeof t[0])for(this._targets=s=p(t),this._propLookup=[],this._siblings=[],n=0;s.length>n;n++)r=s[n],r?"string"!=typeof r?r.length&&r!==e&&r[0]&&(r[0]===e||r[0].nodeType&&r[0].style&&!r.nodeType)?(s.splice(n--,1),this._targets=s=s.concat(p(r))):(this._siblings[n]=z(r,this,!1),1===h&&this._siblings[n].length>1&&Y(r,this,null,1,this._siblings[n])):(r=s[n--]=F.selector(r),"string"==typeof r&&s.splice(n+1,1)):s.splice(n--,1);else this._propLookup={},this._siblings=z(t,this,!1),1===h&&this._siblings.length>1&&Y(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-l,this.render(-this._delay))},!0),B=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},A=function(e,t){var i,o={};for(i in e)N[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!R[i]||R[i]&&R[i]._autoCSS)||(o[i]=e[i],delete e[i]);e.css=o};r=F.prototype=new P,r.constructor=F,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=r._lazy=!1,F.version="1.17.0",F.defaultEase=r._ease=new x(null,null,1,1),F.defaultOverwrite="auto",F.ticker=s,F.autoSleep=120,F.lagSmoothing=function(e,t){s.lagSmoothing(e,t)},F.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(F.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var O=[],L={},D=F._internals={isArray:d,isSelector:B,lazyTweens:O},R=F._plugins={},G=D.tweenLookup={},W=0,N=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},U=P._rootFramesTimeline=new I,X=P._rootTimeline=new I,V=30,H=D.lazyRender=function(){var e,t=O.length;for(L={};--t>-1;)e=O[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);O.length=0};X._startTime=s.time,U._startTime=s.frame,X._active=U._active=!0,setTimeout(H,1),P._updateRoot=F.render=function(){var e,t,i;if(O.length&&H(),X.render((s.time-X._startTime)*X._timeScale,!1,!1),U.render((s.frame-U._startTime)*U._timeScale,!1,!1),O.length&&H(),s.frame>=V){V=s.frame+(parseInt(F.autoSleep,10)||120);for(i in G){for(t=G[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete G[i]}if(i=X._first,(!i||i._paused)&&F.autoSleep&&!U._first&&1===s._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||s.sleep()}}},s.addEventListener("tick",P._updateRoot);var z=function(e,t,i){var o,n,r=e._gsTweenID;if(G[r||(e._gsTweenID=r="t"+W++)]||(G[r]={target:e,tweens:[]}),t&&(o=G[r].tweens,o[n=o.length]=t,i))for(;--n>-1;)o[n]===t&&o.splice(n,1);return G[r].tweens},q=function(e,t,i,o){var n,r,s=e.vars.onOverwrite;return s&&(n=s(e,t,i,o)),s=F.onOverwrite,s&&(r=s(e,t,i,o)),n!==!1&&r!==!1},Y=function(e,t,i,o,n){var r,s,a,h;if(1===o||o>=4){for(h=n.length,
r=0;h>r;r++)if((a=n[r])!==t)a._gc||a._kill(null,e,t)&&(s=!0);else if(5===o)break;return s}var c,p=t._startTime+l,u=[],d=0,g=0===t._duration;for(r=n.length;--r>-1;)(a=n[r])===t||a._gc||a._paused||(a._timeline!==t._timeline?(c=c||Z(t,0,g),0===Z(a,c,g)&&(u[d++]=a)):p>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>p&&((g||!a._initted)&&2e-10>=p-a._startTime||(u[d++]=a)));for(r=d;--r>-1;)if(a=u[r],2===o&&a._kill(i,e,t)&&(s=!0),2!==o||!a._firstPT&&a._initted){if(2!==o&&!q(a,t))continue;a._enabled(!1,!1)&&(s=!0)}return s},Z=function(e,t,i){for(var o=e._timeline,n=o._timeScale,r=e._startTime;o._timeline;){if(r+=o._startTime,n*=o._timeScale,o._paused)return-100;o=o._timeline}return r/=n,r>t?r-t:i&&r===t||!e._initted&&2*l>r-t?l:(r+=e.totalDuration()/e._timeScale/n)>t+l?0:r-t-l};r._init=function(){var e,t,i,o,n,r=this.vars,s=this._overwrittenProps,a=this._duration,h=!!r.immediateRender,c=r.ease;if(r.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(o in r.startAt)n[o]=r.startAt[o];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&r.lazy!==!1,n.startAt=n.delay=null,this._startAt=F.to(this.target,0,n),h)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(r.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(o in r)N[o]&&"autoCSS"!==o||(i[o]=r[o]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&r.lazy!==!1,i.immediateRender=h,this._startAt=F.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof x?c:"function"==typeof c?new x(c,r.easeParams):w[c]||F.defaultEase:F.defaultEase,r.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,r.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s);if(t&&F._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},r._initProps=function(t,i,o,n){var r,s,a,h,c,l;if(null==t)return!1;L[t._gsTweenID]&&H(),this.vars.css||t.style&&t!==e&&t.nodeType&&R.css&&this.vars.autoCSS!==!1&&A(this.vars,t);for(r in this.vars){if(l=this.vars[r],N[r])l&&(l instanceof Array||l.push&&d(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[r]=l=this._swapSelfInParams(l,this));else if(R[r]&&(h=new R[r])._onInitTween(t,this.vars[r],this)){for(this._firstPT=c={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:r,pg:!0,pr:h._priority},s=h._overwriteProps.length;--s>-1;)i[h._overwriteProps[s]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[r]=c={_next:this._firstPT,t:t,p:r,f:"function"==typeof t[r],n:r,pg:!1,pr:0},c.s=c.f?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),c.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-c.s||0;c&&c._next&&(c._next._prev=c)}return n&&this._kill(n,t)?this._initProps(t,i,o,n):this._overwrite>1&&this._firstPT&&o.length>1&&Y(t,this,i,this._overwrite,o)?(this._kill(i,t),this._initProps(t,i,o,n)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),a)},r.render=function(e,t,i){var o,n,r,s,a=this._time,h=this._duration,c=this._rawPrevTime;if(e>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(o=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>c||c===l&&"isPause"!==this.data)&&c!==e&&(i=!0,c>l&&(n="onReverseComplete")),this._rawPrevTime=s=!t||e||c===e?e:l);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&c>0)&&(n="onReverseComplete",o=this._reversed),0>e&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!t||e||c===e?e:l)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var p=e/h,u=this._easeType,d=this._easePower;(1===u||3===u&&p>=.5)&&(p=1-p),3===u&&(p*=2),1===d?p*=p:2===d?p*=p*p:3===d?p*=p*p*p:4===d&&(p*=p*p*p*p),this.ratio=1===u?1-p:2===u?p:.5>e/h?p/2:1-p/2}else this.ratio=this._ease.getRatio(e/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=c,O.push(this),void(this._lazy=[e,t]);this._time&&!o?this.ratio=this._ease.getRatio(this._time/h):o&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&e>=0&&(this._active=!0),0===a&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(t||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,i),t||(this._time!==a||o)&&this._callback("onUpdate")),n&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,i),o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[n]&&this._callback(n),0===h&&this._rawPrevTime===l&&s!==l&&(this._rawPrevTime=0))}},r._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:F.selector(t)||t;var o,n,r,s,a,h,c,l,p,u=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((d(t)||B(t))&&"number"!=typeof t[0])for(o=t.length;--o>-1;)this._kill(e,t[o],i)&&(h=!0);else{if(this._targets){for(o=this._targets.length;--o>-1;)if(t===this._targets[o]){a=this._propLookup[o]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[o]=e?this._overwrittenProps[o]||{}:"all";break}}else{if(t!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(a){if(c=e||a,l=e!==n&&"all"!==n&&e!==a&&("object"!=typeof e||!e._tempKill),i&&(F.onOverwrite||this.vars.onOverwrite)){for(r in c)a[r]&&(p||(p=[]),p.push(r));if((p||!e)&&!q(this,i,t,p))return!1}for(r in c)(s=a[r])&&(u&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,h=!0),s.pg&&s.t._kill(c)&&(h=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[r]),l&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},r.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-l,this.render(-this._delay)),this},r._enabled=function(e,t){if(a||s.wake(),e&&this._gc){var i,o=this._targets;if(o)for(i=o.length;--i>-1;)this._siblings[i]=z(o[i],this,!0);else this._siblings=z(this.target,this,!0)}return P.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?F._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},F.to=function(e,t,i){return new F(e,t,i)},F.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new F(e,t,i)},F.fromTo=function(e,t,i,o){return o.startAt=i,o.immediateRender=0!=o.immediateRender&&0!=i.immediateRender,new F(e,t,o)},F.delayedCall=function(e,t,i,o,n){return new F(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:o,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},F.set=function(e,t){return new F(e,0,t)},F.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:F.selector(e)||e;var i,o,n,r;if((d(e)||B(e))&&"number"!=typeof e[0]){for(i=e.length,o=[];--i>-1;)o=o.concat(F.getTweensOf(e[i],t));for(i=o.length;--i>-1;)for(r=o[i],n=i;--n>-1;)r===o[n]&&o.splice(i,1)}else for(o=z(e).concat(),i=o.length;--i>-1;)(o[i]._gc||t&&!o[i].isActive())&&o.splice(i,1);return o},F.killTweensOf=F.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var o=F.getTweensOf(e,t),n=o.length;--n>-1;)o[n]._kill(i,e)};var K=v("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=K.prototype},!0);if(r=K.prototype,K.version="1.10.1",K.API=2,r._firstPT=null,r._addTween=function(e,t,i,o,n,r){var s,a;return null!=o&&(s="number"==typeof o||"="!==o.charAt(1)?Number(o)-Number(i):parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:s,f:"function"==typeof e[t],n:n||t,r:r},a._next&&(a._next._prev=a),a):void 0},r.setRatio=function(e){for(var t,i=this._firstPT,o=1e-6;i;)t=i.c*e+i.s,i.r?t=Math.round(t):o>t&&t>-o&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},r._kill=function(e){var t,i=this._overwriteProps,o=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;o;)null!=e[o.n]&&(o._next&&(o._next._prev=o._prev),o._prev?(o._prev._next=o._next,o._prev=null):this._firstPT===o&&(this._firstPT=o._next)),o=o._next;return!1},r._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},F._onPluginEvent=function(e,t){var i,o,n,r,s,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(s=a._next,o=n;o&&o.pr>a.pr;)o=o._next;(a._prev=o?o._prev:r)?a._prev._next=a:n=a,(a._next=o)?o._prev=a:r=a,a=s}a=t._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},K.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===K.API&&(R[(new e[t])._propName]=e[t]);return!0},m.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,o=e.priority||0,n=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){K.call(this,i,o),this._overwriteProps=n||[]},e.global===!0),a=s.prototype=new K(i);a.constructor=s,s.API=e.API;for(t in r)"function"==typeof e[t]&&(a[r[t]]=e[t]);return s.version=e.version,K.activate([s]),s},o=e._gsQueue){for(n=0;o.length>n;n++)o[n]();for(r in g)g[r].func||e.console.log("GSAP encountered missing dependency: com.greensock."+r)}a=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),define("TWEEN",function(){}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("PIXI",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PIXI=e()}}(function(){var e;return function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return n(i?i:t)},l,l.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,i,o){(function(t,o){!function(){function n(){}function r(e){return e}function s(e){return!!e}function a(e){return!e}function h(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function c(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function l(e){return N(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function p(e,t){for(var i=-1,o=e.length;++i<o;)t(e[i],i,e)}function u(e,t){for(var i=-1,o=e.length,n=Array(o);++i<o;)n[i]=t(e[i],i,e);return n}function d(e){return u(Array(e),function(e,t){return t})}function g(e,t,i){return p(e,function(e,o,n){i=t(i,e,o,n)}),i}function f(e,t){p(U(e),function(i){t(e[i],i)})}function m(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function v(e){var t,i,o=-1;return l(e)?(t=e.length,function(){return o++,t>o?o:null}):(i=U(e),t=i.length,function(){return o++,t>o?i[o]:null})}function y(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),o=Array(i),n=0;i>n;n++)o[n]=arguments[n+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o)}}}function _(e){return function(t,i,o){return e(t,o)}}function x(e){return function(t,i,o){o=c(o||n),t=t||[];var r=v(t);if(0>=e)return o(null);var s=!1,a=0,l=!1;!function p(){if(s&&0>=a)return o(null);for(;e>a&&!l;){var n=r();if(null===n)return s=!0,void(0>=a&&o(null));a+=1,i(t[n],n,h(function(e){a-=1,e?(o(e),l=!0):p()}))}}()}}function w(e){return function(t,i,o){return e(R.eachOf,t,i,o)}}function b(e){return function(t,i,o,n){return e(x(i),t,o,n)}}function k(e){return function(t,i,o){return e(R.eachOfSeries,t,i,o)}}function S(e,t,i,o){o=c(o||n),t=t||[];var r=l(t)?[]:{};e(t,function(e,t,o){i(e,function(e,i){r[t]=i,o(e)})},function(e){o(e,r)})}function T(e,t,i,o){var n=[];e(t,function(e,t,o){i(e,function(i){i&&n.push({index:t,value:e}),o()})},function(){o(u(n.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function C(e,t,i,o){T(e,t,function(e,t){i(e,function(e){t(!e)})},o)}function M(e,t,i){return function(o,n,r,s){function a(){s&&s(i(!1,void 0))}function h(e,o,n){return s?void r(e,function(o){s&&t(o)&&(s(i(!0,e)),s=r=!1),n()}):n()}arguments.length>3?e(o,n,h,a):(s=r,r=n,e(o,h,a))}}function P(e,t){return t}function E(e,t,i){i=i||n;var o=l(t)?[]:{};e(t,function(e,t,i){e(y(function(e,n){n.length<=1&&(n=n[0]),o[t]=n,i(e)}))},function(e){i(e,o)})}function I(e,t,i,o){var n=[];e(t,function(e,t,o){i(e,function(e,t){n=n.concat(t||[]),o(e)})},function(e){o(e,n)})}function F(e,t,i){function o(e,t,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return e.started=!0,N(t)||(t=[t]),0===t.length&&e.idle()?R.setImmediate(function(){e.drain()}):(p(t,function(t){var r={data:t,callback:o||n};i?e.tasks.unshift(r):e.tasks.push(r),e.tasks.length===e.concurrency&&e.saturated()}),void R.setImmediate(e.process))}function r(e,t){return function(){s-=1;var i=!1,o=arguments;p(t,function(e){p(a,function(t,o){t!==e||i||(a.splice(o,1),i=!0)}),e.callback.apply(e,o)}),e.tasks.length+s===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var s=0,a=[],c={tasks:[],concurrency:t,payload:i,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(e,t){o(c,e,!1,t)},kill:function(){c.drain=n,c.tasks=[]},unshift:function(e,t){o(c,e,!0,t)},process:function(){for(;!c.paused&&s<c.concurrency&&c.tasks.length;){var t=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),i=u(t,function(e){return e.data});0===c.tasks.length&&c.empty(),s+=1,a.push(t[0]);var o=h(r(c,t));e(i,o)}},length:function(){return c.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return c.tasks.length+s===0},pause:function(){c.paused=!0},resume:function(){if(c.paused!==!1){c.paused=!1;for(var e=Math.min(c.concurrency,c.tasks.length),t=1;e>=t;t++)R.setImmediate(c.process)}}};return c}function B(e){return y(function(t,i){t.apply(null,i.concat([y(function(t,i){"object"==typeof console&&(t?console.error&&void 0:console[e]&&p(i,function(e){}))})]))})}function A(e){return function(t,i,o){e(d(t),i,o)}}function O(e){return y(function(t,i){var o=y(function(i){var o=this,n=i.pop();return e(t,function(e,t,n){e.apply(o,i.concat([n]))},n)});return i.length?o.apply(this,i):o})}function L(e){return y(function(t){var i=t.pop();t.push(function(){var e=arguments;o?R.setImmediate(function(){i.apply(null,e)}):i.apply(null,e)});var o=!0;e.apply(this,t),o=!1})}var D,R={},G="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o||this;null!=G&&(D=G.async),R.noConflict=function(){return G.async=D,R};var W=Object.prototype.toString,N=Array.isArray||function(e){return"[object Array]"===W.call(e)},j=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},U=Object.keys||function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},X="function"==typeof setImmediate&&setImmediate,V=X?function(e){X(e)}:function(e){setTimeout(e,0)};"object"==typeof t&&"function"==typeof t.nextTick?R.nextTick=t.nextTick:R.nextTick=V,R.setImmediate=X?V:R.nextTick,R.forEach=R.each=function(e,t,i){return R.eachOf(e,_(t),i)},R.forEachSeries=R.eachSeries=function(e,t,i){return R.eachOfSeries(e,_(t),i)},R.forEachLimit=R.eachLimit=function(e,t,i,o){return x(t)(e,_(i),o)},R.forEachOf=R.eachOf=function(e,t,i){function o(e){a--,e?i(e):null===r&&0>=a&&i(null)}i=c(i||n),e=e||[];for(var r,s=v(e),a=0;null!=(r=s());)a+=1,t(e[r],r,h(o));0===a&&i(null)},R.forEachOfSeries=R.eachOfSeries=function(e,t,i){function o(){var n=!0;return null===s?i(null):(t(e[s],s,h(function(e){if(e)i(e);else{if(s=r(),null===s)return i(null);n?R.setImmediate(o):o()}})),void(n=!1))}i=c(i||n),e=e||[];var r=v(e),s=r();o()},R.forEachOfLimit=R.eachOfLimit=function(e,t,i,o){x(t)(e,i,o)},R.map=w(S),R.mapSeries=k(S),R.mapLimit=b(S),R.inject=R.foldl=R.reduce=function(e,t,i,o){R.eachOfSeries(e,function(e,o,n){i(t,e,function(e,i){t=i,n(e)})},function(e){o(e,t)})},R.foldr=R.reduceRight=function(e,t,i,o){var n=u(e,r).reverse();R.reduce(n,t,i,o)},R.transform=function(e,t,i,o){3===arguments.length&&(o=i,i=t,t=N(e)?[]:{}),R.eachOf(e,function(e,o,n){i(t,e,o,n)},function(e){o(e,t)})},R.select=R.filter=w(T),R.selectLimit=R.filterLimit=b(T),R.selectSeries=R.filterSeries=k(T),R.reject=w(C),R.rejectLimit=b(C),R.rejectSeries=k(C),R.any=R.some=M(R.eachOf,s,r),R.someLimit=M(R.eachOfLimit,s,r),R.all=R.every=M(R.eachOf,a,a),R.everyLimit=M(R.eachOfLimit,a,a),R.detect=M(R.eachOf,r,P),R.detectSeries=M(R.eachOfSeries,r,P),R.detectLimit=M(R.eachOfLimit,r,P),R.sortBy=function(e,t,i){function o(e,t){var i=e.criteria,o=t.criteria;return o>i?-1:i>o?1:0}R.map(e,function(e,i){t(e,function(t,o){t?i(t):i(null,{value:e,criteria:o})})},function(e,t){return e?i(e):void i(null,u(t.sort(o),function(e){return e.value}))})},R.auto=function(e,t,i){function o(e){v.unshift(e)}function r(e){var t=m(v,e);t>=0&&v.splice(t,1)}function s(){h--,p(v.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(i=t,t=null),i=c(i||n);var a=U(e),h=a.length;if(!h)return i(null);t||(t=h);var l={},u=0,d=!1,v=[];o(function(){h||i(null,l)}),p(a,function(n){function a(){return t>u&&g(_,function(e,t){return e&&l.hasOwnProperty(t)},!0)&&!l.hasOwnProperty(n)}function h(){a()&&(u++,r(h),p[p.length-1](v,l))}if(!d){for(var c,p=N(e[n])?e[n]:[e[n]],v=y(function(e,t){if(u--,t.length<=1&&(t=t[0]),e){var o={};f(l,function(e,t){o[t]=e}),o[n]=t,d=!0,i(e,o)}else l[n]=t,R.setImmediate(s)}),_=p.slice(0,p.length-1),x=_.length;x--;){if(!(c=e[_[x]]))throw new Error("Has nonexistent dependency in "+_.join(", "));if(N(c)&&m(c,n)>=0)throw new Error("Has cyclic dependencies")}a()?(u++,p[p.length-1](v,l)):o(h)}})},R.retry=function(e,t,i){function o(e,t){if("number"==typeof t)e.times=parseInt(t,10)||r;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||r,e.interval=parseInt(t.interval,10)||s}}function n(e,t){function i(e,i){return function(o){e(function(e,t){o(!e||i,{err:e,result:t})},t)}}function o(e){return function(t){setTimeout(function(){t(null)},e)}}for(;h.times;){var n=!(h.times-=1);a.push(i(h.task,n)),!n&&h.interval>0&&a.push(o(h.interval))}R.series(a,function(t,i){i=i[i.length-1],(e||h.callback)(i.err,i.result)})}var r=5,s=0,a=[],h={times:r,interval:s},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof e&&(i=t,t=e),"function"!=typeof e&&o(h,e),h.callback=i,h.task=t,h.callback?n():n},R.waterfall=function(e,t){function i(e){return y(function(o,n){if(o)t.apply(null,[o].concat(n));else{var r=e.next();r?n.push(i(r)):n.push(t),L(e).apply(null,n)}})}if(t=c(t||n),!N(e)){var o=new Error("First argument to waterfall must be an array of functions");return t(o)}return e.length?void i(R.iterator(e))():t()},R.parallel=function(e,t){E(R.eachOf,e,t)},R.parallelLimit=function(e,t,i){E(x(t),e,i)},R.series=function(e,t){E(R.eachOfSeries,e,t)},R.iterator=function(e){function t(i){function o(){return e.length&&e[i].apply(null,arguments),o.next()}return o.next=function(){return i<e.length-1?t(i+1):null},o}return t(0)},R.apply=y(function(e,t){return y(function(i){return e.apply(null,t.concat(i))})}),R.concat=w(I),R.concatSeries=k(I),R.whilst=function(e,t,i){if(i=i||n,e()){var o=y(function(n,r){n?i(n):e.apply(this,r)?t(o):i.apply(null,[null].concat(r))});t(o)}else i(null)},R.doWhilst=function(e,t,i){var o=0;return R.whilst(function(){return++o<=1||t.apply(this,arguments)},e,i)},R.until=function(e,t,i){return R.whilst(function(){return!e.apply(this,arguments)},t,i)},R.doUntil=function(e,t,i){return R.doWhilst(e,function(){return!t.apply(this,arguments)},i)},R.during=function(e,t,i){i=i||n;var o=y(function(t,o){t?i(t):(o.push(r),e.apply(this,o))}),r=function(e,n){e?i(e):n?t(o):i(null)};e(r)},R.doDuring=function(e,t,i){var o=0;R.during(function(e){o++<1?e(null,!0):t.apply(this,arguments)},e,i)},R.queue=function(e,t){var i=F(function(t,i){e(t[0],i)},t,1);return i},R.priorityQueue=function(e,t){function i(e,t){return e.priority-t.priority}function o(e,t,i){for(var o=-1,n=e.length-1;n>o;){var r=o+(n-o+1>>>1);i(t,e[r])>=0?o=r:n=r-1}return o}function r(e,t,r,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return e.started=!0,N(t)||(t=[t]),0===t.length?R.setImmediate(function(){e.drain()}):void p(t,function(t){var a={data:t,priority:r,callback:"function"==typeof s?s:n};e.tasks.splice(o(e.tasks,a,i)+1,0,a),e.tasks.length===e.concurrency&&e.saturated(),R.setImmediate(e.process)})}var s=R.queue(e,t);return s.push=function(e,t,i){r(s,e,t,i)},delete s.unshift,s},R.cargo=function(e,t){return F(e,1,t)},R.log=B("log"),R.dir=B("dir"),R.memoize=function(e,t){var i={},o={},n=Object.prototype.hasOwnProperty;t=t||r;var s=y(function(r){var s=r.pop(),a=t.apply(null,r);n.call(i,a)?R.setImmediate(function(){s.apply(null,i[a])}):n.call(o,a)?o[a].push(s):(o[a]=[s],e.apply(null,r.concat([y(function(e){i[a]=e;var t=o[a];delete o[a];for(var n=0,r=t.length;r>n;n++)t[n].apply(null,e)})])))});return s.memo=i,s.unmemoized=e,s},R.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},R.times=A(R.map),R.timesSeries=A(R.mapSeries),R.timesLimit=function(e,t,i,o){return R.mapLimit(d(e),t,i,o)},R.seq=function(){var e=arguments;return y(function(t){var i=this,o=t[t.length-1];"function"==typeof o?t.pop():o=n,R.reduce(e,t,function(e,t,o){t.apply(i,e.concat([y(function(e,t){o(e,t)})]))},function(e,t){o.apply(i,[e].concat(t))})})},R.compose=function(){return R.seq.apply(null,Array.prototype.reverse.call(arguments))},R.applyEach=O(R.eachOf),R.applyEachSeries=O(R.eachOfSeries),R.forever=function(e,t){function i(e){return e?o(e):void r(i)}var o=h(t||n),r=L(e);i()},R.ensureAsync=L,R.constant=y(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),R.wrapSync=R.asyncify=function(e){return y(function(t){var i,o=t.pop();try{i=e.apply(this,t)}catch(n){return o(n)}j(i)&&"function"==typeof i.then?i.then(function(e){o(null,e)})["catch"](function(e){o(e.message?e:new Error(e))}):o(null,i)})},"object"==typeof i&&i.exports?i.exports=R:"function"==typeof e&&e.amd?e([],function(){return R}):G.async=R}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(e,t,i){(function(e){function t(e,t){for(var i=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),i++):i&&(e.splice(o,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function o(e,t){if(e.filter)return e.filter(t);for(var i=[],o=0;o<e.length;o++)t(e[o],o,e)&&i.push(e[o]);return i}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return n.exec(e).slice(1)};i.resolve=function(){for(var i="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var s=r>=0?arguments[r]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(i=s+"/"+i,n="/"===s.charAt(0))}return i=t(o(i.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+i||"."},i.normalize=function(e){var n=i.isAbsolute(e),r="/"===s(e,-1);return e=t(o(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&r&&(e+="/"),(n?"/":"")+e},i.isAbsolute=function(e){return"/"===e.charAt(0)},i.join=function(){var e=Array.prototype.slice.call(arguments,0);return i.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},i.relative=function(e,t){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=i.resolve(e).substr(1),t=i.resolve(t).substr(1);for(var n=o(e.split("/")),r=o(t.split("/")),s=Math.min(n.length,r.length),a=s,h=0;s>h;h++)if(n[h]!==r[h]){a=h;break}for(var c=[],h=a;h<n.length;h++)c.push("..");return c=c.concat(r.slice(a)),c.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(e){var t=r(e),i=t[0],o=t[1];return i||o?(o&&(o=o.substr(0,o.length-1)),i+o):"."},i.basename=function(e,t){var i=r(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},i.extname=function(e){return r(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return 0>t&&(t=e.length+t),e.substr(t,i)}}).call(this,e("_process"))},{_process:3}],3:[function(e,t,i){function o(){l=!1,a.length?c=a.concat(c):p=-1,c.length&&n()}function n(){if(!l){var e=setTimeout(o);l=!0;for(var t=c.length;t;){for(a=c,c=[];++p<t;)a&&a[p].run();p=-1,t=c.length}a=null,l=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function s(){}var a,h=t.exports={},c=[],l=!1,p=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new r(e,t)),1!==c.length||l||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],4:[function(t,i,o){(function(t){!function(n){function r(e){throw new RangeError(O[e])}function s(e,t){for(var i=e.length,o=[];i--;)o[i]=t(e[i]);return o}function a(e,t){var i=e.split("@"),o="";i.length>1&&(o=i[0]+"@",e=i[1]),e=e.replace(A,".");var n=e.split("."),r=s(n,t).join(".");return o+r}function h(e){for(var t,i,o=[],n=0,r=e.length;r>n;)t=e.charCodeAt(n++),t>=55296&&56319>=t&&r>n?(i=e.charCodeAt(n++),56320==(64512&i)?o.push(((1023&t)<<10)+(1023&i)+65536):(o.push(t),n--)):o.push(t);return o}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function l(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function u(e,t,i){var o=0;for(e=i?D(e/M):e>>1,e+=D(e/t);e>L*T>>1;o+=k)e=D(e/L);return D(o+(L+1)*e/(e+C))}function d(e){var t,i,o,n,s,a,h,p,d,g,f=[],m=e.length,v=0,y=E,_=P;for(i=e.lastIndexOf(I),0>i&&(i=0),o=0;i>o;++o)e.charCodeAt(o)>=128&&r("not-basic"),f.push(e.charCodeAt(o));for(n=i>0?i+1:0;m>n;){for(s=v,a=1,h=k;n>=m&&r("invalid-input"),p=l(e.charCodeAt(n++)),(p>=k||p>D((b-v)/a))&&r("overflow"),v+=p*a,d=_>=h?S:h>=_+T?T:h-_,!(d>p);h+=k)g=k-d,a>D(b/g)&&r("overflow"),a*=g;t=f.length+1,_=u(v-s,t,0==s),D(v/t)>b-y&&r("overflow"),y+=D(v/t),v%=t,f.splice(v++,0,y)}return c(f)}function g(e){var t,i,o,n,s,a,c,l,d,g,f,m,v,y,_,x=[];for(e=h(e),m=e.length,t=E,i=0,s=P,a=0;m>a;++a)f=e[a],128>f&&x.push(R(f));for(o=n=x.length,n&&x.push(I);m>o;){for(c=b,a=0;m>a;++a)f=e[a],f>=t&&c>f&&(c=f);for(v=o+1,c-t>D((b-i)/v)&&r("overflow"),i+=(c-t)*v,t=c,a=0;m>a;++a)if(f=e[a],t>f&&++i>b&&r("overflow"),f==t){for(l=i,d=k;g=s>=d?S:d>=s+T?T:d-s,!(g>l);d+=k)_=l-g,y=k-g,x.push(R(p(g+_%y,0))),l=D(_/y);x.push(R(p(l,0))),s=u(i,v,o==n),i=0,++o}++i,++t}return x.join("")}function f(e){return a(e,function(e){return F.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return B.test(e)?"xn--"+g(e):e})}var v="object"==typeof o&&o&&!o.nodeType&&o,y="object"==typeof i&&i&&!i.nodeType&&i,_="object"==typeof t&&t;_.global!==_&&_.window!==_&&_.self!==_||(n=_);var x,w,b=2147483647,k=36,S=1,T=26,C=38,M=700,P=72,E=128,I="-",F=/^xn--/,B=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=k-S,D=Math.floor,R=String.fromCharCode;if(x={version:"1.3.2",ucs2:{decode:h,encode:c},decode:d,encode:g,toASCII:m,toUnicode:f},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return x});else if(v&&y)if(i.exports==v)y.exports=x;else for(w in x)x.hasOwnProperty(w)&&(v[w]=x[w]);else n.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,i){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var h=1e3;r&&"number"==typeof r.maxKeys&&(h=r.maxKeys);var c=e.length;h>0&&c>h&&(c=h);for(var l=0;c>l;++l){var p,u,d,g,f=e[l].replace(a,"%20"),m=f.indexOf(i);m>=0?(p=f.substr(0,m),u=f.substr(m+1)):(p=f,u=""),d=decodeURIComponent(p),g=decodeURIComponent(u),o(s,d)?n(s[d])?s[d].push(g):s[d]=[s[d],g]:s[d]=g}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],6:[function(e,t,i){function o(e,t){if(e.map)return e.map(t);for(var i=[],o=0;o<e.length;o++)i.push(t(e[o],o));return i}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,a){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+i;return r(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],7:[function(e,t,i){i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":5,"./encode":6}],8:[function(e,t,i){function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,
this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,i){if(e&&c(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,i),n}function r(e){return h(e)&&(e=n(e)),e instanceof o?e.format():o.prototype.format.call(e)}function s(e,t){return n(e,!1,!0).resolve(t)}function a(e,t){return e?n(e,!1,!0).resolveObject(t):t}function h(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){return null===e}function p(e){return null==e}var u=e("punycode");i.parse=n,i.resolve=s,i.resolveObject=a,i.format=r,i.Url=o;var d=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,f=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(f),v=["'"].concat(m),y=["%","/","?",";","#"].concat(v),_=["/","?","#"],x=255,w=/^[a-z0-9A-Z_-]{0,63}$/,b=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=e("querystring");o.prototype.parse=function(e,t,i){if(!h(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e;o=o.trim();var n=d.exec(o);if(n){n=n[0];var r=n.toLowerCase();this.protocol=r,o=o.substr(n.length)}if(i||n||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===o.substr(0,2);!s||n&&S[n]||(o=o.substr(2),this.slashes=!0)}if(!S[n]&&(s||n&&!T[n])){for(var a=-1,c=0;c<_.length;c++){var l=o.indexOf(_[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var p,g;g=-1===a?o.lastIndexOf("@"):o.lastIndexOf("@",a),-1!==g&&(p=o.slice(0,g),o=o.slice(g+1),this.auth=decodeURIComponent(p)),a=-1;for(var c=0;c<y.length;c++){var l=o.indexOf(y[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=o.length),this.host=o.slice(0,a),o=o.slice(a),this.parseHost(),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f)for(var m=this.hostname.split(/\./),c=0,M=m.length;M>c;c++){var P=m[c];if(P&&!P.match(w)){for(var E="",I=0,F=P.length;F>I;I++)E+=P.charCodeAt(I)>127?"x":P[I];if(!E.match(w)){var B=m.slice(0,c),A=m.slice(c+1),O=P.match(b);O&&(B.push(O[1]),A.unshift(O[2])),A.length&&(o="/"+A.join(".")+o),this.hostname=B.join(".");break}}}if(this.hostname.length>x?this.hostname="":this.hostname=this.hostname.toLowerCase(),!f){for(var L=this.hostname.split("."),D=[],c=0;c<L.length;++c){var R=L[c];D.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(R):R)}this.hostname=D.join(".")}var G=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+G,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!k[r])for(var c=0,M=v.length;M>c;c++){var N=v[c],j=encodeURIComponent(N);j===N&&(j=escape(N)),o=o.split(N).join(j)}var U=o.indexOf("#");-1!==U&&(this.hash=o.substr(U),o=o.slice(0,U));var X=o.indexOf("?");if(-1!==X?(this.search=o.substr(X),this.query=o.substr(X+1),t&&(this.query=C.parse(this.query)),o=o.slice(0,X)):t&&(this.search="",this.query={}),o&&(this.pathname=o),T[r]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",R=this.search||"";this.path=G+R}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",o=this.hash||"",n=!1,r="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(r=C.stringify(this.query));var s=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||T[t])&&n!==!1?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+n+i+s+o},o.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(h(e)){var t=new o;t.parse(e,!1,!0),e=t}var i=new o;if(Object.keys(this).forEach(function(e){i[e]=this[e]},this),i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(i[t]=e[t])}),T[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i;if(e.protocol&&e.protocol!==i.protocol){if(!T[e.protocol])return Object.keys(e).forEach(function(t){i[t]=e[t]}),i.href=i.format(),i;if(i.protocol=e.protocol,e.host||S[e.protocol])i.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),i.pathname=n.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var r=i.pathname||"",s=i.search||"";i.path=r+s}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var a=i.pathname&&"/"===i.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),u=c||a||i.host&&e.pathname,d=u,g=i.pathname&&i.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],f=i.protocol&&!T[i.protocol];if(f&&(i.hostname="",i.port=null,i.host&&(""===g[0]?g[0]=i.host:g.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=null),u=u&&(""===n[0]||""===g[0])),c)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,g=n;else if(n.length)g||(g=[]),g.pop(),g=g.concat(n),i.search=e.search,i.query=e.query;else if(!p(e.search)){if(f){i.hostname=i.host=g.shift();var m=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;m&&(i.auth=m.shift(),i.host=i.hostname=m.shift())}return i.search=e.search,i.query=e.query,l(i.pathname)&&l(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!g.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var v=g.slice(-1)[0],y=(i.host||e.host)&&("."===v||".."===v)||""===v,_=0,x=g.length;x>=0;x--)v=g[x],"."==v?g.splice(x,1):".."===v?(g.splice(x,1),_++):_&&(g.splice(x,1),_--);if(!u&&!d)for(;_--;_)g.unshift("..");!u||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),y&&"/"!==g.join("/").substr(-1)&&g.push("");var w=""===g[0]||g[0]&&"/"===g[0].charAt(0);if(f){i.hostname=i.host=w?"":g.length?g.shift():"";var m=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;m&&(i.auth=m.shift(),i.host=i.hostname=m.shift())}return u=u||i.host&&g.length,u&&!w&&g.unshift(""),g.length?i.pathname=g.join("/"):(i.pathname=null,i.path=null),l(i.pathname)&&l(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var e=this.host,t=g.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:4,querystring:7}],9:[function(e,t,i){function o(e,t,i){i=i||2;var o=t&&t.length,r=o?t[0]*i:e.length,a=n(e,0,r,i,!0),h=[];if(!a)return h;var c,l,u,d,g,f,m;if(o&&(a=p(e,t,a,i)),e.length>80*i){c=u=e[0],l=d=e[1];for(var v=i;r>v;v+=i)g=e[v],f=e[v+1],c>g&&(c=g),l>f&&(l=f),g>u&&(u=g),f>d&&(d=f);m=Math.max(u-c,d-l)}return s(a,h,i,c,l,m),h}function n(e,t,i,o,n){var r,s;if(n===F(e,t,i,o)>0)for(r=t;i>r;r+=o)s=P(r,e[r],e[r+1],s);else for(r=i-o;r>=t;r-=o)s=P(r,e[r],e[r+1],s);return s&&b(s,s.next)&&(E(s),s=s.next),s}function r(e,t){if(!e)return e;t||(t=e);var i,o=e;do if(i=!1,o.steiner||!b(o,o.next)&&0!==w(o.prev,o,o.next))o=o.next;else{if(E(o),o=t=o.prev,o===o.next)return null;i=!0}while(i||o!==t);return t}function s(e,t,i,o,n,p,u){if(e){!u&&p&&f(e,o,n,p);for(var d,g,m=e;e.prev!==e.next;)if(d=e.prev,g=e.next,p?h(e,o,n,p):a(e))t.push(d.i/i),t.push(e.i/i),t.push(g.i/i),E(e),e=g.next,m=g.next;else if(e=g,e===m){u?1===u?(e=c(e,t,i),s(e,t,i,o,n,p,2)):2===u&&l(e,t,i,o,n,p):s(r(e),t,i,o,n,p,1);break}}}function a(e){var t=e.prev,i=e,o=e.next;if(w(t,i,o)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(_(t.x,t.y,i.x,i.y,o.x,o.y,n.x,n.y)&&w(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(e,t,i,o){var n=e.prev,r=e,s=e.next;if(w(n,r,s)>=0)return!1;for(var a=n.x<r.x?n.x<s.x?n.x:s.x:r.x<s.x?r.x:s.x,h=n.y<r.y?n.y<s.y?n.y:s.y:r.y<s.y?r.y:s.y,c=n.x>r.x?n.x>s.x?n.x:s.x:r.x>s.x?r.x:s.x,l=n.y>r.y?n.y>s.y?n.y:s.y:r.y>s.y?r.y:s.y,p=v(a,h,t,i,o),u=v(c,l,t,i,o),d=e.nextZ;d&&d.z<=u;){if(d!==e.prev&&d!==e.next&&_(n.x,n.y,r.x,r.y,s.x,s.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=p;){if(d!==e.prev&&d!==e.next&&_(n.x,n.y,r.x,r.y,s.x,s.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function c(e,t,i){var o=e;do{var n=o.prev,r=o.next.next;!b(n,r)&&k(n,o,o.next,r)&&T(n,r)&&T(r,n)&&(t.push(n.i/i),t.push(o.i/i),t.push(r.i/i),E(o),E(o.next),o=e=r),o=o.next}while(o!==e);return o}function l(e,t,i,o,n,a){var h=e;do{for(var c=h.next.next;c!==h.prev;){if(h.i!==c.i&&x(h,c)){var l=M(h,c);return h=r(h,h.next),l=r(l,l.next),s(h,t,i,o,n,a),void s(l,t,i,o,n,a)}c=c.next}h=h.next}while(h!==e)}function p(e,t,i,o){var s,a,h,c,l,p=[];for(s=0,a=t.length;a>s;s++)h=t[s]*o,c=a-1>s?t[s+1]*o:e.length,l=n(e,h,c,o,!1),l===l.next&&(l.steiner=!0),p.push(y(l));for(p.sort(u),s=0;s<p.length;s++)d(p[s],i),i=r(i,i.next);return i}function u(e,t){return e.x-t.x}function d(e,t){if(t=g(e,t)){var i=M(t,e);r(i,i.next)}}function g(e,t){var i,o=t,n=e.x,r=e.y,s=-(1/0);do{if(r<=o.y&&r>=o.next.y){var a=o.x+(r-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(n>=a&&a>s){if(s=a,a===n){if(r===o.y)return o;if(r===o.next.y)return o.next}i=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!i)return null;if(n===s)return i.prev;var h,c=i,l=i.x,p=i.y,u=1/0;for(o=i.next;o!==c;)n>=o.x&&o.x>=l&&_(p>r?n:s,r,l,p,p>r?s:n,r,o.x,o.y)&&(h=Math.abs(r-o.y)/(n-o.x),(u>h||h===u&&o.x>i.x)&&T(o,e)&&(i=o,u=h)),o=o.next;return i}function f(e,t,i,o){var n=e;do null===n.z&&(n.z=v(n.x,n.y,t,i,o)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,m(n)}function m(e){var t,i,o,n,r,s,a,h,c=1;do{for(i=e,e=null,r=null,s=0;i;){for(s++,o=i,a=0,t=0;c>t&&(a++,o=o.nextZ);t++);for(h=c;a>0||h>0&&o;)0===a?(n=o,o=o.nextZ,h--):0!==h&&o?i.z<=o.z?(n=i,i=i.nextZ,a--):(n=o,o=o.nextZ,h--):(n=i,i=i.nextZ,a--),r?r.nextZ=n:e=n,n.prevZ=r,r=n;i=o}r.nextZ=null,c*=2}while(s>1);return e}function v(e,t,i,o,n){return e=32767*(e-i)/n,t=32767*(t-o)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function y(e){var t=e,i=e;do t.x<i.x&&(i=t),t=t.next;while(t!==e);return i}function _(e,t,i,o,n,r,s,a){return(n-s)*(t-a)-(e-s)*(r-a)>=0&&(e-s)*(o-a)-(i-s)*(t-a)>=0&&(i-s)*(r-a)-(n-s)*(o-a)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!S(e,t)&&T(e,t)&&T(t,e)&&C(e,t)}function w(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function k(e,t,i,o){return b(e,t)&&b(i,o)||b(e,o)&&b(i,t)?!0:w(e,t,i)>0!=w(e,t,o)>0&&w(i,o,e)>0!=w(i,o,t)>0}function S(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&k(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function T(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function C(e,t){var i=e,o=!1,n=(e.x+t.x)/2,r=(e.y+t.y)/2;do i.y>r!=i.next.y>r&&n<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(o=!o),i=i.next;while(i!==e);return o}function M(e,t){var i=new I(e.i,e.x,e.y),o=new I(t.i,t.x,t.y),n=e.next,r=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,o.next=i,i.prev=o,r.next=o,o.prev=r,o}function P(e,t,i,o){var n=new I(e,t,i);return o?(n.next=o.next,n.prev=o,o.next.prev=n,o.next=n):(n.prev=n,n.next=n),n}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function I(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F(e,t,i,o){for(var n=0,r=t,s=i-o;i>r;r+=o)n+=(e[s]-e[r])*(e[r+1]+e[s+1]),s=r;return n}t.exports=o,o.deviation=function(e,t,i,o){var n=t&&t.length,r=n?t[0]*i:e.length,s=Math.abs(F(e,0,r,i));if(n)for(var a=0,h=t.length;h>a;a++){var c=t[a]*i,l=h-1>a?t[a+1]*i:e.length;s-=Math.abs(F(e,c,l,i))}var p=0;for(a=0;a<o.length;a+=3){var u=o[a]*i,d=o[a+1]*i,g=o[a+2]*i;p+=Math.abs((e[u]-e[g])*(e[d+1]-e[u+1])-(e[u]-e[d])*(e[g+1]-e[u+1]))}return 0===s&&0===p?0:Math.abs((p-s)/s)},o.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},o=0,n=0;n<e.length;n++){for(var r=0;r<e[n].length;r++)for(var s=0;t>s;s++)i.vertices.push(e[n][r][s]);n>0&&(o+=e[n-1].length,i.holes.push(o))}return i}},{}],10:[function(e,t,i){function o(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function n(){}var r=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create?"~":!1;n.prototype._events=void 0,n.prototype.eventNames=function(){var e,t=this._events,i=[];if(!t)return i;for(e in t)r.call(t,e)&&i.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},n.prototype.listeners=function(e,t){var i=s?s+e:e,o=this._events&&this._events[i];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var n=0,r=o.length,a=new Array(r);r>n;n++)a[n]=o[n].fn;return a},n.prototype.emit=function(e,t,i,o,n,r){var a=s?s+e:e;if(!this._events||!this._events[a])return!1;var h,c,l=this._events[a],p=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,o),!0;case 5:return l.fn.call(l.context,t,i,o,n),!0;case 6:return l.fn.call(l.context,t,i,o,n,r),!0}for(c=1,h=new Array(p-1);p>c;c++)h[c-1]=arguments[c];l.fn.apply(l.context,h)}else{var u,d=l.length;for(c=0;d>c;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,i);break;default:if(!h)for(u=1,h=new Array(p-1);p>u;u++)h[u-1]=arguments[u];l[c].fn.apply(l[c].context,h)}}return!0},n.prototype.on=function(e,t,i){var n=new o(t,i||this),r=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):this._events[r]=n,this},n.prototype.once=function(e,t,i){var n=new o(t,i||this,!0),r=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):this._events[r]=n,this},n.prototype.removeListener=function(e,t,i,o){var n=s?s+e:e;if(!this._events||!this._events[n])return this;var r=this._events[n],a=[];if(t)if(r.fn)(r.fn!==t||o&&!r.once||i&&r.context!==i)&&a.push(r);else for(var h=0,c=r.length;c>h;h++)(r[h].fn!==t||o&&!r[h].once||i&&r[h].context!==i)&&a.push(r[h]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this},n.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[s?s+e:e]:this._events=s?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=s,"undefined"!=typeof t&&(t.exports=n)},{}],11:[function(e,t,i){function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var i,s,a=o(e),h=1;h<arguments.length;h++){i=Object(arguments[h]);for(var c in i)n.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(i);for(var l=0;l<s.length;l++)r.call(i,s[l])&&(a[s[l]]=i[s[l]])}}return a}},{}],12:[function(t,i,o){(function(t){!function(){function o(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(n,arguments)}}var n,r,s={};n=this,null!=n&&(r=n.async),s.noConflict=function(){return n.async=r,s};var a=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===a.call(e)},c=function(e,t){for(var i=0;i<e.length;i+=1)t(e[i],i,e)},l=function(e,t){if(e.map)return e.map(t);var i=[];return c(e,function(e,o,n){i.push(t(e,o,n))}),i},p=function(e,t,i){return e.reduce?e.reduce(t,i):(c(e,function(e,o,n){i=t(i,e,o,n)}),i)},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t};"undefined"!=typeof t&&t.nextTick?(s.nextTick=t.nextTick,"undefined"!=typeof setImmediate?s.setImmediate=function(e){setImmediate(e)}:s.setImmediate=s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(e){setImmediate(e)},s.setImmediate=s.nextTick):(s.nextTick=function(e){setTimeout(e,0)},s.setImmediate=s.nextTick),s.each=function(e,t,i){function n(t){t?(i(t),i=function(){}):(r+=1,r>=e.length&&i())}if(i=i||function(){},!e.length)return i();var r=0;c(e,function(e){t(e,o(n))})},s.forEach=s.each,s.eachSeries=function(e,t,i){if(i=i||function(){},!e.length)return i();var o=0,n=function(){t(e[o],function(t){t?(i(t),i=function(){}):(o+=1,o>=e.length?i():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(e,t,i,o){var n=d(t);n.apply(null,[e,i,o])},s.forEachLimit=s.eachLimit;var d=function(e){return function(t,i,o){if(o=o||function(){},!t.length||0>=e)return o();var n=0,r=0,s=0;!function a(){if(n>=t.length)return o();for(;e>s&&r<t.length;)r+=1,s+=1,i(t[r-1],function(e){e?(o(e),o=function(){}):(n+=1,s-=1,n>=t.length?o():a())})}()}},g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}},f=function(e,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,[d(e)].concat(i))}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}},v=function(e,t,i,o){if(t=l(t,function(e,t){return{index:t,value:e}}),o){var n=[];e(t,function(e,t){i(e.value,function(i,o){n[e.index]=o,t(i)})},function(e){o(e,n)})}else e(t,function(e,t){i(e.value,function(e){t(e)})})};s.map=g(v),s.mapSeries=m(v),s.mapLimit=function(e,t,i,o){return y(t)(e,i,o)};var y=function(e){return f(e,v)};s.reduce=function(e,t,i,o){s.eachSeries(e,function(e,o){i(t,e,function(e,i){t=i,o(e)})},function(e){o(e,t)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(e,t,i,o){var n=l(e,function(e){return e}).reverse();s.reduce(n,t,i,o)},s.foldr=s.reduceRight;var _=function(e,t,i,o){var n=[];t=l(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){i(e.value,function(i){i&&n.push(e),t()})},function(e){o(l(n.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=g(_),s.filterSeries=m(_),s.select=s.filter,s.selectSeries=s.filterSeries;var x=function(e,t,i,o){var n=[];t=l(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){i(e.value,function(i){i||n.push(e),t()})},function(e){o(l(n.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=g(x),s.rejectSeries=m(x);var w=function(e,t,i,o){e(t,function(e,t){i(e,function(i){i?(o(e),o=function(){}):t()})},function(e){o()})};s.detect=g(w),s.detectSeries=m(w),s.some=function(e,t,i){s.each(e,function(e,o){t(e,function(e){e&&(i(!0),i=function(){}),o()})},function(e){i(!1)})},s.any=s.some,s.every=function(e,t,i){s.each(e,function(e,o){t(e,function(e){e||(i(!1),i=function(){}),o()})},function(e){i(!0)})},s.all=s.every,s.sortBy=function(e,t,i){s.map(e,function(e,i){t(e,function(t,o){t?i(t):i(null,{value:e,criteria:o})})},function(e,t){if(e)return i(e);var o=function(e,t){var i=e.criteria,o=t.criteria;return o>i?-1:i>o?1:0};i(null,l(t.sort(o),function(e){return e.value}))})},s.auto=function(e,t){t=t||function(){};var i=u(e),o=i.length;if(!o)return t();var n={},r=[],a=function(e){r.unshift(e)},l=function(e){for(var t=0;t<r.length;t+=1)if(r[t]===e)return void r.splice(t,1)},d=function(){o--,c(r.slice(0),function(e){e()})};a(function(){if(!o){var e=t;t=function(){},e(null,n)}}),c(i,function(i){var o=h(e[i])?e[i]:[e[i]],r=function(e){var o=Array.prototype.slice.call(arguments,1);if(o.length<=1&&(o=o[0]),e){var r={};c(u(n),function(e){r[e]=n[e]}),r[i]=o,t(e,r),t=function(){}}else n[i]=o,s.setImmediate(d)},g=o.slice(0,Math.abs(o.length-1))||[],f=function(){return p(g,function(e,t){return e&&n.hasOwnProperty(t)},!0)&&!n.hasOwnProperty(i)};if(f())o[o.length-1](r,n);else{var m=function(){f()&&(l(m),o[o.length-1](r,n))};a(m)}})},s.retry=function(e,t,i){var o=5,n=[];"function"==typeof e&&(i=t,t=e,e=o),e=parseInt(e,10)||o;var r=function(o,r){for(var a=function(e,t){return function(i){e(function(e,o){i(!e||t,{err:e,result:o})},r)}};e;)n.push(a(t,!(e-=1)));s.series(n,function(e,t){t=t[t.length-1],(o||i)(t.err,t.result)})};return i?r():r},s.waterfall=function(e,t){if(t=t||function(){},!h(e)){var i=new Error("First argument to waterfall must be an array of functions");return t(i)}if(!e.length)return t();var o=function(e){return function(i){if(i)t.apply(null,arguments),t=function(){};else{var n=Array.prototype.slice.call(arguments,1),r=e.next();r?n.push(o(r)):n.push(t),s.setImmediate(function(){e.apply(null,n)})}}};o(s.iterator(e))()};var b=function(e,t,i){if(i=i||function(){},h(t))e.map(t,function(e,t){e&&e(function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),t.call(null,e,i)})},i);else{var o={};e.each(u(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),o[e]=n,i(t)})},function(e){i(e,o)})}};s.parallel=function(e,t){b({map:s.map,each:s.each},e,t)},s.parallelLimit=function(e,t,i){b({map:y(t),each:d(t)},e,i)},s.series=function(e,t){if(t=t||function(){},h(e))s.mapSeries(e,function(e,t){e&&e(function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),t.call(null,e,i)})},t);else{var i={};s.eachSeries(u(e),function(t,o){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,o(e)})},function(e){t(e,i)})}},s.iterator=function(e){var t=function(i){var o=function(){return e.length&&e[i].apply(null,arguments),o.next()};return o.next=function(){return i<e.length-1?t(i+1):null},o};return t(0)},s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var k=function(e,t,i,o){var n=[];e(t,function(e,t){i(e,function(e,i){n=n.concat(i||[]),t(e)})},function(e){o(e,n)})};s.concat=g(k),s.concatSeries=m(k),s.whilst=function(e,t,i){e()?t(function(o){return o?i(o):void s.whilst(e,t,i)}):i()},s.doWhilst=function(e,t,i){e(function(o){if(o)return i(o);var n=Array.prototype.slice.call(arguments,1);t.apply(null,n)?s.doWhilst(e,t,i):i()})},s.until=function(e,t,i){e()?i():t(function(o){return o?i(o):void s.until(e,t,i)})},s.doUntil=function(e,t,i){e(function(o){if(o)return i(o);var n=Array.prototype.slice.call(arguments,1);t.apply(null,n)?i():s.doUntil(e,t,i)})},s.queue=function(e,t){function i(e,t,i,o){return e.started||(e.started=!0),h(t)||(t=[t]),0==t.length?s.setImmediate(function(){e.drain&&e.drain()}):void c(t,function(t){var n={data:t,callback:"function"==typeof o?o:null};i?e.tasks.unshift(n):e.tasks.push(n),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)})}void 0===t&&(t=1);var n=0,r={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){i(r,e,!1,t)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(e,t){i(r,e,!0,t)},process:function(){if(!r.paused&&n<r.concurrency&&r.tasks.length){var t=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),n+=1;var i=function(){n-=1,t.callback&&t.callback.apply(t,arguments),r.drain&&r.tasks.length+n===0&&r.drain(),r.process()},s=o(i);e(t.data,s)}},length:function(){return r.tasks.length},running:function(){return n},idle:function(){return r.tasks.length+n===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var e=1;e<=r.concurrency;e++)s.setImmediate(r.process)}}};return r},s.priorityQueue=function(e,t){function i(e,t){return e.priority-t.priority}function o(e,t,i){for(var o=-1,n=e.length-1;n>o;){var r=o+(n-o+1>>>1);i(t,e[r])>=0?o=r:n=r-1}return o}function n(e,t,n,r){return e.started||(e.started=!0),h(t)||(t=[t]),0==t.length?s.setImmediate(function(){e.drain&&e.drain()}):void c(t,function(t){var a={data:t,priority:n,callback:"function"==typeof r?r:null};e.tasks.splice(o(e.tasks,a,i)+1,0,a),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),s.setImmediate(e.process)})}var r=s.queue(e,t);return r.push=function(e,t,i){n(r,e,t,i)},delete r.unshift,r},s.cargo=function(e,t){var i=!1,o=[],n={tasks:o,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,i){h(e)||(e=[e]),c(e,function(e){o.push({data:e,callback:"function"==typeof i?i:null}),n.drained=!1,n.saturated&&o.length===t&&n.saturated()}),s.setImmediate(n.process)},process:function r(){if(!i){if(0===o.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof t?o.splice(0,t):o.splice(0,o.length),a=l(s,function(e){return e.data});n.empty&&n.empty(),i=!0,e(a,function(){i=!1;var e=arguments;c(s,function(t){t.callback&&t.callback.apply(null,e)}),r()})}},length:function(){return o.length},running:function(){return i}};return n};var S=function(e){return function(t){var i=Array.prototype.slice.call(arguments,1);t.apply(null,i.concat([function(t){var i=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&void 0:console[e]&&c(i,function(e){}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(e,t){var i={},o={};t=t||function(e){return e};var n=function(){var n=Array.prototype.slice.call(arguments),r=n.pop(),a=t.apply(null,n);a in i?s.nextTick(function(){r.apply(null,i[a])}):a in o?o[a].push(r):(o[a]=[r],e.apply(null,n.concat([function(){i[a]=arguments;var e=o[a];delete o[a];for(var t=0,n=e.length;n>t;t++)e[t].apply(null,arguments)}])))};return n.memo=i,n.unmemoized=e,n},s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},s.times=function(e,t,i){for(var o=[],n=0;e>n;n++)o.push(n);return s.map(o,t,i)},s.timesSeries=function(e,t,i){for(var o=[],n=0;e>n;n++)o.push(n);return s.mapSeries(o,t,i)},s.seq=function(){var e=arguments;return function(){var t=this,i=Array.prototype.slice.call(arguments),o=i.pop();s.reduce(e,i,function(e,i,o){i.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);o(e,t)}]))},function(e,i){o.apply(t,[e].concat(i))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(e,t){var i=function(){var i=this,o=Array.prototype.slice.call(arguments),n=o.pop();return e(t,function(e,t){e.apply(i,o.concat([t]))},n)};if(arguments.length>2){var o=Array.prototype.slice.call(arguments,2);return i.apply(this,o)}return i};s.applyEach=g(T),s.applyEachSeries=m(T),s.forever=function(e,t){function i(o){if(o){if(t)return t(o);throw o}e(i)}i()},"undefined"!=typeof i&&i.exports?i.exports=s:"undefined"!=typeof e&&e.amd?e([],function(){return s}):n.async=s}()}).call(this,t("_process"))},{_process:3}],13:[function(e,t,i){function o(e,t){a.call(this),t=t||10,this.baseUrl=e||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=n.queue(this._boundLoadResource,t),this.resources={}}var n=e("async"),r=e("url"),s=e("./Resource"),a=e("eventemitter3");o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.add=o.prototype.enqueue=function(e,t,i,o){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(o=t||e.callback||e.onComplete,i=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(o=i,i=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(o=i,i=null),this.resources[e])throw new Error('Resource with name "'+e+'" already exists.');return t=this._handleBaseUrl(t),this.resources[e]=new s(e,t,i),"function"==typeof o&&this.resources[e].once("afterMiddleware",o),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[e]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[e]),this._progressChunk=100/this._buffer.length),this},o.prototype._handleBaseUrl=function(e){var t=r.parse(e);return t.protocol||0===t.pathname.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e},o.prototype.before=o.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},o.prototype.after=o.prototype.use=function(e){return this._afterMiddleware.push(e),this},o.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},o.prototype.load=function(e){if("function"==typeof e&&this.once("complete",e),this._queue.started)return this;this.emit("start",this);for(var t=0;t<this._buffer.length;++t)this._queue.push(this._buffer[t]);return this._buffer.length=0,this},o.prototype._loadResource=function(e,t){var i=this;e._dequeue=t,this._runMiddleware(e,this._beforeMiddleware,function(){e.load(i._boundOnLoad)})},o.prototype._onComplete=function(){this.emit("complete",this,this.resources)},o.prototype._onLoad=function(e){this.progress+=this._progressChunk,this.emit("progress",this,e),this._runMiddleware(e,this._afterMiddleware,function(){e.emit("afterMiddleware",e),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),e.error?this.emit("error",e.error,this,e):this.emit("load",this,e)}),e._dequeue()},o.prototype._runMiddleware=function(e,t,i){var o=this;n.eachSeries(t,function(t,i){t.call(o,e,i)},i.bind(this,e))},o.LOAD_TYPE=s.LOAD_TYPE,o.XHR_READY_STATE=s.XHR_READY_STATE,o.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":14,async:12,eventemitter3:10,url:8}],14:[function(e,t,i){function o(e,t,i){if(s.call(this),i=i||{},"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");this.name=e,this.url=t,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(e){return e.toString().replace("object ","")}function r(e,t,i){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=i)}var s=e("eventemitter3"),a=e("url"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),
this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},o.prototype.load=function(e){switch(this.emit("start",this),e&&this.once("complete",e),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this._loadImage();break;case o.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case o.LOAD_TYPE.VIDEO:this._loadElement("video");break;case o.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},o.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},o.prototype._loadElement=function(e){if("audio"===e&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)return this.error=new Error("Unsupported element "+e),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this["is"+e[0].toUpperCase()+e.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},o.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=o.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},o.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){e.send()},0)},o.prototype._createSource=function(e,t,i){i||(i=e+"/"+t.substr(t.lastIndexOf(".")+1));var o=document.createElement("source");return o.src=t,o.type=i,o},o.prototype._onError=function(e){this.error=new Error("Failed to load element using "+e.target.nodeName),this.complete()},o.prototype._onProgress=function(e){e&&e.lengthComputable&&this.emit("progress",this,e.loaded/e.total)},o.prototype._xhrOnError=function(){this.error=new Error(n(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},o.prototype._xhrOnAbort=function(){this.error=new Error(n(this.xhr)+" Request was aborted by the user."),this.complete()},o.prototype._xdrOnTimeout=function(){this.error=new Error(n(this.xhr)+" Request timed out."),this.complete()},o.prototype._xhrOnLoad=function(){var e=this.xhr,t=void 0!==e.status?e.status:200;if(200===t||204===t||0===t&&e.responseText.length>0)if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.isJson=!0}catch(i){this.error=new Error("Error trying to parse loaded json:",i)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(e.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=e.responseText,this.data=r}this.isXml=!0}catch(i){this.error=new Error("Error trying to parse loaded xml:",i)}else this.data=e.response||e.responseText;else this.error=new Error("["+e.status+"]"+e.statusText+":"+e.responseURL);this.complete()},o.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,c||(c=document.createElement("a")),c.href=e,e=a.parse(c.href);var i=!e.port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&i&&e.protocol===t.protocol?"":"anonymous"},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this._getExtension()]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this._getExtension()]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(){var e,t=this.url;if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var o=t.indexOf("?");-1!==o&&(t=t.substring(0,o)),e=t.substring(t.lastIndexOf(".")+1)}return e},o.prototype._getMimeFromXhrType=function(e){switch(e){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},o.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},o.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},o._loadTypeMap={gif:o.LOAD_TYPE.IMAGE,png:o.LOAD_TYPE.IMAGE,bmp:o.LOAD_TYPE.IMAGE,jpg:o.LOAD_TYPE.IMAGE,jpeg:o.LOAD_TYPE.IMAGE,tif:o.LOAD_TYPE.IMAGE,tiff:o.LOAD_TYPE.IMAGE,webp:o.LOAD_TYPE.IMAGE,tga:o.LOAD_TYPE.IMAGE},o._xhrTypeMap={xhtml:o.XHR_RESPONSE_TYPE.DOCUMENT,html:o.XHR_RESPONSE_TYPE.DOCUMENT,htm:o.XHR_RESPONSE_TYPE.DOCUMENT,xml:o.XHR_RESPONSE_TYPE.DOCUMENT,tmx:o.XHR_RESPONSE_TYPE.DOCUMENT,tsx:o.XHR_RESPONSE_TYPE.DOCUMENT,svg:o.XHR_RESPONSE_TYPE.DOCUMENT,gif:o.XHR_RESPONSE_TYPE.BLOB,png:o.XHR_RESPONSE_TYPE.BLOB,bmp:o.XHR_RESPONSE_TYPE.BLOB,jpg:o.XHR_RESPONSE_TYPE.BLOB,jpeg:o.XHR_RESPONSE_TYPE.BLOB,tif:o.XHR_RESPONSE_TYPE.BLOB,tiff:o.XHR_RESPONSE_TYPE.BLOB,webp:o.XHR_RESPONSE_TYPE.BLOB,tga:o.XHR_RESPONSE_TYPE.BLOB,json:o.XHR_RESPONSE_TYPE.JSON,text:o.XHR_RESPONSE_TYPE.TEXT,txt:o.XHR_RESPONSE_TYPE.TEXT},o.setExtensionLoadType=function(e,t){r(o._loadTypeMap,e,t)},o.setExtensionXhrType=function(e,t){r(o._xhrTypeMap,e,t)}},{eventemitter3:10,url:8}],15:[function(e,t,i){t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(e){for(var t,i="",o=new Array(4),n=0,r=0,s=0;n<e.length;){for(t=new Array(3),r=0;r<t.length;r++)n<e.length?t[r]=255&e.charCodeAt(n++):t[r]=0;switch(o[0]=t[0]>>2,o[1]=(3&t[0])<<4|t[1]>>4,o[2]=(15&t[1])<<2|t[2]>>6,o[3]=63&t[2],s=n-(e.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(r=0;r<o.length;r++)i+=this._keyStr.charAt(o[r])}return i}}},{}],16:[function(e,t,i){t.exports=e("./Loader"),t.exports.Resource=e("./Resource"),t.exports.middleware={caching:{memory:e("./middlewares/caching/memory")},parsing:{blob:e("./middlewares/parsing/blob")}}},{"./Loader":13,"./Resource":14,"./middlewares/caching/memory":17,"./middlewares/parsing/blob":18}],17:[function(e,t,i){var o={};t.exports=function(){return function(e,t){o[e.url]?(e.data=o[e.url],e.complete()):e.once("complete",function(){o[this.url]=this.data}),t()}}},{}],18:[function(e,t,i){var o=e("../../Resource"),n=e("../../b64");window.URL=window.URL||window.webkitURL,t.exports=function(){return function(e,t){if(!e.data)return t();if(e.xhr&&e.xhrType===o.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var i=URL.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=i,e.isImage=!0,e.data.onload=function(){URL.revokeObjectURL(i),e.data.onload=null,t()}}}else{var r=e.xhr.getResponseHeader("content-type");r&&0===r.indexOf("image")&&(e.data=new Image,e.data.src="data:"+r+";base64,"+n.encodeBinary(e.xhr.responseText),e.isImage=!0,e.data.onload=function(){e.data.onload=null,t()})}else t()}}},{"../../Resource":14,"../../b64":15}],19:[function(e,t,i){function o(e){var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.zIndex=2,this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var n=e("../core");Object.assign(n.DisplayObject.prototype,e("./accessibleTarget")),o.prototype.constructor=o,t.exports=o,o.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},o.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},o.prototype.updateAccessibleObjects=function(e){if(e.visible&&(e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId),e.interactiveChildren))for(var t=e.children,i=t.length-1;i>=0;i--)this.updateAccessibleObjects(t[i])},o.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,i=e.height/this.renderer.height,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var s=this.children[r];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,r,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{o=s._accessibleDiv;var a=s.hitArea,h=s.worldTransform;s.hitArea?(o.style.left=(h.tx+a.x*h.a)*t+"px",o.style.top=(h.ty+a.y*h.d)*i+"px",o.style.width=a.width*h.a*t+"px",o.style.height=a.height*h.d*i+"px"):(a=s.getBounds(),this.capHitArea(a),o.style.left=a.x*t+"px",o.style.top=a.y*i+"px",o.style.width=a.width*t+"px",o.style.height=a.height*i+"px")}}this.renderId++},o.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},o.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2,t.style.borderStyle="none",t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.title=e.accessibleTitle||"displayObject "+this.tabIndex,e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},o.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},o.prototype._onFocus=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},o.prototype._onFocusOut=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},o.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},o.prototype._onMouseMove=function(){this.deactivate()},o.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n.WebGLRenderer.registerPlugin("accessibility",o),n.CanvasRenderer.registerPlugin("accessibility",o)},{"../core":29,"./accessibleTarget":20}],20:[function(e,t,i){var o={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};t.exports=o},{}],21:[function(e,t,i){t.exports={accessibleTarget:e("./accessibleTarget"),AccessibilityManager:e("./AccessibilityManager")}},{"./AccessibilityManager":19,"./accessibleTarget":20}],22:[function(e,t,i){var o={VERSION:"3.0.11",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};t.exports=o},{}],23:[function(e,t,i){function o(){s.call(this),this.children=[]}var n=e("../math"),r=e("../utils"),s=e("./DisplayObject"),a=e("../textures/RenderTexture"),h=new n.Matrix;o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}}}),o.prototype.onChildrenChange=function(){},o.prototype.addChild=function(e){var t=arguments.length;if(t>1)for(var i=0;t>i;i++)this.addChild(arguments[i]);else e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},o.prototype.addChildAt=function(e,t){if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.onChildrenChange(t),e.emit("added",this),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},o.prototype.swapChildren=function(e,t){if(e!==t){var i=this.getChildIndex(e),o=this.getChildIndex(t);if(0>i||0>o)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[i]=t,this.children[o]=e,this.onChildrenChange(o>i?i:o)}},o.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},o.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(e);r.removeItems(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)},o.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[e]},o.prototype.removeChild=function(e){var t=arguments.length;if(t>1)for(var i=0;t>i;i++)this.removeChild(arguments[i]);else{var o=this.children.indexOf(e);if(-1===o)return;e.parent=null,r.removeItems(this.children,o,1),this.onChildrenChange(o),e.emit("removed",this)}return e},o.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,r.removeItems(this.children,e,1),this.onChildrenChange(e),t.emit("removed",this),t},o.prototype.removeChildren=function(e,t){var i,o,n=e||0,r="number"==typeof t?t:this.children.length,s=r-n;if(s>0&&r>=s){for(i=this.children.splice(n,s),o=0;o<i.length;++o)i[o].parent=null;for(this.onChildrenChange(e),o=0;o<i.length;++o)i[o].emit("removed",this);return i}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},o.prototype.generateTexture=function(e,t,i){var o=this.getLocalBounds(),n=new a(e,0|o.width,0|o.height,i,t);return h.tx=-o.x,h.ty=-o.y,n.render(this,h),n},o.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var e=0,t=this.children.length;t>e;++e)this.children[e].updateTransform()}},o.prototype.containerUpdateTransform=o.prototype.updateTransform,o.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var e,t,i,o=1/0,r=1/0,s=-(1/0),a=-(1/0),h=!1,c=0,l=this.children.length;l>c;++c){var p=this.children[c];p.visible&&(h=!0,e=this.children[c].getBounds(),o=o<e.x?o:e.x,r=r<e.y?r:e.y,t=e.width+e.x,i=e.height+e.y,s=s>t?s:t,a=a>i?a:i)}if(!h)return n.Rectangle.EMPTY;var u=this._bounds;u.x=o,u.y=r,u.width=s-o,u.height=a-r,this._currentBounds=u}return this._currentBounds},o.prototype.containerGetBounds=o.prototype.getBounds,o.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var t=0,i=this.children.length;i>t;++t)this.children[t].updateTransform();return this.worldTransform=e,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},o.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t,i;if(this._mask||this._filters){for(e.currentRenderer.flush(),this._filters&&this._filters.length&&e.filterManager.pushFilter(this,this._filters),this._mask&&e.maskManager.pushMask(this,this._mask),e.currentRenderer.start(),this._renderWebGL(e),t=0,i=this.children.length;i>t;t++)this.children[t].renderWebGL(e);e.currentRenderer.flush(),this._mask&&e.maskManager.popMask(this,this._mask),this._filters&&e.filterManager.popFilter(),e.currentRenderer.start()}else for(this._renderWebGL(e),t=0,i=this.children.length;i>t;++t)this.children[t].renderWebGL(e)}},o.prototype._renderWebGL=function(e){},o.prototype._renderCanvas=function(e){},o.prototype.renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask,e),this._renderCanvas(e);for(var t=0,i=this.children.length;i>t;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},o.prototype.destroy=function(e){if(s.prototype.destroy.call(this),e)for(var t=0,i=this.children.length;i>t;++t)this.children[t].destroy(e);this.removeChildren(),this.children=null}},{"../math":33,"../textures/RenderTexture":71,"../utils":77,"./DisplayObject":24}],24:[function(e,t,i){function o(){s.call(this),this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.skew=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new n.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var n=e("../math"),r=e("../textures/RenderTexture"),s=e("eventemitter3"),a=e("../const"),h=new n.Matrix,c={worldTransform:new n.Matrix,worldAlpha:1,children:[]};o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}}),o.prototype.updateTransform=function(){var e,t,i,o,n,r,s=this.parent.worldTransform,c=this.worldTransform;this.skew.x||this.skew.y?(h.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),c.a=h.a*s.a+h.b*s.c,c.b=h.a*s.b+h.b*s.d,c.c=h.c*s.a+h.d*s.c,c.d=h.c*s.b+h.d*s.d,c.tx=h.tx*s.a+h.ty*s.c+s.tx,c.ty=h.tx*s.b+h.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,t=this._sr*this.scale.x,i=-this._sr*this.scale.y,o=this._cr*this.scale.y,n=this.position.x,r=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*e+this.pivot.y*i,r-=this.pivot.x*t+this.pivot.y*o),c.a=e*s.a+t*s.c,c.b=e*s.b+t*s.d,c.c=i*s.a+o*s.c,c.d=i*s.b+o*s.d,c.tx=n*s.a+r*s.c+s.tx,c.ty=n*s.b+r*s.d+s.ty):(e=this.scale.x,o=this.scale.y,n=this.position.x-this.pivot.x*e,r=this.position.y-this.pivot.y*o,c.a=e*s.a,c.b=e*s.b,c.c=o*s.c,c.d=o*s.d,c.tx=n*s.a+r*s.c+s.tx,c.ty=n*s.b+r*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},o.prototype.displayObjectUpdateTransform=o.prototype.updateTransform,o.prototype.getBounds=function(e){return n.Rectangle.EMPTY},o.prototype.getLocalBounds=function(){return this.getBounds(n.Matrix.IDENTITY)},o.prototype.toGlobal=function(e){return this.parent?this.displayObjectUpdateTransform():(this.parent=c,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(e)},o.prototype.toLocal=function(e,t,i){return t&&(e=t.toGlobal(e)),this.parent?this.displayObjectUpdateTransform():(this.parent=c,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(e,i)},o.prototype.renderWebGL=function(e){},o.prototype.renderCanvas=function(e){},o.prototype.generateTexture=function(e,t,i){var o=this.getLocalBounds(),n=new r(e,0|o.width,0|o.height,t,i);return h.tx=-o.x,h.ty=-o.y,n.render(this,h),n},o.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},o.prototype.setTransform=function(e,t,i,o,n,r,s,a,h){return this.position.x=e||0,this.position.y=t||0,this.scale.x=i?i:1,this.scale.y=o?o:1,this.rotation=n||0,this.skew.x=r||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=h||0,this},o.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":33,"../textures/RenderTexture":71,eventemitter3:10}],25:[function(e,t,i){function o(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new c.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=e("../display/Container"),r=e("../textures/Texture"),s=e("../renderers/canvas/utils/CanvasBuffer"),a=e("../renderers/canvas/utils/CanvasGraphics"),h=e("./GraphicsData"),c=e("../math"),l=e("../const"),p=new c.Point;o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){var e=new o;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=!0,e.glDirty=!0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var t=0;t<this.graphicsData.length;++t)e.graphicsData.push(this.graphicsData[t].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},o.prototype.lineStyle=function(e,t,i){if(this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=void 0===i?1:i,this.currentPath)if(this.currentPath.shape.points.length){var o=new c.Polygon(this.currentPath.shape.points.slice(-2));o.closed=!1,this.drawShape(o)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},o.prototype.moveTo=function(e,t){var i=new c.Polygon([e,t]);return i.closed=!1,this.drawShape(i),this},o.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty=!0,this},o.prototype.quadraticCurveTo=function(e,t,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,r,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],c=a[a.length-1],l=0,p=1;s>=p;++p)l=p/s,n=h+(e-h)*l,r=c+(t-c)*l,a.push(n+(e+(i-e)*l-n)*l,r+(t+(o-t)*l-r)*l);return this.dirty=this.boundsDirty=!0,this},o.prototype.bezierCurveTo=function(e,t,i,o,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,c,l,p=20,u=this.currentPath.shape.points,d=u[u.length-2],g=u[u.length-1],f=0,m=1;p>=m;++m)f=m/p,s=1-f,a=s*s,h=a*s,c=f*f,l=c*f,u.push(h*d+3*a*f*e+3*s*c*i+l*n,h*g+3*a*f*t+3*s*c*o+l*r);return this.dirty=this.boundsDirty=!0,this},o.prototype.arcTo=function(e,t,i,o,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var r=this.currentPath.shape.points,s=r[r.length-2],a=r[r.length-1],h=a-t,c=s-e,l=o-t,p=i-e,u=Math.abs(h*p-c*l);if(1e-8>u||0===n)r[r.length-2]===e&&r[r.length-1]===t||r.push(e,t);else{var d=h*h+c*c,g=l*l+p*p,f=h*l+c*p,m=n*Math.sqrt(d)/u,v=n*Math.sqrt(g)/u,y=m*f/d,_=v*f/g,x=m*p+v*c,w=m*l+v*h,b=c*(v+y),k=h*(v+y),S=p*(m+_),T=l*(m+_),C=Math.atan2(k-w,b-x),M=Math.atan2(T-w,S-x);this.arc(x+e,w+t,n,C,M,c*l>p*h)}return this.dirty=this.boundsDirty=!0,this},o.prototype.arc=function(e,t,i,o,n,r){if(r=r||!1,o===n)return this;!r&&o>=n?n+=2*Math.PI:r&&n>=o&&(o+=2*Math.PI);var s=r?-1*(o-n):n-o,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var h=e+Math.cos(o)*i,c=t+Math.sin(o)*i;this.currentPath?this.currentPath.shape.points.push(h,c):this.moveTo(h,c);for(var l=this.currentPath.shape.points,p=s/(2*a),u=2*p,d=Math.cos(p),g=Math.sin(p),f=a-1,m=f%1/f,v=0;f>=v;v++){var y=v+m*v,_=p+o+u*y,x=Math.cos(_),w=-Math.sin(_);l.push((d*x+g*w)*i+e,(d*-w+g*x)*i+t)}return this.dirty=this.boundsDirty=!0,this},o.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},o.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},o.prototype.drawRect=function(e,t,i,o){return this.drawShape(new c.Rectangle(e,t,i,o)),this},o.prototype.drawRoundedRect=function(e,t,i,o,n){return this.drawShape(new c.RoundedRectangle(e,t,i,o,n)),this},o.prototype.drawCircle=function(e,t,i){return this.drawShape(new c.Circle(e,t,i)),this},o.prototype.drawEllipse=function(e,t,i,o){return this.drawShape(new c.Ellipse(e,t,i,o)),this},o.prototype.drawPolygon=function(e){var t=e,i=!0;if(t instanceof c.Polygon&&(i=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var o=0;o<t.length;++o)t[o]=arguments[o]}var n=new c.Polygon(t);return n.closed=i,this.drawShape(n),this},o.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},o.prototype.generateTexture=function(e,t,i){t=t||1;var o=this.getLocalBounds(),n=new s(o.width*t,o.height*t),h=r.fromCanvas(n.canvas,i);return h.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-o.x,-o.y),a.renderGraphics(this,n.context),h},o.prototype._renderWebGL=function(e){this.glDirty&&(this.dirty=!0,this.glDirty=!1),e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this)},o.prototype._renderCanvas=function(e){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var t=e.context,i=this.worldTransform,o=e.blendModes[this.blendMode];o!==t.globalCompositeOperation&&(t.globalCompositeOperation=o);var n=e.resolution;t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),a.renderGraphics(this,t)}},o.prototype.getBounds=function(e){if(!this._currentBounds){if(!this.renderable)return c.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var t=this._localBounds,i=t.x,o=t.width+t.x,n=t.y,r=t.height+t.y,s=e||this.worldTransform,a=s.a,h=s.b,l=s.c,p=s.d,u=s.tx,d=s.ty,g=a*o+l*r+u,f=p*r+h*o+d,m=a*i+l*r+u,v=p*r+h*i+d,y=a*i+l*n+u,_=p*n+h*i+d,x=a*o+l*n+u,w=p*n+h*o+d,b=g,k=f,S=g,T=f;S=S>m?m:S,S=S>y?y:S,S=S>x?x:S,T=T>v?v:T,T=T>_?_:T,T=T>w?w:T,b=m>b?m:b,b=y>b?y:b,b=x>b?x:b,k=v>k?v:k,k=_>k?_:k,k=w>k?w:k,this._bounds.x=S,this._bounds.width=b-S,this._bounds.y=T,this._bounds.height=k-T,this._currentBounds=this._bounds}return this._currentBounds},o.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);for(var t=this.graphicsData,i=0;i<t.length;i++){var o=t[i];if(o.fill&&o.shape&&o.shape.contains(p.x,p.y))return!0}return!1},o.prototype.updateLocalBounds=function(){var e=1/0,t=-(1/0),i=1/0,o=-(1/0);if(this.graphicsData.length)for(var n,r,s,a,h,c,p=0;p<this.graphicsData.length;p++){var u=this.graphicsData[p],d=u.type,g=u.lineWidth;if(n=u.shape,d===l.SHAPES.RECT||d===l.SHAPES.RREC)s=n.x-g/2,a=n.y-g/2,h=n.width+g,c=n.height+g,e=e>s?s:e,t=s+h>t?s+h:t,i=i>a?a:i,o=a+c>o?a+c:o;else if(d===l.SHAPES.CIRC)s=n.x,a=n.y,h=n.radius+g/2,c=n.radius+g/2,e=e>s-h?s-h:e,t=s+h>t?s+h:t,i=i>a-c?a-c:i,o=a+c>o?a+c:o;else if(d===l.SHAPES.ELIP)s=n.x,a=n.y,h=n.width+g/2,c=n.height+g/2,e=e>s-h?s-h:e,t=s+h>t?s+h:t,i=i>a-c?a-c:i,o=a+c>o?a+c:o;else{r=n.points;for(var f=0;f<r.length;f+=2)s=r[f],a=r[f+1],e=e>s-g?s-g:e,t=s+g>t?s+g:t,i=i>a-g?a-g:i,o=a+g>o?a+g:o}}else e=0,t=0,i=0,o=0;var m=this.boundsPadding;this._localBounds.x=e-m,this._localBounds.width=t-e+2*m,this._localBounds.y=i-m,this._localBounds.height=o-i+2*m},o.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===l.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty=this.boundsDirty=!0,t},o.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var t in this._webgl)for(var i=0;i<this._webgl[t].data.length;++i)this._webgl[t].data[i].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/canvas/utils/CanvasGraphics":46,"../textures/Texture":72,"./GraphicsData":26}],26:[function(e,t,i){function o(e,t,i,o,n,r,s){this.lineWidth=e,this.lineColor=t,this.lineAlpha=i,this._lineTint=t,this.fillColor=o,this.fillAlpha=n,this._fillTint=o,this.fill=r,this.shape=s,this.type=s.type}o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape);
},o.prototype.destroy=function(){this.shape=null}},{}],27:[function(e,t,i){function o(e){a.call(this,e),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=e("../../utils"),r=e("../../math"),s=e("../../const"),a=e("../../renderers/webgl/utils/ObjectRenderer"),h=e("../../renderers/webgl/WebGLRenderer"),c=e("./WebGLGraphicsData"),l=e("earcut");o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.exports=o,h.registerPlugin("graphics",o),o.prototype.onContextChange=function(){},o.prototype.destroy=function(){a.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},o.prototype.render=function(e){var t,i=this.renderer,o=i.gl,r=i.shaderManager.plugins.primitiveShader;!e.dirty&&e._webGL[o.id]||this.updateGraphics(e);var s=e._webGL[o.id];i.blendModeManager.setBlendMode(e.blendMode);for(var a=0,h=s.data.length;h>a;a++)t=s.data[a],1===s.data[a].mode?(i.stencilManager.pushStencil(e,t),o.uniform1f(i.shaderManager.complexPrimitiveShader.uniforms.alpha._location,e.worldAlpha*t.alpha),o.drawElements(o.TRIANGLE_FAN,4,o.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilManager.popStencil(e,t)):(r=i.shaderManager.primitiveShader,i.shaderManager.setShader(r),o.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),o.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,i.currentRenderTarget.projectionMatrix.toArray(!0)),o.uniform3fv(r.uniforms.tint._location,n.hex2rgb(e.tint)),o.uniform1f(r.uniforms.alpha._location,e.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,t.buffer),o.vertexAttribPointer(r.attributes.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(r.attributes.aColor,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,t.indexBuffer),o.drawElements(o.TRIANGLE_STRIP,t.indices.length,o.UNSIGNED_SHORT,0)),i.drawCount++},o.prototype.updateGraphics=function(e){var t=this.renderer.gl,i=e._webGL[t.id];i||(i=e._webGL[t.id]={lastIndex:0,data:[],gl:t}),e.dirty=!1;var o;if(e.clearDirty){for(e.clearDirty=!1,o=0;o<i.data.length;o++){var n=i.data[o];n.reset(),this.graphicsDataPool.push(n)}i.data=[],i.lastIndex=0}var r;for(o=i.lastIndex;o<e.graphicsData.length;o++){var a=e.graphicsData[o];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){r=this.switchMode(i,0);var h=this.buildPoly(a,r);h||(r=this.switchMode(i,1),this.buildComplexPoly(a,r))}else r=this.switchMode(i,1),this.buildComplexPoly(a,r);a.lineWidth>0&&(r=this.switchMode(i,0),this.buildLine(a,r))}else r=this.switchMode(i,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,r):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,r):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,r);i.lastIndex++}for(o=0;o<i.data.length;o++)r=i.data[o],r.dirty&&r.upload()},o.prototype.switchMode=function(e,t){var i;return e.data.length?(i=e.data[e.data.length-1],(i.points.length>32e4||i.mode!==t||1===t)&&(i=this.graphicsDataPool.pop()||new c(e.gl),i.mode=t,e.data.push(i))):(i=this.graphicsDataPool.pop()||new c(e.gl),i.mode=t,e.data.push(i)),i.dirty=!0,i},o.prototype.buildRectangle=function(e,t){var i=e.shape,o=i.x,r=i.y,s=i.width,a=i.height;if(e.fill){var h=n.hex2rgb(e.fillColor),c=e.fillAlpha,l=h[0]*c,p=h[1]*c,u=h[2]*c,d=t.points,g=t.indices,f=d.length/6;d.push(o,r),d.push(l,p,u,c),d.push(o+s,r),d.push(l,p,u,c),d.push(o,r+a),d.push(l,p,u,c),d.push(o+s,r+a),d.push(l,p,u,c),g.push(f,f,f+1,f+2,f+3,f+3)}if(e.lineWidth){var m=e.points;e.points=[o,r,o+s,r,o+s,r+a,o,r+a,o,r],this.buildLine(e,t),e.points=m}},o.prototype.buildRoundedRectangle=function(e,t){var i=e.shape,o=i.x,r=i.y,s=i.width,a=i.height,h=i.radius,c=[];if(c.push(o,r+h),this.quadraticBezierCurve(o,r+a-h,o,r+a,o+h,r+a,c),this.quadraticBezierCurve(o+s-h,r+a,o+s,r+a,o+s,r+a-h,c),this.quadraticBezierCurve(o+s,r+h,o+s,r,o+s-h,r,c),this.quadraticBezierCurve(o+h,r,o,r,o,r+h+1e-10,c),e.fill){var p=n.hex2rgb(e.fillColor),u=e.fillAlpha,d=p[0]*u,g=p[1]*u,f=p[2]*u,m=t.points,v=t.indices,y=m.length/6,_=l(c,null,2),x=0;for(x=0;x<_.length;x+=3)v.push(_[x]+y),v.push(_[x]+y),v.push(_[x+1]+y),v.push(_[x+2]+y),v.push(_[x+2]+y);for(x=0;x<c.length;x++)m.push(c[x],c[++x],d,g,f,u)}if(e.lineWidth){var w=e.points;e.points=c,this.buildLine(e,t),e.points=w}},o.prototype.quadraticBezierCurve=function(e,t,i,o,n,r,s){function a(e,t,i){var o=t-e;return e+o*i}for(var h,c,l,p,u,d,g=20,f=s||[],m=0,v=0;g>=v;v++)m=v/g,h=a(e,i,m),c=a(t,o,m),l=a(i,n,m),p=a(o,r,m),u=a(h,l,m),d=a(c,p,m),f.push(u,d);return f},o.prototype.buildCircle=function(e,t){var i,o,r=e.shape,a=r.x,h=r.y;e.type===s.SHAPES.CIRC?(i=r.radius,o=r.radius):(i=r.width,o=r.height);var c=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),l=2*Math.PI/c,p=0;if(e.fill){var u=n.hex2rgb(e.fillColor),d=e.fillAlpha,g=u[0]*d,f=u[1]*d,m=u[2]*d,v=t.points,y=t.indices,_=v.length/6;for(y.push(_),p=0;c+1>p;p++)v.push(a,h,g,f,m,d),v.push(a+Math.sin(l*p)*i,h+Math.cos(l*p)*o,g,f,m,d),y.push(_++,_++);y.push(_-1)}if(e.lineWidth){var x=e.points;for(e.points=[],p=0;c+1>p;p++)e.points.push(a+Math.sin(l*p)*i,h+Math.cos(l*p)*o);this.buildLine(e,t),e.points=x}},o.prototype.buildLine=function(e,t){var i=0,o=e.points;if(0!==o.length){var s=new r.Point(o[0],o[1]),a=new r.Point(o[o.length-2],o[o.length-1]);if(s.x===a.x&&s.y===a.y){o=o.slice(),o.pop(),o.pop(),a=new r.Point(o[o.length-2],o[o.length-1]);var h=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);o.unshift(h,c),o.push(h,c)}var l,p,u,d,g,f,m,v,y,_,x,w,b,k,S,T,C,M,P,E,I,F,B,A=t.points,O=t.indices,L=o.length/2,D=o.length,R=A.length/6,G=e.lineWidth/2,W=n.hex2rgb(e.lineColor),N=e.lineAlpha,j=W[0]*N,U=W[1]*N,X=W[2]*N;for(u=o[0],d=o[1],g=o[2],f=o[3],y=-(d-f),_=u-g,B=Math.sqrt(y*y+_*_),y/=B,_/=B,y*=G,_*=G,A.push(u-y,d-_,j,U,X,N),A.push(u+y,d+_,j,U,X,N),i=1;L-1>i;i++)u=o[2*(i-1)],d=o[2*(i-1)+1],g=o[2*i],f=o[2*i+1],m=o[2*(i+1)],v=o[2*(i+1)+1],y=-(d-f),_=u-g,B=Math.sqrt(y*y+_*_),y/=B,_/=B,y*=G,_*=G,x=-(f-v),w=g-m,B=Math.sqrt(x*x+w*w),x/=B,w/=B,x*=G,w*=G,S=-_+d-(-_+f),T=-y+g-(-y+u),C=(-y+u)*(-_+f)-(-y+g)*(-_+d),M=-w+v-(-w+f),P=-x+g-(-x+m),E=(-x+m)*(-w+f)-(-x+g)*(-w+v),I=S*P-M*T,Math.abs(I)<.1?(I+=10.1,A.push(g-y,f-_,j,U,X,N),A.push(g+y,f+_,j,U,X,N)):(l=(T*E-P*C)/I,p=(M*C-S*E)/I,F=(l-g)*(l-g)+(p-f)*(p-f),F>19600?(b=y-x,k=_-w,B=Math.sqrt(b*b+k*k),b/=B,k/=B,b*=G,k*=G,A.push(g-b,f-k),A.push(j,U,X,N),A.push(g+b,f+k),A.push(j,U,X,N),A.push(g-b,f-k),A.push(j,U,X,N),D++):(A.push(l,p),A.push(j,U,X,N),A.push(g-(l-g),f-(p-f)),A.push(j,U,X,N)));for(u=o[2*(L-2)],d=o[2*(L-2)+1],g=o[2*(L-1)],f=o[2*(L-1)+1],y=-(d-f),_=u-g,B=Math.sqrt(y*y+_*_),y/=B,_/=B,y*=G,_*=G,A.push(g-y,f-_),A.push(j,U,X,N),A.push(g+y,f+_),A.push(j,U,X,N),O.push(R),i=0;D>i;i++)O.push(R++);O.push(R-1)}},o.prototype.buildComplexPoly=function(e,t){var i=e.points.slice();if(!(i.length<6)){var o=t.indices;t.points=i,t.alpha=e.fillAlpha,t.color=n.hex2rgb(e.fillColor);for(var r,s,a=1/0,h=-(1/0),c=1/0,l=-(1/0),p=0;p<i.length;p+=2)r=i[p],s=i[p+1],a=a>r?r:a,h=r>h?r:h,c=c>s?s:c,l=s>l?s:l;i.push(a,c,h,c,h,l,a,l);var u=i.length/2;for(p=0;u>p;p++)o.push(p)}},o.prototype.buildPoly=function(e,t){var i=e.points;if(!(i.length<6)){var o=t.points,r=t.indices,s=i.length/2,a=n.hex2rgb(e.fillColor),h=e.fillAlpha,c=a[0]*h,p=a[1]*h,u=a[2]*h,d=l(i,null,2);if(!d)return!1;var g=o.length/6,f=0;for(f=0;f<d.length;f+=3)r.push(d[f]+g),r.push(d[f]+g),r.push(d[f+1]+g),r.push(d[f+2]+g),r.push(d[f+2]+g);for(f=0;s>f;f++)o.push(i[2*f],i[2*f+1],c,p,u,h);return!0}}},{"../../const":22,"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"../../utils":77,"./WebGLGraphicsData":28,earcut:9}],28:[function(e,t,i){function o(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}o.prototype.constructor=o,t.exports=o,o.prototype.reset=function(){this.points.length=0,this.indices.length=0},o.prototype.upload=function(){var e=this.gl;this.glPoints=new Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndices,e.STATIC_DRAW),this.dirty=!1},o.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(e,t,i){var o=t.exports=Object.assign(e("./const"),e("./math"),{utils:e("./utils"),ticker:e("./ticker"),DisplayObject:e("./display/DisplayObject"),Container:e("./display/Container"),Sprite:e("./sprites/Sprite"),ParticleContainer:e("./particles/ParticleContainer"),SpriteRenderer:e("./sprites/webgl/SpriteRenderer"),ParticleRenderer:e("./particles/webgl/ParticleRenderer"),Text:e("./text/Text"),Graphics:e("./graphics/Graphics"),GraphicsData:e("./graphics/GraphicsData"),GraphicsRenderer:e("./graphics/webgl/GraphicsRenderer"),Texture:e("./textures/Texture"),BaseTexture:e("./textures/BaseTexture"),RenderTexture:e("./textures/RenderTexture"),VideoBaseTexture:e("./textures/VideoBaseTexture"),TextureUvs:e("./textures/TextureUvs"),CanvasRenderer:e("./renderers/canvas/CanvasRenderer"),CanvasGraphics:e("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:e("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:e("./renderers/webgl/WebGLRenderer"),WebGLManager:e("./renderers/webgl/managers/WebGLManager"),ShaderManager:e("./renderers/webgl/managers/ShaderManager"),Shader:e("./renderers/webgl/shaders/Shader"),TextureShader:e("./renderers/webgl/shaders/TextureShader"),PrimitiveShader:e("./renderers/webgl/shaders/PrimitiveShader"),ComplexPrimitiveShader:e("./renderers/webgl/shaders/ComplexPrimitiveShader"),ObjectRenderer:e("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:e("./renderers/webgl/utils/RenderTarget"),AbstractFilter:e("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:e("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:e("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(e,t,i,n){return e=e||800,t=t||600,!n&&o.utils.isWebGLSupported()?new o.WebGLRenderer(e,t,i):new o.CanvasRenderer(e,t,i)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":33,"./particles/ParticleContainer":39,"./particles/webgl/ParticleRenderer":41,"./renderers/canvas/CanvasRenderer":44,"./renderers/canvas/utils/CanvasBuffer":45,"./renderers/canvas/utils/CanvasGraphics":46,"./renderers/webgl/WebGLRenderer":49,"./renderers/webgl/filters/AbstractFilter":50,"./renderers/webgl/filters/FXAAFilter":51,"./renderers/webgl/filters/SpriteMaskFilter":52,"./renderers/webgl/managers/ShaderManager":56,"./renderers/webgl/managers/WebGLManager":58,"./renderers/webgl/shaders/ComplexPrimitiveShader":59,"./renderers/webgl/shaders/PrimitiveShader":60,"./renderers/webgl/shaders/Shader":61,"./renderers/webgl/shaders/TextureShader":62,"./renderers/webgl/utils/ObjectRenderer":63,"./renderers/webgl/utils/RenderTarget":65,"./sprites/Sprite":67,"./sprites/webgl/SpriteRenderer":68,"./text/Text":69,"./textures/BaseTexture":70,"./textures/RenderTexture":71,"./textures/Texture":72,"./textures/TextureUvs":73,"./textures/VideoBaseTexture":74,"./ticker":76,"./utils":77}],30:[function(e,t,i){function o(e){return 0>e?-1:e>0?1:0}function n(){for(var e=0;16>e;e++){var t=[];p.push(t);for(var i=0;16>i;i++)for(var n=o(r[e]*r[i]+a[e]*s[i]),u=o(s[e]*r[i]+h[e]*s[i]),d=o(r[e]*a[i]+a[e]*h[i]),g=o(s[e]*a[i]+h[e]*h[i]),f=0;16>f;f++)if(r[f]===n&&s[f]===u&&a[f]===d&&h[f]===g){t.push(f);break}}for(e=0;16>e;e++){var m=new l;m.set(r[e],s[e],a[e],h[e],0,0),c.push(m)}}var r=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],l=e("./Matrix"),p=[];n();var u={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return r[e]},uY:function(e){return s[e]},vX:function(e){return a[e]},vY:function(e){return h[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return p[e][t]},sub:function(e,t){return p[e][u.inv(t)]},rotate180:function(e){return 4^e},isSwapWidthHeight:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?u.S:u.N:2*Math.abs(t)<=Math.abs(e)?e>0?u.E:u.W:t>0?e>0?u.SE:u.SW:e>0?u.NE:u.NW},matrixAppendRotationInv:function(e,t,i,o){var n=c[u.inv(t)];i=i||0,o=o||0,n.tx=i,n.ty=o,e.append(n)}};t.exports=u},{"./Matrix":31}],31:[function(e,t,i){function o(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=e("./Point");o.prototype.constructor=o,t.exports=o,o.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},o.prototype.set=function(e,t,i,o,n,r){return this.a=e,this.b=t,this.c=i,this.d=o,this.tx=n,this.ty=r,this},o.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},o.prototype.apply=function(e,t){t=t||new n;var i=e.x,o=e.y;return t.x=this.a*i+this.c*o+this.tx,t.y=this.b*i+this.d*o+this.ty,t},o.prototype.applyInverse=function(e,t){t=t||new n;var i=1/(this.a*this.d+this.c*-this.b),o=e.x,r=e.y;return t.x=this.d*i*o+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*r+-this.b*i*o+(-this.ty*this.a+this.tx*this.b)*i,t},o.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},o.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},o.prototype.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),o=this.a,n=this.c,r=this.tx;return this.a=o*t-this.b*i,this.b=o*i+this.b*t,this.c=n*t-this.d*i,this.d=n*i+this.d*t,this.tx=r*t-this.ty*i,this.ty=r*i+this.ty*t,this},o.prototype.append=function(e){var t=this.a,i=this.b,o=this.c,n=this.d;return this.a=e.a*t+e.b*o,this.b=e.a*i+e.b*n,this.c=e.c*t+e.d*o,this.d=e.c*i+e.d*n,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*i+e.ty*n+this.ty,this},o.prototype.setTransform=function(e,t,i,o,n,r,s,a,h){var c,l,p,u,d,g,f,m,v,y;return d=Math.sin(s),g=Math.cos(s),f=Math.cos(h),m=Math.sin(h),v=-Math.sin(a),y=Math.cos(a),c=g*n,l=d*n,p=-d*r,u=g*r,this.a=f*c+m*p,this.b=f*l+m*u,this.c=v*c+y*p,this.d=v*l+y*u,this.tx=e+(i*c+o*p),this.ty=t+(i*l+o*u),this},o.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var i=this.a,o=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},o.prototype.invert=function(){var e=this.a,t=this.b,i=this.c,o=this.d,n=this.tx,r=e*o-t*i;return this.a=o/r,this.b=-t/r,this.c=-i/r,this.d=e/r,this.tx=(i*this.ty-o*n)/r,this.ty=-(e*this.ty-t*n)/r,this},o.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},o.prototype.clone=function(){var e=new o;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},o.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},o.IDENTITY=new o,o.TEMP_MATRIX=new o},{"./Point":32}],32:[function(e,t,i){function o(e,t){this.x=e||0,this.y=t||0}o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.copy=function(e){this.set(e.x,e.y)},o.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},o.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}},{}],33:[function(e,t,i){t.exports={Point:e("./Point"),Matrix:e("./Matrix"),GroupD8:e("./GroupD8"),Circle:e("./shapes/Circle"),Ellipse:e("./shapes/Ellipse"),Polygon:e("./shapes/Polygon"),Rectangle:e("./shapes/Rectangle"),RoundedRectangle:e("./shapes/RoundedRectangle")}},{"./GroupD8":30,"./Matrix":31,"./Point":32,"./shapes/Circle":34,"./shapes/Ellipse":35,"./shapes/Polygon":36,"./shapes/Rectangle":37,"./shapes/RoundedRectangle":38}],34:[function(e,t,i){function o(e,t,i){this.x=e||0,this.y=t||0,this.radius=i||0,this.type=r.SHAPES.CIRC}var n=e("./Rectangle"),r=e("../../const");o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.x,this.y,this.radius)},o.prototype.contains=function(e,t){if(this.radius<=0)return!1;var i=this.x-e,o=this.y-t,n=this.radius*this.radius;return i*=i,o*=o,n>=i+o},o.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":37}],35:[function(e,t,i){function o(e,t,i,o){this.x=e||0,this.y=t||0,this.width=i||0,this.height=o||0,this.type=r.SHAPES.ELIP}var n=e("./Rectangle"),r=e("../../const");o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var i=(e-this.x)/this.width,o=(t-this.y)/this.height;return i*=i,o*=o,1>=i+o},o.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":37}],36:[function(e,t,i){function o(e){var t=e;if(!Array.isArray(t)){t=new Array(arguments.length);for(var i=0;i<t.length;++i)t[i]=arguments[i]}if(t[0]instanceof n){for(var o=[],s=0,a=t.length;a>s;s++)o.push(t[s].x,t[s].y);t=o}this.closed=!0,this.points=t,this.type=r.SHAPES.POLY}var n=e("../Point"),r=e("../../const");o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.points.slice())},o.prototype.contains=function(e,t){for(var i=!1,o=this.points.length/2,n=0,r=o-1;o>n;r=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*r],c=this.points[2*r+1],l=a>t!=c>t&&(h-s)*(t-a)/(c-a)+s>e;l&&(i=!i)}return i}},{"../../const":22,"../Point":32}],37:[function(e,t,i){function o(e,t,i,o){this.x=e||0,this.y=t||0,this.width=i||0,this.height=o||0,this.type=n.SHAPES.RECT}var n=e("../../const");o.prototype.constructor=o,t.exports=o,o.EMPTY=new o(0,0,0,0),o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}},{"../../const":22}],38:[function(e,t,i){function o(e,t,i,o,r){this.x=e||0,this.y=t||0,this.width=i||0,this.height=o||0,this.radius=r||20,this.type=n.SHAPES.RREC}var n=e("../../const");o.prototype.constructor=o,t.exports=o,o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.radius)},o.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}},{"../../const":22}],39:[function(e,t,i){function o(e,t,i){n.call(this),i=i||15e3,e=e||15e3;var o=16384;i>o&&(i=o),i>e&&(i=e),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=r.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(t)}var n=e("../display/Container"),r=e("../const");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e?!!e.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},o.prototype.renderWebGL=function(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},o.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},o.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,i=this.worldTransform,o=!0,n=0,r=0,s=0,a=0,h=e.blendModes[this.blendMode];h!==t.globalCompositeOperation&&(t.globalCompositeOperation=h),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var l=this.children[c];if(l.visible){var p=l.texture.frame;if(t.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)o&&(t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),o=!1),n=l.anchor.x*(-p.width*l.scale.x)+l.position.x+.5,r=l.anchor.y*(-p.height*l.scale.y)+l.position.y+.5,s=p.width*l.scale.x,a=p.height*l.scale.y;else{o||(o=!0),l.displayObjectUpdateTransform();var u=l.worldTransform;e.roundPixels?t.setTransform(u.a,u.b,u.c,u.d,0|u.tx,0|u.ty):t.setTransform(u.a,u.b,u.c,u.d,u.tx,u.ty),n=l.anchor.x*-p.width+.5,r=l.anchor.y*-p.height+.5,s=p.width,a=p.height}t.drawImage(l.texture.baseTexture.source,p.x,p.y,p.width,p.height,n,r,s,a)}}}},o.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],40:[function(e,t,i){function o(e,t,i,o){this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;n++){var r=t[n];i[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}o.prototype.constructor=o,t.exports=o,o.prototype.initBuffers=function(){var e,t,i=this.gl,o=0;for(this.dynamicStride=0,e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],t.offset=o,o+=t.size,this.dynamicStride+=t.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferData(i.ARRAY_BUFFER,this.dynamicData,i.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],t.offset=n,n+=t.size,this.staticStride+=t.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferData(i.ARRAY_BUFFER,this.staticData,i.DYNAMIC_DRAW)},o.prototype.uploadDynamic=function(e,t,i){for(var o=this.gl,n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(e,t,i,this.dynamicData,this.dynamicStride,r.offset)}o.bindBuffer(o.ARRAY_BUFFER,this.dynamicBuffer),o.bufferSubData(o.ARRAY_BUFFER,0,this.dynamicData)},o.prototype.uploadStatic=function(e,t,i){for(var o=this.gl,n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(e,t,i,this.staticData,this.staticStride,r.offset)}o.bindBuffer(o.ARRAY_BUFFER,this.staticBuffer),o.bufferSubData(o.ARRAY_BUFFER,0,this.staticData)},o.prototype.bind=function(){var e,t,i=this.gl;for(i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],i.vertexAttribPointer(t.attribute,t.size,i.FLOAT,!1,4*this.dynamicStride,4*t.offset);for(i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],i.vertexAttribPointer(t.attribute,t.size,i.FLOAT,!1,4*this.staticStride,4*t.offset)},o.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],41:[function(e,t,i){function o(e){n.call(this,e);var t=98304;this.indices=new Uint16Array(t);for(var i=0,o=0;t>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=e("../../renderers/webgl/utils/ObjectRenderer"),r=e("../../renderers/webgl/WebGLRenderer"),s=e("./ParticleShader"),a=e("./ParticleBuffer"),h=e("../../math");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,r.registerPlugin("particle",o),o.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},o.prototype.start=function(){var e=this.renderer.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.shader;this.renderer.shaderManager.setShader(t)},o.prototype.render=function(e){var t=e.children,i=t.length,o=e._maxSize,n=e._batchSize;if(0!==i){i>o&&(i=o),e._buffers||(e._buffers=this.generateBuffers(e)),this.renderer.blendModeManager.setBlendMode(e.blendMode);var r=this.renderer.gl,s=e.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),r.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),r.uniform1f(this.shader.uniforms.uAlpha._location,e.worldAlpha);var a=t[0]._texture.baseTexture;if(a._glTextures[r.id])r.bindTexture(r.TEXTURE_2D,a._glTextures[r.id]);else{if(!this.renderer.updateTexture(a))return;e._properties[0]&&e._properties[3]||(e._bufferToUpdate=0)}for(var h=0,c=0;i>h;h+=n,c+=1){var l=i-h;l>n&&(l=n);var p=e._buffers[c];p.uploadDynamic(t,h,l),e._bufferToUpdate===c&&(p.uploadStatic(t,h,l),e._bufferToUpdate=c+1),p.bind(this.shader),r.drawElements(r.TRIANGLES,6*l,r.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},o.prototype.generateBuffers=function(e){var t,i=this.renderer.gl,o=[],n=e._maxSize,r=e._batchSize,s=e._properties;for(t=0;n>t;t+=r)o.push(new a(i,this.properties,s,r));return o},o.prototype.uploadVertices=function(e,t,i,o,n,r){for(var s,a,h,c,l,p,u,d,g,f=0;i>f;f++)s=e[t+f],a=s._texture,c=s.scale.x,l=s.scale.y,a.trim?(h=a.trim,u=h.x-s.anchor.x*h.width,p=u+a.crop.width,g=h.y-s.anchor.y*h.height,d=g+a.crop.height):(p=a._frame.width*(1-s.anchor.x),u=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),g=a._frame.height*-s.anchor.y),o[r]=u*c,o[r+1]=g*l,o[r+n]=p*c,o[r+n+1]=g*l,o[r+2*n]=p*c,o[r+2*n+1]=d*l,o[r+3*n]=u*c,o[r+3*n+1]=d*l,r+=4*n},o.prototype.uploadPosition=function(e,t,i,o,n,r){for(var s=0;i>s;s++){var a=e[t+s].position;o[r]=a.x,o[r+1]=a.y,o[r+n]=a.x,o[r+n+1]=a.y,o[r+2*n]=a.x,o[r+2*n+1]=a.y,o[r+3*n]=a.x,o[r+3*n+1]=a.y,r+=4*n}},o.prototype.uploadRotation=function(e,t,i,o,n,r){for(var s=0;i>s;s++){var a=e[t+s].rotation;o[r]=a,o[r+n]=a,o[r+2*n]=a,o[r+3*n]=a,r+=4*n}},o.prototype.uploadUvs=function(e,t,i,o,n,r){for(var s=0;i>s;s++){var a=e[t+s]._texture._uvs;a?(o[r]=a.x0,o[r+1]=a.y0,o[r+n]=a.x1,o[r+n+1]=a.y1,o[r+2*n]=a.x2,o[r+2*n+1]=a.y2,o[r+3*n]=a.x3,o[r+3*n+1]=a.y3,r+=4*n):(o[r]=0,o[r+1]=0,o[r+n]=0,o[r+n+1]=0,o[r+2*n]=0,o[r+2*n+1]=0,o[r+3*n]=0,o[r+3*n+1]=0,r+=4*n)}},o.prototype.uploadAlpha=function(e,t,i,o,n,r){for(var s=0;i>s;s++){var a=e[t+s].alpha;o[r]=a,o[r+n]=a,o[r+2*n]=a,o[r+3*n]=a,r+=4*n}},o.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"./ParticleBuffer":40,"./ParticleShader":42}],42:[function(e,t,i){function o(e){n.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=e("../../renderers/webgl/shaders/TextureShader");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o},{"../../renderers/webgl/shaders/TextureShader":62}],43:[function(e,t,i){function o(e,t,i,o){if(a.call(this),n.sayHello(e),o)for(var h in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof o[h]&&(o[h]=s.DEFAULT_RENDER_OPTIONS[h]);else o=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=t||800,this.height=i||600,this.view=o.view||document.createElement("canvas"),this.resolution=o.resolution,this.transparent=o.transparent,this.autoResize=o.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=o.preserveDrawingBuffer,this.clearBeforeRender=o.clearBeforeRender,this.roundPixels=o.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=o.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new r.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=e("../utils"),r=e("../math"),s=e("../const"),a=e("eventemitter3");o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=n.hex2string(e),n.hex2rgb(e,this._backgroundColorRgb)}}}),o.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},o.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":33,"../utils":77,eventemitter3:10}],44:[function(e,t,i){function o(e,t,i){i=i||{},n.call(this,"Canvas",e,t,i),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent
}),this.refresh=!0,this.maskManager=new r,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(e,t)}var n=e("../SystemRenderer"),r=e("./utils/CanvasMaskManager"),s=e("../../utils"),a=e("../../math"),h=e("../../const");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,s.pluginTarget.mixin(o),o.prototype.render=function(e){this.emit("prerender");var t=e.parent;this._lastObjectRendered=e,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e,this.context),this.emit("postrender")},o.prototype.destroy=function(e){this.destroyPlugins(),n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},o.prototype.renderDisplayObject=function(e,t){var i=this.context;this.context=t,e.renderCanvas(this),this.context=i},o.prototype.resize=function(e,t){n.prototype.resize.call(this,e,t),this.smoothProperty&&(this.context[this.smoothProperty]=h.SCALE_MODES.DEFAULT===h.SCALE_MODES.LINEAR)},o.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":33,"../../utils":77,"../SystemRenderer":43,"./utils/CanvasMaskManager":47}],45:[function(e,t,i){function o(e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t}o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{width:{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},height:{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}}),o.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},o.prototype.resize=function(e,t){this.canvas.width=e,this.canvas.height=t},o.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],46:[function(e,t,i){var o=e("../../../const"),n={};t.exports=n,n.renderGraphics=function(e,t){var i=e.worldAlpha;e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1);for(var n=0;n<e.graphicsData.length;n++){var r=e.graphicsData[n],s=r.shape,a=r._fillTint,h=r._lineTint;if(t.lineWidth=r.lineWidth,r.type===o.SHAPES.POLY){t.beginPath();var c=s.points;t.moveTo(c[0],c[1]);for(var l=1;l<c.length/2;l++)t.lineTo(c[2*l],c[2*l+1]);s.closed&&t.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&t.closePath(),r.fill&&(t.globalAlpha=r.fillAlpha*i,t.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),t.fill()),r.lineWidth&&(t.globalAlpha=r.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}else if(r.type===o.SHAPES.RECT)(r.fillColor||0===r.fillColor)&&(t.globalAlpha=r.fillAlpha*i,t.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),t.fillRect(s.x,s.y,s.width,s.height)),r.lineWidth&&(t.globalAlpha=r.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.strokeRect(s.x,s.y,s.width,s.height));else if(r.type===o.SHAPES.CIRC)t.beginPath(),t.arc(s.x,s.y,s.radius,0,2*Math.PI),t.closePath(),r.fill&&(t.globalAlpha=r.fillAlpha*i,t.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),t.fill()),r.lineWidth&&(t.globalAlpha=r.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke());else if(r.type===o.SHAPES.ELIP){var p=2*s.width,u=2*s.height,d=s.x-p/2,g=s.y-u/2;t.beginPath();var f=.5522848,m=p/2*f,v=u/2*f,y=d+p,_=g+u,x=d+p/2,w=g+u/2;t.moveTo(d,w),t.bezierCurveTo(d,w-v,x-m,g,x,g),t.bezierCurveTo(x+m,g,y,w-v,y,w),t.bezierCurveTo(y,w+v,x+m,_,x,_),t.bezierCurveTo(x-m,_,d,w+v,d,w),t.closePath(),r.fill&&(t.globalAlpha=r.fillAlpha*i,t.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),t.fill()),r.lineWidth&&(t.globalAlpha=r.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}else if(r.type===o.SHAPES.RREC){var b=s.x,k=s.y,S=s.width,T=s.height,C=s.radius,M=Math.min(S,T)/2|0;C=C>M?M:C,t.beginPath(),t.moveTo(b,k+C),t.lineTo(b,k+T-C),t.quadraticCurveTo(b,k+T,b+C,k+T),t.lineTo(b+S-C,k+T),t.quadraticCurveTo(b+S,k+T,b+S,k+T-C),t.lineTo(b+S,k+C),t.quadraticCurveTo(b+S,k,b+S-C,k),t.lineTo(b+C,k),t.quadraticCurveTo(b,k,b,k+C),t.closePath(),(r.fillColor||0===r.fillColor)&&(t.globalAlpha=r.fillAlpha*i,t.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),t.fill()),r.lineWidth&&(t.globalAlpha=r.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}}},n.renderGraphicsMask=function(e,t){var i=e.graphicsData.length;if(0!==i){t.beginPath();for(var n=0;i>n;n++){var r=e.graphicsData[n],s=r.shape;if(r.type===o.SHAPES.POLY){var a=s.points;t.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)t.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&t.closePath()}else if(r.type===o.SHAPES.RECT)t.rect(s.x,s.y,s.width,s.height),t.closePath();else if(r.type===o.SHAPES.CIRC)t.arc(s.x,s.y,s.radius,0,2*Math.PI),t.closePath();else if(r.type===o.SHAPES.ELIP){var c=2*s.width,l=2*s.height,p=s.x-c/2,u=s.y-l/2,d=.5522848,g=c/2*d,f=l/2*d,m=p+c,v=u+l,y=p+c/2,_=u+l/2;t.moveTo(p,_),t.bezierCurveTo(p,_-f,y-g,u,y,u),t.bezierCurveTo(y+g,u,m,_-f,m,_),t.bezierCurveTo(m,_+f,y+g,v,y,v),t.bezierCurveTo(y-g,v,p,_+f,p,_),t.closePath()}else if(r.type===o.SHAPES.RREC){var x=s.x,w=s.y,b=s.width,k=s.height,S=s.radius,T=Math.min(b,k)/2|0;S=S>T?T:S,t.moveTo(x,w+S),t.lineTo(x,w+k-S),t.quadraticCurveTo(x,w+k,x+S,w+k),t.lineTo(x+b-S,w+k),t.quadraticCurveTo(x+b,w+k,x+b,w+k-S),t.lineTo(x+b,w+S),t.quadraticCurveTo(x+b,w,x+b-S,w),t.lineTo(x+S,w),t.quadraticCurveTo(x,w,x,w+S),t.closePath()}}}},n.updateGraphicsTint=function(e){if(16777215!==e.tint||e._prevTint!==e.tint){e._prevTint=e.tint;for(var t=(e.tint>>16&255)/255,i=(e.tint>>8&255)/255,o=(255&e.tint)/255,n=0;n<e.graphicsData.length;n++){var r=e.graphicsData[n],s=0|r.fillColor,a=0|r.lineColor;r._fillTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*o*255,r._lineTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*o*255}}}},{"../../../const":22}],47:[function(e,t,i){function o(){}var n=e("./CanvasGraphics");o.prototype.constructor=o,t.exports=o,o.prototype.pushMask=function(e,t){t.context.save();var i=e.alpha,o=e.worldTransform,r=t.resolution;t.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*r,o.ty*r),e.texture||(n.renderGraphicsMask(e,t.context),t.context.clip()),e.worldAlpha=i},o.prototype.popMask=function(e){e.context.restore()},o.prototype.destroy=function(){}},{"./CanvasGraphics":46}],48:[function(e,t,i){var o=e("../../../utils"),n={};t.exports=n,n.getTintedTexture=function(e,t){var i=e.texture;t=n.roundColor(t);var o="#"+("00000"+(0|t).toString(16)).substr(-6);if(i.tintCache=i.tintCache||{},i.tintCache[o])return i.tintCache[o];var r=n.canvas||document.createElement("canvas");if(n.tintMethod(i,t,r),n.convertTintToImage){var s=new Image;s.src=r.toDataURL(),i.tintCache[o]=s}else i.tintCache[o]=r,n.canvas=null;return r},n.tintWithMultiply=function(e,t,i){var o=i.getContext("2d"),n=e.baseTexture.resolution,r=e.crop.clone();r.x*=n,r.y*=n,r.width*=n,r.height*=n,i.width=r.width,i.height=r.height,o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="multiply",o.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),o.globalCompositeOperation="destination-atop",o.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},n.tintWithOverlay=function(e,t,i){var o=i.getContext("2d"),n=e.baseTexture.resolution,r=e.crop.clone();r.x*=n,r.y*=n,r.width*=n,r.height*=n,i.width=r.width,i.height=r.height,o.globalCompositeOperation="copy",o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="destination-atop",o.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},n.tintWithPerPixel=function(e,t,i){var n=i.getContext("2d"),r=e.baseTexture.resolution,s=e.crop.clone();s.x*=r,s.y*=r,s.width*=r,s.height*=r,i.width=s.width,i.height=s.height,n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=o.hex2rgb(t),h=a[0],c=a[1],l=a[2],p=n.getImageData(0,0,s.width,s.height),u=p.data,d=0;d<u.length;d+=4)u[d+0]*=h,u[d+1]*=c,u[d+2]*=l;n.putImageData(p,0,0)},n.roundColor=function(e){var t=n.cacheStepsPerColorChannel,i=o.hex2rgb(e);return i[0]=Math.min(255,i[0]/t*t),i[1]=Math.min(255,i[1]/t*t),i[2]=Math.min(255,i[2]/t*t),o.rgb2hex(i)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=o.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":77}],49:[function(e,t,i){function o(e,t,i){i=i||{},n.call(this,"WebGL",e,t,i),this.type=g.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!i.forceFXAA&&i.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new r(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new h(this),this.blendModeManager=new c(this),this.currentRenderTarget=null,this.currentRenderer=new p(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var n=e("../SystemRenderer"),r=e("./managers/ShaderManager"),s=e("./managers/MaskManager"),a=e("./managers/StencilManager"),h=e("./managers/FilterManager"),c=e("./managers/BlendModeManager"),l=e("./utils/RenderTarget"),p=e("./utils/ObjectRenderer"),u=e("./filters/FXAAFilter"),d=e("../../utils"),g=e("../../const");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,d.pluginTarget.mixin(o),o.glContextId=0,o.prototype._createContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=o.glContextId++,e.id=this.glContextId,e.renderer=this},o.prototype._initContext=function(){var e=this.gl;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.renderTarget=new l(e,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",e),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!e.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new u])},o.prototype.render=function(e){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=e,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,e.filterArea=this.renderTarget.size,e.filters=this._FXAAFilter);var t=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t;var i=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?i.clearColor(0,0,0,0):i.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),i.clear(i.COLOR_BUFFER_BIT)),this.renderDisplayObject(e,this.renderTarget),this.emit("postrender")}},o.prototype.renderDisplayObject=function(e,t,i){this.setRenderTarget(t),i&&t.clear(),this.filterManager.setFilterStack(t.filterStack),e.renderWebGL(this),this.currentRenderer.flush()},o.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},o.prototype.setRenderTarget=function(e){this.currentRenderTarget!==e&&(this.currentRenderTarget=e,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(e.stencilMaskStack))},o.prototype.resize=function(e,t){n.prototype.resize.call(this,e,t),this.filterManager.resize(e,t),this.renderTarget.resize(e,t),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},o.prototype.updateTexture=function(e){if(e=e.baseTexture||e,e.hasLoaded){var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture(),e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e)),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===g.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===g.SCALE_MODES.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===g.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._glTextures[t.id]}},o.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,e.hasLoaded&&e._glTextures[this.gl.id]&&(this.gl.deleteTexture(e._glTextures[this.gl.id]),delete e._glTextures[this.gl.id],!t)){var i=this._managedTextures.indexOf(e);-1!==i&&d.removeItems(this._managedTextures,i,1)}},o.prototype.handleContextLost=function(e){e.preventDefault()},o.prototype.handleContextRestored=function(){this._initContext();for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.gl.id]&&delete t._glTextures[this.gl.id]}},o.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var t=0;t<this._managedTextures.length;++t){var i=this._managedTextures[t];this.destroyTexture(i,!0),i.off("update",this.updateTexture,this),i.off("dispose",this.destroyTexture,this)}n.prototype.destroy.call(this,e),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl.flush(),this.gl=null},o.prototype._mapGlModes=function(){var e=this.gl;this.blendModes||(this.blendModes={},this.blendModes[g.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],this.blendModes[g.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.SCREEN]=[e.SRC_ALPHA,e.ONE],this.blendModes[g.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[g.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[g.DRAW_MODES.POINTS]=e.POINTS,this.drawModes[g.DRAW_MODES.LINES]=e.LINES,this.drawModes[g.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,this.drawModes[g.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,this.drawModes[g.DRAW_MODES.TRIANGLES]=e.TRIANGLES,this.drawModes[g.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,this.drawModes[g.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN)}},{"../../const":22,"../../utils":77,"../SystemRenderer":43,"./filters/FXAAFilter":51,"./managers/BlendModeManager":53,"./managers/FilterManager":54,"./managers/MaskManager":55,"./managers/ShaderManager":56,"./managers/StencilManager":57,"./utils/ObjectRenderer":63,"./utils/RenderTarget":65}],50:[function(e,t,i){function o(e,t,i){this.shaders=[],this.padding=0,this.uniforms=i||{},this.vertexSrc=e||n.defaultVertexSrc,this.fragmentSrc=t||n.defaultFragmentSrc}var n=e("../shaders/TextureShader");o.prototype.constructor=o,t.exports=o,o.prototype.getShader=function(e){var t=e.gl,i=this.shaders[t.id];return i||(i=new n(e.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[t.id]=i),i},o.prototype.applyFilter=function(e,t,i,o){var n=this.getShader(e);e.filterManager.applyFilter(n,t,i,o)},o.prototype.syncUniform=function(e){for(var t=0,i=this.shaders.length;i>t;++t)this.shaders[t].syncUniform(e)}},{"../shaders/TextureShader":62}],51:[function(e,t,i){function o(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var n=e("./AbstractFilter");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager,n=this.getShader(e);o.applyFilter(n,t,i)}},{"./AbstractFilter":50}],52:[function(e,t,i){function o(e){var t=new r.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:e._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:t.toArray(!0)}}),this.maskSprite=e,this.maskMatrix=t}var n=e("./AbstractFilter"),r=e("../../../math");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager;this.uniforms.mask.value=this.maskSprite._texture,o.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(e);o.applyFilter(n,t,i)},Object.defineProperties(o.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(e){this.uniforms.mask.value=e}},offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}})},{"../../../math":33,"./AbstractFilter":50}],53:[function(e,t,i){function o(e){n.call(this,e),this.currentBlendMode=99999}var n=e("./WebGLManager");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(t[0],t[1]),!0}},{"./WebGLManager":58}],54:[function(e,t,i){function o(e){n.call(this,e),this.filterStack=[],this.filterStack.push({renderTarget:e.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,e.width,e.height),this.currentFrame=null}var n=e("./WebGLManager"),r=e("../utils/RenderTarget"),s=e("../../../const"),a=e("../utils/Quad"),h=e("../../../math");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.onContextChange=function(){this.texturePool.length=0;var e=this.renderer.gl;this.quad=new a(e)},o.prototype.setFilterStack=function(e){this.filterStack=e},o.prototype.pushFilter=function(e,t){var i=e.filterArea?e.filterArea.clone():e.getBounds();i.x=0|i.x,i.y=0|i.y,i.width=0|i.width,i.height=0|i.height;var o=0|t[0].padding;if(i.x-=o,i.y-=o,i.width+=2*o,i.height+=2*o,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;i.x+=n.tx,i.y+=n.ty,this.capFilterArea(i),i.x-=n.tx,i.y-=n.ty}else this.capFilterArea(i);if(i.width>0&&i.height>0){this.currentFrame=i;var r=this.getRenderTarget();this.renderer.setRenderTarget(r),r.clear(),this.filterStack.push({renderTarget:r,filter:t})}else this.filterStack.push({renderTarget:null,filter:t})},o.prototype.popFilter=function(){var e=this.filterStack.pop(),t=this.filterStack[this.filterStack.length-1],i=e.renderTarget;if(e.renderTarget){var o=t.renderTarget,n=this.renderer.gl;this.currentFrame=i.frame,this.quad.map(this.textureSize,i.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var r=e.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===r.length)r[0].uniforms.dimensions&&(r[0].uniforms.dimensions.value[0]=this.renderer.width,r[0].uniforms.dimensions.value[1]=this.renderer.height,r[0].uniforms.dimensions.value[2]=this.quad.vertices[0],r[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),r[0].applyFilter(this.renderer,i,o),this.returnRenderTarget(i);else{for(var a=i,h=this.getRenderTarget(!0),c=0;c<r.length-1;c++){var l=r[c];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,a,h);var p=a;a=h,h=p}r[r.length-1].applyFilter(this.renderer,a,o),this.returnRenderTarget(a),this.returnRenderTarget(h)}return e.filter}},o.prototype.getRenderTarget=function(e){var t=this.texturePool.pop()||new r(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);
return t.frame=this.currentFrame,e&&t.clear(!0),t},o.prototype.returnRenderTarget=function(e){this.texturePool.push(e)},o.prototype.applyFilter=function(e,t,i,o){var n=this.renderer.gl;this.renderer.setRenderTarget(i),o&&i.clear(),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderer.drawCount++},o.prototype.calculateMappedMatrix=function(e,t,i){var o=t.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=t._texture.baseTexture,r=i.identity(),s=this.textureSize.height/this.textureSize.width;r.translate(e.x/this.textureSize.width,e.y/this.textureSize.height),r.scale(1,s);var a=this.textureSize.width/n.width,c=this.textureSize.height/n.height;return o.tx/=n.width*a,o.ty/=n.width*a,o.invert(),r.prepend(o),r.scale(1,1/s),r.scale(a,c),r.translate(t.anchor.x,t.anchor.y),r},o.prototype.capFilterArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.textureSize.width&&(e.width=this.textureSize.width-e.x),e.y+e.height>this.textureSize.height&&(e.height=this.textureSize.height-e.y)},o.prototype.resize=function(e,t){this.textureSize.width=e,this.textureSize.height=t;for(var i=0;i<this.texturePool.length;i++)this.texturePool[i].resize(e,t)},o.prototype.destroy=function(){this.quad.destroy(),n.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":33,"../utils/Quad":64,"../utils/RenderTarget":65,"./WebGLManager":58}],55:[function(e,t,i){function o(e){n.call(this,e),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=e("./WebGLManager"),r=e("../filters/SpriteMaskFilter");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.pushMask=function(e,t){t.texture?this.pushSpriteMask(e,t):this.pushStencilMask(e,t)},o.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.popStencilMask(e,t)},o.prototype.pushSpriteMask=function(e,t){var i=this.alphaMaskPool.pop();i||(i=[new r(t)]),i[0].maskSprite=t,this.renderer.filterManager.pushFilter(e,i)},o.prototype.popSpriteMask=function(){var e=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(e)},o.prototype.pushStencilMask=function(e,t){this.renderer.stencilManager.pushMask(t)},o.prototype.popStencilMask=function(e,t){this.renderer.stencilManager.popMask(t)}},{"../filters/SpriteMaskFilter":52,"./WebGLManager":58}],56:[function(e,t,i){function o(e){n.call(this,e),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=e("./WebGLManager"),r=e("../shaders/TextureShader"),s=e("../shaders/ComplexPrimitiveShader"),a=e("../shaders/PrimitiveShader"),h=e("../../../utils");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,h.pluginTarget.mixin(o),t.exports=o,o.prototype.onContextChange=function(){this.initPlugins();var e=this.renderer.gl;this.maxAttibs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.defaultShader=new r(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},o.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(var i in e)this.tempAttribState[e[i]]=!0;var o=this.renderer.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.attribState[t]?o.enableVertexAttribArray(t):o.disableVertexAttribArray(t))},o.prototype.setShader=function(e){return this._currentId===e.uid?!1:(this._currentId=e.uid,this.currentShader=e,this.renderer.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},o.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":77,"../shaders/ComplexPrimitiveShader":59,"../shaders/PrimitiveShader":60,"../shaders/TextureShader":62,"./WebGLManager":58}],57:[function(e,t,i){function o(e){n.call(this,e),this.stencilMaskStack=null}var n=e("./WebGLManager"),r=e("../../../utils");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.stencilStack.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},o.prototype.pushStencil=function(e,t){this.renderer.currentRenderTarget.attachStencilBuffer();var i=this.renderer.gl,o=this.stencilMaskStack;this.bindGraphics(e,t),0===o.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.reverse=!0,o.count=0),o.stencilStack.push(t);var n=o.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),o.reverse?(i.stencilFunc(i.EQUAL,255-n,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,n,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),o.reverse?i.stencilFunc(i.EQUAL,255-(n+1),255):i.stencilFunc(i.EQUAL,n+1,255),o.reverse=!o.reverse):(o.reverse?(i.stencilFunc(i.EQUAL,n,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-n,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),o.reverse?i.stencilFunc(i.EQUAL,n+1,255):i.stencilFunc(i.EQUAL,255-(n+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),o.count++},o.prototype.bindGraphics=function(e,t){var i,o=this.renderer.gl;1===t.mode?(i=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(i),o.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),o.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),o.uniform3fv(i.uniforms.tint._location,r.hex2rgb(e.tint)),o.uniform3fv(i.uniforms.color._location,t.color),o.uniform1f(i.uniforms.alpha._location,e.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,t.buffer),o.vertexAttribPointer(i.attributes.aVertexPosition,2,o.FLOAT,!1,8,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(i=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(i),o.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),o.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),o.uniform3fv(i.uniforms.tint._location,r.hex2rgb(e.tint)),o.uniform1f(i.uniforms.alpha._location,e.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,t.buffer),o.vertexAttribPointer(i.attributes.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(i.attributes.aColor,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},o.prototype.popStencil=function(e,t){var i=this.renderer.gl,o=this.stencilMaskStack;if(o.stencilStack.pop(),o.count--,0===o.stencilStack.length)i.disable(i.STENCIL_TEST);else{var n=o.count;this.bindGraphics(e,t),i.colorMask(!1,!1,!1,!1),1===t.mode?(o.reverse=!o.reverse,o.reverse?(i.stencilFunc(i.EQUAL,255-(n+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,n+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,o.reverse?i.stencilFunc(i.EQUAL,n,255):i.stencilFunc(i.EQUAL,255-n,255)):(o.reverse?(i.stencilFunc(i.EQUAL,n+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(n+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.renderer.drawCount++,o.reverse?i.stencilFunc(i.EQUAL,n,255):i.stencilFunc(i.EQUAL,255-n,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},o.prototype.pushMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),e.dirty&&this.renderer.plugins.graphics.updateGraphics(e,this.renderer.gl),e._webGL[this.renderer.gl.id].data.length&&this.pushStencil(e,e._webGL[this.renderer.gl.id].data[0])},o.prototype.popMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(e,e._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":77,"./WebGLManager":58}],58:[function(e,t,i){function o(e){this.renderer=e,this.renderer.on("context",this.onContextChange,this)}o.prototype.constructor=o,t.exports=o,o.prototype.onContextChange=function(){},o.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],59:[function(e,t,i){function o(e){n.call(this,e,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=e("./Shader");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o},{"./Shader":61}],60:[function(e,t,i){function o(e){n.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=e("./Shader");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o},{"./Shader":61}],61:[function(e,t,i){function o(e,t,i,o,r){if(!t||!i)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=e.renderer.gl,this.shaderManager=e,this.program=null,this.uniforms=o||{},this.attributes=r||{},this.textureCount=1,this.vertexSrc=t,this.fragmentSrc=i,this.init()}var n=e("../../../utils");o.prototype.constructor=o,t.exports=o,o.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},o.prototype.cacheUniformLocations=function(e){for(var t=0;t<e.length;++t)this.uniforms[e[t]]._location=this.gl.getUniformLocation(this.program,e[t])},o.prototype.cacheAttributeLocations=function(e){for(var t=0;t<e.length;++t)this.attributes[e[t]]=this.gl.getAttribLocation(this.program,e[t])},o.prototype.compile=function(){var e=this.gl,t=this._glCompile(e.VERTEX_SHADER,this.vertexSrc),i=this._glCompile(e.FRAGMENT_SHADER,this.fragmentSrc),o=e.createProgram();return e.attachShader(o,t),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||(""!==e.getProgramInfoLog(o)&&void 0,e.deleteProgram(o),o=null),e.deleteShader(t),e.deleteShader(i),this.program=o},o.prototype.syncUniform=function(e){var t,i,o=e._location,r=e.value,s=this.gl;switch(e.type){case"b":case"bool":case"boolean":s.uniform1i(o,r?1:0);break;case"i":case"1i":s.uniform1i(o,r);break;case"f":case"1f":s.uniform1f(o,r);break;case"2f":s.uniform2f(o,r[0],r[1]);break;case"3f":s.uniform3f(o,r[0],r[1],r[2]);break;case"4f":s.uniform4f(o,r[0],r[1],r[2],r[3]);break;case"v2":s.uniform2f(o,r.x,r.y);break;case"v3":s.uniform3f(o,r.x,r.y,r.z);break;case"v4":s.uniform4f(o,r.x,r.y,r.z,r.w);break;case"1iv":s.uniform1iv(o,r);break;case"2iv":s.uniform2iv(o,r);break;case"3iv":s.uniform3iv(o,r);break;case"4iv":s.uniform4iv(o,r);break;case"1fv":s.uniform1fv(o,r);break;case"2fv":s.uniform2fv(o,r);break;case"3fv":s.uniform3fv(o,r);break;case"4fv":s.uniform4fv(o,r);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(o,e.transpose,r);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(o,e.transpose,r);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(o,e.transpose,r);break;case"c":"number"==typeof r&&(r=n.hex2rgb(r)),s.uniform3f(o,r[0],r[1],r[2]);break;case"iv1":s.uniform1iv(o,r);break;case"iv":s.uniform3iv(o,r);break;case"fv1":s.uniform1fv(o,r);break;case"fv":s.uniform3fv(o,r);break;case"v2v":for(e._array||(e._array=new Float32Array(2*r.length)),t=0,i=r.length;i>t;++t)e._array[2*t]=r[t].x,e._array[2*t+1]=r[t].y;s.uniform2fv(o,e._array);break;case"v3v":for(e._array||(e._array=new Float32Array(3*r.length)),t=0,i=r.length;i>t;++t)e._array[3*t]=r[t].x,e._array[3*t+1]=r[t].y,e._array[3*t+2]=r[t].z;s.uniform3fv(o,e._array);break;case"v4v":for(e._array||(e._array=new Float32Array(4*r.length)),t=0,i=r.length;i>t;++t)e._array[4*t]=r[t].x,e._array[4*t+1]=r[t].y,e._array[4*t+2]=r[t].z,e._array[4*t+3]=r[t].w;s.uniform4fv(o,e._array);break;case"t":case"sampler2D":if(!e.value||!e.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=e.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(e),a=e.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(e._location,this.textureCount),this.textureCount++}},o.prototype.syncUniforms=function(){this.textureCount=1;for(var e in this.uniforms)this.syncUniform(this.uniforms[e])},o.prototype.initSampler2D=function(e){var t=this.gl,i=e.value.baseTexture;if(i.hasLoaded)if(e.textureData){var o=e.textureData;i._glTextures[t.id]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,o.luminance?t.LUMINANCE:t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o.magFilter?o.magFilter:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o.wrapS?o.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o.wrapS?o.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o.wrapT?o.wrapT:t.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(i)},o.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},o.prototype._glCompile=function(e,t){var i=this.gl.createShader(e);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:null}},{"../../../utils":77}],62:[function(e,t,i){function o(e,t,i,r,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(r)for(var h in r)a[h]=r[h];var c={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var l in s)c[l]=s[l];t=t||o.defaultVertexSrc,i=i||o.defaultFragmentSrc,n.call(this,e,t,i,a,c)}var n=e("./Shader");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),o.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":61}],63:[function(e,t,i){function o(e){n.call(this,e)}var n=e("../managers/WebGLManager");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.start=function(){},o.prototype.stop=function(){this.flush()},o.prototype.flush=function(){},o.prototype.render=function(e){}},{"../managers/WebGLManager":58}],64:[function(e,t,i){function o(e){this.gl=e,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,128,e.DYNAMIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.upload()}o.prototype.constructor=o,o.prototype.map=function(e,t){var i=0,o=0;this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+t.width/e.width,this.uvs[3]=o,this.uvs[4]=i+t.width/e.width,this.uvs[5]=o+t.height/e.height,this.uvs[6]=i,this.uvs[7]=o+t.height/e.height,i=t.x,o=t.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+t.width,this.vertices[3]=o,this.vertices[4]=i+t.width,this.vertices[5]=o+t.height,this.vertices[6]=i,this.vertices[7]=o+t.height,this.upload()},o.prototype.upload=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,32,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,64,this.colors)},o.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},t.exports=o},{}],65:[function(e,t,i){var o=e("../../../math"),n=e("../../../utils"),r=e("../../../const"),s=e("./StencilMaskStack"),a=function(e,t,i,a,h,c){if(this.gl=e,this.frameBuffer=null,this.texture=null,this.size=new o.Rectangle(0,0,1,1),this.resolution=h||r.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||r.SCALE_MODES.DEFAULT,this.root=c,!this.root){this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,a===r.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,a===r.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST);var l=n.isPowerOfTwo(t,i);l?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}this.resize(t,i)};a.prototype.constructor=a,t.exports=a,a.prototype.clear=function(e){var t=this.gl;e&&t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var e=this.gl;this.stencilBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencilBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer);var t=this.frame||this.size;this.calculateProjection(t),this.transform&&this.projectionMatrix.append(this.transform),e.viewport(0,0,t.width*this.resolution,t.height*this.resolution)},a.prototype.calculateProjection=function(e){var t=this.projectionMatrix;t.identity(),this.root?(t.a=1/e.width*2,t.d=-1/e.height*2,t.tx=-1-e.x*t.a,t.ty=1-e.y*t.d):(t.a=1/e.width*2,t.d=1/e.height*2,t.tx=-1-e.x*t.a,t.ty=-1-e.y*t.d)},a.prototype.resize=function(e,t){if(e=0|e,t=0|t,this.size.width!==e||this.size.height!==t){if(this.size.width=e,this.size.height=t,!this.root){var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e*this.resolution,t*this.resolution,0,i.RGBA,i.UNSIGNED_BYTE,null),this.stencilBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencilBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e*this.resolution,t*this.resolution))}var o=this.frame||this.size;this.calculateProjection(o)}},a.prototype.destroy=function(){var e=this.gl;e.deleteRenderbuffer(this.stencilBuffer),e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":33,"../../../utils":77,"./StencilMaskStack":66}],66:[function(e,t,i){function o(){this.stencilStack=[],this.reverse=!0,this.count=0}o.prototype.constructor=o,t.exports=o},{}],67:[function(e,t,i){function o(e){s.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=e||r.EMPTY}var n=e("../math"),r=e("../textures/Texture"),s=e("../display/Container"),a=e("../renderers/canvas/utils/CanvasTinter"),h=e("../utils"),c=e("../const"),l=new n.Point,p=n.GroupD8,u=new n.Matrix;o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(e){var t=h.sign(this.scale.x)||1;this.scale.x=t*e/this.texture._frame.width,this._width=e}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(e){var t=h.sign(this.scale.y)||1;this.scale.y=t*e/this.texture._frame.height,this._height=e}},texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,this.cachedTint=16777215,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),o.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=h.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=h.sign(this.scale.y)*this._height/this.texture.frame.height)},o.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this)},o.prototype.getBounds=function(e){if(!this._currentBounds){var t,i,o,n,r=this._texture._frame.width,s=this._texture._frame.height,a=r*(1-this.anchor.x),h=r*-this.anchor.x,c=s*(1-this.anchor.y),l=s*-this.anchor.y,p=e||this.worldTransform,u=p.a,d=p.b,g=p.c,f=p.d,m=p.tx,v=p.ty,y=u*h+g*l+m,_=f*l+d*h+v,x=u*a+g*l+m,w=f*l+d*a+v,b=u*a+g*c+m,k=f*c+d*a+v,S=u*h+g*c+m,T=f*c+d*h+v;if(t=y,t=t>x?x:t,t=t>b?b:t,t=t>S?S:t,o=_,o=o>w?w:o,o=o>k?k:o,o=o>T?T:o,i=y,i=x>i?x:i,i=b>i?b:i,i=S>i?S:i,n=_,n=w>n?w:n,n=k>n?k:n,n=T>n?T:n,this.children.length){var C=this.containerGetBounds();a=C.x,h=C.x+C.width,c=C.y,l=C.y+C.height,t=a>t?t:a,o=c>o?o:c,i=i>h?i:h,n=n>l?n:l}var M=this._bounds;M.x=t,M.width=i-t,M.y=o,M.height=n-o,this._currentBounds=M}return this._currentBounds},o.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},o.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,l);var t,i=this._texture._frame.width,o=this._texture._frame.height,n=-i*this.anchor.x;return l.x>n&&l.x<n+i&&(t=-o*this.anchor.y,l.y>t&&l.y<t+o)},o.prototype._renderCanvas=function(e){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var t=e.blendModes[this.blendMode];if(t!==e.context.globalCompositeOperation&&(e.context.globalCompositeOperation=t),this.texture.valid){var i,o,n=this._texture,r=this.worldTransform,s=n.crop.width,h=n.crop.height;e.context.globalAlpha=this.worldAlpha;var l=n.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;e.smoothProperty&&e.context[e.smoothProperty]!==l&&(e.context[e.smoothProperty]=l),2===(3&n.rotate)&&(s=n.crop.height,h=n.crop.width),n.trim?(i=n.crop.width/2+n.trim.x-this.anchor.x*n.trim.width,o=n.crop.height/2+n.trim.y-this.anchor.y*n.trim.height):(i=(.5-this.anchor.x)*n._frame.width,o=(.5-this.anchor.y)*n._frame.height),n.rotate&&(r.copy(u),r=u,p.matrixAppendRotationInv(r,n.rotate,i,o),i=0,o=0),i-=s/2,o-=h/2,e.roundPixels?(e.context.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution|0,r.ty*e.resolution|0),i=0|i,o=0|o):e.context.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution);var d=n.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,s*d,h*d,i*e.resolution,o*e.resolution,s*e.resolution,h*e.resolution)):e.context.drawImage(n.baseTexture.source,n.crop.x*d,n.crop.y*d,s*d,h*d,i*e.resolution,o*e.resolution,s*e.resolution,h*e.resolution)}}},o.prototype.destroy=function(e,t){s.prototype.destroy.call(this),this.anchor=null,e&&this._texture.destroy(t),this._texture=null,this.shader=null},o.fromFrame=function(e){var t=h.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new o(t)},o.fromImage=function(e,t,i){return new o(r.fromImage(e,t,i))}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasTinter":48,"../textures/Texture":72,"../utils":77}],68:[function(e,t,i){function o(e){n.call(this,e),this.vertSize=5,this.IOSFix=!0,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var t=4*this.size*this.vertByteSize,i=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(i);for(var o=0,r=0;i>o;o+=6,r+=4)this.indices[o+0]=r+0,this.indices[o+1]=r+1,this.indices[o+2]=r+2,this.indices[o+3]=r+0,this.indices[o+4]=r+2,this.indices[o+5]=r+3;this.currentBatchSize=0,this.sprites=[],this.shader=null,this.vertexBufferCount=0,this.vertexBufferMax=1,this.vertexBuffers=[],e.on("prerender",this.onPrerender,this)}var n=e("../../renderers/webgl/utils/ObjectRenderer"),r=e("../../renderers/webgl/WebGLRenderer"),s=e("../../const");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,r.registerPlugin("sprite",o),o.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader;for(var t=0;t<this.vertexBufferMax;t++)this.vertexBuffers[t]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffers[t]),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW);this.vertexBuffer=this.vertexBuffers[0],e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.currentBlendMode=99999},o.prototype.onPrerender=function(){this.vertexBufferCount=0},o.prototype.render=function(e){var t=e._texture;this.currentBatchSize>=this.size&&this.flush();var i=t._uvs;if(i){var o,n,r,s,a=e.anchor.x,h=e.anchor.y;if(t.trim&&void 0===e.tileScale){var c=t.trim;n=c.x-a*c.width,o=n+t.crop.width,s=c.y-h*c.height,r=s+t.crop.height}else o=t._frame.width*(1-a),n=t._frame.width*-a,r=t._frame.height*(1-h),s=t._frame.height*-h;var l=this.currentBatchSize*this.vertByteSize,p=e.worldTransform,u=p.a,d=p.b,g=p.c,f=p.d,m=p.tx,v=p.ty,y=this.colors,_=this.positions;if(this.renderer.roundPixels){var x=this.renderer.resolution;_[l]=((u*n+g*s+m)*x|0)/x,_[l+1]=((f*s+d*n+v)*x|0)/x,_[l+5]=((u*o+g*s+m)*x|0)/x,_[l+6]=((f*s+d*o+v)*x|0)/x,_[l+10]=((u*o+g*r+m)*x|0)/x,_[l+11]=((f*r+d*o+v)*x|0)/x,_[l+15]=((u*n+g*r+m)*x|0)/x,_[l+16]=((f*r+d*n+v)*x|0)/x}else _[l]=u*n+g*s+m,_[l+1]=f*s+d*n+v,_[l+5]=u*o+g*s+m,_[l+6]=f*s+d*o+v,_[l+10]=u*o+g*r+m,_[l+11]=f*r+d*o+v,_[l+15]=u*n+g*r+m,_[l+16]=f*r+d*n+v;_[l+2]=i.x0,_[l+3]=i.y0,_[l+7]=i.x1,_[l+8]=i.y1,_[l+12]=i.x2,_[l+13]=i.y2,_[l+17]=i.x3,_[l+18]=i.y3;var w=e.tint;y[l+4]=y[l+9]=y[l+14]=y[l+19]=(w>>16)+(65280&w)+((255&w)<<16)+(255*e.worldAlpha<<24),this.sprites[this.currentBatchSize++]=e}},o.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.renderer.gl;if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var i=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);t.bufferSubData(t.ARRAY_BUFFER,0,i)}for(var o,n,r,s,a=0,h=0,c=null,l=this.renderer.blendModeManager.currentBlendMode,p=null,u=!1,d=!1,g=0,f=this.currentBatchSize;f>g;g++)s=this.sprites[g],o=s._texture.baseTexture,n=s.blendMode,r=s.shader||this.shader,u=l!==n,d=p!==r,(c!==o||u||d)&&(this.renderBatch(c,a,h),h=g,a=0,c=o,u&&(l=n,this.renderer.blendModeManager.setBlendMode(l)),d&&(p=r,e=p.shaders?p.shaders[t.id]:p,e||(e=p.getShader(this.renderer)),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),t.activeTexture(t.TEXTURE0))),a++;this.renderBatch(c,a,h),this.currentBatchSize=0,this.IOSFix&&this.nextBuffer()}},o.prototype.renderBatch=function(e,t,i){if(0!==t){var o=this.renderer.gl;e._glTextures[o.id]?o.bindTexture(o.TEXTURE_2D,e._glTextures[o.id]):this.renderer.updateTexture(e),o.drawElements(o.TRIANGLES,6*t,o.UNSIGNED_SHORT,6*i*2),this.renderer.drawCount++}},o.prototype.start=function(){var e=this.renderer.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.nextBuffer()},o.prototype.nextBuffer=function(){var e=this.renderer.gl;this.vertexBufferCount>this.vertexBufferMax-1?(this.vertexBufferMax++,this.vertexBuffers[this.vertexBufferCount]=e.createBuffer(),this.vertexBuffer=this.vertexBuffers[this.vertexBufferCount],e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)):(this.vertexBuffer=this.vertexBuffers[this.vertexBufferCount],e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer));var t=this.vertByteSize;e.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,e.FLOAT,!1,t,0),e.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,e.FLOAT,!1,t,8),e.vertexAttribPointer(this.shader.attributes.aColor,4,e.UNSIGNED_BYTE,!0,t,16),this.vertexBufferCount++},o.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63}],69:[function(e,t,i){function o(e,t,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||h.RESOLUTION,this._text=null,this._style=null;var o=r.fromCanvas(this.canvas);o.trim=new s.Rectangle,n.call(this,o),this.text=e,this.style=t}var n=e("../sprites/Sprite"),r=e("../textures/Texture"),s=e("../math"),a=e("../utils"),h=e("../const");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,
t.exports=o,o.fontPropertiesCache={},o.fontPropertiesCanvas=document.createElement("canvas"),o.fontPropertiesContext=o.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(o.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(e){this.scale.x=e/this._texture._frame.width,this._width=e}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(e){this.scale.y=e/this._texture._frame.height,this._height=e}},style:{get:function(){return this._style},set:function(e){e=e||{},"number"==typeof e.fill&&(e.fill=a.hex2string(e.fill)),"number"==typeof e.stroke&&(e.stroke=a.hex2string(e.stroke)),"number"==typeof e.dropShadowColor&&(e.dropShadowColor=a.hex2string(e.dropShadowColor)),e.font=e.font||"bold 20pt Arial",e.fill=e.fill||"black",e.align=e.align||"left",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.breakWords=e.breakWords||!1,e.letterSpacing=e.letterSpacing||0,e.dropShadow=e.dropShadow||!1,e.dropShadowColor=e.dropShadowColor||"#000000",e.dropShadowAngle=void 0!==e.dropShadowAngle?e.dropShadowAngle:Math.PI/6,e.dropShadowDistance=void 0!==e.dropShadowDistance?e.dropShadowDistance:5,e.dropShadowBlur=void 0!==e.dropShadowBlur?e.dropShadowBlur:0,e.padding=e.padding||0,e.textBaseline=e.textBaseline||"alphabetic",e.lineJoin=e.lineJoin||"miter",e.miterLimit=e.miterLimit||10,this._style=e,this.dirty=!0}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),o.prototype.updateText=function(){var e=this._style;this.context.font=e.font;for(var t=e.wordWrap?this.wordWrap(this._text):this._text,i=t.split(/(?:\r\n|\r|\n)/),o=new Array(i.length),n=0,r=this.determineFontProperties(e.font),s=0;s<i.length;s++){var a=this.context.measureText(i[s]).width+(i[s].length-1)*e.letterSpacing;o[s]=a,n=Math.max(n,a)}var h=n+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance),this.canvas.width=Math.ceil((h+this.context.lineWidth)*this.resolution);var c=this.style.lineHeight||r.fontSize+e.strokeThickness,l=c*i.length;e.dropShadow&&(l+=e.dropShadowDistance),this.canvas.height=Math.ceil((l+2*this._style.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=e.font,this.context.strokeStyle=e.stroke,this.context.lineWidth=e.strokeThickness,this.context.textBaseline=e.textBaseline,this.context.lineJoin=e.lineJoin,this.context.miterLimit=e.miterLimit;var p,u;if(e.dropShadow){e.dropShadowBlur>0?(this.context.shadowColor=e.dropShadowColor,this.context.shadowBlur=e.dropShadowBlur):this.context.fillStyle=e.dropShadowColor;var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,g=Math.sin(e.dropShadowAngle)*e.dropShadowDistance;for(s=0;s<i.length;s++)p=e.strokeThickness/2,u=e.strokeThickness/2+s*c+r.ascent,"right"===e.align?p+=n-o[s]:"center"===e.align&&(p+=(n-o[s])/2),e.fill&&this.drawLetterSpacing(i[s],p+d,u+g+e.padding)}for(this.context.fillStyle=e.fill,s=0;s<i.length;s++)p=e.strokeThickness/2,u=e.strokeThickness/2+s*c+r.ascent,"right"===e.align?p+=n-o[s]:"center"===e.align&&(p+=(n-o[s])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(i[s],p,u+e.padding,!0),e.fill&&this.drawLetterSpacing(i[s],p,u+e.padding);this.updateTexture()},o.prototype.drawLetterSpacing=function(e,t,i,o){var n=this._style,r=n.letterSpacing;if(0===r)return void(o?this.context.strokeText(e,t,i):this.context.fillText(e,t,i));for(var s,a=String.prototype.split.call(e,""),h=0,c=t;h<e.length;)s=a[h++],o?this.context.strokeText(s,c,i):this.context.fillText(s,c,i),c+=this.context.measureText(s).width+r},o.prototype.updateTexture=function(){var e=this._texture,t=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.crop.width=e._frame.width=this.canvas.width/this.resolution,e.crop.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=0,e.trim.y=-t.padding,e.trim.width=e._frame.width,e.trim.height=e._frame.height-2*t.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},o.prototype.renderWebGL=function(e){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,e)},o.prototype._renderCanvas=function(e){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,e)},o.prototype.determineFontProperties=function(e){var t=o.fontPropertiesCache[e];if(!t){t={};var i=o.fontPropertiesCanvas,n=o.fontPropertiesContext;n.font=e;var r=Math.ceil(n.measureText("|MÉq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,i.width=r,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,r,a),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,s);var h,c,l=n.getImageData(0,0,r,a).data,p=l.length,u=4*r,d=0,g=!1;for(h=0;s>h;h++){for(c=0;u>c;c+=4)if(255!==l[d+c]){g=!0;break}if(g)break;d+=u}for(t.ascent=s-h,d=p-u,g=!1,h=a;h>s;h--){for(c=0;u>c;c+=4)if(255!==l[d+c]){g=!0;break}if(g)break;d-=u}t.descent=h-s,t.fontSize=t.ascent+t.descent,o.fontPropertiesCache[e]=t}return t},o.prototype.wordWrap=function(e){for(var t="",i=e.split("\n"),o=this._style.wordWrapWidth,n=0;n<i.length;n++){for(var r=o,s=i[n].split(" "),a=0;a<s.length;a++){var h=this.context.measureText(s[a]).width;if(this._style.breakWords&&h>o)for(var c=s[a].split(""),l=0;l<c.length;l++){var p=this.context.measureText(c[l]).width;p>r?(t+="\n"+c[l],r=o-p):(0===l&&(t+=" "),t+=c[l],r-=p)}else{var u=h+this.context.measureText(" ").width;0===a||u>r?(a>0&&(t+="\n"),t+=s[a],r=o-h):(r-=u,t+=" "+s[a])}}n<i.length-1&&(t+="\n")}return t},o.prototype.getBounds=function(e){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,e)},o.prototype.destroy=function(e){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===e?!0:e)}},{"../const":22,"../math":33,"../sprites/Sprite":67,"../textures/Texture":72,"../utils":77}],70:[function(e,t,i){function o(e,t,i){s.call(this),this.uid=n.uid(),this.resolution=i||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=t||r.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},e&&this.loadSource(e)}var n=e("../utils"),r=e("../const"),s=e("eventemitter3");o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},o.prototype.loadSource=function(e){var t=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=e,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!e.getContext){this.isLoading=!0;var i=this;e.onload=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),i.emit("loaded",i))},e.onerror=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},e.complete&&e.src&&(this.isLoading=!1,e.onload=null,e.onerror=null,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this))}},o.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},o.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},o.prototype.dispose=function(){this.emit("dispose",this)},o.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},o.fromImage=function(e,t,i){var r=n.BaseTextureCache[e];if(void 0===t&&0!==e.indexOf("data:")&&(t=!0),!r){var s=new Image;t&&(s.crossOrigin=""),r=new o(s,i),r.imageUrl=e,s.src=e,n.BaseTextureCache[e]=r,r.resolution=n.getResolutionOfUrl(e)}return r},o.fromCanvas=function(e,t){e._pixiId||(e._pixiId="canvas_"+n.uid());var i=n.BaseTextureCache[e._pixiId];return i||(i=new o(e,t),n.BaseTextureCache[e._pixiId]=i),i}},{"../const":22,"../utils":77,eventemitter3:10}],71:[function(e,t,i){function o(e,t,i,o,p){if(!e)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");t=t||100,i=i||100,p=p||l.RESOLUTION;var u=new n;if(u.width=t,u.height=i,u.resolution=p,u.scaleMode=o||l.SCALE_MODES.DEFAULT,u.hasLoaded=!0,r.call(this,u,new c.Rectangle(0,0,t,i)),this.width=t,this.height=i,this.resolution=p,this.render=null,this.renderer=e,this.renderer.type===l.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,u.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(t,i),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=e("./BaseTexture"),r=e("./Texture"),s=e("../renderers/webgl/utils/RenderTarget"),a=e("../renderers/webgl/managers/FilterManager"),h=e("../renderers/canvas/utils/CanvasBuffer"),c=e("../math"),l=e("../const"),p=new c.Matrix;o.prototype=Object.create(r.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.resize=function(e,t,i){e===this.width&&t===this.height||(this.valid=e>0&&t>0,this.width=this._frame.width=this.crop.width=e,this.height=this._frame.height=this.crop.height=t,i&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},o.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},o.prototype.renderWebGL=function(e,t,i,o){if(this.valid){if(o=void 0!==o?o:!0,this.textureBuffer.transform=t,this.textureBuffer.activate(),e.worldAlpha=1,o){e.worldTransform.identity(),e.currentBounds=null;var n,r,s=e.children;for(n=0,r=s.length;r>n;++n)s[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(e,this.textureBuffer,i),this.renderer.filterManager=a}},o.prototype.renderCanvas=function(e,t,i,o){if(this.valid){o=!!o;var n=p;n.identity(),t&&n.append(t);var r=e.worldTransform;e.worldTransform=n,e.worldAlpha=1;var s,a,h=e.children;for(s=0,a=h.length;a>s;++s)h[s].updateTransform();i&&this.textureBuffer.clear();var c=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,c),this.renderer.resolution=l,e.worldTransform===n&&(e.worldTransform=r)}},o.prototype.destroy=function(){r.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},o.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},o.prototype.getBase64=function(){return this.getCanvas().toDataURL()},o.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var e=this.renderer.gl,t=this.textureBuffer.size.width,i=this.textureBuffer.size.height,o=new Uint8Array(4*t*i);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,t,i,e.RGBA,e.UNSIGNED_BYTE,o),e.bindFramebuffer(e.FRAMEBUFFER,null);var n=new h(t,i),r=n.context.getImageData(0,0,t,i);return r.data.set(o),n.context.putImageData(r,0,0),n.canvas}return this.textureBuffer.canvas},o.prototype.getPixels=function(){var e,t;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var i=this.renderer.gl;e=this.textureBuffer.size.width,t=this.textureBuffer.size.height;var o=new Uint8Array(4*e*t);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,e,t,i.RGBA,i.UNSIGNED_BYTE,o),i.bindFramebuffer(i.FRAMEBUFFER,null),o}return e=this.textureBuffer.canvas.width,t=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,e,t).data},o.prototype.getPixel=function(e,t){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var i=this.renderer.gl,o=new Uint8Array(4);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(e,t,1,1,i.RGBA,i.UNSIGNED_BYTE,o),i.bindFramebuffer(i.FRAMEBUFFER,null),o}return this.textureBuffer.canvas.getContext("2d").getImageData(e,t,1,1).data}},{"../const":22,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/webgl/managers/FilterManager":54,"../renderers/webgl/utils/RenderTarget":65,"./BaseTexture":70,"./Texture":72}],72:[function(e,t,i){function o(e,t,i,n,r){if(a.call(this),this.noFrame=!1,t||(this.noFrame=!0,t=new h.Rectangle(0,0,1,1)),e instanceof o&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||t,this._rotate=+(r||0),r===!0)this._rotate=2;else if(this._rotate%2!==0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";e.hasLoaded?(this.noFrame&&(t=new h.Rectangle(0,0,e.width,e.height),e.on("update",this.onBaseTextureUpdated,this)),this.frame=t):e.once("loaded",this.onBaseTextureLoaded,this)}var n=e("./BaseTexture"),r=e("./VideoBaseTexture"),s=e("./TextureUvs"),a=e("eventemitter3"),h=e("../math"),c=e("../utils");o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{frame:{get:function(){return this._frame},set:function(e){if(this._frame=e,this.noFrame=!1,this.width=e.width,this.height=e.height,!this.trim&&!this.rotate&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=e,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}}}),o.prototype.update=function(){this.baseTexture.update()},o.prototype.onBaseTextureLoaded=function(e){this.noFrame?this.frame=new h.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.emit("update",this)},o.prototype.onBaseTextureUpdated=function(e){this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},o.prototype.destroy=function(e){this.baseTexture&&(e&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},o.prototype.clone=function(){return new o(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},o.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},o.fromImage=function(e,t,i){var r=c.TextureCache[e];return r||(r=new o(n.fromImage(e,t,i)),c.TextureCache[e]=r),r},o.fromFrame=function(e){var t=c.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},o.fromCanvas=function(e,t){return new o(n.fromCanvas(e,t))},o.fromVideo=function(e,t){return"string"==typeof e?o.fromVideoUrl(e,t):new o(r.fromVideo(e,t))},o.fromVideoUrl=function(e,t){return new o(r.fromUrl(e,t))},o.addTextureToCache=function(e,t){c.TextureCache[t]=e},o.removeTextureFromCache=function(e){var t=c.TextureCache[e];return delete c.TextureCache[e],delete c.BaseTextureCache[e],t},o.EMPTY=new o(new n)},{"../math":33,"../utils":77,"./BaseTexture":70,"./TextureUvs":73,"./VideoBaseTexture":74,eventemitter3:10}],73:[function(e,t,i){function o(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}t.exports=o;var n=e("../math/GroupD8");o.prototype.set=function(e,t,i){var o=t.width,r=t.height;if(i){var s=n.isSwapWidthHeight(i),a=(s?e.height:e.width)/2/o,h=(s?e.width:e.height)/2/r,c=e.x/o+a,l=e.y/r+h;i=n.add(i,n.NW),this.x0=c+a*n.uX(i),this.y0=l+h*n.uY(i),i=n.add(i,2),this.x1=c+a*n.uX(i),this.y1=l+h*n.uY(i),i=n.add(i,2),this.x2=c+a*n.uX(i),this.y2=l+h*n.uY(i),i=n.add(i,2),this.x3=c+a*n.uX(i),this.y3=l+h*n.uY(i)}else this.x0=e.x/o,this.y0=e.y/r,this.x1=(e.x+e.width)/o,this.y1=e.y/r,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/r,this.x3=e.x/o,this.y3=(e.y+e.height)/r}},{"../math/GroupD8":30}],74:[function(e,t,i){function o(e,t){if(!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),r.call(this,e,t),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),e.complete||(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=t,i}var r=e("./BaseTexture"),s=e("../utils");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,t.exports=o,o.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},o.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},o.prototype._onPlayStop=function(){this.autoUpdate=!1},o.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},o.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),r.prototype.destroy.call(this)},o.fromVideo=function(e,t){e._pixiId||(e._pixiId="video_"+s.uid());var i=s.BaseTextureCache[e._pixiId];return i||(i=new o(e,t),s.BaseTextureCache[e._pixiId]=i),i},o.fromUrl=function(e,t){var i=document.createElement("video");if(Array.isArray(e))for(var r=0;r<e.length;++r)i.appendChild(n(e[r].src||e[r],e[r].mime));else i.appendChild(n(e.src||e,e.mime));return i.load(),i.play(),o.fromVideo(i,t)},o.fromUrls=o.fromUrl},{"../utils":77,"./BaseTexture":70}],75:[function(e,t,i){function o(){var e=this;this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(s,!0)&&(e._requestId=requestAnimationFrame(e._tick)))},this._emitter=new r,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=e("../const"),r=e("eventemitter3"),s="tick";Object.defineProperties(o.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/t}}}),o.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},o.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},o.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},o.prototype.add=function(e,t){return this._emitter.on(s,e,t),this._startIfPossible(),this},o.prototype.addOnce=function(e,t){return this._emitter.once(s,e,t),this._startIfPossible(),this},o.prototype.remove=function(e,t){return this._emitter.off(s,e,t),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},o.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},o.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},o.prototype.update=function(e){var t;e=e||performance.now(),t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*n.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=e},t.exports=o},{"../const":22,eventemitter3:10}],76:[function(e,t,i){var o=e("./Ticker"),n=new o;n.autoStart=!0,t.exports={shared:n,Ticker:o}},{"./Ticker":75}],77:[function(e,t,i){var o=e("../const"),n=t.exports={_uid:0,_saidHello:!1,EventEmitter:e("eventemitter3"),pluginTarget:e("./pluginTarget"),async:e("async"),uid:function(){return++n._uid},hex2rgb:function(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},hex2string:function(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e},rgb2hex:function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;i.src=e+"AP804Oa6"+t;var o=new Image;o.src=e+"/wCKxvRF"+t;var n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(i,0,0),r.drawImage(o,2,0);var s=r.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(e){if(e>0&&0===(e&e-1))return e;for(var t=1;e>t;)t<<=1;return t},isPowerOfTwo:function(e,t){return e>0&&0===(e&e-1)&&t>0&&0===(t&t-1)},getResolutionOfUrl:function(e){var t=o.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):1},sayHello:function(e){if(!n._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c Pixi.js "+o.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Pixi.js "+o.VERSION+" - "+e+" - http://www.pixijs.com/");n._saidHello=!0}},isWebGLSupported:function(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!(!i||!i.getContextAttributes().stencil)}catch(o){return!1}},sign:function(e){return e?0>e?-1:1:0},removeItems:function(e,t,i){var o=e.length;if(!(t>=o||0===i)){i=t+i>o?o-t:i;for(var n=t,r=o-i;r>n;++n)e[n]=e[n+i];e.length=r}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":78,async:1,eventemitter3:10}],78:[function(e,t,i){function o(e){e.__plugins={},e.registerPlugin=function(t,i){e.__plugins[t]=i},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}t.exports={mixin:function(e){o(e)}}},{}],79:[function(e,t,i){var o=e("./core"),n=e("./mesh"),r=e("./extras"),s=e("./filters");o.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},o.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(o,{Stage:{get:function(){return o.Container}},DisplayObjectContainer:{get:function(){return o.Container}},Strip:{get:function(){return n.Mesh}},Rope:{get:function(){return n.Rope}},MovieClip:{get:function(){return r.MovieClip}},TilingSprite:{get:function(){return r.TilingSprite}},BitmapText:{get:function(){return r.BitmapText}},blendModes:{get:function(){return o.BLEND_MODES}},scaleModes:{get:function(){return o.SCALE_MODES}},BaseTextureCache:{get:function(){return o.utils.BaseTextureCache}},TextureCache:{get:function(){return o.utils.TextureCache}},math:{get:function(){return o}}}),o.Sprite.prototype.setTexture=function(e){void(this.texture=e)},r.BitmapText.prototype.setText=function(e){void(this.text=e)},o.Text.prototype.setText=function(e){void(this.text=e)},o.Text.prototype.setStyle=function(e){void(this.style=e)},o.Texture.prototype.setFrame=function(e){void(this.frame=e)},Object.defineProperties(s,{AbstractFilter:{get:function(){return o.AbstractFilter}},FXAAFilter:{get:function(){return o.FXAAFilter}},SpriteMaskFilter:{get:function(){return o.SpriteMaskFilter}}}),o.utils.uuid=function(){return o.utils.uid()}},{"./core":29,"./extras":86,"./filters":103,"./mesh":128}],80:[function(e,t,i){function o(e,t){n.Container.call(this),t=t||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==t.tint?t.tint:16777215,align:t.align||"left",name:null,size:0},this.font=t.font,this._text=e,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var n=e("../core");o.prototype=Object.create(n.Container.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{tint:{get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):o.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),o.prototype.updateText=function(){for(var e=o.fonts[this._font.name],t=new n.Point,i=null,r=[],s=0,a=0,h=[],c=0,l=this._font.size/e.size,p=-1,u=0,d=0;d<this.text.length;d++){var g=this.text.charCodeAt(d);if(p=/(\s)/.test(this.text.charAt(d))?d:p,/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))h.push(s),a=Math.max(a,s),c++,t.x=0,t.y+=e.lineHeight,i=null;else if(-1!==p&&this.maxWidth>0&&t.x*l>this.maxWidth)n.utils.removeItems(r,p,d-p),d=p,p=-1,h.push(s),a=Math.max(a,s),c++,t.x=0,t.y+=e.lineHeight,i=null;else{var f=e.chars[g];f&&(i&&f.kerning[i]&&(t.x+=f.kerning[i]),r.push({texture:f.texture,line:c,charCode:g,position:new n.Point(t.x+f.xOffset,t.y+f.yOffset)}),s=t.x+(f.texture.width+f.xOffset),t.x+=f.xAdvance,u=Math.max(u,f.yOffset+f.texture.height),i=g)}}h.push(s),a=Math.max(a,s);var m=[];for(d=0;c>=d;d++){var v=0;"right"===this._font.align?v=a-h[d]:"center"===this._font.align&&(v=(a-h[d])/2),m.push(v)}var y=r.length,_=this.tint;for(d=0;y>d;d++){var x=this._glyphs[d];x?x.texture=r[d].texture:(x=new n.Sprite(r[d].texture),this._glyphs.push(x)),x.position.x=(r[d].position.x+m[r[d].line])*l,x.position.y=r[d].position.y*l,x.scale.x=x.scale.y=l,x.tint=_,x.parent||this.addChild(x)}for(d=y;d<this._glyphs.length;++d)this.removeChild(this._glyphs[d]);this.textWidth=a*l,this.textHeight=(t.y+e.lineHeight)*l,this.maxLineHeight=u*l},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},o.fonts={}},{"../core":29}],81:[function(e,t,i){function o(e){n.Sprite.call(this,e[0]instanceof n.Texture?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=e("../core");o.prototype=Object.create(n.Sprite.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(e){if(e[0]instanceof n.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}}},currentFrame:{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e}}}),o.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},o.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},o.prototype.gotoAndStop=function(e){this.stop(),this._currentTime=e,this._texture=this._textures[this.currentFrame]},o.prototype.gotoAndPlay=function(e){this._currentTime=e,this.play()},o.prototype.update=function(e){var t=this.animationSpeed*e;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;0>i;)this._currentTime--,i+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},o.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},o.fromFrames=function(e){for(var t=[],i=0;i<e.length;++i)t.push(new n.Texture.fromFrame(e[i]));return new o(t)},o.fromImages=function(e){for(var t=[],i=0;i<e.length;++i)t.push(new n.Texture.fromImage(e[i]));return new o(t)}},{"../core":29}],82:[function(e,t,i){function o(e,t,i){n.Sprite.call(this,e),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=t||100,this._height=i||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{
uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=e("../core"),r=new n.Point,s=e("../core/renderers/canvas/utils/CanvasTinter");o.prototype=Object.create(n.Sprite.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{width:{get:function(){return this._width},set:function(e){this._width=e}},height:{get:function(){return this._height},set:function(e){this._height=e}}}),o.prototype._onTextureUpdate=function(){},o.prototype._renderWebGL=function(e){var t=this._texture;if(t&&t._uvs){var i=t._uvs,o=t._frame.width,n=t._frame.height,r=t.baseTexture.width,s=t.baseTexture.height;t._uvs=this._uvs,t._frame.width=this.width,t._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/r,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=i.x0,this.shader.uniforms.uFrame.value[1]=i.y0,this.shader.uniforms.uFrame.value[2]=i.x1-i.x0,this.shader.uniforms.uFrame.value[3]=i.y2-i.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(o*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=r/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this),t._uvs=i,t._frame.width=o,t._frame.height=n}},o.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var i=e.context,o=this.worldTransform,r=e.resolution,a=t.baseTexture,h=this.tilePosition.x/this.tileScale.x%t._frame.width,c=this.tilePosition.y/this.tileScale.y%t._frame.height;if(!this._canvasPattern){var l=new n.CanvasBuffer(t._frame.width*r,t._frame.height*r);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(a.source,-t._frame.x*r,-t._frame.y*r),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*r,o.ty*r),i.scale(this.tileScale.x/r,this.tileScale.y/r),i.translate(h+this.anchor.x*-this._width,c+this.anchor.y*-this._height);var p=e.blendModes[this.blendMode];p!==e.context.globalCompositeOperation&&(i.globalCompositeOperation=p),i.fillStyle=this._canvasPattern,i.fillRect(-h,-c,this._width*r/this.tileScale.x,this._height*r/this.tileScale.y)}},o.prototype.getBounds=function(){var e,t,i,o,n=this._width,r=this._height,s=n*(1-this.anchor.x),a=n*-this.anchor.x,h=r*(1-this.anchor.y),c=r*-this.anchor.y,l=this.worldTransform,p=l.a,u=l.b,d=l.c,g=l.d,f=l.tx,m=l.ty,v=p*a+d*c+f,y=g*c+u*a+m,_=p*s+d*c+f,x=g*c+u*s+m,w=p*s+d*h+f,b=g*h+u*s+m,k=p*a+d*h+f,S=g*h+u*a+m;e=v,e=e>_?_:e,e=e>w?w:e,e=e>k?k:e,i=y,i=i>x?x:i,i=i>b?b:i,i=i>S?S:i,t=v,t=_>t?_:t,t=w>t?w:t,t=k>t?k:t,o=y,o=x>o?x:o,o=b>o?b:o,o=S>o?S:o;var T=this._bounds;return T.x=e,T.width=t-e,T.y=i,T.height=o-i,this._currentBounds=T,T},o.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,r);var t,i=this._width,o=this._height,n=-i*this.anchor.x;return r.x>n&&r.x<n+i&&(t=-o*this.anchor.y,r.y>t&&r.y<t+o)},o.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},o.fromFrame=function(e,t,i){var r=n.utils.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new o(r,t,i)},o.fromImage=function(e,t,i,r,s){return new o(n.Texture.fromImage(e,r,s),t,i)}},{"../core":29,"../core/renderers/canvas/utils/CanvasTinter":48}],83:[function(e,t,i){var o=e("../core"),n=o.DisplayObject,r=new o.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cachedSprite.worldAlpha=this.worldAlpha,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(e){if(!this._cachedSprite){e.currentRenderer.flush();var t=this.getLocalBounds().clone();if(this._filters){var i=this._filters[0].padding;t.x-=i,t.y-=i,t.width+=2*i,t.height+=2*i}var n=e.currentRenderTarget,s=e.filterManager.filterStack,a=new o.RenderTexture(e,0|t.width,0|t.height),h=r;h.tx=-t.x,h.ty=-t.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,h,!0,!0),e.setRenderTarget(n),e.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new o.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(e))},n.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cachedSprite){var t=this.getLocalBounds(),i=e.context,n=new o.RenderTexture(e,0|t.width,0|t.height),s=r;s.tx=-t.x,s.ty=-t.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,s,!0),e.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new o.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],84:[function(e,t,i){var o=e("../core");o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":29}],85:[function(e,t,i){var o=e("../core");o.DisplayObject.prototype.getGlobalPosition=function(e){return e=e||new o.Point,this.parent?(this.displayObjectUpdateTransform(),e.x=this.worldTransform.tx,e.y=this.worldTransform.ty):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":29}],86:[function(e,t,i){e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition"),t.exports={MovieClip:e("./MovieClip"),TilingSprite:e("./TilingSprite"),BitmapText:e("./BitmapText")}},{"./BitmapText":80,"./MovieClip":81,"./TilingSprite":82,"./cacheAsBitmap":83,"./getChildByName":84,"./getGlobalPosition":85}],87:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},{"../../core":29}],88:[function(e,t,i){function o(){n.AbstractFilter.call(this),this.blurXFilter=new r,this.blurYFilter=new s,this.defaultFilter=new n.AbstractFilter}var n=e("../../core"),r=e("../blur/BlurXFilter"),s=e("../blur/BlurYFilter");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(e,t,i),this.blurXFilter.applyFilter(e,t,o),e.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(e,o,i),e.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),e.filterManager.returnRenderTarget(o)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},{"../../core":29,"../blur/BlurXFilter":91,"../blur/BlurYFilter":92}],89:[function(e,t,i){function o(e,t){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:e||0},dirY:{type:"1f",value:t||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=e||0,this.dirY=t||0,this.strength=4}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i,o){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(n,t,i,o);else{var r=e.filterManager.getRenderTarget(!0);e.filterManager.applyFilter(n,t,r,o);for(var s=0;s<this.passes-2;s++)e.filterManager.applyFilter(n,r,r,o);e.filterManager.applyFilter(n,r,i,o),e.filterManager.returnRenderTarget(r)}},Object.defineProperties(o.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}},dirX:{get:function(){return this.dirX},set:function(e){this.uniforms.dirX.value=e}},dirY:{get:function(){return this.dirY},set:function(e){this.uniforms.dirY.value=e}}})},{"../../core":29}],90:[function(e,t,i){function o(){n.AbstractFilter.call(this),this.blurXFilter=new r,this.blurYFilter=new s}var n=e("../../core"),r=e("./BlurXFilter"),s=e("./BlurYFilter");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(e,t,o),this.blurYFilter.applyFilter(e,o,i),e.filterManager.returnRenderTarget(o)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.padding=.5*Math.abs(e),this.blurXFilter.blur=this.blurYFilter.blur=e}},passes:{get:function(){return this.blurXFilter.passes},set:function(e){this.blurXFilter.passes=this.blurYFilter.passes=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},{"../../core":29,"./BlurXFilter":91,"./BlurYFilter":92}],91:[function(e,t,i){function o(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i,o){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(n,t,i,o);else{for(var r=e.filterManager.getRenderTarget(!0),s=t,a=r,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,s,a,!0);var c=a;a=s,s=c}e.filterManager.applyFilter(n,s,i,o),e.filterManager.returnRenderTarget(r)}},Object.defineProperties(o.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},{"../../core":29}],92:[function(e,t,i){function o(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i,o){var n=this.getShader(e);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(n,t,i,o);else{for(var r=e.filterManager.getRenderTarget(!0),s=t,a=r,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,s,a,!0);var c=a;a=s,s=c}e.filterManager.applyFilter(n,s,i,o),e.filterManager.returnRenderTarget(r)}},Object.defineProperties(o.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},{"../../core":29}],93:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o},{"../../core":29}],94:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype._loadMatrix=function(e,t){t=!!t;var i=e;t&&(this._multiply(i,this.uniforms.m.value,e),i=this._colorMatrix(i)),this.uniforms.m.value=i},o.prototype._multiply=function(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19],e},o.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},o.prototype.brightness=function(e,t){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},o.prototype.greyscale=function(e,t){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},o.prototype.grayscale=o.prototype.greyscale,o.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var i=Math.cos(e),o=Math.sin(e),n=.213,r=.715,s=.072,a=[n+i*(1-n)+o*-n,r+i*-r+o*-r,s+i*-s+o*(1-s),0,0,n+i*-n+.143*o,r+i*(1-r)+.14*o,s+i*-s+o*-.283,0,0,n+i*-n+o*-(1-n),r+i*-r+o*r,s+i*(1-s)+o*s,0,0,0,0,0,1,0];this._loadMatrix(a,t)},o.prototype.contrast=function(e,t){var i=(e||0)+1,o=-128*(i-1),n=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(n,t)},o.prototype.saturate=function(e,t){var i=2*(e||0)/3+1,o=(i-1)*-.5,n=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(n,t)},o.prototype.desaturate=function(e){this.saturate(-1)},o.prototype.negative=function(e){var t=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.colorTone=function(e,t,i,o,n){e=e||.2,t=t||.15,i=i||16770432,o=o||3375104;var r=(i>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=(o>>16&255)/255,c=(o>>8&255)/255,l=(255&o)/255,p=[.3,.59,.11,0,0,r,s,a,e,0,h,c,l,t,0,r-h,s-c,a-l,0,0];this._loadMatrix(p,n)},o.prototype.night=function(e,t){e=e||.1;var i=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},o.prototype.predator=function(e,t){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,t)},o.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},o.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperties(o.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(e){this.uniforms.m.value=e}}})},{"../../core":29}],95:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(e){this.uniforms.step.value=e}}})},{"../../core":29}],96:[function(e,t,i){function o(e,t,i){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(e)},texelSize:{type:"v2",value:{x:1/t,y:1/i}}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(e){this.uniforms.matrix.value=new Float32Array(e)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(e){this.uniforms.texelSize.value.x=1/e}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(e){this.uniforms.texelSize.value.y=1/e}}})},{"../../core":29}],97:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o},{"../../core":29}],98:[function(e,t,i){function o(e,t){var i=new n.Matrix;e.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:e.texture},otherMatrix:{type:"mat3",value:i.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=e,this.maskMatrix=i,null!==t&&void 0!==t||(t=20),this.scale=new n.Point(t,t)}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager;o.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/t.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/t.frame.height);var n=this.getShader(e);o.applyFilter(n,t,i)},Object.defineProperties(o.prototype,{map:{get:function(){return this.uniforms.mapSampler.value;
},set:function(e){this.uniforms.mapSampler.value=e}}})},{"../../core":29}],99:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},{"../../core":29}],100:[function(e,t,i){function o(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i,o){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(n,t,i,o);else{for(var r=e.filterManager.getRenderTarget(!0),s=t,a=r,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,s,a,o);var c=a;a=s,s=c}e.filterManager.applyFilter(n,s,i,o),e.filterManager.returnRenderTarget(r)}},Object.defineProperties(o.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}}})},{"../../core":29}],101:[function(e,t,i){function o(){n.AbstractFilter.call(this),this.blurXFilter=new r,this.blurYTintFilter=new s,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=e("../../core"),r=e("../blur/BlurXFilter"),s=e("./BlurYTintFilter");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(e,t,o),e.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(e,o,i),e.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(e,t,i),e.filterManager.returnRenderTarget(o)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYTintFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(e){this.blurYTintFilter.blur=e}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(e){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(e)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(e){this.blurYTintFilter.uniforms.alpha.value=e}},distance:{get:function(){return this._distance},set:function(e){this._dirtyPosition=!0,this._distance=e}},angle:{get:function(){return this._angle},set:function(e){this._dirtyPosition=!0,this._angle=e}}})},{"../../core":29,"../blur/BlurXFilter":91,"./BlurYTintFilter":100}],102:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(e){this.uniforms.gray.value=e}}})},{"../../core":29}],103:[function(e,t,i){t.exports={AsciiFilter:e("./ascii/AsciiFilter"),BloomFilter:e("./bloom/BloomFilter"),BlurFilter:e("./blur/BlurFilter"),BlurXFilter:e("./blur/BlurXFilter"),BlurYFilter:e("./blur/BlurYFilter"),BlurDirFilter:e("./blur/BlurDirFilter"),ColorMatrixFilter:e("./color/ColorMatrixFilter"),ColorStepFilter:e("./color/ColorStepFilter"),ConvolutionFilter:e("./convolution/ConvolutionFilter"),CrossHatchFilter:e("./crosshatch/CrossHatchFilter"),DisplacementFilter:e("./displacement/DisplacementFilter"),DotScreenFilter:e("./dot/DotScreenFilter"),GrayFilter:e("./gray/GrayFilter"),DropShadowFilter:e("./dropshadow/DropShadowFilter"),InvertFilter:e("./invert/InvertFilter"),NoiseFilter:e("./noise/NoiseFilter"),PixelateFilter:e("./pixelate/PixelateFilter"),RGBSplitFilter:e("./rgb/RGBSplitFilter"),ShockwaveFilter:e("./shockwave/ShockwaveFilter"),SepiaFilter:e("./sepia/SepiaFilter"),SmartBlurFilter:e("./blur/SmartBlurFilter"),TiltShiftFilter:e("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:e("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:e("./tiltshift/TiltShiftYFilter"),TwistFilter:e("./twist/TwistFilter")}},{"./ascii/AsciiFilter":87,"./bloom/BloomFilter":88,"./blur/BlurDirFilter":89,"./blur/BlurFilter":90,"./blur/BlurXFilter":91,"./blur/BlurYFilter":92,"./blur/SmartBlurFilter":93,"./color/ColorMatrixFilter":94,"./color/ColorStepFilter":95,"./convolution/ConvolutionFilter":96,"./crosshatch/CrossHatchFilter":97,"./displacement/DisplacementFilter":98,"./dot/DotScreenFilter":99,"./dropshadow/DropShadowFilter":101,"./gray/GrayFilter":102,"./invert/InvertFilter":104,"./noise/NoiseFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],104:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(e){this.uniforms.invert.value=e}}})},{"../../core":29}],105:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(e){this.uniforms.noise.value=e}}})},{"../../core":29}],106:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},{"../../core":29}],107:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(e){this.uniforms.red.value=e}},green:{get:function(){return this.uniforms.green.value},set:function(e){this.uniforms.green.value=e}},blue:{get:function(){return this.uniforms.blue.value},set:function(e){this.uniforms.blue.value=e}}})},{"../../core":29}],108:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(e){this.uniforms.sepia.value=e}}})},{"../../core":29}],109:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(e){this.uniforms.center.value=e}},params:{get:function(){return this.uniforms.params.value},set:function(e){this.uniforms.params.value=e}},time:{get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time.value=e}}})},{"../../core":29}],110:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(o.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(e){this.uniforms.blur.value=e}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(e){this.uniforms.gradientBlur.value=e}},start:{get:function(){return this.uniforms.start.value},set:function(e){this.uniforms.start.value=e,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(e){this.uniforms.end.value=e,this.updateDelta()}}})},{"../../core":29}],111:[function(e,t,i){function o(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new r,this.tiltShiftYFilter=new s}var n=e("../../core"),r=e("./TiltShiftXFilter"),s=e("./TiltShiftYFilter");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.applyFilter=function(e,t,i){var o=e.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(e,t,o),this.tiltShiftYFilter.applyFilter(e,o,i),e.filterManager.returnRenderTarget(o)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(e,t,i){function o(){n.call(this)}var n=e("./TiltShiftAxisFilter");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=e/i,this.uniforms.delta.value.y=t/i}},{"./TiltShiftAxisFilter":110}],113:[function(e,t,i){function o(){n.call(this)}var n=e("./TiltShiftAxisFilter");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=-t/i,this.uniforms.delta.value.y=e/i}},{"./TiltShiftAxisFilter":110}],114:[function(e,t,i){function o(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=e("../../core");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}},radius:{get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},{"../../core":29}],115:[function(e,t,i){(function(i){e("./polyfill");var o=t.exports=e("./core");o.extras=e("./extras"),o.filters=e("./filters"),o.interaction=e("./interaction"),o.loaders=e("./loaders"),o.mesh=e("./mesh"),o.accessibility=e("./accessibility"),o.loader=new o.loaders.Loader,Object.assign(o,e("./deprecation")),i.PIXI=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":21,"./core":29,"./deprecation":79,"./extras":86,"./filters":103,"./interaction":118,"./loaders":121,"./mesh":128,"./polyfill":133}],116:[function(e,t,i){function o(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=e("../core");o.prototype.constructor=o,t.exports=o,o.prototype.getLocalPosition=function(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)}},{"../core":29}],117:[function(e,t,i){function o(e,t){t=t||{},this.renderer=e,this.autoPreventDefault=void 0!==t.autoPreventDefault?t.autoPreventDefault:!0,this.interactionFrequency=t.interactionFrequency||10,this.mouse=new r,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=e("../core"),r=e("./InteractionData");Object.assign(n.DisplayObject.prototype,e("./interactiveTarget")),o.prototype.constructor=o,t.exports=o,o.prototype.setTargetElement=function(e,t){this.removeEvents(),this.interactionDOMElement=e,this.resolution=t||1,this.addEvents()},o.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},o.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},o.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},o.prototype.dispatchEvent=function(e,t,i){i.stopped||(i.target=e,i.type=t,e.emit(t,i),e[t]&&e[t](i))},o.prototype.mapPositionToPoint=function(e,t,i){var o=this.interactionDOMElement.getBoundingClientRect();e.x=(t-o.left)*(this.interactionDOMElement.width/o.width)/this.resolution,e.y=(i-o.top)*(this.interactionDOMElement.height/o.height)/this.resolution},o.prototype.processInteractive=function(e,t,i,o,n){if(!t||!t.visible)return!1;var r=!1,s=n=t.interactive||n;if(t.hitArea&&(s=!1),t.interactiveChildren)for(var a=t.children,h=a.length-1;h>=0;h--){var c=a[h];if(this.processInteractive(e,c,i,o,s)){if(!c.parent)continue;r=!0,s=!1,o=!1}}return n&&(o&&!r&&(t.hitArea?(t.worldTransform.applyInverse(e,this._tempPoint),r=t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):t.containsPoint&&(r=t.containsPoint(e))),t.interactive&&i(t,r)),r},o.prototype.onMouseDown=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},o.prototype.processMouseDown=function(e,t){var i=this.mouse.originalEvent,o=2===i.button||3===i.which;t&&(e[o?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",this.eventData))},o.prototype.onMouseUp=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},o.prototype.processMouseUp=function(e,t){var i=this.mouse.originalEvent,o=2===i.button||3===i.which,n=o?"_isRightDown":"_isLeftDown";t?(this.dispatchEvent(e,o?"rightup":"mouseup",this.eventData),e[n]&&(e[n]=!1,this.dispatchEvent(e,o?"rightclick":"click",this.eventData))):e[n]&&(e[n]=!1,this.dispatchEvent(e,o?"rightupoutside":"mouseupoutside",this.eventData))},o.prototype.onMouseMove=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},o.prototype.processMouseMove=function(e,t){this.processMouseOverOut(e,t),this.moveWhenInside&&!t||this.dispatchEvent(e,"mousemove",this.eventData)},o.prototype.onMouseOut=function(e){this.mouse.originalEvent=e,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},o.prototype.processMouseOverOut=function(e,t){t?(e._over||(e._over=!0,this.dispatchEvent(e,"mouseover",this.eventData)),e.buttonMode&&(this.cursor=e.defaultCursor)):e._over&&(e._over=!1,this.dispatchEvent(e,"mouseout",this.eventData))},o.prototype.onTouchStart=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,o=0;i>o;o++){var n=t[o],r=this.getTouchData(n);r.originalEvent=e,this.eventData.data=r,this.eventData.stopped=!1,this.processInteractive(r.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(r)}},o.prototype.processTouchStart=function(e,t){t&&(e._touchDown=!0,this.dispatchEvent(e,"touchstart",this.eventData))},o.prototype.onTouchEnd=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,o=0;i>o;o++){var n=t[o],r=this.getTouchData(n);r.originalEvent=e,this.eventData.data=r,this.eventData.stopped=!1,this.processInteractive(r.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(r)}},o.prototype.processTouchEnd=function(e,t){t?(this.dispatchEvent(e,"touchend",this.eventData),e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"tap",this.eventData))):e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"touchendoutside",this.eventData))},o.prototype.onTouchMove=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,o=0;i>o;o++){var n=t[o],r=this.getTouchData(n);r.originalEvent=e,this.eventData.data=r,this.eventData.stopped=!1,this.processInteractive(r.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.returnTouchData(r)}},o.prototype.processTouchMove=function(e,t){this.moveWhenInside&&!t||this.dispatchEvent(e,"touchmove",this.eventData)},o.prototype.getTouchData=function(e){var t=this.interactiveDataPool.pop();return t||(t=new r),t.identifier=e.identifier,this.mapPositionToPoint(t.global,e.clientX,e.clientY),navigator.isCocoonJS&&(t.global.x=t.global.x/this.resolution,t.global.y=t.global.y/this.resolution),e.globalX=t.global.x,e.globalY=t.global.y,t},o.prototype.returnTouchData=function(e){this.interactiveDataPool.push(e)},o.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",o),n.CanvasRenderer.registerPlugin("interaction",o)},{"../core":29,"./InteractionData":116,"./interactiveTarget":119}],118:[function(e,t,i){t.exports={InteractionData:e("./InteractionData"),InteractionManager:e("./InteractionManager"),interactiveTarget:e("./interactiveTarget")}},{"./InteractionData":116,"./InteractionManager":117,"./interactiveTarget":119}],119:[function(e,t,i){var o={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};t.exports=o},{}],120:[function(e,t,i){function o(e,t){var i={},o=e.data.getElementsByTagName("info")[0],n=e.data.getElementsByTagName("common")[0];i.font=o.getAttribute("face"),i.size=parseInt(o.getAttribute("size"),10),i.lineHeight=parseInt(n.getAttribute("lineHeight"),10),i.chars={};for(var a=e.data.getElementsByTagName("char"),h=0;h<a.length;h++){var c=parseInt(a[h].getAttribute("id"),10),l=new r.Rectangle(parseInt(a[h].getAttribute("x"),10)+t.frame.x,parseInt(a[h].getAttribute("y"),10)+t.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));i.chars[c]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new r.Texture(t.baseTexture,l)}}var p=e.data.getElementsByTagName("kerning");for(h=0;h<p.length;h++){var u=parseInt(p[h].getAttribute("first"),10),d=parseInt(p[h].getAttribute("second"),10),g=parseInt(p[h].getAttribute("amount"),10);i.chars[d]&&(i.chars[d].kerning[u]=g)}e.bitmapFont=i,s.BitmapText.fonts[i.font]=i}var n=e("resource-loader").Resource,r=e("../core"),s=e("../extras"),a=e("path");t.exports=function(){return function(e,t){if(!e.data||!e.isXml)return t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return t();var i=a.dirname(e.url);"."===i&&(i=""),this.baseUrl&&i&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/"),i=i.replace(this.baseUrl,"")),i&&"/"!==i.charAt(i.length-1)&&(i+="/");var s=i+e.data.getElementsByTagName("page")[0].getAttribute("file");if(r.utils.TextureCache[s])o(e,r.utils.TextureCache[s]),t();else{
var h={crossOrigin:e.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata};this.add(e.name+"_image",s,h,function(i){o(e,i.texture),t()})}}}},{"../core":29,"../extras":86,path:2,"resource-loader":16}],121:[function(e,t,i){t.exports={Loader:e("./loader"),bitmapFontParser:e("./bitmapFontParser"),spritesheetParser:e("./spritesheetParser"),textureParser:e("./textureParser"),Resource:e("resource-loader").Resource}},{"./bitmapFontParser":120,"./loader":122,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],122:[function(e,t,i){function o(e,t){n.call(this,e,t);for(var i=0;i<o._pixiMiddleware.length;++i)this.use(o._pixiMiddleware[i]())}var n=e("resource-loader"),r=e("./textureParser"),s=e("./spritesheetParser"),a=e("./bitmapFontParser");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o._pixiMiddleware=[n.middleware.parsing.blob,r,s,a],o.addPixiMiddleware=function(e){o._pixiMiddleware.push(e)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":120,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],123:[function(e,t,i){var o=e("resource-loader").Resource,n=e("path"),r=e("../core"),s=e("async"),a=1e3;t.exports=function(){return function(e,t){var i=e.name+"_image";if(!e.data||!e.isJson||!e.data.frames||this.resources[i])return t();var h={crossOrigin:e.crossOrigin,loadType:o.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata},c=n.dirname(e.url.replace(this.baseUrl,""));this.add(i,c+"/"+e.data.meta.image,h,function(i){function o(t,o){for(var n=t;o>n-t&&n<l.length;){var s=c[l[n]],a=s.frame;if(a){var h=null,u=null;if(h=s.rotated?new r.Rectangle(a.x,a.y,a.h,a.w):new r.Rectangle(a.x,a.y,a.w,a.h),s.trimmed&&(u=new r.Rectangle(s.spriteSourceSize.x/p,s.spriteSourceSize.y/p,s.sourceSize.w/p,s.sourceSize.h/p)),s.rotated){var d=h.width;h.width=h.height,h.height=d}h.x/=p,h.y/=p,h.width/=p,h.height/=p,e.textures[l[n]]=new r.Texture(i.texture.baseTexture,h,h.clone(),u,s.rotated),r.utils.TextureCache[l[n]]=e.textures[l[n]]}n++}}function n(){return u*a<l.length}function h(e){o(u*a,a),u++,setTimeout(e,0)}e.textures={};var c=e.data.frames,l=Object.keys(c),p=r.utils.getResolutionOfUrl(e.url),u=0;l.length<=a?(o(0,a),t()):s.whilst(n,h,t)})}}},{"../core":29,async:1,path:2,"resource-loader":16}],124:[function(e,t,i){var o=e("../core");t.exports=function(){return function(e,t){if(e.data&&e.isImage){var i=new o.BaseTexture(e.data,null,o.utils.getResolutionOfUrl(e.url));i.imageUrl=e.url,e.texture=new o.Texture(i),o.utils.BaseTextureCache[e.url]=i,o.utils.TextureCache[e.url]=e.texture}t()}}},{"../core":29}],125:[function(e,t,i){function o(e,t,i,r,s){n.Container.call(this),this._texture=null,this.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=t||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=r||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||o.DRAW_MODES.TRIANGLE_MESH,this.texture=e,this.shader=null}var n=e("../core"),r=new n.Point,s=new n.Polygon;o.prototype=Object.create(n.Container.prototype),o.prototype.constructor=o,t.exports=o,Object.defineProperties(o.prototype,{texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),o.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.mesh),e.plugins.mesh.render(this)},o.prototype._renderCanvas=function(e){var t=e.context,i=this.worldTransform,n=e.resolution;e.roundPixels?t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),this.drawMode===o.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(t):this._renderCanvasTriangles(t)},o.prototype._renderCanvasTriangleMesh=function(e){for(var t=this.vertices,i=this.uvs,o=t.length/2,n=0;o-2>n;n++){var r=2*n;this._renderCanvasDrawTriangle(e,t,i,r,r+2,r+4)}},o.prototype._renderCanvasTriangles=function(e){for(var t=this.vertices,i=this.uvs,o=this.indices,n=o.length,r=0;n>r;r+=3){var s=2*o[r],a=2*o[r+1],h=2*o[r+2];this._renderCanvasDrawTriangle(e,t,i,s,a,h)}},o.prototype._renderCanvasDrawTriangle=function(e,t,i,o,n,r){var s=this._texture.baseTexture,a=s.source,h=s.width,c=s.height,l=t[o],p=t[n],u=t[r],d=t[o+1],g=t[n+1],f=t[r+1],m=i[o]*s.width,v=i[n]*s.width,y=i[r]*s.width,_=i[o+1]*s.height,x=i[n+1]*s.height,w=i[r+1]*s.height;if(this.canvasPadding>0){var b=this.canvasPadding/this.worldTransform.a,k=this.canvasPadding/this.worldTransform.d,S=(l+p+u)/3,T=(d+g+f)/3,C=l-S,M=d-T,P=Math.sqrt(C*C+M*M);l=S+C/P*(P+b),d=T+M/P*(P+k),C=p-S,M=g-T,P=Math.sqrt(C*C+M*M),p=S+C/P*(P+b),g=T+M/P*(P+k),C=u-S,M=f-T,P=Math.sqrt(C*C+M*M),u=S+C/P*(P+b),f=T+M/P*(P+k)}e.save(),e.beginPath(),e.moveTo(l,d),e.lineTo(p,g),e.lineTo(u,f),e.closePath(),e.clip();var E=m*x+_*y+v*w-x*y-_*v-m*w,I=l*x+_*u+p*w-x*u-_*p-l*w,F=m*p+l*y+v*u-p*y-l*v-m*u,B=m*x*u+_*p*y+l*v*w-l*x*y-_*v*u-m*p*w,A=d*x+_*f+g*w-x*f-_*g-d*w,O=m*g+d*y+v*f-g*y-d*v-m*f,L=m*x*f+_*g*y+d*v*w-d*x*y-_*v*f-m*g*w;e.transform(I/E,A/E,F/E,O/E,B/E,L/E),e.drawImage(a,0,0,h*s.resolution,c*s.resolution,0,0,h,c),e.restore()},o.prototype.renderMeshFlat=function(e){var t=this.context,i=e.vertices,o=i.length/2;t.beginPath();for(var n=1;o-2>n;n++){var r=2*n,s=i[r],a=i[r+2],h=i[r+4],c=i[r+1],l=i[r+3],p=i[r+5];t.moveTo(s,c),t.lineTo(a,l),t.lineTo(h,p)}t.fillStyle="#FF0000",t.fill(),t.closePath()},o.prototype._onTextureUpdate=function(){this.updateFrame=!0},o.prototype.getBounds=function(e){if(!this._currentBounds){for(var t=e||this.worldTransform,i=t.a,o=t.b,r=t.c,s=t.d,a=t.tx,h=t.ty,c=-(1/0),l=-(1/0),p=1/0,u=1/0,d=this.vertices,g=0,f=d.length;f>g;g+=2){var m=d[g],v=d[g+1],y=i*m+r*v+a,_=s*v+o*m+h;p=p>y?y:p,u=u>_?_:u,c=y>c?y:c,l=_>l?_:l}if(p===-(1/0)||l===1/0)return n.Rectangle.EMPTY;var x=this._bounds;x.x=p,x.width=c-p,x.y=u,x.height=l-u,this._currentBounds=x}return this._currentBounds},o.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,r);var t,i,n=this.vertices,a=s.points;if(this.drawMode===o.DRAW_MODES.TRIANGLES){var h=this.indices;for(i=this.indices.length,t=0;i>t;t+=3){var c=2*h[t],l=2*h[t+1],p=2*h[t+2];if(a[0]=n[c],a[1]=n[c+1],a[2]=n[l],a[3]=n[l+1],a[4]=n[p],a[5]=n[p+1],s.contains(r.x,r.y))return!0}}else for(i=n.length,t=0;i>t;t+=6)if(a[0]=n[t],a[1]=n[t+1],a[2]=n[t+2],a[3]=n[t+3],a[4]=n[t+4],a[5]=n[t+5],s.contains(r.x,r.y))return!0;return!1},o.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],126:[function(e,t,i){function o(e,t,i){n.call(this,e),this._ready=!0,this.segmentsX=t||10,this.segmentsY=i||10,this.drawMode=n.DRAW_MODES.TRIANGLES,this.refresh()}var n=e("./Mesh");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.refresh=function(){var e=this.segmentsX*this.segmentsY,t=[],i=[],o=[],n=[],r=this.texture,s=this.segmentsX-1,a=this.segmentsY-1,h=0,c=r.width/s,l=r.height/a;for(h=0;e>h;h++){var p=h%this.segmentsX,u=h/this.segmentsX|0;t.push(p*c,u*l),o.push(r._uvs.x0+(r._uvs.x1-r._uvs.x0)*(p/(this.segmentsX-1)),r._uvs.y0+(r._uvs.y3-r._uvs.y0)*(u/(this.segmentsY-1)))}var d=s*a;for(h=0;d>h;h++){var g=h%s,f=h/s|0,m=f*this.segmentsX+g,v=f*this.segmentsX+g+1,y=(f+1)*this.segmentsX+g,_=(f+1)*this.segmentsX+g+1;n.push(m,v,y),n.push(v,_,y)}this.vertices=new Float32Array(t),this.uvs=new Float32Array(o),this.colors=new Float32Array(i),this.indices=new Uint16Array(n)},o.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":125}],127:[function(e,t,i){function o(e,t){n.call(this,e),this.points=t,this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length),this._ready=!0,this.refresh()}var n=e("./Mesh"),r=e("../core");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,t.exports=o,o.prototype.refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){var t=this.uvs,i=this.indices,o=this.colors,n=this._texture._uvs,s=new r.Point(n.x0,n.y0),a=new r.Point(n.x2-n.x0,n.y2-n.y0);t[0]=0+s.x,t[1]=0+s.y,t[2]=0+s.x,t[3]=1*a.y+s.y,o[0]=1,o[1]=1,i[0]=0,i[1]=1;for(var h,c,l,p=e.length,u=1;p>u;u++)h=e[u],c=4*u,l=u/(p-1),t[c]=l*a.x+s.x,t[c+1]=0+s.y,t[c+2]=l*a.x+s.x,t[c+3]=1*a.y+s.y,c=2*u,o[c]=1,o[c+1]=1,c=2*u,i[c]=c,i[c+1]=c+1;this.dirty=!0}},o.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},o.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){for(var t,i,o,n,r,s,a=e[0],h=0,c=0,l=this.vertices,p=e.length,u=0;p>u;u++)i=e[u],o=4*u,t=u<e.length-1?e[u+1]:i,c=-(t.x-a.x),h=t.y-a.y,n=10*(1-u/(p-1)),n>1&&(n=1),r=Math.sqrt(h*h+c*c),s=this._texture.height/2,h/=r,c/=r,h*=s,c*=s,l[o]=i.x+h,l[o+1]=i.y+c,l[o+2]=i.x-h,l[o+3]=i.y-c,a=i;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":125}],128:[function(e,t,i){t.exports={Mesh:e("./Mesh"),Plane:e("./Plane"),Rope:e("./Rope"),MeshRenderer:e("./webgl/MeshRenderer"),MeshShader:e("./webgl/MeshShader")}},{"./Mesh":125,"./Plane":126,"./Rope":127,"./webgl/MeshRenderer":129,"./webgl/MeshShader":130}],129:[function(e,t,i){function o(e){n.ObjectRenderer.call(this,e),this.indices=new Uint16Array(15e3);for(var t=0,i=0;15e3>t;t+=6,i+=4)this.indices[t+0]=i+0,this.indices[t+1]=i+1,this.indices[t+2]=i+2,this.indices[t+3]=i+0,this.indices[t+4]=i+2,this.indices[t+5]=i+3;this.currentShader=null}var n=e("../../core"),r=e("../Mesh");o.prototype=Object.create(n.ObjectRenderer.prototype),o.prototype.constructor=o,t.exports=o,n.WebGLRenderer.registerPlugin("mesh",o),o.prototype.onContextChange=function(){},o.prototype.render=function(e){e._vertexBuffer||this._initWebGL(e);var t=this.renderer,i=t.gl,o=e._texture.baseTexture,n=e.shader,s=e.drawMode===r.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;t.blendModeManager.setBlendMode(e.blendMode),n=n?n.shaders[i.id]||n.getShader(t):t.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(n),n.uniforms.translationMatrix.value=e.worldTransform.toArray(!0),n.uniforms.projectionMatrix.value=t.currentRenderTarget.projectionMatrix.toArray(!0),n.uniforms.alpha.value=e.worldAlpha,n.syncUniforms(),e.dirty?(e.dirty=!1,i.bindBuffer(i.ARRAY_BUFFER,e._vertexBuffer),i.bufferData(i.ARRAY_BUFFER,e.vertices,i.STATIC_DRAW),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,e._uvBuffer),i.bufferData(i.ARRAY_BUFFER,e.uvs,i.STATIC_DRAW),i.vertexAttribPointer(n.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),o._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,o._glTextures[i.id]):this.renderer.updateTexture(o),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e._indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.indices,i.STATIC_DRAW)):(i.bindBuffer(i.ARRAY_BUFFER,e._vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,e.vertices),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,e._uvBuffer),i.vertexAttribPointer(n.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),o._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,o._glTextures[i.id]):this.renderer.updateTexture(o),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e._indexBuffer),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,e.indices)),i.drawElements(s,e.indices.length,i.UNSIGNED_SHORT,0)},o.prototype._initWebGL=function(e){var t=this.renderer.gl;e._vertexBuffer=t.createBuffer(),e._indexBuffer=t.createBuffer(),e._uvBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,e.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e._uvBuffer),t.bufferData(t.ARRAY_BUFFER,e.uvs,t.STATIC_DRAW),e.colors&&(e._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._colorBuffer),t.bufferData(t.ARRAY_BUFFER,e.colors,t.STATIC_DRAW)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.indices,t.STATIC_DRAW)},o.prototype.flush=function(){},o.prototype.start=function(){this.currentShader=null},o.prototype.destroy=function(){n.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":29,"../Mesh":125}],130:[function(e,t,i){function o(e){n.Shader.call(this,e,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=e("../../core");o.prototype=Object.create(n.Shader.prototype),o.prototype.constructor=o,t.exports=o,n.ShaderManager.registerPlugin("meshShader",o)},{"../../core":29}],131:[function(e,t,i){Math.sign||(Math.sign=function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1})},{}],132:[function(e,t,i){Object.assign||(Object.assign=e("object-assign"))},{"object-assign":11}],133:[function(e,t,i){e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign")},{"./Math.sign":131,"./Object.assign":132,"./requestAnimationFrame":134}],134:[function(e,t,i){(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var i=Date.now(),o=["ms","moz","webkit","o"],n=0;n<o.length&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[o[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o[n]+"CancelAnimationFrame"]||e[o[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),o=16+i-t;return 0>o&&(o=0),i=t,setTimeout(function(){i=Date.now(),e(performance.now())},o)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[115])(115)}),function(e){function t(e,t,i,o,n){this._listener=t,this._isOnce=i,this.context=o,this._signal=e,this._priority=n||0}function i(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function o(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){o.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t,i;return this.active&&this._listener&&(i=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,i),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},o.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,i,o,n){var r,s=this._indexOfListener(e,o);if(-1!==s){if(r=this._bindings[s],r.isOnce()!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else r=new t(this,e,i,o,n),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,o=this._bindings.length;o--;)if(i=this._bindings[o],i._listener===e&&i.context===t)return o;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,o){return i(e,"add"),this._registerListener(e,!1,t,o)},addOnce:function(e,t,o){return i(e,"addOnce"),this._registerListener(e,!0,t,o)},remove:function(e,t){i(e,"remove");var o=this._indexOfListener(e,t);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,i=Array.prototype.slice.call(arguments),o=this._bindings.length;if(this.memorize&&(this._prevParams=i),o){t=this._bindings.slice(),this._shouldPropagate=!0;do o--;while(t[o]&&this._shouldPropagate&&t[o].execute(i)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var n=o;n.Signal=o,"function"==typeof define&&define.amd?define("signals",[],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:e.signals=n}(this),define("fido/system/Ticker",["require","exports","module","signals"],function(e,t,i){var o=e("signals"),n=function(e){this.onUpdate=new o,this.updateBind=this.update.bind(this),this.active=!1,this.maxDelta=e||2,this.deltaTime=1,this.timeElapsed=0,this.lastTime=0,this.speed=1};n.prototype.start=function(){this.active||(this.active=!0,requestAnimationFrame(this.updateBind))},n.prototype.stop=function(){this.active&&(this.active=!1)},n.prototype.update=function(){if(this.active){requestAnimationFrame(this.updateBind);var e=(new Date).getTime(),t=e-this.lastTime;t>100&&(t=100),this.deltaTime=.06*t,this.deltaTime*=this.speed,this.deltaTime>this.maxDelta&&(this.deltaTime=this.maxDelta),this.onUpdate.dispatch(this.deltaTime),this.lastTime=e}},n.prototype.add=function(e,t){this.onUpdate.add(e,t)},n.prototype.remove=function(e,t){this.onUpdate.remove(e,t)},n.instance=new n,i.exports=n}),define("com/fighter/app/Easings",["require","exports","module","PIXI","fido/system/Ticker"],function(e,t,i){var o=(e("PIXI"),e("fido/system/Ticker")),n=function(){this.updating=!1,this.iterationCount=0,this.tweens=[]};n.prototype.killTweensOf=function(e){for(var t=0;t<this.tweens.length;t++){var i=this.tweens[t];i.obj===e&&i.obj.id===e.id&&(i=null,this.tweens.splice(t,1),t--)}},n.prototype.to=function(e,t,i,n){var r={"delete":!1,currentIteration:0,isArray:!1,obj:e,vars:i,delay:60*i.delay||0,isDelayed:i.delay&&i.delay>0?!0:!1,duration:60*t,ease:i.ease||this.easeLinear};if(e instanceof Array){r.isArray=!0;var s=[];for(var a in i)if("delay"!==a&&"duration"!==a&&!this.isFunction(i[a])){for(var h={"var":a,toValue:i[a]},c=[],l=0;l<e.length;l++)c.push(e[l]);h.value=c,s.push(h)}}else{var s=[];for(var a in i)if("delay"!==a&&"duration"!==a&&!this.isFunction(i[a])&&"forceTween"!==a){for(var l=0;l<this.tweens.length;l++){var p=this.tweens[l];if(p.obj===e)for(var u=0;u<p.props.length;u++){var d=p.props[u];d["var"]!==a||0!==r.delay&&!r.vars.forceTween||(p["delete"]=!0,this.tweens.splice(l,1),l--)}}s.push({"var":a,value:e[a],toValue:i[a]})}}r.props=s,this.tweens.push(r),this.updating||(o.instance.add(this.update,this),this.updating=!0)},n.prototype.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},n.prototype.updateArray=function(e){var t=e;if(t.delay>0)t.delay--;else{for(var i=0;i<t.obj.length;i++){t.obj[i];t.obj[i]=t.ease(t.currentIteration,t.props[0].value[i],t.props[0].toValue[i]-t.props[0].value[i],t.duration)}t.currentIteration++,t.currentIteration>t.duration&&(t.vars.onComplete&&t.vars.onComplete(),t["delete"]=!0)}},n.prototype.update=function(){for(var e=0;e<this.tweens.length;e++){var t=this.tweens[e];if(t.isArray)this.updateArray(t);else if(t.isDelayed){if(t.delay>0)t.delay-=1;else if(t.delay<=0){t.isDelayed=!1;for(var i=0;i<t.props.length;i++){var n=t.props[i];n.value=t.obj[n["var"]]}}}else{for(var i=0;i<t.props.length;i++){var n=t.props[i];t.obj[n["var"]]=t.ease(t.currentIteration,n.value,n.toValue-n.value,t.duration)}t.vars.onUpdate&&t.vars.onUpdate.apply(this,t.vars.onUpdateParams),t.currentIteration+=1,t.currentIteration>t.duration&&(t.vars.onComplete&&t.vars.onComplete.apply(this,t.vars.onCompleteParams),t["delete"]=!0)}}for(var e=0;e<this.tweens.length;e++){var t=this.tweens[e];t["delete"]&&(t=null,this.tweens.splice(e,1),e--)}0===this.tweens.length&&(o.instance.remove(this.update,this),this.updating=!1)},n.prototype.easeLinear=function(e,t,i,o){return e/=o,i*e+t},n.prototype.easeInSine=function(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t},n.prototype.easeOutSine=function(e,t,i,o){return i*Math.sin(e/o*(Math.PI/2))+t},n.prototype.easeInExpo=function(e,t,i,o){return i*Math.pow(2,10*(e/o-1))+t},n.prototype.elasticOut=function(e,t,i,o){var n=1.70158,r=0,s=i;if(0==e)return t;if(1==(e/=o))return t+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;var n=r/4}else var n=r/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*o-n)*(2*Math.PI)/r)+i+t},n.prototype.easeInCubic=function(e,t,i,o){return e/=o,i*e*e*e+t},n.prototype.easeOutCubic=function(e,t,i,o){return e/=o,e--,i*(e*e*e+1)+t},n.prototype.easeInOutSine=function(e,t,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+t},n.prototype.easeInOutExpo=function(e,t,i,o){return e/=o/2,1>e?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(-Math.pow(2,-10*e)+2)+t)},n.prototype.easeInOutQuint=function(e,t,i,o){return e/=o/2,1>e?i/2*e*e*e*e*e+t:(e-=2,i/2*(e*e*e*e*e+2)+t)},n.prototype.easeInOutCirc=function(e,t,i,o){return e/=o/2,1>e?-i/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,i/2*(Math.sqrt(1-e*e)+1)+t)},n.prototype.easeOutCirc=function(e,t,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+t},n.instance=new n,i.exports=n}),define("com/fighter/game/engine_shooter/EasingsGame",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/app/Easings"],function(e,t,i){var o=(e("PIXI"),e("fido/system/Ticker")),n=e("com/fighter/app/Easings"),r=function(){n.call(this)};r.prototype=Object.create(n.prototype),r.prototype.update=function(){if(o.game.active){for(var e=0;e<this.tweens.length;e++){var t=this.tweens[e];if(t.isArray)this.updateArray(t);else if(t.isDelayed){if(t.delay>0)t.delay-=1*o.game.deltaTime;else if(t.delay<=0){t.isDelayed=!1;for(var i=0;i<t.props.length;i++){var n=t.props[i];n.value=t.obj[n["var"]]}}}else{for(var i=0;i<t.props.length;i++){var n=t.props[i];t.obj[n["var"]]=t.ease(t.currentIteration,n.value,n.toValue-n.value,t.duration)}t.vars.onUpdate&&t.vars.onUpdate.apply(this,t.vars.onUpdateParams),t.currentIteration+=1*o.game.deltaTime,t.currentIteration>t.duration&&(t.vars.onComplete&&t.vars.onComplete.apply(this,t.vars.onCompleteParams),t["delete"]=!0)}}for(var e=0;e<this.tweens.length;e++){var t=this.tweens[e];t["delete"]&&(t=null,this.tweens.splice(e,1),e--)}0===this.tweens.length&&(o.instance.remove(this.update,this),this.updating=!1)}},r.instance=new r,i.exports=r}),function(e){function t(e,t,i){this.x=e,this.y=t,this.z=i}function i(e){return e*e*e*(e*(6*e-15)+10)}function o(e,t,i){return(1-i)*e+i*t}var n=e.noise={};t.prototype.dot2=function(e,t){return this.x*e+this.y*t},t.prototype.dot3=function(e,t,i){return this.x*e+this.y*t+this.z*i};var r=[new t(1,1,0),new t(-1,1,0),new t(1,-1,0),new t(-1,-1,0),new t(1,0,1),new t(-1,0,1),new t(1,0,-1),new t(-1,0,-1),new t(0,1,1),new t(0,-1,1),new t(0,1,-1),new t(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],a=new Array(512),h=new Array(512);n.seed=function(e){e>0&&1>e&&(e*=65536),e=Math.floor(e),256>e&&(e|=e<<8);for(var t=0;256>t;t++){var i;i=1&t?s[t]^255&e:s[t]^e>>8&255,a[t]=a[t+256]=i,h[t]=h[t+256]=r[i%12]}},n.seed(0);var c=.5*(Math.sqrt(3)-1),l=(3-Math.sqrt(3))/6,p=1/3,u=1/6;n.simplex2=function(e,t){var i,o,n,r,s,p=(e+t)*c,u=Math.floor(e+p),d=Math.floor(t+p),g=(u+d)*l,f=e-u+g,m=t-d+g;f>m?(r=1,s=0):(r=0,s=1);var v=f-r+l,y=m-s+l,_=f-1+2*l,x=m-1+2*l;u&=255,d&=255;var w=h[u+a[d]],b=h[u+r+a[d+s]],k=h[u+1+a[d+1]],S=.5-f*f-m*m;0>S?i=0:(S*=S,i=S*S*w.dot2(f,m));var T=.5-v*v-y*y;0>T?o=0:(T*=T,o=T*T*b.dot2(v,y));var C=.5-_*_-x*x;return 0>C?n=0:(C*=C,n=C*C*k.dot2(_,x)),70*(i+o+n)},n.simplex3=function(e,t,i){var o,n,r,s,c,l,d,g,f,m,v=(e+t+i)*p,y=Math.floor(e+v),_=Math.floor(t+v),x=Math.floor(i+v),w=(y+_+x)*u,b=e-y+w,k=t-_+w,S=i-x+w;b>=k?k>=S?(c=1,l=0,d=0,g=1,f=1,m=0):b>=S?(c=1,l=0,d=0,g=1,f=0,m=1):(c=0,l=0,d=1,g=1,f=0,m=1):S>k?(c=0,l=0,d=1,g=0,f=1,m=1):S>b?(c=0,l=1,d=0,g=0,f=1,m=1):(c=0,l=1,d=0,g=1,f=1,m=0);var T=b-c+u,C=k-l+u,M=S-d+u,P=b-g+2*u,E=k-f+2*u,I=S-m+2*u,F=b-1+3*u,B=k-1+3*u,A=S-1+3*u;y&=255,_&=255,x&=255;var O=h[y+a[_+a[x]]],L=h[y+c+a[_+l+a[x+d]]],D=h[y+g+a[_+f+a[x+m]]],R=h[y+1+a[_+1+a[x+1]]],G=.6-b*b-k*k-S*S;0>G?o=0:(G*=G,o=G*G*O.dot3(b,k,S));var W=.6-T*T-C*C-M*M;0>W?n=0:(W*=W,n=W*W*L.dot3(T,C,M));var N=.6-P*P-E*E-I*I;0>N?r=0:(N*=N,r=N*N*D.dot3(P,E,I));var j=.6-F*F-B*B-A*A;return 0>j?s=0:(j*=j,s=j*j*R.dot3(F,B,A)),32*(o+n+r+s)},n.perlin2=function(e,t){var n=Math.floor(e),r=Math.floor(t);e-=n,t-=r,n=255&n,r=255&r;var s=h[n+a[r]].dot2(e,t),c=h[n+a[r+1]].dot2(e,t-1),l=h[n+1+a[r]].dot2(e-1,t),p=h[n+1+a[r+1]].dot2(e-1,t-1),u=i(e);return o(o(s,l,u),o(c,p,u),i(t))},n.perlin3=function(e,t,n){var r=Math.floor(e),s=Math.floor(t),c=Math.floor(n);e-=r,t-=s,n-=c,r=255&r,s=255&s,c=255&c;var l=h[r+a[s+a[c]]].dot3(e,t,n),p=h[r+a[s+a[c+1]]].dot3(e,t,n-1),u=h[r+a[s+1+a[c]]].dot3(e,t-1,n),d=h[r+a[s+1+a[c+1]]].dot3(e,t-1,n-1),g=h[r+1+a[s+a[c]]].dot3(e-1,t,n),f=h[r+1+a[s+a[c+1]]].dot3(e-1,t,n-1),m=h[r+1+a[s+1+a[c]]].dot3(e-1,t-1,n),v=h[r+1+a[s+1+a[c+1]]].dot3(e-1,t-1,n-1),y=i(e),_=i(t),x=i(n);return o(o(o(l,g,y),o(p,f,y),x),o(o(u,m,y),o(d,v,y),x),_)},"function"==typeof define&&define.amd&&define("perlin",[],function(){return n})}(this),(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,o,n=window.GreenSockGlobals||window,r=n.com.greensock,s=2*Math.PI,a=Math.PI/2,h=r._class,c=function(t,i){var o=h("easing."+t,function(){},!0),n=o.prototype=new e;return n.constructor=o,n.getRatio=i,o},l=e.register||function(){},p=function(e,t,i,o){var n=h("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new o},!0);return l(n,e),n},u=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},d=function(t,i){var o=h("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=o.prototype=new e;return n.constructor=o,n.getRatio=i,n.config=function(e){return new o(e)},o},g=p("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),f=h("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=f.prototype=new e;return m.constructor=f,m.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},f.ease=new f(.7,.7),m.config=f.config=function(e,t,i){return new f(e,t,i)},t=h("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),m=t.prototype=new e,m.constructor=t,m.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},m.config=t.config=function(e){return new t(e)},i=h("easing.RoughEase",function(t){t=t||{};for(var i,o,n,r,s,a,h=t.taper||"none",c=[],l=0,p=0|(t.points||20),d=p,g=t.randomize!==!1,f=t.clamp===!0,m=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=g?Math.random():1/p*d,o=m?m.getRatio(i):i,"none"===h?n=v:"out"===h?(r=1-i,n=r*r*v):"in"===h?n=i*i*v:.5>i?(r=2*i,n=.5*r*r*v):(r=2*(1-i),n=.5*r*r*v),g?o+=Math.random()*n-.5*n:d%2?o+=.5*n:o-=.5*n,f&&(o>1?o=1:0>o&&(o=0)),c[l++]={x:i,y:o};for(c.sort(function(e,t){return e.x-t.x}),a=new u(1,1,null),d=p;--d>-1;)s=c[d],a=new u(s.x,s.y,a);this._prev=new u(0,0,0!==a.t?a:a.next)},!0),m=i.prototype=new e,m.constructor=i,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new i(e)},i.ease=new i,p("Bounce",c("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),p("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),o=function(t,i,o){var n=h("easing."+t,function(e,t){this._p1=e||1,this._p2=t||o,this._p3=this._p2/s*(Math.asin(1/this._p1)||0)},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e,t){return new n(e,t)},n},p("Elastic",o("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*s/this._p2)+1},.3),o("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*s/this._p2))},.3),o("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*s/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*s/this._p2)+1},.45)),p("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),p("Sine",c("SineOut",function(e){return Math.sin(e*a)}),c("SineIn",function(e){return-Math.cos(e*a)+1}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),h("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),l(n.SlowMo,"SlowMo","ease,"),l(i,"RoughEase","ease,"),l(t,"SteppedEase","ease,"),g},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("EASEPACK",function(){}),function(){var e={},t=function(e){var t=window.AudioContext||window.webkitAudioContext;e="number"==typeof e?e:44100;var i=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&i.sampleRate!==e){var o=i.createBuffer(1,1,e),n=i.createBufferSource();n.buffer=o,n.connect(i.destination),
n.start(0),n.disconnect(),i.close(),i=new t}return i},i=null,o=!0,n=!1;try{"undefined"!=typeof AudioContext?i=new t:"undefined"!=typeof webkitAudioContext?i=new t:o=!1}catch(r){o=!1}if(!o)if("undefined"!=typeof Audio)try{new Audio}catch(r){n=!0}else n=!0;if(o){var s="undefined"==typeof i.createGain?i.createGainNode():i.createGain();s.gain.value=1,s.connect(i.destination)}var a=function(e){this._volume=1,this._muted=!1,this.usingWebAudio=o,this.ctx=i,this.noAudio=n,this._howls=[],this._codecs=e,this.iOSAutoEnable=!0};a.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e>=0&&1>=e){t._volume=e,o&&(s.gain.value=e);for(var i in t._howls)if(t._howls.hasOwnProperty(i)&&t._howls[i]._webAudio===!1)for(var n=0;n<t._howls[i]._audioNode.length;n++)t._howls[i]._audioNode[n].volume=t._howls[i]._volume*t._volume;return t}return o?s.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,o&&(s.gain.value=e?0:t._volume);for(var i in t._howls)if(t._howls.hasOwnProperty(i)&&t._howls[i]._webAudio===!1)for(var n=0;n<t._howls[i]._audioNode.length;n++)t._howls[i]._audioNode[n].muted=e},codecs:function(e){return this._codecs[e]},_enableiOSAudio:function(){var e=this;if(!i||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var t=function(){var o=i.createBuffer(1,1,22050),n=i.createBufferSource();n.buffer=o,n.connect(i.destination),"undefined"==typeof n.start?n.noteOn(0):n.start(0),setTimeout(function(){(n.playbackState===n.PLAYING_STATE||n.playbackState===n.FINISHED_STATE)&&(e._iOSEnabled=!0,e.iOSAutoEnable=!1,window.removeEventListener("touchend",t,!1))},0)};return window.addEventListener("touchend",t,!1),e}}};var h=null,c={};n||(h=new Audio,c={mp3:!!h.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!h.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var l=new a(c),p=function(e){var t=this;t._autoplay=e.autoplay||!1,t._buffer=e.buffer||!1,t._duration=e.duration||0,t._format=e.format||null,t._loop=e.loop||!1,t._loaded=!1,t._sprite=e.sprite||{},t._src=e.src||"",t._pos3d=e.pos3d||[0,0,-.5],t._volume=void 0!==e.volume?e.volume:1,t._urls=e.urls||[],t._rate=e.rate||1,t._model=e.model||null,t._onload=[e.onload||function(){}],t._onloaderror=[e.onloaderror||function(){}],t._onend=[e.onend||function(){}],t._onpause=[e.onpause||function(){}],t._onplay=[e.onplay||function(){}],t._onendTimer=[],t._webAudio=o&&!t._buffer,t._audioNode=[],t._webAudio&&t._setupAudioNode(),"undefined"!=typeof i&&i&&l.iOSAutoEnable&&l._enableiOSAudio(),l._howls.push(t),t.load()};if(p.prototype={load:function(){var e=this,t=null;if(n)return void e.on("loaderror",new Error("No audio support."));for(var i=0;i<e._urls.length;i++){var o,r;if(e._format)o=e._format;else{if(r=e._urls[i],o=/^data:audio\/([^;,]+);/i.exec(r),o||(o=/\.([^.]+)$/.exec(r.split("?",1)[0])),!o)return void e.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));o=o[1].toLowerCase()}if(c[o]){t=e._urls[i];break}}if(!t)return void e.on("loaderror",new Error("No codec support for selected audio sources."));if(e._src=t,e._webAudio)u(e,t);else{var s=new Audio;s.addEventListener("error",function(){s.error&&4===s.error.code&&(a.noAudio=!0),e.on("loaderror",{type:s.error?s.error.code:0})},!1),e._audioNode.push(s),s.src=t,s._pos=0,s.preload="auto",s.volume=l._muted?0:e._volume*l.volume();var h=function(){e._duration=Math.ceil(10*s.duration)/10,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play(),s.removeEventListener("canplaythrough",h,!1)};s.addEventListener("canplaythrough",h,!1),s.load()}return e},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,t){var o=this;return"function"==typeof e&&(t=e),e&&"function"!=typeof e||(e="_default"),o._loaded?o._sprite[e]?(o._inactiveNode(function(n){n._sprite=e;var r=n._pos>0?n._pos:o._sprite[e][0]/1e3,s=0;o._webAudio?(s=o._sprite[e][1]/1e3-n._pos,n._pos>0&&(r=o._sprite[e][0]/1e3+r)):s=o._sprite[e][1]/1e3-(r-o._sprite[e][0]/1e3);var a,h=!(!o._loop&&!o._sprite[e][2]),c="string"==typeof t?t:Math.round(Date.now()*Math.random())+"";if(function(){var t={id:c,sprite:e,loop:h};a=setTimeout(function(){!o._webAudio&&h&&o.stop(t.id).play(e,t.id),o._webAudio&&!h&&(o._nodeById(t.id).paused=!0,o._nodeById(t.id)._pos=0,o._clearEndTimer(t.id)),o._webAudio||h||o.stop(t.id),o.on("end",c)},s/o._rate*1e3),o._onendTimer.push({timer:a,id:t.id})}(),o._webAudio){var p=o._sprite[e][0]/1e3,u=o._sprite[e][1]/1e3;n.id=c,n.paused=!1,f(o,[h,p,u],c),o._playStart=i.currentTime,n.gain.value=o._volume,"undefined"==typeof n.bufferSource.start?h?n.bufferSource.noteGrainOn(0,r,86400):n.bufferSource.noteGrainOn(0,r,s):h?n.bufferSource.start(0,r,86400):n.bufferSource.start(0,r,s)}else{if(4!==n.readyState&&(n.readyState||!navigator.isCocoonJS))return o._clearEndTimer(c),function(){var i=o,r=e,s=t,a=n,h=function(){i.play(r,s),a.removeEventListener("canplaythrough",h,!1)};a.addEventListener("canplaythrough",h,!1)}(),o;n.readyState=4,n.id=c,n.currentTime=r,n.muted=l._muted||n.muted,n.volume=o._volume*l.volume(),setTimeout(function(){n.play()},0)}return o.on("play"),"function"==typeof t&&t(c),o}),o):("function"==typeof t&&t(),o):(o.on("load",function(){o.play(e,t)}),o)},pause:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.pause(e)}),t;t._clearEndTimer(e);var i=e?t._nodeById(e):t._activeNode();if(i)if(i._pos=t.pos(null,e),t._webAudio){if(!i.bufferSource||i.paused)return t;i.paused=!0,"undefined"==typeof i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else i.pause();return t.on("pause"),t},stop:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.stop(e)}),t;t._clearEndTimer(e);var i=e?t._nodeById(e):t._activeNode();if(i)if(i._pos=0,t._webAudio){if(!i.bufferSource||i.paused)return t;i.paused=!0,"undefined"==typeof i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else isNaN(i.duration)||(i.pause(),i.currentTime=0);return t},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var i=e?t._nodeById(e):t._activeNode();return i&&(t._webAudio?i.gain.value=0:i.muted=!0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var i=e?t._nodeById(e):t._activeNode();return i&&(t._webAudio?i.gain.value=t._volume:i.muted=!1),t},volume:function(e,t){var i=this;if(e=parseFloat(e),e>=0&&1>=e){if(i._volume=e,!i._loaded)return i.on("play",function(){i.volume(e,t)}),i;var o=t?i._nodeById(t):i._activeNode();return o&&(i._webAudio?o.gain.value=e:o.volume=e*l.volume()),i}return i._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,t){var o=this;if(!o._loaded)return o.on("load",function(){o.pos(e)}),"number"==typeof e?o:o._pos||0;e=parseFloat(e);var n=t?o._nodeById(t):o._activeNode();if(n)return e>=0?(o.pause(t),n._pos=e,o.play(n._sprite,t),o):o._webAudio?n._pos+(i.currentTime-o._playStart):n.currentTime;if(e>=0)return o;for(var r=0;r<o._audioNode.length;r++)if(o._audioNode[r].paused&&4===o._audioNode[r].readyState)return o._webAudio?o._audioNode[r]._pos:o._audioNode[r].currentTime},pos3d:function(e,t,i,o){var n=this;if(t="undefined"!=typeof t&&t?t:0,i="undefined"!=typeof i&&i?i:-.5,!n._loaded)return n.on("play",function(){n.pos3d(e,t,i,o)}),n;if(!(e>=0||0>e))return n._pos3d;if(n._webAudio){var r=o?n._nodeById(o):n._activeNode();r&&(n._pos3d=[e,t,i],r.panner.setPosition(e,t,i),r.panner.panningModel=n._model||"HRTF")}return n},fade:function(e,t,i,o,n){var r=this,s=Math.abs(e-t),a=e>t?"down":"up",h=s/.01,c=i/h;if(!r._loaded)return r.on("load",function(){r.fade(e,t,i,o,n)}),r;r.volume(e,n);for(var l=1;h>=l;l++)!function(){var e=r._volume+("up"===a?.01:-.01)*l,i=Math.round(1e3*e)/1e3,s=t;setTimeout(function(){r.volume(i,n),i===s&&o&&o()},c*l)}()},fadeIn:function(e,t,i){return this.volume(0).play().fade(0,e,t,i)},fadeOut:function(e,t,i,o){var n=this;return n.fade(n._volume,e,t,function(){i&&i(),n.pause(o),n.on("end")},o)},_nodeById:function(e){for(var t=this,i=t._audioNode[0],o=0;o<t._audioNode.length;o++)if(t._audioNode[o].id===e){i=t._audioNode[o];break}return i},_activeNode:function(){for(var e=this,t=null,i=0;i<e._audioNode.length;i++)if(!e._audioNode[i].paused){t=e._audioNode[i];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,i=null,o=0;o<t._audioNode.length;o++)if(t._audioNode[o].paused&&4===t._audioNode[o].readyState){e(t._audioNode[o]),i=!0;break}if(t._drainPool(),!i){var n;if(t._webAudio)n=t._setupAudioNode(),e(n);else{t.load(),n=t._audioNode[t._audioNode.length-1];var r=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",s=function(){n.removeEventListener(r,s,!1),e(n)};n.addEventListener(r,s,!1)}}},_drainPool:function(){var e,t=this,i=0;for(e=0;e<t._audioNode.length;e++)t._audioNode[e].paused&&i++;for(e=t._audioNode.length-1;e>=0&&!(5>=i);e--)t._audioNode[e].paused&&(t._webAudio&&t._audioNode[e].disconnect(0),i--,t._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var t=this,i=-1,o=0;o<t._onendTimer.length;o++)if(t._onendTimer[o].id===e){i=o;break}var n=t._onendTimer[i];n&&(clearTimeout(n.timer),t._onendTimer.splice(i,1))},_setupAudioNode:function(){var e=this,t=e._audioNode,o=e._audioNode.length;return t[o]="undefined"==typeof i.createGain?i.createGainNode():i.createGain(),t[o].gain.value=e._volume,t[o].paused=!0,t[o]._pos=0,t[o].readyState=4,t[o].connect(s),t[o].panner=i.createPanner(),t[o].panner.panningModel=e._model||"equalpower",t[o].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),t[o].panner.connect(t[o]),t[o]},on:function(e,t){var i=this,o=i["_on"+e];if("function"==typeof t)o.push(t);else for(var n=0;n<o.length;n++)t?o[n].call(i,t):o[n].call(i);return i},off:function(e,t){var i=this,o=i["_on"+e];if(t){for(var n=0;n<o.length;n++)if(t===o[n]){o.splice(n,1);break}}else i["_on"+e]=[];return i},unload:function(){for(var t=this,i=t._audioNode,o=0;o<t._audioNode.length;o++)i[o].paused||(t.stop(i[o].id),t.on("end",i[o].id)),t._webAudio?i[o].disconnect(0):i[o].src="";for(o=0;o<t._onendTimer.length;o++)clearTimeout(t._onendTimer[o].timer);var n=l._howls.indexOf(t);null!==n&&n>=0&&l._howls.splice(n,1),delete e[t._src],t=null}},o)var u=function(t,i){if(i in e)return t._duration=e[i].duration,void g(t);if(/^data:[^;]+;base64,/.test(i)){for(var o=atob(i.split(",")[1]),n=new Uint8Array(o.length),r=0;r<o.length;++r)n[r]=o.charCodeAt(r);d(n.buffer,t,i)}else{var s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType="arraybuffer",s.onload=function(){d(s.response,t,i)},s.onerror=function(){t._webAudio&&(t._buffer=!0,t._webAudio=!1,t._audioNode=[],delete t._gainNode,delete e[i],t.load())};try{s.send()}catch(a){s.onerror()}}},d=function(t,o,n){i.decodeAudioData(t,function(t){t&&(e[n]=t,g(o,t))},function(e){o.on("loaderror",e)})},g=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},f=function(t,o,n){var r=t._nodeById(n);r.bufferSource=i.createBufferSource(),r.bufferSource.buffer=e[t._src],r.bufferSource.connect(r.panner),r.bufferSource.loop=o[0],o[0]&&(r.bufferSource.loopStart=o[1],r.bufferSource.loopEnd=o[1]+o[2]),r.bufferSource.playbackRate.value=t._rate};"function"==typeof define&&define.amd&&define("HOWLER",[],function(){return{Howler:l,Howl:p}}),"undefined"!=typeof exports&&(exports.Howler=l,exports.Howl=p),"undefined"!=typeof window&&(window.Howler=l,window.Howl=p)}(),define("AtlasData",["require","exports","module"],function(e,t,i){var o={};return o}),define("com/fighter/app/RDPAlgorithm",["require","exports","module"],function(e,t,i){var o=function(){};o.prototype.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.prototype.point_line_distance=function(e,t,i){return t==i?this.distance(e,t):(n=Math.abs((i.x-t.x)*(t.y-e.y)-(t.x-e.x)*(i.y-t.y)),d=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),n/d)},o.prototype.simplify=function(e,t){for(var e=this.rdp(e,t),i=[e[0]],o=1;o<e.length;o++)e[o].x!==e[o-1].x&&e[o].y!==e[o-1].y&&i.push(e[o]);return i},o.prototype.rdp=function(e,t){t=t||40;for(var i,o=[],n=0,r=0,s=e.length-1,a=1;s>a;a++)i=this.point_line_distance(e[a],e[0],e[s]),i>n&&(r=a,n=i);return n>t?(o=o.concat(this.rdp(e.slice(0,r+1),t)),o=o.concat(this.rdp(e.slice(r,s+1),t))):o=[e[0],e[s]],o},o.instance=new o,i.exports=o}),define("fido/loader/Cache",["require","exports","module"],function(e,t,i){var o=function(){this._json={},this._text={}};o.prototype.addJson=function(e,t){this._json[t]=e},o.prototype.addText=function(e,t){this._text[t]=e},o.prototype.getJson=function(e){return this._json[e]?this._json[e]:null},o.prototype.getText=function(e){return this._text[e]?this._text[e]:void 0},i.exports=new o}),function(e,t,i){function o(e,t,i){return e.call.apply(e.bind,arguments)}function n(e,t,i){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function r(e,t,i){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:n,r.apply(null,arguments)}function s(e,t){this.J=e,this.t=t||e,this.C=this.t.document}function a(e,i,o){e=e.C.getElementsByTagName(i)[0],e||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(o,e.lastChild)}function h(e,t){function i(){e.C.body?t():setTimeout(i,0)}i()}function c(e,t,i){t=t||[],i=i||[];for(var o=e.className.split(/\s+/),n=0;n<t.length;n+=1){for(var r=!1,s=0;s<o.length;s+=1)if(t[n]===o[s]){r=!0;break}r||o.push(t[n])}for(t=[],n=0;n<o.length;n+=1){for(r=!1,s=0;s<i.length;s+=1)if(o[n]===i[s]){r=!0;break}r||t.push(o[n])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(e,t){for(var i=e.className.split(/\s+/),o=0,n=i.length;n>o;o++)if(i[o]==t)return!0;return!1}function p(e){if("string"==typeof e.ma)return e.ma;var t=e.t.location.protocol;return"about:"==t&&(t=e.J.location.protocol),"https:"==t?"https:":"http:"}function u(e,t){var i=e.createElement("link",{rel:"stylesheet",href:t}),o=!1;i.onload=function(){o||(o=!0)},i.onerror=function(){o||(o=!0)},a(e,"head",i)}function d(t,i,o,n){var r=t.C.getElementsByTagName("head")[0];if(r){var s=t.createElement("script",{src:i}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,o&&o(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&r.removeChild(s))},r.appendChild(s),e.setTimeout(function(){a||(a=!0,o&&o(Error("Script load timeout")))},n||5e3),s}return null}function g(e,t){this.X=e,this.fa=t}function f(e,t,i,o){this.c=null!=e?e:null,this.g=null!=t?t:null,this.A=null!=i?i:null,this.e=null!=o?o:null}function m(e){e=Q.exec(e);var t=null,i=null,o=null,n=null;return e&&(null!==e[1]&&e[1]&&(t=parseInt(e[1],10)),null!==e[2]&&e[2]&&(i=parseInt(e[2],10)),null!==e[3]&&e[3]&&(o=parseInt(e[3],10)),null!==e[4]&&e[4]&&(n=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new f(t,i,o,n)}function v(e,t,i,o,n,r,s,a){this.M=e,this.k=a}function y(e){this.a=e}function _(e){var t=b(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):(e=b(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1),""!=e?("Mac_PowerPC"==e?e="Macintosh":"PlayStation"==e&&(e="Linux"),e):"Unknown")}function x(e){var t=b(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(t||(t=b(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=b(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=b(e.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var t=t.split(/\s/),i=0;i<t.length;i+=1)if(/^[\d\._]+$/.test(t[i]))return t[i];return(e=b(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function w(e){var t=_(e),i=m(x(e)),o=m(b(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),n="Unknown",r=new f,r="Unknown",s=!1;return/OPR\/[\d.]+/.test(e.a)?n="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?n="Chrome":/Silk\/\d/.test(e.a)?n="Silk":"BlackBerry"==t||"Android"==t?n="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?n="PhantomJS":-1!=e.a.indexOf("Safari")?n="Safari":-1!=e.a.indexOf("AdobeAIR")?n="AdobeAIR":-1!=e.a.indexOf("PlayStation")&&(n="BuiltinBrowser"),"BuiltinBrowser"==n?r="Unknown":"Silk"==n?r=b(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==n?r=b(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?r=b(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==n?r=b(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==n?r=b(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==n&&(r=b(e.a,/PhantomJS\/([\d.]+)/,1)),r=m(r),s="AdobeAIR"==n?2<r.c||2==r.c&&5<=r.g:"BlackBerry"==t?10<=i.c:"Android"==t?2<i.c||2==i.c&&1<i.g:526<=o.c||525<=o.c&&13<=o.g,new v(n,0,0,0,0,0,0,new g(s,536>o.c||536==o.c&&11>o.g))}function b(e,t,i){return(e=e.match(t))&&e[i]?e[i]:""}function k(e){this.la=e||"-"}function S(e,t){this.M=e,this.Y=4,this.N="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.N=i[1],this.Y=parseInt(i[2],10))}function T(e){return e.N+e.Y}function C(e){var t=4,i="n",o=null;return e&&((o=e.match(/(normal|oblique|italic)/i))&&o[1]&&(i=o[1].substr(0,1).toLowerCase()),(o=e.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?t=7:/[1-9]00/.test(o[1])&&(t=parseInt(o[1].substr(0,1),10)))),i+t}function M(e,t){this.d=e,this.p=e.t.document.documentElement,this.P=t,this.j="wf",this.h=new k("-"),this.ga=!1!==t.events,this.B=!1!==t.classes}function P(e){if(e.B){var t=l(e.p,e.h.e(e.j,"active")),i=[],o=[e.h.e(e.j,"loading")];t||i.push(e.h.e(e.j,"inactive")),c(e.p,i,o)}E(e,"inactive")}function E(e,t,i){e.ga&&e.P[t]&&(i?e.P[t](i.getName(),T(i)):e.P[t]())}function I(){this.w={}}function F(e,t){this.d=e,this.G=t,this.m=this.d.createElement("span",{"aria-hidden":"true"},this.G)}function B(e){a(e.d,"body",e.m)}function A(e){var t;t=[];for(var i=e.M.split(/,\s*/),o=0;o<i.length;o++){var n=i[o].replace(/['"]/g,"");-1==n.indexOf(" ")?t.push(n):t.push("'"+n+"'")}return t=t.join(","),i="normal","o"===e.N?i="oblique":"i"===e.N&&(i="italic"),"display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+t+";"+("font-style:"+i+";font-weight:"+(e.Y+"00")+";")}function O(e,t,i,o,n,r,s,a){this.Z=e,this.ja=t,this.d=i,this.s=o,this.G=a||"BESbswy",this.k=n,this.I={},this.W=r||3e3,this.ba=s||null,this.F=this.D=null,e=new F(this.d,this.G),B(e);for(var h in ee)ee.hasOwnProperty(h)&&(t=new S(ee[h],T(this.s)),t=A(t),e.m.style.cssText=t,this.I[ee[h]]=e.m.offsetWidth);e.remove()}function L(e,t,i){for(var o in ee)if(ee.hasOwnProperty(o)&&t===e.I[ee[o]]&&i===e.I[ee[o]])return!0;return!1}function D(e){var t=e.D.m.offsetWidth,i=e.F.m.offsetWidth;t===e.I.serif&&i===e.I["sans-serif"]||e.k.fa&&L(e,t,i)?J()-e.na>=e.W?e.k.fa&&L(e,t,i)&&(null===e.ba||e.ba.hasOwnProperty(e.s.getName()))?G(e,e.Z):G(e,e.ja):R(e):G(e,e.Z)}function R(e){setTimeout(r(function(){D(this)},e),25)}function G(e,t){e.D.remove(),e.F.remove(),t(e.s)}function W(e,t,i,o){this.d=t,this.u=i,this.R=0,this.da=this.aa=!1,this.W=o,this.k=e.k}function N(e,t,i,o,n){if(i=i||{},0===t.length&&n)P(e.u);else for(e.R+=t.length,n&&(e.aa=n),n=0;n<t.length;n++){var s=t[n],a=i[s.getName()],h=e.u,l=s;h.B&&c(h.p,[h.h.e(h.j,l.getName(),T(l).toString(),"loading")]),E(h,"fontloading",l),h=null,h=new O(r(e.ha,e),r(e.ia,e),e.d,s,e.k,e.W,o,a),h.start()}}function j(e){0==--e.R&&e.aa&&(e.da?(e=e.u,e.B&&c(e.p,[e.h.e(e.j,"active")],[e.h.e(e.j,"loading"),e.h.e(e.j,"inactive")]),E(e,"active")):P(e.u))}function U(e){this.J=e,this.v=new I,this.oa=new y(e.navigator.userAgent),this.a=this.oa.parse(),this.T=this.U=0,this.Q=this.S=!0}function X(e,t,i,o,n){var r=0==--e.U;(e.Q||e.S)&&setTimeout(function(){N(t,i,o||null,n||null,r)},0)}function V(e,t,i){this.O=e?e:t+te,this.q=[],this.V=[],this.ea=i||""}function H(e){this.q=e,this.ca=[],this.L={}}function z(e,t){this.a=new y(navigator.userAgent).parse(),this.d=e,this.f=t}function q(e,t){this.d=e,this.f=t,this.o=[]}function Y(e,t){this.d=e,this.f=t,this.o=[]}function Z(e,t){this.d=e,this.f=t,this.o=[]}function K(e,t){this.d=e,this.f=t}var J=Date.now||function(){return+new Date};s.prototype.createElement=function(e,t,i){if(e=this.C.createElement(e),t)for(var o in t)t.hasOwnProperty(o)&&("style"==o?e.style.cssText=t[o]:e.setAttribute(o,t[o]));return i&&e.appendChild(this.C.createTextNode(i)),e};var Q=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;f.prototype.compare=function(e){return this.c>e.c||this.c===e.c&&this.g>e.g||this.c===e.c&&this.g===e.g&&this.A>e.A?1:this.c<e.c||this.c===e.c&&this.g<e.g||this.c===e.c&&this.g===e.g&&this.A<e.A?-1:0},f.prototype.toString=function(){return[this.c,this.g||"",this.A||"",this.e||""].join("")},v.prototype.getName=function(){return this.M};var $=new v("Unknown",0,0,0,0,0,0,new g(!1,!1));y.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=_(this);var t=m(x(this)),i=null,o=b(this.a,/Trident\/([\d\w\.]+)/,1),i=m(-1!=this.a.indexOf("MSIE")?b(this.a,/MSIE ([\d\w\.]+)/,1):b(this.a,/rv:([\d\w\.]+)/,1));""!=o&&m(o),e=new v("MSIE",0,0,0,0,0,0,new g("Windows"==e&&6<=i.c||"Windows Phone"==e&&8<=t.c,!1))}else if(-1!=this.a.indexOf("Opera"))e:if(e=m(b(this.a,/Presto\/([\d\w\.]+)/,1)),m(x(this)),null!==e.c||m(b(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))e=m(b(this.a,/Opera Mini\/([\d\.]+)/,1)),e=new v("OperaMini",0,0,0,_(this),0,0,new g(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&(e=m(b(this.a,/Version\/([\d\.]+)/,1)),null!==e.c)){e=new v("Opera",0,0,0,_(this),0,0,new g(10<=e.c,!1));break e}e=m(b(this.a,/Opera[\/ ]([\d\.]+)/,1)),e=null!==e.c?new v("Opera",0,0,0,_(this),0,0,new g(10<=e.c,!1)):new v("Opera",0,0,0,_(this),0,0,new g(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?e=w(this):/AppleWeb(K|k)it/.test(this.a)?e=w(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new f,m(x(this)),t=!1,-1!=this.a.indexOf("Firefox")?(e="Firefox",t=m(b(this.a,/Firefox\/([\d\w\.]+)/,1)),t=3<=t.c&&5<=t.g):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),i=m(b(this.a,/rv:([^\)]+)/,1)),t||(t=1<i.c||1==i.c&&9<i.g||1==i.c&&9==i.g&&2<=i.A),e=new v(e,0,0,0,_(this),0,0,new g(t,!1))):e=$;return e},k.prototype.e=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.la)},S.prototype.getName=function(){return this.M},F.prototype.remove=function(){var e=this.m;e.parentNode&&e.parentNode.removeChild(e)};var ee={ra:"serif",qa:"sans-serif",pa:"monospace"};O.prototype.start=function(){this.D=new F(this.d,this.G),B(this.D),this.F=new F(this.d,this.G),B(this.F),this.na=J();var e=new S(this.s.getName()+",serif",T(this.s)),e=A(e);this.D.m.style.cssText=e,e=new S(this.s.getName()+",sans-serif",T(this.s)),e=A(e),this.F.m.style.cssText=e,D(this)},W.prototype.ha=function(e){var t=this.u;t.B&&c(t.p,[t.h.e(t.j,e.getName(),T(e).toString(),"active")],[t.h.e(t.j,e.getName(),T(e).toString(),"loading"),t.h.e(t.j,e.getName(),T(e).toString(),"inactive")]),E(t,"fontactive",e),this.da=!0,j(this)},W.prototype.ia=function(e){var t=this.u;if(t.B){var i=l(t.p,t.h.e(t.j,e.getName(),T(e).toString(),"active")),o=[],n=[t.h.e(t.j,e.getName(),T(e).toString(),"loading")];i||o.push(t.h.e(t.j,e.getName(),T(e).toString(),"inactive")),c(t.p,o,n)}E(t,"fontinactive",e),j(this)},U.prototype.load=function(e){this.d=new s(this.J,e.context||this.J),this.S=!1!==e.events,this.Q=!1!==e.classes;var t=new M(this.d,e),i=[],o=e.timeout;t.B&&c(t.p,[t.h.e(t.j,"loading")]),E(t,"loading");var n,i=this.v,a=this.d,h=[];for(n in e)if(e.hasOwnProperty(n)){var l=i.w[n];l&&h.push(l(e[n],a))}for(i=h,this.T=this.U=i.length,e=new W(this.a,this.d,t,o),o=0,n=i.length;n>o;o++)a=i[o],a.K(this.a,r(this.ka,this,a,t,e))},U.prototype.ka=function(e,t,i,o){var n=this;o?e.load(function(e,t,o){X(n,i,e,t,o)}):(e=0==--this.U,this.T--,e&&0==this.T?P(t):(this.Q||this.S)&&N(i,[],{},null,e))};var te="//fonts.googleapis.com/css";V.prototype.e=function(){if(0==this.q.length)throw Error("No fonts to load!");if(-1!=this.O.indexOf("kit="))return this.O;for(var e=this.q.length,t=[],i=0;e>i;i++)t.push(this.q[i].replace(/ /g,"+"));return e=this.O+"?family="+t.join("%7C"),0<this.V.length&&(e+="&subset="+this.V.join(",")),0<this.ea.length&&(e+="&text="+encodeURIComponent(this.ea)),e};var ie={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},oe={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ne={i:"i",italic:"i",n:"n",normal:"n"},re=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;H.prototype.parse=function(){for(var e=this.q.length,t=0;e>t;t++){var i=this.q[t].split(":"),o=i[0].replace(/\+/g," "),n=["n4"];if(2<=i.length){var r,s=i[1];if(r=[],s)for(var s=s.split(","),a=s.length,h=0;a>h;h++){var c;if(c=s[h],c.match(/^[\w-]+$/)){c=re.exec(c.toLowerCase());var l=void 0;if(null==c)l="";else{if(l=void 0,l=c[1],null==l||""==l)l="4";else var p=oe[l],l=p?p:isNaN(l)?"4":l.substr(0,1);c=c[2],l=[null==c||""==c?"n":ne[c],l].join("")}c=l}else c="";c&&r.push(c)}0<r.length&&(n=r),3==i.length&&(i=i[2],r=[],i=i?i.split(","):r,0<i.length&&(i=ie[i[0]])&&(this.L[o]=i))}for(this.L[o]||(i=ie[o])&&(this.L[o]=i),i=0;i<n.length;i+=1)this.ca.push(new S(o,n[i]))}};var se={Arimo:!0,Cousine:!0,Tinos:!0};z.prototype.K=function(e,t){t(e.k.X)},z.prototype.load=function(e){var t=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?h(t,r(this.$,this,e)):this.$(e)},z.prototype.$=function(e){for(var t=this.d,i=new V(this.f.api,p(t),this.f.text),o=this.f.families,n=o.length,r=0;n>r;r++){var s=o[r].split(":");3==s.length&&i.V.push(s.pop());var a="";2==s.length&&""!=s[1]&&(a=":"),i.q.push(s.join(a))}o=new H(o),o.parse(),u(t,i.e()),e(o.ca,o.L,se)},q.prototype.H=function(e){var t=this.d;return p(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(t.t.location.hostname||t.J.location.hostname)+"/"+e+".js"},q.prototype.K=function(e,t){var i=this.f.id,o=this.d.t,n=this;i?(o.__webfontfontdeckmodule__||(o.__webfontfontdeckmodule__={}),o.__webfontfontdeckmodule__[i]=function(e,i){for(var o=0,r=i.fonts.length;r>o;++o){var s=i.fonts[o];n.o.push(new S(s.name,C("font-weight:"+s.weight+";font-style:"+s.style)))}t(e)},d(this.d,this.H(i),function(e){e&&t(!1)})):t(!1)},q.prototype.load=function(e){e(this.o)},Y.prototype.H=function(e){var t=p(this.d);return(this.f.api||t+"//use.typekit.net")+"/"+e+".js"},Y.prototype.K=function(e,t){var i=this.f.id,o=this.d.t,n=this;i?d(this.d,this.H(i),function(e){if(e)t(!1);else{if(o.Typekit&&o.Typekit.config&&o.Typekit.config.fn){e=o.Typekit.config.fn;for(var i=0;i<e.length;i+=2)for(var r=e[i],s=e[i+1],a=0;a<s.length;a++)n.o.push(new S(r,s[a]));try{o.Typekit.load({events:!1,classes:!1})}catch(h){}}t(!0)}},2e3):t(!1)},Y.prototype.load=function(e){e(this.o)},Z.prototype.K=function(e,t){var i=this,o=i.f.projectId,n=i.f.version;if(o){var r=i.d.t;d(this.d,i.H(o,n),function(n){if(n)t(!1);else{if(r["__mti_fntLst"+o]&&(n=r["__mti_fntLst"+o]()))for(var s=0;s<n.length;s++)i.o.push(new S(n[s].fontfamily));t(e.k.X)}}).id="__MonotypeAPIScript__"+o}else t(!1)},Z.prototype.H=function(e,t){var i=p(this.d),o=(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return i+"//"+o+"/"+e+".js"+(t?"?v="+t:"")},Z.prototype.load=function(e){e(this.o)},K.prototype.load=function(e){var t,i,o=this.f.urls||[],n=this.f.families||[],r=this.f.testStrings||{};for(t=0,i=o.length;i>t;t++)u(this.d,o[t]);for(o=[],t=0,i=n.length;i>t;t++){var s=n[t].split(":");if(s[1])for(var a=s[1].split(","),h=0;h<a.length;h+=1)o.push(new S(s[0],a[h]));else o.push(new S(s[0]))}e(o,r)},K.prototype.K=function(e,t){return t(e.k.X)};var ae=new U(this);ae.v.w.custom=function(e,t){return new K(t,e)},ae.v.w.fontdeck=function(e,t){return new q(t,e)},ae.v.w.monotype=function(e,t){return new Z(t,e)},ae.v.w.typekit=function(e,t){return new Y(t,e)},ae.v.w.google=function(e,t){return new z(t,e)},this.WebFont||(this.WebFont={},this.WebFont.load=r(ae.load,ae),this.WebFontConfig&&ae.load(this.WebFontConfig))}(this,document),define("fido/loader/WebFontLoader",function(){}),define("fido/loader/Loader",["require","exports","module","PIXI","signals","fido/loader/Cache","fido/loader/WebFontLoader"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=e("fido/loader/Cache"),s=(e("fido/loader/WebFontLoader"),function(){this.crossdomain=!1,window.XDomainRequest&&this.crossdomain?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=function(){},this.ajaxRequest.ontimeout=function(){},this.ajaxRequest.onprogress=function(){}):window.XMLHttpRequest&&(this.ajaxRequest=new window.XMLHttpRequest),this.ajaxRequest.onload=this._onFileLoaded.bind(this),this.ajaxRequest.onreadystatechange=function(e){},this.fileCount=0,this.filesToLoad=[],this.fontsToLoad=[],this.pixiAssetsToLoad=[],this.soundsToLoad=[],this.customToLoad=[],this.onComplete=new n,this.onProgress=new n});s.prototype.addFonts=function(e){this.fontsToLoad=this.fontsToLoad.concat(e)},s.prototype.addText=function(e,t){var i={url:e,id:t,type:s.TEXT};this.filesToLoad.push(i)},s.prototype.addJson=function(e,t){var i={url:e,id:t,type:s.JSON};this.filesToLoad.push(i)},s.prototype.addPixiAssets=function(e){this.pixiAssetsToLoad=this.pixiAssetsToLoad.concat(e)},s.prototype.addCSS=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},s.prototype.addCustom=function(e){var t={object:e,type:s.CUSTOM};this.filesToLoad.push(t)},s.prototype.load=function(){this._loadFonts()},s.prototype._loadFiles=function(){this.fileCount=0,this.filesToLoad.length?this._loadNextFile():this._loadPixiAssets()},s.prototype._loadNextFile=function(){var e=this.filesToLoad[this.fileCount];e.type===s.CUSTOM?(e.object.onLoaded.addOnce(this._onFileLoaded,this),e.object.load()):(this.ajaxRequest.open("GET",e.url,!0),this.ajaxRequest.send())},s.prototype._onFileLoaded=function(){var e=this.filesToLoad[this.fileCount];if(e.type===s.CUSTOM);else if(200!==this.ajaxRequest.status);else switch(e.type){case s.TEXT:var t=this.ajaxRequest.responseText;r.addText(t,e.id);break;case s.JSON:var i=JSON.parse(this.ajaxRequest.responseText);r.addJson(i,e.id)}this.fileCount++,this._onProgress(),this.fileCount===this.filesToLoad.length?this._loadPixiAssets():this._loadNextFile()},s.prototype._loadPixiAssets=function(){return 0===this.pixiAssetsToLoad.length?void this._onComplete():(this.pixiAssetLoader=new o.loaders.Loader,this.pixiAssetLoader.add(this.pixiAssetsToLoad),this.pixiAssetLoader.on("progress",this._onProgress,this),void this.pixiAssetLoader.load(this._onComplete.bind(this)))},s.prototype._loadFonts=function(){return 0===this.fontsToLoad.length?void this._loadFiles():(WebFont.load({
custom:{families:this.fontsToLoad,urls:[ASSET_URL+"./css/fonts.css"]},active:function(){for(var e=0;e<this.fontsToLoad.length;e++){var t=new o.Text("cheeky",{font:"32px "+this.fontsToLoad[e]});t.updateText()}}.bind(this)}),void this._loadFiles())},s.prototype._onComplete=function(e,t){o.loadedResources=t,this.onProgress.dispatch(1),this.onComplete.dispatch()},s.prototype._onProgress=function(){var e=(this.filesToLoad.length+this.pixiAssetsToLoad.length,this.fileCount);this.pixiAssetLoader&&(e=this.pixiAssetLoader.progress),this.onProgress.dispatch(.01*e)},s.TEXT=0,s.JSON=1,s.CUSTOM=2,i.exports=s}),define("fido/app/transitions/AlphaTransition",["require","exports","module"],function(e,t,i){AlphaTransition=function(){},AlphaTransition.constructor=AlphaTransition,AlphaTransition.prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.currentScreen,.4,{alpha:0,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},AlphaTransition.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.alpha=0,this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),TweenLite.to(this.nextScreen,.4,{alpha:1,onComplete:this.onFadein.bind(this)}),this.screenManager.container.addChild(this.nextScreen)},AlphaTransition.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},AlphaTransition.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=AlphaTransition}),define("fido/app/transitions/ColorTransition",["require","exports","module"],function(e,t,i){ColorTransition=function(){this.colorRect=(new PIXI.Graphics).beginFill(0).drawRect(0,0,2e3,1e3),this.colorRect.alpha=0},ColorTransition.constructor=ColorTransition,ColorTransition.prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.screenManager.container.addChild(this.colorRect),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.colorRect,.4,{alpha:1,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},ColorTransition.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),this.screenManager.container.addChild(this.colorRect),TweenLite.to(this.colorRect,.4,{alpha:0,onComplete:this.onFadein.bind(this)})},ColorTransition.prototype.onFadein=function(){this.screenManager.container.removeChild(this.colorRect),this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},ColorTransition.prototype.resize=function(e,t){(this.w!==e||this.h!==t)&&(this.w=e,this.h=t,this.colorRect.scale.x=e/100,this.colorRect.scale.y=t/100)},i.exports=ColorTransition}),define("fido/app/ScreenManager",["require","exports","module","PIXI","./transitions/AlphaTransition","./transitions/ColorTransition"],function(e,t,i){var o=e("PIXI"),n=e("./transitions/AlphaTransition"),r=(e("./transitions/ColorTransition"),function(e,t,i){this.container=e||new o.Container,this.screens={},this.currentScreen,this.fading=!1,this.w=t||400,this.h=i||400,this.history=[],this.defaultTransition=new n,this.transition=this.defaultTransition,this.active=!1});r.constructor=r,r.prototype.gotoScreenByID=function(e,t){var i=this.screens[e];if(!i)throw new Error("screen not found with id : "+e);this.gotoScreen(i,t)},r.prototype.addScreen=function(e,t){this.screens[t]=e,e.id=t,e.screenManager=this},r.prototype.goBack=function(){this.history.pop();var e=this.history.pop();e&&this.gotoScreen(e)},r.prototype.getScreenId=function(e){for(var t in this.screens)if(this.screens[t]===e)return t;return null},r.prototype.gotoScreen=function(e,t){if(this.currentScreen!==e&&(this.history.push(e),this.nextScreen=e,!this.active)){this.active=!0,this.transition=e.transition||this.defaultTransition,this.transition.onResize&&this.transition.onResize(this.w,this.h);var i=this.currentScreen;this.nextScreen&&this.nextScreen.resize&&this.nextScreen.resize(this.w,this.h),this.currentScreen=e,this.transition.begin(this,i,this.nextScreen)}},r.prototype.onTransitionComplete=function(){this.active=!1,this.currentScreen!=this.nextScreen&&this.gotoScreen(this.nextScreen)},r.prototype.resize=function(e,t){this.w=e,this.h=t,this.transition.onResize&&this.transition.onResize(e,t),this.currentScreen&&this.currentScreen.resize&&this.currentScreen.resize(e,t)},i.exports=r}),define("fido/system/Device",["require","exports","module"],function(e,t,i){Device=function(){this.arora=!1,this.chrome=!1,this.chromeIOS=!1,this.epiphany=!1,this.firefox=!1,this.mobileSafari=!1,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.midori=!1,this.opera=!1,this.safari=!1,this.silk=!1,this.webApp=!1,this.cocoonJS=!1,this.android=!1,this.chromeOS=!1,this.iOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.desktop=!1,this.pixelRatio=0,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.blob=!1,this.canvas=!1,this.localStorage=!1,this.file=!1,this.fileSystem=!1,this.webGL=!1,this.worker=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1;var e=navigator.userAgent;this._checkBrowser(e),this._checkOS(e),this._checkDevice(e),this._checkAudio(),this._checkFeatures(),this._checkIsMobile(),this._checkIsTouch()},Device.prototype._checkBrowser=function(e){/Arora/.test(e)?this.arora=!0:/CriOS/.test(e)?this.chromeIOS=!0:/Opera|OPR|op/.test(e)?(this.opera=!0,this.chrome=!1):/Chrome/.test(e)?this.chrome=!0:/Epiphany/.test(e)?this.epiphany=!0:/Firefox/.test(e)?this.firefox=!0:/Mobile Safari/.test(e)?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(e)||navigator.userAgent.match(/Trident.*rv[ :]*11\./)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(e)?this.midori=!0:/Safari/.test(e)?this.safari=!0:/\bSilk\b/.test(e)?this.silk=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(this.ie=!0,this.trident=!0,this.tridentVersion=parseInt(RegExp.$1,10),this.ieVersion=parseInt(RegExp.$3,10)),navigator.standalone&&(this.webApp=!0),navigator.isCocoonJS&&(this.cocoonJS=!0)},Device.prototype._checkOS=function(e){/Android/.test(e)?this.android=!0:/CrOS/.test(e)?this.chromeOS=!0:/iP[ao]d|iPhone/i.test(e)?(this.iOS=!0,this.iOS_version=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1):/Linux/.test(e)?this.linux=!0:/Mac OS/.test(e)?this.macOS=!0:/Windows/.test(e)&&(this.windows=!0),(this.windows||this.macOS||this.linux||this.chromeOS)&&(this.desktop=!0)},Device.prototype._checkDevice=function(){this.pixelRatio=window.devicePixelRatio||1,this.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),this.iPhone4=2===this.pixelRatio&&this.iPhone,this.iPhone4&&(this.iPhone4=480==window.screen.height&&320==window.screen.width||480==window.screen.width&&320==window.screen.height),this.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad")},Device.prototype._checkFeatures=function(){"undefined"!=typeof window.Blob&&(this.blob=!0),this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(e){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem,this.webGL=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}(),(this.android||this.ie)&&(this.webGL=!1),this.worker=!!window.Worker,("ontouchstart"in document.documentElement||window.navigator.msPointerEnabled)&&(this.touch=!0)},Device.prototype._checkAudio=function(){this.audioData=!!window.Audio,this.webaudio=!(!window.AudioContext&&!window.webkitAudioContext);var e=document.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&(e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(this.ogg=!0),e.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.mp3=!0),e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.wav=!0),(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;").replace(/^no$/,""))&&(this.m4a=!0))}catch(i){}},Device.prototype._checkIsMobile=function(){var e=!1;!function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),this.isMobile=e,this.mobile=e},Device.prototype._checkIsTouch=function(){this.isTouch="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},Device.prototype.getInfo=function(){var e="DEVICE OUTPUT\n\n";return e+="---\n",e+="Browser Info :: \n",e+="Arora : "+this.arora+"\n",e+="Chrome : "+this.chrome+"\n",e+="Epiphany : "+this.epiphany+"\n",e+="Firefox : "+this.firefox+"\n",e+="Mobile Safari : "+this.mobileSafari+"\n",e+="IE : "+this.ie,e+=this.ie?" (Version "+this.ieVersion+")\n":"\n",e+="Midori : "+this.midori+"\n",e+="Opera : "+this.opera+"\n",e+="Safari : "+this.safari+"\n",e+="Web App : "+this.webApp+"\n",e+="CocoonJS : "+this.cocoonJS+"\n",e+="Android : "+this.android+"\n",e+="---\n",e+="Operating System :: \n",e+="Chrome OS : "+this.chromeOS+"\n",e+="iOS : "+this.iOS+"\n",e+="Linux : "+this.linux+"\n",e+="Mac OS : "+this.macOS+"\n",e+="Windows : "+this.windows+"\n",e+="Desktop : "+this.desktop+"\n",e+="---\n",e+="Device Type : \n",e+="Pixel Ratio : "+this.pixelRatio+"\n",e+="iPhone : "+this.iPhone+"\n",e+="iPhone 4 : "+this.iPhone4+"\n",e+="iPad : "+this.iPad+"\n",e+="---\n",e+="Features :: \n",e+="Blob : "+this.blob+"\n",e+="Canvas : "+this.canvas+"\n",e+="LocalStorage : "+this.localStorage+"\n",e+="File : "+this.file+"\n",e+="File System : "+this.fileSystem+"\n",e+="WebGL : "+this.webGL+"\n",e+="Workers : "+this.worker+"\n",e+="---\n",e+="Audio :: \n",e+="AudioData : "+this.audioData+"\n",e+="WebAudio : "+this.webAudio+"\n",e+="Supports .ogg : "+this.ogg+"\n",e+="Supports Opus : "+this.opus+"\n",e+="Supports .mp3 : "+this.mp3+"\n",e+="Supports .wav : "+this.wav+"\n",e+="Supports .m4a : "+this.m4a+"\n",e+="Supports .webm : "+this.webm},Object.defineProperty(Device.prototype,"ie9",{get:function(){return this.ie&&9===this.ieVersion}}),Object.defineProperty(Device.prototype,"useSM2",{get:function(){return this.ie||this.opera}}),Device.instance=new Device,i.exports=Device}),define("fido/utils/FrameWait",["require","exports","module"],function(e,t,i){var o=function(){this.updateBind=this.update.bind(this),this.waits=[]};o.prototype.wait=function(e,t){var i={callback:e,count:t||2};this.waits.push(i),requestAnimationFrame(this.updateBind)},o.prototype.update=function(){for(var e=this.waits.length-1;e>=0;e--){var t=this.waits[e];t.count--,t.count<=0&&(t.callback(),this.waits.splice(e,1))}this.waits.length>0&&requestAnimationFrame(this.updateBind)},i.exports=new o}),define("fido/app/LoaderScreen",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/FrameWait","signals"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("fido/utils/FrameWait"),s=e("signals"),a=function(e){o.Container.call(this),this.app=e,this.easeLoad=0,this.targetLoad=0,this.onReady=new s,this.onComplete=new s,this.initLoader()};a.prototype=Object.create(o.Container.prototype),a.prototype.initLoader=function(){n.instance.add(this.update,this),this.resize(this.w,this.h),r.wait(this.showLoader.bind(this))},a.prototype.showLoader=function(){this.onReady.dispatch()},a.prototype.update=function(){this.easeLoad+=.3*(this.targetLoad-this.easeLoad),this.easeLoad>.99&&(this.easeLoad=1,n.instance.remove(this.update,this),this.onComplete.dispatch())},a.prototype.updateProgress=function(e){this.targetLoad=e},a.prototype.onHide=function(){n.instance.remove(this.update,this)},a.prototype.resize=function(e,t){this.w=e,this.h=t,this.barBg},i.exports=a}),define("fido/app/OrientationManager",["require","exports","module","fido/system/Ticker","fido/system/Device","signals","fido/app/App"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("fido/system/Device"),r=e("signals"),s=(e("fido/app/App"),function(e){if(this.mode=e,this.onRotationChanged=new r,this.rotationWarning=!0,this.orientation,this.rotateScreen=document.createElement("div"),this.rotateScreen.style.backgroundPosition="50% 50%",this.rotateScreen.style.backgroundColor="#3b3b3b",this.rotateScreen.style.backgroundRepeat="no-repeat",this.rotateScreen.style.position="absolute",this.rotateScreen.style.backgroundSize="cover",this.rotateScreen.style.top="0",this.rotateScreen.style.left="0",this.rotateScreen.style.bottom="0",this.rotateScreen.style.right="0",this.rotateScreen.style.zIndex=1e7,this.rotateScreen.style.display="none",this.rotateScreen.height="100%",this.rotateScreen.width="100%",this.changeRotationImage(ASSET_URL+"img/orientation_iphone.png"),n.instance.iPad&&this.changeRotationImage(ASSET_URL+"img/orientation_ipad.png"),document.body.appendChild(this.rotateScreen),n.instance.firefox){var t=window.matchMedia("(orientation: portrait)");t.addListener(this.checkOrientationChangesFirefox.bind(this))}this.supportsOrientationChange="onorientationchange"in window,this.supportsOrientationChange&&(this.orientation=window.orientation,window.addEventListener("orientationchange",this.checkOrientationChanges.bind(this),!1),this.checkOrientationChanges()),this.supportsOrientationEvent="DeviceOrientationEvent"in window});s.prototype.constructor=s,s.prototype.checkOrientationResize=function(e){},s.prototype.changeRotationImage=function(e){this.rotateScreen.style.backgroundImage="url("+e+")"},s.prototype.checkOrientationChangesFirefox=function(){var e=screen.orientation||screen.mozOrientation||screen.msOrientation;"landscape-primary"===e?this.orientation=90:"landscape-secondary"===e&&(this.orientation=-90),this.onRotationChanged.dispatch(this.orientation)},s.prototype.checkOrientationChanges=function(){this.orientation=window.orientation,this.onRotationChanged.dispatch(window.orientation)},s.prototype.check=function(e,t){if(!n.instance.desktop){var i=0===this.mode?t>e:e>t;i?(o.instance.stop(),this.rotateScreen.style.display="block"):(o.instance.start(),this.rotateScreen.style.display="none")}},s.prototype.updateDeviceOrientation=function(e){this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma},i.exports=s}),define("fido/app/TranslationManager",["require","exports","module","fido/loader/Cache"],function(e,t,i){var o=e("fido/loader/Cache"),n=function(e,t){this.debug=t.debug||!1,this.app=e,this.app.preloader.addJson(t.stringsUrl||ASSET_URL+"json/strings.json","strings"),this.app.preloader.onComplete.addOnce(this.onPreloaderComplete,this)};n.prototype.constructor=n,n.prototype.onPreloaderComplete=function(){if(window.translations=o.getJson("strings").strings,this.debug)for(var e in window.translations)window.translations[e]+=window.translations[e]},i.exports=n}),define("fido/app/App",["require","exports","module","PIXI","fido/loader/Loader","fido/app/ScreenManager","fido/system/Ticker","fido/system/Device","fido/app/LoaderScreen","fido/app/OrientationManager","fido/app/TranslationManager","signals"],function(e,t,i){var o=e("PIXI"),n=e("fido/loader/Loader"),r=e("fido/app/ScreenManager"),s=e("fido/system/Ticker"),a=e("fido/system/Device"),h=e("fido/app/LoaderScreen"),c=e("fido/app/OrientationManager"),l=e("fido/app/TranslationManager"),p=e("signals"),u=function(e){e=e||u.defaultOptions,this.options={};for(var t in u.defaultOptions)this.options[t]=e[t]||u.defaultOptions[t];this.setupPixi(),s.instance.start(),s.instance.add(this.update,this),this.screenManager=new r(null,300,300),this.preloader=new n,this.loader=new n,this.translation=new l(this,e),this.onReady=new p,this.options.orientationMode!==u.orientationModes.BOTH&&(this.orientationManager=new c(this.options.orientationMode)),this.stage.addChild(this.screenManager.container)};u.prototype.setupPixi=function(){var e=this.options;e.forceCanvas||a.instance.android&&!a.instance.chrome?(this.renderer=new o.CanvasRenderer(e.width,e.height),this.renderer.clearBeforeRender=!0):this.renderer=o.autoDetectRenderer(e.width,e.height),window.WEBGL=o.isWebGL=this.renderer instanceof o.WebGLRenderer,window.renderer=this.renderer,this.view=this.renderer.view,this.stage=new o.Container,this.view.style.position="absolute",this.view.addEventListener("mousedown",function(){window.focus()},!0),o.stage=this.stage},u.prototype.update=function(){this.renderer.render(this.stage)},u.prototype.startup=function(){this.options.config&&this.preloader.addJson(this.options.config,"config"),this.preloader.onComplete.addOnce(this.onPreloadComplete,this),this.preloader.load()},u.prototype.onPreloadComplete=function(){this.loaderScreen=new this.options.loaderScreen(this),this.loaderScreen.onReady.addOnce(this.onLoaderScreenReady,this),this.loaderScreen.onComplete.addOnce(this.onLoaderScreenComplete,this),this.onPreload&&this.onPreload(),this.screenManager.addScreen(this.loaderScreen,"loader"),this.screenManager.gotoScreenByID("loader")},u.prototype.onLoaderScreenReady=function(){this.loader.onComplete.addOnce(this.onAssetsLoaded,this),this.loader.onProgress.add(this.onProgresss,this),this.loader.load()},u.prototype.onAssetsLoaded=function(){},u.prototype.onProgresss=function(e){this.loaderScreen.updateProgress(e)},u.prototype.onLoaderScreenComplete=function(){this.onReady.dispatch()},u.prototype.resize=function(e,t){this.orientationManager&&this.orientationManager.check(e,t),this.options.resizeMode===u.resizeModes.DEFUALT?(this.renderer.resize(e,t),this.view.style.width="auto",this.view.style.height="auto"):this["this"].options.resizeMode===u.resizeModes.CSS_RESIZE_PRESERVE_RATIO||this.options.resizeMode===u.resizeModes.CSS_RESIZE&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},u.resizeModes={DEFUALT:0,CSS_RESIZE_PRESERVE_RATIO:1,CSS_RESIZE:2},u.orientationModes={LANDSCAPE:0,PORTRAIT:1,BOTH:2},u.defaultOptions={width:800,height:600,forceCanvas:!1,backgroundColor:16777215,resizeMode:u.resizeModes.DEFUALT,orientationMode:u.orientationModes.LANDSCAPE,loaderScreen:h,config:null},i.exports=u}),define("fido/system/VisibilityChecker",["require","exports","module","signals"],function(e,t,i){var o=e("signals"),n=function(){"undefined"!=typeof document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.onHide=new o,this.onShow=new o,this.init()};n.prototype.handleVisibilityChange=function(){document[this.hidden]?this.onHide.dispatch():this.onShow.dispatch()},n.prototype.init=function(){document.addEventListener(this.visibilityChange,this.handleVisibilityChange.bind(this),!1)},i.exports=new n}),function(e,t){function i(i,o){function n(e){return de.preferFlash&&se&&!de.ignoreFlash&&de.flash[e]!==t&&de.flash[e]}function r(e){return function(t){var i,o=this._s;return i=o&&o._a?e.call(this,t):null}}this.setupOptions={url:i||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,a,h,c,l,p,u,d,g,f,m,v,y,_,x,w,b,k,S,T,C,M,P,E,I,F,B,A,O,L,D,R,G,W,N,j,U,X,V,H,z,q,Y,Z,K,J,Q,$,ee,te,ie,oe,ne,re,se,ae,he,ce,le,pe,ue,de=this,ge=null,fe=null,me=navigator.userAgent,ve=e.location.href.toString(),ye=document,_e=[],xe=!1,we=!1,be=!1,ke=!1,Se=!1,Te=8,Ce=null,Me=null,Pe=!1,Ee=!1,Ie=0,Fe=null,Be=[],Ae=null,Oe=Array.prototype.slice,Le=!1,De=0,Re=me.match(/(ipad|iphone|ipod)/i),Ge=me.match(/android/i),We=me.match(/msie/i),Ne=me.match(/webkit/i),je=me.match(/safari/i)&&!me.match(/chrome/i),Ue=me.match(/opera/i),Xe=me.match(/(mobile|pre\/|xoom)/i)||Re||Ge,Ve=!ve.match(/usehtml5audio/i)&&!ve.match(/sm2\-ignorebadua/i)&&je&&!me.match(/silk/i)&&me.match(/OS X 10_6_([3-7])/i),He=(e.console!==t&&console.log!==t,ye.hasFocus!==t?ye.hasFocus():null),ze=je&&(ye.hasFocus===t||!ye.hasFocus()),qe=!ze,Ye=/(mp3|mp4|mpa|m4a|m4b)/i,Ze=1e3,Ke="about:blank",Je="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",Qe=ye.location?ye.location.protocol.match(/http/i):null,$e=Qe?"":"http://",et=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,tt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],it=new RegExp("\\.("+tt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Qe,j={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(Ue&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var i=!de.url;return e!==t&&be&&Ae&&de.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t),g(e),e&&(i&&E&&e.url!==t&&de.beginDelayedInit(),E||e.url===t||"complete"!==ye.readyState||setTimeout(M,1)),de},this.ok=function(){return Ae?be&&!ke:de.useHTML5Audio&&de.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return a(t)||ye[t]||e[t]},this.createSound=function(e,i){function o(){return r=U(r),de.sounds[r.id]=new s(r),de.soundIDs.push(r.id),de.sounds[r.id]}var n,r,a=null;if(!be||!de.ok())return!1;if(i!==t&&(e={id:e,url:i}),r=d(e),r.url=Z(r.url),void 0===r.id&&(r.id=de.setupOptions.idPrefix+De++),H(r.id,!0))return de.sounds[r.id];if(Q(r))a=o(),a._setup_html5(r);else{if(de.html5Only)return o();if(de.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return o();p>8&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||(r.type?r.type.match(et):!1)||r.url&&r.url.match(it))),r=X(r,n),a=o(),8===p?fe._createSound(r.id,r.loops||1,r.usePolicyFile):(fe._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(a.connected=!0,r.onconnect&&r.onconnect.apply(a))),r.serverURL||!r.autoLoad&&!r.autoPlay||a.load(r)}return!r.serverURL&&r.autoPlay&&a.play(),a},this.destroySound=function(e,t){if(!H(e))return!1;var i,o=de.sounds[e];for(o._iO={},o.stop(),o.unload(),i=0;i<de.soundIDs.length;i++)if(de.soundIDs[i]===e){de.soundIDs.splice(i,1);break}return t||o.destruct(!0),o=null,delete de.sounds[e],!0},this.load=function(e,t){return H(e)?de.sounds[e].load(t):!1},this.unload=function(e){return H(e)?de.sounds[e].unload():!1},this.onPosition=function(e,t,i,o){return H(e)?de.sounds[e].onposition(t,i,o):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,i){return H(e)?de.sounds[e].clearOnPosition(t,i):!1},this.play=function(e,t){var i=null,o=t&&!(t instanceof Object);if(!be||!de.ok())return!1;if(H(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(t.id=e,i=de.createSound(t).play())}return null===i&&(i=de.sounds[e].play(t)),i},this.start=this.play,this.setPosition=function(e,t){return H(e)?de.sounds[e].setPosition(t):!1},this.stop=function(e){return H(e)?de.sounds[e].stop():!1},this.stopAll=function(){var e;for(e in de.sounds)de.sounds.hasOwnProperty(e)&&de.sounds[e].stop()},this.pause=function(e){return H(e)?de.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=de.soundIDs.length-1;e>=0;e--)de.sounds[de.soundIDs[e]].pause()},this.resume=function(e){return H(e)?de.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=de.soundIDs.length-1;e>=0;e--)de.sounds[de.soundIDs[e]].resume()},this.togglePause=function(e){return H(e)?de.sounds[e].togglePause():!1},this.setPan=function(e,t){return H(e)?de.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return H(e)?de.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return H(e)?de.sounds[e].mute():!1;for(t=de.soundIDs.length-1;t>=0;t--)de.sounds[de.soundIDs[t]].mute();return de.muted=!0,!0},this.muteAll=function(){de.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return H(e)?de.sounds[e].unmute():!1;for(t=de.soundIDs.length-1;t>=0;t--)de.sounds[de.soundIDs[t]].unmute();return de.muted=!1,!0},this.unmuteAll=function(){de.unmute()},this.toggleMute=function(e){return H(e)?de.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return fe&&8!==p&&(e=parseInt(fe._getMemoryUse(),10)),e},this.disable=function(i){var o;if(i===t&&(i=!1),ke)return!1;for(ke=!0,o=de.soundIDs.length-1;o>=0;o--)L(de.sounds[de.soundIDs[o]]);return u(i),ne.remove(e,"load",y),!0},this.canPlayMIME=function(e){var t;return de.hasHTML5&&(t=$({type:e})),!t&&Ae&&(t=e&&de.ok()?!!((p>8?e.match(et):null)||e.match(de.mimePattern)):null),t},this.canPlayURL=function(e){var t;return de.hasHTML5&&(t=$({url:e})),!t&&Ae&&(t=e&&de.ok()?!!e.match(de.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&de.canPlayMIME(e.type)?!0:de.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var i=de.sounds[e];return i},this.onready=function(t,i){var o="onready",n=!1;if("function"!=typeof t)throw G("needFunction",o);return i||(i=e),m(o,t,i),v(),n=!0,n},this.ontimeout=function(t,i){var o="ontimeout",n=!1;if("function"!=typeof t)throw G("needFunction",o);return i||(i=e),m(o,t,i),v({type:o}),n=!0,n},this._writeDebug=function(e,t){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(t,i){var o,n,r;for(o=de.soundIDs.length-1;o>=0;o--)de.sounds[de.soundIDs[o]].destruct();if(fe)try{We&&(Me=fe.innerHTML),Ce=fe.parentNode.removeChild(fe)}catch(s){}if(Me=Ce=Ae=fe=null,de.enabled=E=be=Pe=Ee=xe=we=ke=Le=de.swfLoaded=!1,de.soundIDs=[],de.sounds={},De=0,t)_e=[];else for(o in _e)if(_e.hasOwnProperty(o))for(n=0,r=_e[o].length;r>n;n++)_e[o][n].fired=!1;return de.html5={usingFlash:null},de.flash={},de.html5Only=!1,de.ignoreFlash=!1,e.setTimeout(function(){C(),i||de.beginDelayedInit()},20),de},this.reset=function(){return de.reboot(!0,!0)},this.getMoviePercent=function(){return fe&&"PercentLoaded"in fe?fe.PercentLoaded():null},this.beginDelayedInit=function(){Se=!0,M(),setTimeout(function(){return Ee?!1:(F(),T(),Ee=!0,!0)},20),_()},this.destruct=function(){de.disable(!0)},s=function(e){var i,o,n,r,s,a,h,c,l,u,g=this,f=!1,m=[],v=0,y=null;l={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=d(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,u=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(e){var i,o=null;if(e!==t?g._iO=d(e,g.options):(e=g.options,g._iO=e,y&&y!==g.url&&(g._iO.url=g.url,g.url=null)),g._iO.url||(g._iO.url=g.url),g._iO.url=Z(g._iO.url),g.instanceOptions=g._iO,i=g._iO,!i.url&&!g.url)return g;if(i.url===g.url&&0!==g.readyState&&2!==g.readyState)return 3===g.readyState&&i.onload&&ue(g,function(){i.onload.apply(g,[!!g.duration])}),g;if(g.loaded=!1,g.readyState=1,g.playState=0,g.id3={},Q(i))o=g._setup_html5(i),o._called_load||(g._html5_canplay=!1,g.url!==i.url&&(g._a.src=i.url,g.setPosition(0)),g._a.autobuffer="auto",g._a.preload="auto",g._a._called_load=!0);else{if(de.html5Only)return g;if(g._iO.url&&g._iO.url.match(/data\:/i))return g;try{g.isHTML5=!1,g._iO=X(U(i)),g._iO.autoPlay&&(g._iO.position||g._iO.from)&&(g._iO.autoPlay=!1),i=g._iO,8===p?fe._load(g.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):fe._load(g.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(n){B({type:"SMSOUND_LOAD_JS_EXCEPTION",
fatal:!0})}}return g.url=i.url,g},this.unload=function(){return 0!==g.readyState&&(g.isHTML5?(r(),g._a&&(g._a.pause(),y=te(g._a))):8===p?fe._unload(g.id,Ke):fe._unload(g.id),i()),g},this.destruct=function(e){g.isHTML5?(r(),g._a&&(g._a.pause(),te(g._a),Le||n(),g._a._s=null,g._a=null)):(g._iO.onfailure=null,fe._destroySound(g.id)),e||de.destroySound(g.id,!0)},this.play=function(e,i){var o,n,r,h,l,m,v=!0,y=null;if(i=i===t?!0:i,e||(e={}),g.url&&(g._iO.url=g.url),g._iO=d(g._iO,g.options),g._iO=d(e,g._iO),g._iO.url=Z(g._iO.url),g.instanceOptions=g._iO,!g.isHTML5&&g._iO.serverURL&&!g.connected)return g.getAutoPlay()||g.setAutoPlay(!0),g;if(Q(g._iO)&&(g._setup_html5(g._iO),s()),1!==g.playState||g.paused||(o=g._iO.multiShot,o||(g.isHTML5&&g.setPosition(g._iO.position),y=g)),null!==y)return y;if(e.url&&e.url!==g.url&&(g.readyState||g.isHTML5||8!==p||!u?g.load(g._iO):u=!1),g.loaded||(0===g.readyState?(g.isHTML5||de.html5Only?g.isHTML5?g.load(g._iO):y=g:(g._iO.autoPlay=!0,g.load(g._iO)),g.instanceOptions=g._iO):2===g.readyState&&(y=g)),null!==y)return y;if(!g.isHTML5&&9===p&&g.position>0&&g.position===g.duration&&(e.position=0),g.paused&&g.position>=0&&(!g._iO.serverURL||g.position>0))g.resume();else{if(g._iO=d(e,g._iO),(!g.isHTML5&&null!==g._iO.position&&g._iO.position>0||null!==g._iO.from&&g._iO.from>0||null!==g._iO.to)&&0===g.instanceCount&&0===g.playState&&!g._iO.serverURL){if(r=function(){g._iO=d(e,g._iO),g.play(g._iO)},g.isHTML5&&!g._html5_canplay?(g.load({_oncanplay:r}),y=!1):g.isHTML5||g.loaded||g.readyState&&2===g.readyState||(g.load({onload:r}),y=!1),null!==y)return y;g._iO=c()}(!g.instanceCount||g._iO.multiShotEvents||g.isHTML5&&g._iO.multiShot&&!Le||!g.isHTML5&&p>8&&!g.getAutoPlay())&&g.instanceCount++,g._iO.onposition&&0===g.playState&&a(g),g.playState=1,g.paused=!1,g.position=g._iO.position===t||isNaN(g._iO.position)?0:g._iO.position,g.isHTML5||(g._iO=X(U(g._iO))),g._iO.onplay&&i&&(g._iO.onplay.apply(g),f=!0),g.setVolume(g._iO.volume,!0),g.setPan(g._iO.pan,!0),g.isHTML5?g.instanceCount<2?(s(),n=g._setup_html5(),g.setPosition(g._iO.position),n.play()):(h=new Audio(g._iO.url),l=function(){ne.remove(h,"ended",l),g._onfinish(g),te(h),h=null},m=function(){ne.remove(h,"canplay",m);try{h.currentTime=g._iO.position/Ze}catch(e){}h.play()},ne.add(h,"ended",l),void 0!==g._iO.volume&&(h.volume=Math.max(0,Math.min(1,g._iO.volume/100))),g.muted&&(h.muted=!0),g._iO.position?ne.add(h,"canplay",m):h.play()):(v=fe._start(g.id,g._iO.loops||1,9===p?g.position:g.position/Ze,g._iO.multiShot||!1),9!==p||v||g._iO.onplayerror&&g._iO.onplayerror.apply(g))}return g},this.start=this.play,this.stop=function(e){var t,i=g._iO;return 1===g.playState&&(g._onbufferchange(0),g._resetOnPosition(0),g.paused=!1,g.isHTML5||(g.playState=0),h(),i.to&&g.clearOnPosition(i.to),g.isHTML5?g._a&&(t=g.position,g.setPosition(0),g.position=t,g._a.pause(),g.playState=0,g._onTimer(),r()):(fe._stop(g.id,e),i.serverURL&&g.unload()),g.instanceCount=0,g._iO={},i.onstop&&i.onstop.apply(g)),g},this.setAutoPlay=function(e){g._iO.autoPlay=e,g.isHTML5||(fe._setAutoPlay(g.id,e),e&&(g.instanceCount||1!==g.readyState||g.instanceCount++))},this.getAutoPlay=function(){return g._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var i,o,n=g.isHTML5?Math.max(e,0):Math.min(g.duration||g._iO.duration,Math.max(e,0));if(g.position=n,o=g.position/Ze,g._resetOnPosition(g.position),g._iO.position=n,g.isHTML5){if(g._a){if(g._html5_canplay){if(g._a.currentTime!==o)try{g._a.currentTime=o,(0===g.playState||g.paused)&&g._a.pause()}catch(r){}}else if(o)return g;g.paused&&g._onTimer(!0)}}else i=9===p?g.position:o,g.readyState&&2!==g.readyState&&fe._setPosition(g.id,i,g.paused||!g.playState,g._iO.multiShot);return g},this.pause=function(e){return g.paused||0===g.playState&&1!==g.readyState?g:(g.paused=!0,g.isHTML5?(g._setup_html5().pause(),r()):(e||e===t)&&fe._pause(g.id,g._iO.multiShot),g._iO.onpause&&g._iO.onpause.apply(g),g)},this.resume=function(){var e=g._iO;return g.paused?(g.paused=!1,g.playState=1,g.isHTML5?(g._setup_html5().play(),s()):(e.isMovieStar&&!e.serverURL&&g.setPosition(g.position),fe._pause(g.id,e.multiShot)),!f&&e.onplay?(e.onplay.apply(g),f=!0):e.onresume&&e.onresume.apply(g),g):g},this.togglePause=function(){return 0===g.playState?(g.play({position:9!==p||g.isHTML5?g.position/Ze:g.position}),g):(g.paused?g.resume():g.pause(),g)},this.setPan=function(e,i){return e===t&&(e=0),i===t&&(i=!1),g.isHTML5||fe._setPan(g.id,e),g._iO.pan=e,i||(g.pan=e,g.options.pan=e),g},this.setVolume=function(e,i){return e===t&&(e=100),i===t&&(i=!1),g.isHTML5?g._a&&(de.muted&&!g.muted&&(g.muted=!0,g._a.muted=!0),g._a.volume=Math.max(0,Math.min(1,e/100))):fe._setVolume(g.id,de.muted&&!g.muted||g.muted?0:e),g._iO.volume=e,i||(g.volume=e,g.options.volume=e),g},this.mute=function(){return g.muted=!0,g.isHTML5?g._a&&(g._a.muted=!0):fe._setVolume(g.id,0),g},this.unmute=function(){g.muted=!1;var e=g._iO.volume!==t;return g.isHTML5?g._a&&(g._a.muted=!1):fe._setVolume(g.id,e?g._iO.volume:g.options.volume),g},this.toggleMute=function(){return g.muted?g.unmute():g.mute()},this.onPosition=function(e,i,o){return m.push({position:parseInt(e,10),method:i,scope:o!==t?o:g,fired:!1}),g},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var i;if(e=parseInt(e,10),isNaN(e))return!1;for(i=0;i<m.length;i++)e===m[i].position&&(t&&t!==m[i].method||(m[i].fired&&v--,m.splice(i,1)))},this._processOnPosition=function(){var e,t,i=m.length;if(!i||!g.playState||v>=i)return!1;for(e=i-1;e>=0;e--)t=m[e],!t.fired&&g.position>=t.position&&(t.fired=!0,v++,t.method.apply(t.scope,[t.position]),i=m.length);return!0},this._resetOnPosition=function(e){var t,i,o=m.length;if(!o)return!1;for(t=o-1;t>=0;t--)i=m[t],i.fired&&e<=i.position&&(i.fired=!1,v--);return!0},c=function(){var e,t,i=g._iO,o=i.from,n=i.to;return t=function(){g.clearOnPosition(n,t),g.stop()},e=function(){null===n||isNaN(n)||g.onPosition(n,t)},null===o||isNaN(o)||(i.position=o,i.multiShot=!1,e()),i},a=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.onPosition(parseInt(e,10),t[e])},h=function(){var e,t=g._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&g.clearOnPosition(parseInt(e,10))},s=function(){g.isHTML5&&z(g)},r=function(){g.isHTML5&&q(g)},i=function(e){e||(m=[],v=0),f=!1,g._hasTimer=null,g._a=null,g._html5_canplay=!1,g.bytesLoaded=null,g.bytesTotal=null,g.duration=g._iO&&g._iO.duration?g._iO.duration:null,g.durationEstimate=null,g.buffered=[],g.eqData=[],g.eqData.left=[],g.eqData.right=[],g.failures=0,g.isBuffering=!1,g.instanceOptions={},g.instanceCount=0,g.loaded=!1,g.metadata={},g.readyState=0,g.muted=!1,g.paused=!1,g.peakData={left:0,right:0},g.waveformData={left:[],right:[]},g.playState=0,g.position=null,g.id3={}},i(),this._onTimer=function(e){var t,i,o=!1,n={};return g._hasTimer||e?(g._a&&(e||(g.playState>0||1===g.readyState)&&!g.paused)&&(t=g._get_html5_duration(),t!==l.duration&&(l.duration=t,g.duration=t,o=!0),g.durationEstimate=g.duration,i=g._a.currentTime*Ze||0,i!==l.time&&(l.time=i,o=!0),(o||e)&&g._whileplaying(i,n,n,n,n)),o):void 0},this._get_html5_duration=function(){var e=g._iO,t=g._a&&g._a.duration?g._a.duration*Ze:e&&e.duration?e.duration:null,i=t&&!isNaN(t)&&t!==1/0?t:null;return i},this._apply_loop=function(e,t){e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,n=d(g._iO,e),r=Le?ge:g._a,s=decodeURI(n.url);if(Le?s===decodeURI(re)&&(t=!0):s===decodeURI(y)&&(t=!0),r){if(r._s)if(Le)r._s&&r._s.playState&&!t&&r._s.stop();else if(!Le&&s===decodeURI(y))return g._apply_loop(r,n.loops),r;t||(y&&i(!1),r.src=n.url,g.url=n.url,y=n.url,re=n.url,r._called_load=!1)}else n.autoLoad||n.autoPlay?(g._a=new Audio(n.url),g._a.load()):g._a=Ue&&opera.version()<10?new Audio(null):new Audio,r=g._a,r._called_load=!1,Le&&(ge=r);return g.isHTML5=!0,g._a=r,r._s=g,o(),g._apply_loop(r,n.loops),n.autoLoad||n.autoPlay?g.load():(r.autobuffer=!1,r.preload="auto"),r},o=function(){function e(e,t,i){return g._a?g._a.addEventListener(e,t,i||!1):null}if(g._a._added_events)return!1;var t;g._a._added_events=!0;for(t in ce)ce.hasOwnProperty(t)&&e(t,ce[t]);return!0},n=function(){function e(e,t,i){return g._a?g._a.removeEventListener(e,t,i||!1):null}var t;g._a._added_events=!1;for(t in ce)ce.hasOwnProperty(t)&&e(t,ce[t])},this._onload=function(e){var t=!!e||!g.isHTML5&&8===p&&g.duration;return g.loaded=t,g.readyState=t?3:2,g._onbufferchange(0),g._iO.onload&&ue(g,function(){g._iO.onload.apply(g,[t])}),!0},this._onbufferchange=function(e){return 0===g.playState?!1:e&&g.isBuffering||!e&&!g.isBuffering?!1:(g.isBuffering=1===e,g._iO.onbufferchange&&g._iO.onbufferchange.apply(g,[e]),!0)},this._onsuspend=function(){return g._iO.onsuspend&&g._iO.onsuspend.apply(g),!0},this._onfailure=function(e,t,i){g.failures++,g._iO.onfailure&&1===g.failures&&g._iO.onfailure(e,t,i)},this._onwarning=function(e,t,i){g._iO.onwarning&&g._iO.onwarning(e,t,i)},this._onfinish=function(){var e=g._iO.onfinish;g._onbufferchange(0),g._resetOnPosition(0),g.instanceCount&&(g.instanceCount--,g.instanceCount||(h(),g.playState=0,g.paused=!1,g.instanceCount=0,g.instanceOptions={},g._iO={},r(),g.isHTML5&&(g.position=0)),(!g.instanceCount||g._iO.multiShotEvents)&&e&&ue(g,function(){e.apply(g)}))},this._whileloading=function(e,t,i,o){var n=g._iO;g.bytesLoaded=e,g.bytesTotal=t,g.duration=Math.floor(i),g.bufferLength=o,g.isHTML5||n.isMovieStar?g.durationEstimate=g.duration:n.duration?g.durationEstimate=g.duration>n.duration?g.duration:n.duration:g.durationEstimate=parseInt(g.bytesTotal/g.bytesLoaded*g.duration,10),g.isHTML5||(g.buffered=[{start:0,end:g.duration}]),(3!==g.readyState||g.isHTML5)&&n.whileloading&&n.whileloading.apply(g)},this._whileplaying=function(e,i,o,n,r){var s,a=g._iO;return isNaN(e)||null===e?!1:(g.position=Math.max(0,e),g._processOnPosition(),!g.isHTML5&&p>8&&(a.usePeakData&&i!==t&&i&&(g.peakData={left:i.leftPeak,right:i.rightPeak}),a.useWaveformData&&o!==t&&o&&(g.waveformData={left:o.split(","),right:n.split(",")}),a.useEQData&&r!==t&&r&&r.leftEQ&&(s=r.leftEQ.split(","),g.eqData=s,g.eqData.left=s,r.rightEQ!==t&&r.rightEQ&&(g.eqData.right=r.rightEQ.split(",")))),1===g.playState&&(g.isHTML5||8!==p||g.position||!g.isBuffering||g._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(g)),!0)},this._oncaptiondata=function(e){g.captiondata=e,g._iO.oncaptiondata&&g._iO.oncaptiondata.apply(g,[e])},this._onmetadata=function(e,t){var i,o,n={};for(i=0,o=e.length;o>i;i++)n[e[i]]=t[i];g.metadata=n,g._iO.onmetadata&&g._iO.onmetadata.call(g,g.metadata)},this._onid3=function(e,t){var i,o,n=[];for(i=0,o=e.length;o>i;i++)n[e[i]]=t[i];g.id3=d(g.id3,n),g._iO.onid3&&g._iO.onid3.apply(g)},this._onconnect=function(e){e=1===e,g.connected=e,e&&(g.failures=0,H(g.id)&&(g.getAutoPlay()?g.play(t,g.getAutoPlay()):g._iO.autoLoad&&g.load()),g._iO.onconnect&&g._iO.onconnect.apply(g,[e]))},this._ondataerror=function(e){g.playState>0&&g._iO.ondataerror&&g._iO.ondataerror.apply(g)}},I=function(){return ye.body||ye.getElementsByTagName("div")[0]},a=function(e){return ye.getElementById(e)},d=function(e,i){var o,n,r=e||{};o=i===t?de.defaultOptions:i;for(n in o)o.hasOwnProperty(n)&&r[n]===t&&("object"!=typeof o[n]||null===o[n]?r[n]=o[n]:r[n]=d(r[n],o[n]));return r},ue=function(t,i){t.isHTML5||8!==p?i():e.setTimeout(i,0)},f={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},g=function(e,i){var o,n=!0,r=i!==t,s=de.setupOptions,a=f;for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)r&&a[i]!==t?de[i][o]=e[o]:s[o]!==t?(de.setupOptions[o]=e[o],de[o]=e[o]):a[o]===t?n=!1:de[o]instanceof Function?de[o].apply(de,e[o]instanceof Array?e[o]:[e[o]]):de[o]=e[o];else{if(a[o]!==t)return g(e[o],o);n=!1}return n},ne=function(){function t(e){var t=Oe.call(e),i=t.length;return r?(t[1]="on"+t[1],i>3&&t.pop()):3===i&&t.push(!1),t}function i(e,t){var i=e.shift(),o=[s[t]];r?i[o](e[0],e[1]):i[o].apply(i,e)}function o(){i(t(arguments),"add")}function n(){i(t(arguments),"remove")}var r=e.attachEvent,s={add:r?"attachEvent":"addEventListener",remove:r?"detachEvent":"removeEventListener"};return{add:o,remove:n}}(),ce={abort:r(function(){}),canplay:r(function(){var e,i=this._s;if(i._html5_canplay)return!0;if(i._html5_canplay=!0,i._onbufferchange(0),e=i._iO.position===t||isNaN(i._iO.position)?null:i._iO.position/Ze,this.currentTime!==e)try{this.currentTime=e}catch(o){}i._iO._oncanplay&&i._iO._oncanplay()}),canplaythrough:r(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:r(function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(t.durationEstimate=t.duration=e)}),ended:r(function(){var e=this._s;e._onfinish()}),error:r(function(){this._s._onload(!1)}),loadeddata:r(function(){var e=this._s;e._loaded||je||(e.duration=e._get_html5_duration())}),loadedmetadata:r(function(){}),loadstart:r(function(){this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){this._s._onbufferchange(0)}),progress:r(function(e){var t,i,o=this._s,n=0,r=("progress"===e.type,e.target.buffered),s=e.loaded||0,a=e.total||1;if(o.buffered=[],r&&r.length){for(t=0,i=r.length;i>t;t++)o.buffered.push({start:r.start(t)*Ze,end:r.end(t)*Ze});n=(r.end(0)-r.start(0))*Ze,s=Math.min(1,n/(e.target.duration*Ze))}isNaN(s)||(o._whileloading(s,a,o._get_html5_duration()),s&&a&&s===a&&ce.canplaythrough.call(this,e))}),ratechange:r(function(){}),suspend:r(function(e){var t=this._s;ce.progress.call(this,e),t._onsuspend()}),stalled:r(function(){}),timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){var e=this._s;e._onbufferchange(1)})},Q=function(e){var t;return t=e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&n(e.type)?!1:e.type?$({type:e.type}):$({url:e.url})||de.html5Only||e.url.match(/data\:/i):!1},te=function(e){var t;return e&&(t=je?Ke:de.html5.canPlayType("audio/wav")?Je:Ke,e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Le&&(re=null),t},$=function(e){if(!de.useHTML5Audio||!de.hasHTML5)return!1;var i,o,r,s,a=e.url||null,h=e.type||null,c=de.audioFormats;if(h&&de.html5[h]!==t)return de.html5[h]&&!n(h);if(!ee){ee=[];for(s in c)c.hasOwnProperty(s)&&(ee.push(s),c[s].related&&(ee=ee.concat(c[s].related)));ee=new RegExp("\\.("+ee.join("|")+")(\\?.*)?$","i")}return r=a?a.toLowerCase().match(ee):null,r&&r.length?r=r[1]:h?(o=h.indexOf(";"),r=(-1!==o?h.substr(0,o):h).substr(6)):i=!1,r&&de.html5[r]!==t?i=de.html5[r]&&!n(r):(h="audio/"+r,i=de.html5.canPlayType({type:h}),de.html5[r]=i,i=i&&de.html5[h]&&!n(h)),i},oe=function(){function e(e){var t,i,o=!1,n=!1;if(!s||"function"!=typeof s.canPlayType)return o;if(e instanceof Array){for(r=0,i=e.length;i>r;r++)(de.html5[e[r]]||s.canPlayType(e[r]).match(de.html5Test))&&(n=!0,de.html5[e[r]]=!0,de.flash[e[r]]=!!e[r].match(Ye));o=n}else t=s&&"function"==typeof s.canPlayType?s.canPlayType(e):!1,o=!(!t||!t.match(de.html5Test));return o}if(!de.useHTML5Audio||!de.hasHTML5)return de.html5.usingFlash=!0,Ae=!0,!1;var i,o,n,r,s=Audio!==t?Ue&&opera.version()<10?new Audio(null):new Audio:null,a={};n=de.audioFormats;for(i in n)if(n.hasOwnProperty(i)&&(o="audio/"+i,a[i]=e(n[i].type),a[o]=a[i],i.match(Ye)?(de.flash[i]=!0,de.flash[o]=!0):(de.flash[i]=!1,de.flash[o]=!1),n[i]&&n[i].related))for(r=n[i].related.length-1;r>=0;r--)a["audio/"+n[i].related[r]]=a[i],de.html5[n[i].related[r]]=a[i],de.flash[n[i].related[r]]=a[i];return a.canPlayType=s?e:null,de.html5=d(de.html5,a),de.html5.usingFlash=J(),Ae=de.html5.usingFlash,!0},S={},G=function(){},U=function(e){return 8===p&&e.loops>1&&e.stream&&(e.stream=!1),e},X=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},V=function(e){},h=function(){return!1},L=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=h);t=null},D=function(e){e===t&&(e=!1),(ke||e)&&de.disable(e)},R=function(e){var t,i=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(i=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+de.movieURL,de.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},b=function(){p=parseInt(de.flashVersion,10),8!==p&&9!==p&&(de.flashVersion=p=Te);var e=de.debugMode||de.debugFlash?"_debug.swf":".swf";de.useHTML5Audio&&!de.html5Only&&de.audioFormats.mp4.required&&9>p&&(de.flashVersion=p=9),de.version=de.versionNumber+(de.html5Only?" (HTML5-only mode)":9===p?" (AS3/Flash 9)":" (AS2/Flash 8)"),p>8?(de.defaultOptions=d(de.defaultOptions,de.flash9Options),de.features.buffering=!0,de.defaultOptions=d(de.defaultOptions,de.movieStarOptions),de.filePatterns.flash9=new RegExp("\\.(mp3|"+tt.join("|")+")(\\?.*)?$","i"),de.features.movieStar=!0):de.features.movieStar=!1,de.filePattern=de.filePatterns[8!==p?"flash9":"flash8"],de.movieURL=(8===p?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),de.features.peakData=de.features.waveformData=de.features.eqData=p>8},A=function(e,t){return fe?void fe._setPolling(e,t):!1},O=function(){},H=this.getSoundById,N=function(){var e=[];return de.debugMode&&e.push(j.sm2Debug),de.debugFlash&&e.push(j.flashDebug),de.useHighPerformance&&e.push(j.highPerf),e.join(" ")},W=function(){var e=(G("fbHandler"),de.getMoviePercent()),t=j,i={type:"FLASHBLOCK"};return de.html5Only?!1:void(de.ok()?de.oMC&&(de.oMC.className=[N(),t.swfDefault,t.swfLoaded+(de.didFlashBlock?" "+t.swfUnblocked:"")].join(" ")):(Ae&&(de.oMC.className=N()+" "+t.swfDefault+" "+(null===e?t.swfTimedout:t.swfError)),de.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:i}),B(i)))},m=function(e,i,o){_e[e]===t&&(_e[e]=[]),_e[e].push({method:i,scope:o||null,fired:!1})},v=function(e){if(e||(e={type:de.ok()?"onready":"ontimeout"}),!be&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(de.ok()||ke&&!e.ignoreInit))return!1;var t,i,o={success:e&&e.ignoreInit?de.ok():!ke},n=e&&e.type?_e[e.type]||[]:[],r=[],s=[o],a=Ae&&!de.ok();for(e.error&&(s[0].error=e.error),t=0,i=n.length;i>t;t++)n[t].fired!==!0&&r.push(n[t]);if(r.length)for(t=0,i=r.length;i>t;t++)r[t].scope?r[t].method.apply(r[t].scope,s):r[t].method.apply(this,s),a||(r[t].fired=!0);return!0},y=function(){e.setTimeout(function(){de.useFlashBlock&&W(),v(),"function"==typeof de.onload&&de.onload.apply(e),de.waitForWindowLoad&&ne.add(e,"load",y)},1)},ae=function(){if(se!==t)return se;var i,o,n,r=!1,s=navigator,a=s.plugins,h=e.ActiveXObject;if(a&&a.length)o="application/x-shockwave-flash",n=s.mimeTypes,n&&n[o]&&n[o].enabledPlugin&&n[o].enabledPlugin.description&&(r=!0);else if(h!==t&&!me.match(/MSAppHost/i)){try{i=new h("ShockwaveFlash.ShockwaveFlash")}catch(c){i=null}r=!!i,i=null}return se=r,r},J=function(){var e,t,i=de.audioFormats,o=Re&&!!me.match(/os (1|2|3_0|3_1)\s/i);if(o?(de.hasHTML5=!1,de.html5Only=!0,de.oMC&&(de.oMC.style.display="none")):de.useHTML5Audio&&(de.html5&&de.html5.canPlayType||(de.hasHTML5=!1)),de.useHTML5Audio&&de.hasHTML5){K=!0;for(t in i)i.hasOwnProperty(t)&&i[t].required&&(de.html5.canPlayType(i[t].type)?de.preferFlash&&(de.flash[t]||de.flash[i[t].type])&&(e=!0):(K=!1,e=!0))}return de.ignoreFlash&&(e=!1,K=!0),de.html5Only=de.hasHTML5&&de.useHTML5Audio&&!e,!de.html5Only},Z=function(e){var t,i,o,n=0;if(e instanceof Array){for(t=0,i=e.length;i>t;t++)if(e[t]instanceof Object){if(de.canPlayMIME(e[t].type)){n=t;break}}else if(de.canPlayURL(e[t])){n=t;break}e[n].url&&(e[n]=e[n].url),o=e[n]}else o=e;return o},z=function(e){e._hasTimer||(e._hasTimer=!0,!Xe&&de.html5PollingInterval&&(null===Fe&&0===Ie&&(Fe=setInterval(Y,de.html5PollingInterval)),Ie++))},q=function(e){e._hasTimer&&(e._hasTimer=!1,!Xe&&de.html5PollingInterval&&Ie--)},Y=function(){var e;if(null!==Fe&&!Ie)return clearInterval(Fe),Fe=null,!1;for(e=de.soundIDs.length-1;e>=0;e--)de.sounds[de.soundIDs[e]].isHTML5&&de.sounds[de.soundIDs[e]]._hasTimer&&de.sounds[de.soundIDs[e]]._onTimer()},B=function(i){i=i!==t?i:{},"function"==typeof de.onerror&&de.onerror.apply(e,[{type:i.type!==t?i.type:null}]),i.fatal!==t&&i.fatal&&de.disable()},he=function(){if(!Ve||!ae())return!1;var e,t,i=de.audioFormats;for(t in i)if(i.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(de.html5[t]=!1,i[t]&&i[t].related))for(e=i[t].related.length-1;e>=0;e--)de.html5[i[t].related[e]]=!1},this._setSandboxType=function(e){},this._externalInterfaceOK=function(e){if(de.swfLoaded)return!1;de.swfLoaded=!0,ze=!1,Ve&&he(),setTimeout(l,We?100:1)},F=function(e,i){function o(){}function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(xe&&we)return!1;if(de.html5Only)return b(),o(),de.oMC=a(de.movieID),l(),xe=!0,we=!0,!1;var r,s,h,c,p,u,d,g,f=i||de.url,m=de.altURL||f,v="JS/Flash audio component (SoundManager 2)",y=I(),_=N(),x=null,w=ye.getElementsByTagName("html")[0];if(x=w&&w.dir&&w.dir.match(/rtl/i),e=e===t?de.id:e,b(),de.url=R(Qe?f:m),i=de.url,de.wmode=!de.wmode&&de.useHighPerformance?"transparent":de.wmode,null!==de.wmode&&(me.match(/msie 8/i)||!We&&!de.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Be.push(S.spcWmode),de.wmode=null),r={name:e,id:e,src:i,quality:"high",allowScriptAccess:de.allowScriptAccess,bgcolor:de.bgColor,pluginspage:$e+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:de.wmode,hasPriority:"true"},de.debugFlash&&(r.FlashVars="debug=1"),de.wmode||delete r.wmode,We)s=ye.createElement("div"),c=['<object id="'+e+'" data="'+i+'" type="'+r.type+'" title="'+r.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+$e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",i),n("AllowScriptAccess",de.allowScriptAccess),n("quality",r.quality),de.wmode?n("wmode",de.wmode):"",n("bgcolor",de.bgColor),n("hasPriority","true"),de.debugFlash?n("FlashVars",r.FlashVars):"","</object>"].join("");else{s=ye.createElement("embed");for(h in r)r.hasOwnProperty(h)&&s.setAttribute(h,r[h])}if(O(),_=N(),y=I())if(de.oMC=a(de.movieID)||ye.createElement("div"),de.oMC.id)g=de.oMC.className,de.oMC.className=(g?g+" ":j.swfDefault)+(_?" "+_:""),de.oMC.appendChild(s),We&&(p=de.oMC.appendChild(ye.createElement("div")),p.className=j.swfBox,p.innerHTML=c),we=!0;else{if(de.oMC.id=de.movieID,de.oMC.className=j.swfDefault+" "+_,u=null,p=null,de.useFlashBlock||(de.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},x&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),Ne&&(de.oMC.style.zIndex=1e4),!de.debugFlash)for(d in u)u.hasOwnProperty(d)&&(de.oMC.style[d]=u[d]);try{We||de.oMC.appendChild(s),y.appendChild(de.oMC),We&&(p=de.oMC.appendChild(ye.createElement("div")),p.className=j.swfBox,p.innerHTML=c),we=!0}catch(k){throw new Error(G("domError")+" \n"+k.toString())}}return xe=!0,o(),!0},T=function(){return de.html5Only?(F(),!1):fe?!1:de.url?(fe=de.getMovie(de.id),fe||(Ce?(We?de.oMC.innerHTML=Me:de.oMC.appendChild(Ce),Ce=null,xe=!0):F(de.id,de.url),fe=de.getMovie(de.id)),"function"==typeof de.oninitmovie&&setTimeout(de.oninitmovie,1),!0):!1},_=function(){setTimeout(x,1e3)},w=function(){e.setTimeout(function(){de.setup({preferFlash:!1}).reboot(),de.didFlashBlock=!0,de.beginDelayedInit()},1)},x=function(){var t,i=!1;return de.url?Pe?!1:(Pe=!0,ne.remove(e,"load",_),se&&ze&&!He?!1:(be||(t=de.getMoviePercent(),t>0&&100>t&&(i=!0)),void setTimeout(function(){return t=de.getMoviePercent(),i?(Pe=!1,e.setTimeout(_,1),!1):void(!be&&qe&&(null===t?de.useFlashBlock||0===de.flashLoadTimeout?de.useFlashBlock&&W():!de.useFlashBlock&&K?w():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===de.flashLoadTimeout||(!de.useFlashBlock&&K?w():D(!0))))},de.flashLoadTimeout))):!1},k=function(){function t(){ne.remove(e,"focus",k)}return He||!ze?(t(),!0):(qe=!0,He=!0,Pe=!1,_(),t(),!0)},pe=function(){},le=function(){},u=function(t){if(be)return!1;if(de.html5Only)return be=!0,y(),!0;var i,o=de.useFlashBlock&&de.flashLoadTimeout&&!de.getMoviePercent(),n=!0;return o||(be=!0),i={type:!se&&Ae?"NO_FLASH":"INIT_TIMEOUT"},(ke||t)&&(de.useFlashBlock&&de.oMC&&(de.oMC.className=N()+" "+(null===de.getMoviePercent()?j.swfTimedout:j.swfError)),v({type:"ontimeout",error:i,ignoreInit:!0}),B(i),n=!1),ke||(de.waitForWindowLoad&&!Se?ne.add(e,"load",y):y()),n},c=function(){var e,i=de.setupOptions;for(e in i)i.hasOwnProperty(e)&&(de[e]===t?de[e]=i[e]:de[e]!==i[e]&&(de.setupOptions[e]=de[e]))},l=function(){function t(){ne.remove(e,"load",de.beginDelayedInit)}if(be)return!1;if(de.html5Only)return be||(t(),de.enabled=!0,u()),!0;T();try{fe._externalInterfaceTest(!1),A(!0,de.flashPollingInterval||(de.useHighPerformance?10:50)),de.debugMode||fe._disableDebug(),de.enabled=!0,de.html5Only||ne.add(e,"unload",h)}catch(i){return B({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),D(!0),u(),!1}return u(),t(),!0},M=function(){return E?!1:(E=!0,c(),O(),!se&&de.hasHTML5&&de.setup({useHTML5Audio:!0,preferFlash:!1}),oe(),!se&&Ae&&(Be.push(S.needFlash),de.setup({flashLoadTimeout:1})),ye.removeEventListener&&ye.removeEventListener("DOMContentLoaded",M,!1),T(),!0)},ie=function(){return"complete"===ye.readyState&&(M(),ye.detachEvent("onreadystatechange",ie)),!0},P=function(){Se=!0,M(),ne.remove(e,"load",P)},C=function(){Xe&&(de.setupOptions.useHTML5Audio=!0,de.setupOptions.preferFlash=!1,(Re||Ge&&!me.match(/android\s2\.3/i))&&(Re&&(de.ignoreFlash=!0),Le=!0))},C(),ae(),ne.add(e,"focus",k),ne.add(e,"load",_),ne.add(e,"load",P),ye.addEventListener?ye.addEventListener("DOMContentLoaded",M,!1):ye.attachEvent?ye.attachEvent("onreadystatechange",ie):B({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw new Error("SoundManager requires a browser with window and document objects.");var o=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(o=new i),"object"==typeof module&&module&&"object"==typeof module.exports?(e.soundManager=o,module.exports.SoundManager=i,module.exports.soundManager=o):"function"==typeof define&&define.amd?define("SM2",o):(e.SoundManager=i,e.soundManager=o)}(window),define("fido/sound/SoundManagerTwo",["require","exports","module","signals","fido/system/VisibilityChecker","SM2"],function(e,t,i){var o=e("signals"),n=e("fido/system/VisibilityChecker"),r=e("SM2"),s=function(){this.disabled=!1,this.preload=!0,this.sounds={},this.groups={},this.globalVolume=1,this.isMuted=!1,this.onFade=new o,this.onMuteToggle=new o};s.prototype.addSound=function(e,t,i){if(!this.disabled&&!this.sounds[t]){i=i||{};var o=r.createSound({url:e+".mp3",autoPlay:i.autoplay||!1,volume:i.volume?100*i.volume:100,loops:i.loop?1/0:1});o.__volume=o.volume,this.sounds[t]=o}},s.prototype.addGroup=function(e,t){if(!this.disabled&&!this.groups[t]){var i={index:0,type:0,sounds:e};this.groups[t]=i}},s.prototype.play=function(e){return this.disabled||!this.sounds[e]?void!this.sounds[e]:void(this.sounds[e].needsLooping?this.loopSound(this.sounds[e]):this.sounds[e].play())},s.prototype.pause=function(e){this.disabled||this.sounds[e].pause()},s.prototype.isPaused=function(e){return this.sounds[e].paused},s.prototype.getSound=function(){return!1},s.prototype.resume=function(e){this.disabled||this.sounds[e].resume()},s.prototype.pauseAll=function(){for(var e in this.sounds)this.sounds[e].pause()},s.prototype.resumeAll=function(){for(var e in this.sounds)this.sounds[e].resume()},s.prototype.fadeTo=function(e,t,i,o){"undefined"==typeof i&&(i=2.5),"undefined"==typeof o&&(o=null),"undefined"!=typeof t&&this.setVolume(e,t)},s.prototype.isPlaying=function(e){return 1===this.sounds[e].playState},s.prototype.playGroup=function(e){if(!this.disabled){var t=this.groups[e],i=Math.random()*t.sounds.length|0;this.sounds[t.sounds[i]].play()}},s.prototype.setVolume=function(e,t){if(!this.disabled){var i=this.sounds[e],o=100*t;i.setVolume(o*this.globalVolume)}},s.prototype.stop=function(e){this.disabled||this.sounds[e].stop()},s.prototype.setGlobalVolume=function(e){this.globalVolume=e;for(var t in this.sounds){var i=this.sounds[t];this.setVolume(t,.1*i.volume)}},s.prototype.mute=function(e){"undefined"==typeof e&&(e=!0),this.isMuted=!0,r.mute(),e&&this.onMuteToggle.dispatch(!0)},s.prototype.unmute=function(e){"undefined"==typeof e&&(e=!0),this.isMuted=!1,r.unmute(),e&&this.onMuteToggle.dispatch(!1)},s.prototype.check=function(){this.lastSeen=Date.now();var e=function(){lastSeen=Date.now(),setTimeout(e,50)};e();var i=document.getElementById("music");i.addEventListener("timeupdate",function(){Date.now()-t.lastSeen>100&&this.pause()},!1)},s.sfx=s.music=new s,n.onHide.add(r.mute,r),n.onShow.add(r.unmute,r),i.exports=s}),define("fido/sound/SoundManager",["require","exports","module","signals","fido/system/VisibilityChecker"],function(e,t,i){var o=e("signals"),n=e("fido/system/VisibilityChecker"),r=function(){this.disabled=!1,this.preload=!0,this.currentSound=null,this.sounds={},this.groups={},this.globalVolume=1,this.isMuted=!1,window.onfocus=this._onFocus.bind(this),this.onMuteToggle=new o};r.prototype._onFocus=function(){this.isMuted?this.mute():this.unmute()},r.prototype.addSound=function(e,t,i){if(!this.disabled&&!this.sounds[t]){i=i||{};var o=new Howl({urls:[e+".mp3",e+".ogg"],autoplay:i.autoplay||!1,loop:i.loop||!1,volume:i.volume||1});o.realVolume=i.volume||1,this.sounds[t]=o}},r.prototype.addSounds=function(e,t){for(var i=0;i<e.length;i++){var o=e[i];this.addSound(t+o,o)}},r.prototype.addGroup=function(e,t){if(!this.disabled&&!this.groups[t]){var i={index:0,type:0,sounds:e};this.groups[t]=i}},r.prototype.getSoundAtId=function(e){return this.sounds[e]},r.prototype.getSound=function(e){return this.currentSound},r.prototype.play=function(e,t){return this.disabled||!this.sounds[e]?void!this.sounds[e]:(t&&this.sounds[e].volume(t),this.sounds[e].play(),this.currentSound=this.sounds[e],this.currentSound)},r.prototype.fadeTo=function(e,t,i){if("undefined"==typeof i&&(i=2.5),"undefined"==typeof callback&&(callback=null),"undefined"!=typeof t){var o=this.sounds[e];o&&TweenLite.to(o,i,{_volume:t,onUpdate:this.actuallyChangeVolume.bind(this),onComplete:this.stopAndReset.bind(this),onCompleteParams:[e],onUpdateParams:["{self}",e]})}},r.prototype.actuallyChangeVolume=function(e,t){this.setVolume(t,e.target._volume)},r.prototype.stopAndReset=function(e){this.stop(e),this.setVolume(e,1),this.stop(e)},r.prototype.isPlaying=function(e){return this.disabled?void 0:!this.sounds[e]._audioNode[0].paused},r.prototype.playGroup=function(e){if(!this.disabled&&this.groups[e]){var t=this.groups[e],i=Math.random()*t.sounds.length|0;this.sounds[t.sounds[i]].play(),this.currentSound=this.sounds[t.sounds[i]]}},r.prototype.setVolume=function(e,t){if(!this.disabled){var i=this.sounds[e];i.realVolume=t,i.volume(t*this.globalVolume)}},r.prototype.stop=function(e){!this.disabled&&this.sounds[e]&&this.sounds[e].stop()},r.prototype.stopAll=function(){if(!this.disabled)for(var e in this.sounds)this.sounds[e].stop()},r.prototype.setPlaybackSpeed=function(e,t){if(!this.disabled){var i=this.sounds[e];i._playbackSpeed=t;var o="music"==e?0:1;i._webAudio&&Howler._howls[o]._audioNode[0]&&(Howler._howls[o]._audioNode[0].bufferSource.playbackRate.value=t)}},r.prototype.getPlaybackSpeed=function(e){if(!this.disabled){var t=this.sounds[e];return t._playbackSpeed||1}},r.prototype.setGlobalVolume=function(e){this.globalVolume=e;for(var t in this.sounds){var i=this.sounds[t];i.volume(i.realVolume*e)}},r.prototype.mute=function(){this.isMuted=!0,Howler.mute(),this.onMuteToggle.dispatch(!0)},r.prototype.unmute=function(){this.isMuted=!1,Howler.unmute(),this.onMuteToggle.dispatch(!1)},r.prototype.check=function(){this.lastSeen=Date.now();var e=function(){lastSeen=Date.now(),setTimeout(e,50)};e();var i=document.getElementById("music");i.addEventListener("timeupdate",function(){Date.now()-t.lastSeen>100&&this.pause()},!1)},r.sfx=new r,r.music=new r,r.sfx.disabled=!Howler.usingWebAudio,n.onHide.add(Howler.mute,Howler),n.onShow.add(Howler.unmute,Howler),i.exports=r}),define("fido/sound/SoundBridge",["require","exports","module","fido/system/Device","fido/sound/SoundManagerTwo","fido/sound/SoundManager"],function(e,t,i){
var o=e("fido/system/Device");if(o.instance.useSM2)var n=e("fido/sound/SoundManagerTwo");else var n=e("fido/sound/SoundManager");if(window.noSound)var r={play:function(){},stop:function(){},setVolume:function(){},getVolume:function(){},addSound:function(){}},n={music:r,sfx:r};i.exports=n}),define("fido/sound/MusicManager",["require","exports","module","signals","fido/sound/SoundBridge","fido/system/Device"],function(e,t,i){var o=e("signals"),n=e("fido/sound/SoundBridge"),r=e("fido/system/Device"),s=function(e){this.disabled=n.music.disabled,this.music=n.music,this.currentSound=null,this.newSound=null,this.onFade=new o,this.globalVolume=1,this.volume=2,this.fadeInDuration=1,this.fadeOutDuration=1,this.music.onMuteToggle.add(this.onMusicToggle,this)};s.prototype.init=function(e){this.volume=e.volume||1,this.fadeInDuration=e.fadeInDuration||3.2,this.fadeOutDuration=e.fadeOutDuration||3.5},s.prototype.add=function(e,t){n.music.addSound(e,t,{loop:!0})},s.prototype.play=function(e){if(r.instance.ie){if(e===this.currentId)return;this.currentId=e;var t=this.music.sounds[e];return this.currentSound&&this.currentSound.stop(),this.currentSound=t,void this.currentSound.play()}var t=this.music.sounds[e];!this.disabled&&t&&this.currentSound!==t&&(this.currentSound&&(this.currentSound.fadeOut?this.currentSound.fadeOut(0,this.fadeOutDuration):this.currentSound.play()),this.currentSound=t,this.currentSound.fadeIn?this.currentSound.fadeIn(this.volume,this.fadeInDuration):this.currentSound.play())},s.prototype.onMusicToggle=function(e){this.disabled=e},s.prototype.setVolume=function(e,t){this.disabled||(e.realVolume=t,e.volume(t*this.globalVolume))},s.prototype.isPlaying=function(e){return this.disabled?void 0:!this.sounds[e]._audioNode[0].paused},i.exports=new s}),define("fido/ui/buttons/AbstractButton",["require","exports","module","signals","PIXI"],function(e,t,i){var o=e("signals"),n=e("PIXI"),r=function(){n.Container.call(this),this.view=this,this.onPress=new o,this.onDown=new o,this.onUp=new o,this.onHover=new o,this.onOut=new o,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),this.onHover.add(this.hover,this),this.onOut.add(this.out,this),this._scale=new n.Point,this.enable()};r.prototype=Object.create(n.Container.prototype),r.prototype.constructor=r,r.prototype.setSize=function(e){switch(e){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}},r.prototype.enable=function(){this.interactive=!0,this.buttonMode=!0},r.prototype.disable=function(){this.interactive=!1,this.buttonMode=!1},r.prototype.down=function(e,t){},r.prototype.up=function(e,t){},r.prototype.hover=function(e,t){},r.prototype.out=function(e,t){},r.prototype.show=function(){this.visible=!0,this.enable()},r.prototype.hide=function(){this.disable(),this.visible=!1},i.exports=r}),define("starwars/buttons/IconButton",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton","fido/sound/SoundManager"],function(e,t,i){var o=e("PIXI"),n=e("fido/ui/buttons/AbstractButton"),r=e("fido/sound/SoundManager"),s=function(e){n.call(this),this.cacheAsBitmap=!0,this.background=new o.Sprite.fromFrame("border_disc_blue.png"),this.background.anchor.set(.5),this.addChild(this.background),this.icon=new o.Sprite,this.icon.anchor.set(.5),this.addChild(this.icon),this.setIcon(e)};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._updateFromBackgroundColor()}}),s.prototype._updateFromBackgroundColor=function(){this.background.texture=o.Texture.fromFrame("border_disc_"+this._backgroundColor+".png")},s.prototype.setIcon=function(e){e&&(this.cacheAsBitmap=!1,this.icon.texture=o.Texture.fromFrame(e),this.cacheAsBitmap=!0)},s.prototype.setSize=function(e){switch(e){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}},s.prototype.show=function(e){var t=this.cacheAsBitmap;this.cacheAsBitmap=!1,this.visible=!0,this.enable(),o.isWebGL?(e=e||.4,TweenLite.to(this.icon,e,{alpha:1,onComplete:function(){this.enable(),this.cacheAsBitmap=t},onCompleteScope:this,ease:Power4.easeOut}),TweenLite.to(this.icon.scale,e,{x:1,y:1,ease:Back.easeOut}),TweenLite.to(this.background,.5*e,{alpha:1,ease:Power4.easeOut}),TweenLite.to(this.background.scale,.5*e,{x:1,y:1,ease:Back.easeOut})):(this.icon.alpha=1,this.background.alpha=1,this.icon.scale.x=this.icon.scale.y=1,this.background.scale.x=this.background.scale.y=1,this.cacheAsBitmap=t)},s.prototype.hide=function(e){var t=this.cacheAsBitmap;this.cacheAsBitmap=!1,this.disable(),o.isWebGL?(e=e||.2,TweenLite.to(this.icon,e,{alpha:0,onComplete:function(){this.visible=!1,this.cacheAsBitmap=t},onCompleteScope:this,ease:Power2.easeIn}),TweenLite.to(this.icon.scale,e,{x:0,y:0,ease:Power2.easeIn}),TweenLite.to(this.background,e,{alpha:0,ease:Power2.easeIn}),TweenLite.to(this.background.scale,e,{x:0,y:0,ease:Power2.easeIn})):(this.icon.alpha=0,this.background.alpha=0,this.icon.scale.x=this.icon.scale.y=0,this.background.scale.x=this.background.scale.y=0)},s.prototype.down=function(){n.prototype.down.call(this)},s.prototype.up=function(){r.sfx.play("selectbeep")},s.prototype.hover=function(){var e=this.cacheAsBitmap;this.cacheAsBitmap=!1;var t=.4;TweenLite.to(this.icon.scale,t,{x:1.3,y:1.3,onComplete:function(){this.cacheAsBitmap=e},onCompleteScope:this,ease:Elastic.easeOut}),TweenLite.to(this.background.scale,.5*t,{x:1.2,y:1.2,ease:Power4.easeOut})},s.prototype.out=function(){var e=this.cacheAsBitmap;this.cacheAsBitmap=!1;var t=.2;TweenLite.to(this.icon.scale,t,{x:1,y:1,onComplete:function(){this.cacheAsBitmap=e},onCompleteScope:this,ease:Power2.easeOut}),TweenLite.to(this.background.scale,t,{x:1,y:1,ease:Power2.easeOut})},i.exports=s}),define("starwars/buttons/GoldenButton",["require","exports","module","PIXI","./IconButton","fido/system/Device"],function(e,t,i){var o=e("PIXI"),n=e("./IconButton"),r=(e("fido/system/Device"),function(e,t){n.call(this,e),this._backgroundColor="blue",t=t||{},this.rings=[];for(var i=0;3>i;i++){var r=new o.Sprite.fromFrame("inner_detail_blue_large"+(i||"")+".png");r.anchor.set(.5),r.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,r._defaultAlpha=.3,r.alpha=r._defaultAlpha,r._defaultScale=1;var s=i%2?1:-1;TweenMax.to(r,10+10*Math.random(),{rotation:2*Math.PI*s,ease:Linear.easeOut,repeat:-1}),this.addChild(r),this.rings.push(r)}this.outerRingContainer=new o.Container,this.addChild(this.outerRingContainer),this.outerRing=new o.Sprite.fromFrame("ring_large.png"),this.outerRing.anchor.set(.5),this.outerRingContainer.addChild(this.outerRing),this.groove=new o.Sprite.fromFrame("big_button_groove.png"),this.groove.anchor.set(.5),this.outerRingContainer.addChild(this.groove),this.setSize("normal"),o.isWebGL||this.addChild(this.icon)});r.prototype=Object.create(n.prototype),r.prototype.constructor=r,Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._updateFromBackgroundColor()}}),r.prototype.hideRings=function(){for(var e=0;e<this.rings.length;e++)this.rings[e].visible=!1},r.prototype.showRings=function(){for(var e=0;e<this.rings.length;e++)this.rings[e].visible=!0},r.prototype._updateFromBackgroundColor=function(){"blue"!==this._backgroundColor&&(this.icon.blendMode=o.isWebGL&&o.isWebGL?o.BLEND_MODES.ADD:0),this.background.texture=o.Texture.fromFrame("inner_disc_"+this._backgroundColor+"_small.png")},r.prototype.setSize=function(e){for(var t=0;t<this.rings.length;t++){var i=this.rings[t];i._defaultScale="small"===e?.5:1,i.scale.set(i._defaultScale)}"small"===e?(this._updateFromBackgroundColor(),this.outerRing.texture=o.Texture.fromFrame("ring_small.png"),this.groove.texture=o.Texture.fromFrame("small_button_groove.png"),this.hideRings()):(this.background.texture=o.Texture.fromFrame("inner_disc_blue_large.png"),this.outerRing.texture=o.Texture.fromFrame("ring_large.png"),this.scale.set("big"===e?1.5:1),this.showRings())},r.prototype.show=function(e){e=e||.4,n.prototype.show.call(this,e),o.isWebGL?(TweenLite.to(this.outerRingContainer,.95*e,{alpha:1,delay:.05*e,ease:Power2.easeOut}),TweenLite.to(this.outerRingContainer.scale,.95*e,{x:1,y:1,delay:.05*e,ease:Back.easeOut}),TweenLite.to(this.groove,.95*e,{rotation:0,delay:.05*e,ease:Back.easeOut}),TweenLite.to(this.icon,e,{rotation:0,ease:Back.easeOut})):(this.outerRingContainer.alpha=1,this.outerRingContainer.scale.x=this.outerRingContainer.scale.y=1,this.groove.rotation=0,this.icon.rotation=0)},r.prototype.hide=function(e){e=e||.2,n.prototype.hide.call(this,e),o.isWebGL?(TweenLite.to(this.outerRingContainer,e,{alpha:0,ease:Power2.easeIn}),TweenLite.to(this.outerRingContainer.scale,e,{x:0,y:0,ease:Back.easeIn}),TweenLite.to(this.groove,e,{rotation:.25*-Math.PI,ease:Back.easeIn}),TweenLite.to(this.icon,e,{rotation:.25*Math.PI,ease:Back.easeIn})):(this.outerRingContainer.alpha=0,this.outerRingContainer.scale.x=this.outerRingContainer.scale.y=0,this.groove.rotation=.25*-Math.PI,this.icon.rotation=.25*Math.PI)},r.prototype.hover=function(){var e=.8;this.cacheAsBitmap=!1,TweenLite.to(this.icon.scale,e,{x:1.3,y:1.3,onComplete:function(){},onCompleteScope:this,ease:Elastic.easeOut}),TweenLite.to(this.background.scale,.5*e,{x:1.1,y:1.1,ease:Power4.easeOut}),TweenLite.to(this.outerRingContainer.scale,.5*e,{x:1.1,y:1.1,ease:Power4.easeOut}),TweenLite.to(this.groove,.5*e,{rotation:.5*Math.PI,ease:Back.easeOut});for(var t=0;t<this.rings.length;t++){var i=this.rings[t];TweenLite.to(i,.5*e,{alpha:2*i._defaultAlpha,ease:Power4.easeOut});var o=(1-.2*t)*i._defaultScale;i._defaultScale<1&&(o+=.4*i._defaultScale),TweenLite.to(i.scale,.5*e,{x:o,y:o,ease:Power4.easeOut})}},r.prototype.out=function(){var e=.2;this.cacheAsBitmap=!1,TweenLite.to(this.icon.scale,e,{x:1,y:1,onComplete:function(){this.cacheAsBitmap=!0},onCompleteScope:this,ease:Power2.easeOut}),TweenLite.to(this.background.scale,e,{x:1,y:1,ease:Power2.easeOut}),TweenLite.to(this.outerRingContainer.scale,e,{x:1,y:1,ease:Power2.easeOut}),TweenLite.to(this.groove,e,{rotation:0,ease:Power2.easeOut});for(var t=0;t<this.rings.length;t++){var i=this.rings[t];TweenLite.to(i,e,{alpha:i._defaultAlpha,ease:Power2.easeOut}),TweenLite.to(i.scale,e,{x:i._defaultScale,y:i._defaultScale,ease:Power2.easeOut})}},i.exports=r}),define("fido/utils/CircleMask",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(){o.Graphics.call(this),this.thickness=10,this.startRads=0,this.endRads=Math.PI,this.xRadius=100,this.yRadius=100,this._ratio=0,this.redraw()};n.prototype=Object.create(o.Graphics.prototype),Object.defineProperty(n.prototype,"ratio",{get:function(){return this._ratio},set:function(e){this._ratio=e,this._ratio>1?this._ratio=1:this._ratio<0&&(this._ratio=0),this.redraw()}}),n.prototype.redraw=function(){var e=this._ratio*Math.PI*2;e*=.3,this.clear(),this.beginFill(16711680);var t=8,i=2*Math.PI/t,o=Math.ceil(8*this._ratio);8*this._ratio%1;this.moveTo(0,0);for(var n=0;o>n;n++){var r=n*i;this.lineTo(-100*Math.sin(r),-100*Math.cos(r))}var r=this._ratio*Math.PI*2;this.lineTo(-100*Math.sin(r),-100*Math.cos(r)),this.endFill()},i.exports=n}),define("starwars/loader/LoadingBar",["require","exports","module","PIXI","../buttons/GoldenButton","fido/utils/CircleMask"],function(e,t,i){var o=e("PIXI"),n=e("../buttons/GoldenButton"),r=e("fido/utils/CircleMask"),s=function(){o.Container.call(this),this.background=new n,this.background.disable(),this.background.x=1,this.addChild(this.background);var e=new o.Sprite.fromFrame("inline_circle_loader_button.png");e.scale.set(.74),e.anchor.x=.5,e.anchor.y=.5,e.tint=0,this.addChild(e),this.circleMask=new r,this.circleMask.scale.x*=-1,this.addChild(this.circleMask);var t=new o.Sprite.fromFrame("inline_circle_loader_button.png");t.scale.set(.74),t.anchor.x=.5,t.anchor.y=.5,t.mask=this.circleMask,this.addChild(t),this.percentageText=new o.Text("100",{font:"36px "+window.MAIN_FONT,fill:"#FAC943",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowDistance:3,dropShadowColor:"rgba(0, 0, 0, .4)"}),this.percentageText.anchor.set(.5),this.percentageText.x=2,this.addChild(this.percentageText)};s.prototype=Object.create(o.Container.prototype),s.prototype.constructor=s,s.prototype.setProgress=function(e){this.circleMask.ratio=e+.02,this.percentageText.text=Math.floor(100*e)},i.exports=s}),define("text",["module"],function(e){var t,i,o,n,r,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),p=c&&location.hostname,u=c&&(location.port||void 0),d={},g=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(h);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=s[t];try{e=new ActiveXObject(i)}catch(o){}if(e){s=[i];break}}return e},parseName:function(e){var t,i,o,n=!1,r=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==r&&(!s||r>1)?(t=e.substring(0,r),i=e.substring(r+1)):t=e,o=i||t,r=o.indexOf("!"),-1!==r&&(n="strip"===o.substring(r+1),o=o.substring(0,r),i?i=o:t=o),{moduleName:t,ext:i,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,o,n){var r,s,a,h=t.xdRegExp.exec(e);return h?(r=h[2],s=h[3],s=s.split(":"),a=s[1],s=s[0],!(r&&r!==i||s&&s.toLowerCase()!==o.toLowerCase()||(a||s)&&a!==n)):!0},finishLoad:function(e,i,o,n){o=i?t.strip(o):o,g.isBuild&&(d[e]=o),n(o)},load:function(e,i,o,n){if(n&&n.isBuild&&!n.inlineText)return void o();g.isBuild=n&&n.isBuild;var r=t.parseName(e),s=r.moduleName+(r.ext?"."+r.ext:""),a=i.toUrl(s),h=g.useXhr||t.useXhr;return 0===a.indexOf("empty:")?void o():void(!c||h(a,l,p,u)?t.get(a,function(i){t.finishLoad(e,r.strip,i,o)},function(e){o.error&&o.error(e)}):i([s],function(e){t.finishLoad(r.moduleName+"."+r.ext,r.strip,e,o)}))},write:function(e,i,o,n){if(d.hasOwnProperty(i)){var r=t.jsEscape(d[i]);o.asModule(e+"!"+i,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,i,o,n,r){var s=t.parseName(i),a=s.ext?"."+s.ext:"",h=s.moduleName+a,c=o.toUrl(s.moduleName+a)+".js";t.load(h,o,function(i){var o=function(e){return n(c,e)};o.asModule=function(e,t){return n.asModule(e,c,t)},t.write(e,h,o,r)},r)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),t.get=function(e,t,o){try{var n=i.readFileSync(e,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),t(n)}catch(r){o&&o(r)}}):"xhr"===g.env||!g.env&&t.createXhr()?t.get=function(e,i,o,n){var r,s=t.createXhr();if(s.open("GET",e,!0),n)for(r in n)n.hasOwnProperty(r)&&s.setRequestHeader(r.toLowerCase(),n[r]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(t){var n,r;4===s.readyState&&(n=s.status||0,n>399&&600>n?(r=new Error(e+" HTTP status: "+n),r.xhr=s,o&&o(r)):i(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var i,o,n="utf-8",r=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),h="";try{for(i=new java.lang.StringBuffer,o=a.readLine(),o&&o.length()&&65279===o.charAt(0)&&(o=o.substring(1)),null!==o&&i.append(o);null!==(o=a.readLine());)i.append(s),i.append(o);h=String(i.toString())}finally{a.close()}t(h)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,n=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in o,t.get=function(e,t){var i,s,a,h={};r&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{i=o["@mozilla.org/network/file-input-stream;1"].createInstance(n.nsIFileInputStream),i.init(a,1,0,!1),s=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(n.nsIConverterInputStream),s.init(i,"utf-8",i.available(),n.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(i.available(),h),s.close(),i.close(),t(h.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),t}),define("text!starwars/shaders/lightspeed.glsl",[],function(){return"precision highp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform float intensity;\nuniform float starPositionOffset;\nuniform vec2 offset;\nuniform vec4 dimensions;\nuniform float scale;\n\nfloat rand(float n){\n  return fract(sin(n) * 43758.5453123);\n}\n\nvec4 mapStar(vec2 position, float intensity, float angleOffset) {\n\n  vec4 color = vec4(vec3(0.), 1.);\n\n  float angle = atan(position.y, position.x) + angleOffset;\n\n  float angleNumber = 20.;\n\n  float random = rand(floor(angle * angleNumber) * 100.);\n\n  float distance = random;\n  distance += starPositionOffset * .001;\n  distance = fract(distance);\n\n  float fragDistance = length(position);\n\n  float size = smoothstep(-.1, 2., intensity);\n\n  float bounded = step(distance, fragDistance) * step(fragDistance, distance + size);\n  bounded += step(fragDistance, fract(distance + size)) * step(fract(distance + size), distance);\n\n  color.rgb = mix(vec3(0.), vec3(1.), bounded);\n\n  color.r *= .3;\n  color.g *= .7 + random * .3;\n  color.b *= 2.;\n\n  // hard edges\n  float angleCenter = abs(fract(angle * angleNumber) * 2. - 1.);\n  color.a = step(angleCenter, smoothstep(-.2, 1., intensity));\n\n  // smooth gradient\n  color.a *= 1. - angleCenter;\n\n  color.a *= smoothstep(0., 1., fragDistance);\n  color.a *= cos(pow(random, 5.) * starPositionOffset * .001) * .5 + .5;\n\n  return color;\n}\n\nvoid main() {\n  vec2 position = (vTextureCoord * 2. - 1.) * (1. / scale);\n  position *= dimensions.y / dimensions.x;\n  position += offset * (1. / scale);\n\n  vec4 color = vec4(vec3(0.05), 1.);\n\n  for(float i = 0.; i < 2.; i++) {\n  	vec4 starColor = mapStar(position, intensity, i * 20.);\n    color.rgb += starColor.rgb * starColor.a;\n  }\n\n	gl_FragColor = color;\n}\n"}),define("starwars/filters/LightSpeedFilter",["require","exports","module","PIXI","fido/system/Ticker","text!../shaders/lightspeed.glsl"],function(e,t,i){function o(){this.speed=1,n.AbstractFilter.call(this,null,s,{intensity:{type:"f",value:0},starPositionOffset:{type:"f",value:0},scale:{type:"f",value:1},offset:{type:"2fv",value:[0,0]},dimensions:{type:"4fv",value:[0,0,0,0]}}),this.start()}var n=e("PIXI"),r=e("fido/system/Ticker"),s=e("text!../shaders/lightspeed.glsl");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,o.prototype.start=function(){r.instance.add(this.update,this)},o.prototype.stop=function(){r.instance.remove(this.update,this)},o.prototype.setIntensity=function(e){this.uniforms.intensity.value=e},o.prototype.enterLightSpeed=function(e){e=e||3,TweenLite.to(this.uniforms.intensity,e,{value:1,ease:Power3.easeIn})},o.prototype.leaveLightSpeed=function(e){e=e||1,TweenLite.to(this.uniforms.intensity,e,{value:0,ease:Power3.easeOut,onComplete:function(){this.stop()}.bind(this)})},o.prototype.update=function(){this.uniforms.starPositionOffset.value+=this.speed+40*this.intensity},Object.defineProperties(o.prototype,{intensity:{get:function(){return this.uniforms.intensity.value},set:function(e){this.uniforms.intensity.value=e}}}),i.exports=o}),define("fido/app/Screen",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e){this.app=e,this.id="",o.Container.call(this)};n.prototype=Object.create(o.Container.prototype),n.prototype.onHide=function(){},n.prototype.onHidden=function(){},n.prototype.onShow=function(){},n.prototype.onShown=function(){},n.prototype.resize=function(e,t){},i.exports=n}),define("starwars/filters/GlowFilter",["require","exports","module","PIXI"],function(e,t,i){function o(e,t,i,o,r,s,a){n.AbstractFilter.call(this,null,["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float distance;","uniform float outerStrength;","uniform float innerStrength;","uniform vec4 glowColor;","uniform float pixelWidth;","uniform float pixelHeight;","vec2 px = vec2(pixelWidth, pixelHeight);","void main(void) {","    const float PI = 3.14159265358979323846264;","    vec4 ownColor = texture2D(uSampler, vTextureCoord);","    vec4 curColor;","    float totalAlpha = 0.0;","    float maxTotalAlpha = 0.0;","    float cosAngle;","    float sinAngle;","    for (float angle = 0.0; angle <= PI * 2.0; angle += "+(1/a/i).toFixed(7)+") {","       cosAngle = cos(angle);","       sinAngle = sin(angle);","       for (float curDistance = 1.0; curDistance <= "+i.toFixed(7)+"; curDistance++) {","           curColor = texture2D(uSampler, vec2(vTextureCoord.x + cosAngle * curDistance * px.x, vTextureCoord.y + sinAngle * curDistance * px.y));","           totalAlpha += (distance - curDistance) * curColor.a;","           maxTotalAlpha += (distance - curDistance);","       }","    }","    maxTotalAlpha = max(maxTotalAlpha, 0.0001);","    ownColor.a = max(ownColor.a, 0.0001);","    ownColor.rgb = ownColor.rgb / ownColor.a;","    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);","    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;","    float resultAlpha = (ownColor.a + outerGlowAlpha);","    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);","}"].join("\n"),{distance:{type:"1f",value:i},outerStrength:{type:"1f",value:0},innerStrength:{type:"1f",value:0},glowColor:{type:"4f",value:new Float32Array([0,0,0,1])},pixelWidth:{type:"1f",value:0},pixelHeight:{type:"1f",value:0}}),a=Math.pow(a,1/3),this.quality=a,this.uniforms.distance.value*=a,e*=a,t*=a,this.color=s,this.outerStrength=o,this.innerStrength=r,this.viewWidth=e,this.viewHeight=t}var n=e("PIXI");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{color:{get:function(){return n.utils.rgb2hex(this.uniforms.glowColor.value)},set:function(e){n.utils.hex2rgb(e,this.uniforms.glowColor.value)}},outerStrength:{get:function(){return this.uniforms.outerStrength.value},set:function(e){this.uniforms.outerStrength.value=e}},innerStrength:{get:function(){return this.uniforms.innerStrength.value},set:function(e){this.uniforms.innerStrength.value=e}},viewWidth:{get:function(){return 1/this.uniforms.pixelWidth.value},set:function(e){this.uniforms.pixelWidth.value=1/e}},viewHeight:{get:function(){return 1/this.uniforms.pixelHeight.value},set:function(e){this.uniforms.pixelHeight.value=1/e}}}),i.exports=o}),define("starwars/app/FontUtils",["require","exports","module"],function(e,t,i){var o=function(){};o.prototype.init=function(){window.FONTS_EXTENDED?(window.MAIN_FONT="Arial",window.SECONDARY_FONT="Arial"):(window.MAIN_FONT="naked_power_rgregular",window.SECONDARY_FONT="naked_powerlight")},i.exports=new o}),define("starwars/loader/LoaderScreen",["require","exports","module","PIXI","fido/system/Ticker","./LoadingBar","../filters/LightSpeedFilter","signals","fido/app/Screen","fido/loader/Loader","../filters/GlowFilter","starwars/buttons/GoldenButton","fido/system/Device","fido/loader/Cache","starwars/app/FontUtils"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("./LoadingBar"),s=e("../filters/LightSpeedFilter"),a=e("signals"),h=e("fido/app/Screen"),c=e("fido/loader/Loader"),l=e("../filters/GlowFilter"),p=e("starwars/buttons/GoldenButton"),u=e("fido/system/Device"),d=e("fido/loader/Cache"),g=e("starwars/app/FontUtils"),f=function(e){h.call(this,e),this.progress=0,this.easedProgress=0,this.counter=0,this.loader=new c,this.loader.addPixiAssets([SHARED_ASSET_URL+"images/ui_elements_shared.json",SHARED_ASSET_URL+"images/ui_elements_rebels.json",SHARED_ASSET_URL+"images/jedi_font.xml"]),d.getJson("config").config||(d.getJson("config").config=d.getJson("config")),window.FONTS_EXTENDED="true"===d.getJson("config").config.FONTS_EXTENDED,g.init(),this.loader.addJson(SHARED_ASSET_URL+"json/events.json","events"),this.loader.addCSS(SHARED_ASSET_URL+"css/fonts.css"),this.loader.onComplete.add(this.onAssetsLoaded,this),this.loader.load(),e.loader.onProgress.add(this.onProgress,this),this.onReady=new a,this.onComplete=new a,this.touchContinue=!u.instance.desktop&&!window.activateOnStart};f.prototype=Object.create(h.prototype),f.prototype.constructor=f,f.prototype.onAssetsLoaded=function(){o.isWebGL&&(this.lightSpeedFilter=new s),this.background=new o.Sprite.fromFrame("canvas_hyperspace.png"),o.isWebGL||(this.background.anchor.set(.5),this.background.position.x=this.app.safeSize.width/2,this.background.position.y=this.app.safeSize.height/2),this.background.filters=o.isWebGL?[this.lightSpeedFilter]:null,this.addChild(this.background);var e=new o.Text("Naked Powerlight",{font:"20px "+ +window.SECONDARY_FONT});e.updateText(),window.FONTS_EXTENDED?this.text=new o.Text(translations.STR_LOADING.toUpperCase(),{font:"30px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}):this.text=new o.extras.BitmapText(translations.STR_LOADING.toLowerCase(),{font:"30px Star Jedi",align:"right"}),o.isWebGL&&(this.text.filters=[new l(256,256,2,1,0,9536030,1)]),this.text.pivot.x=.5*this.text.width,this.text.pivot.y=.5*this.text.height,this.addChild(this.text),this.starWarsLoader=new r,this.addChild(this.starWarsLoader),this.app.loader.load(),this.touchContinue&&(this.continueButton=new p("icon_play.png"),this.continueButton.onPress.add(function(){u.instance.android&&(document.body.requestFullScreen?document.body.requestFullScreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullScreen&&document.body.webkitRequestFullScreen()),this.continueButton.interactive=!1,TweenLite.to(this.continueButton.view.scale,.4,{x:0,y:0,ease:Back.easeIn}),TweenLite.to(this.continueButton.view,.3,{alpha:0,ease:Sine.easeIn,delay:.1}),this.onComplete.dispatch()},this)),this.resize(),n.instance.add(this.update,this)},f.prototype.update=function(){this.counter+=.05;var e=.2*(this.progress-this.easedProgress);e>.01&&(e=.01),this.easedProgress+=e;var t=this.easeInOutExpo(100*this.easedProgress,0,1,60);o.isWebGL?(this.background.position.x=Math.random()*t*2,this.background.position.y=Math.random()*t*2,this.lightSpeedFilter.setIntensity(t)):this.background.scale.set(this.easedProgress>.99?6:6*this.easedProgress),this.starWarsLoader.setProgress(this.easedProgress>.99?1:this.easedProgress),this.easedProgress>.99&&(n.instance.remove(this.update,this),this.complete()),this.text.alpha=.5*Math.abs(Math.cos(this.counter))+.5},f.prototype.easeInOutExpo=function(e,t,i,o){return e/=o/2,1>e?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(-Math.pow(2,-10*e)+2)+t)},f.prototype.complete=function(){setTimeout(function(){this.touchContinue?(this.addChild(this.continueButton),this.continueButton.alpha=0,TweenLite.to(this.continueButton.view,.3,{alpha:1})):this.onComplete.dispatch()}.bind(this),1500),o.isWebGL&&this.lightSpeedFilter.leaveLightSpeed(),o.isWebGl||TweenLite.to(this.background.scale,1,{x:12,y:12,onComplete:function(){TweenLite.to(this.background.scale,.2,{x:0,y:0,ease:Power3.easeOut})}.bind(this),ease:Power3.easeOut});var e=.6,t=.6,i=.05;TweenLite.to(this.text.scale,e,{x:0,y:0,delay:t,ease:Back.easeIn}),TweenLite.to(this.text,e,{y:.5*this.screenHeight,delay:t,ease:Back.easeIn}),TweenLite.to(this.text,e,{alpha:0,delay:t,ease:Power2.easeIn}),TweenLite.to(this.starWarsLoader,e,{alpha:0,delay:t+i,ease:Power2.easeIn}),TweenLite.to(this.starWarsLoader.scale,e,{x:0,y:0,delay:t+i,ease:Back.easeIn,onComplete:function(){this.app.renderer.clearBeforeRender=!0}.bind(this)})},f.prototype.onProgress=function(e){this.progress=e},f.prototype.onHide=function(){n.instance.remove(this.update,this)},f.prototype.resize=function(e,t){this.screenWidth=e||this.screenWidth,this.screenHeight=t||this.screenHeight,this.starWarsLoader&&(this.starWarsLoader.x=.5*this.screenWidth,this.starWarsLoader.y=.5*this.screenHeight),this.text&&(this.text.x=.5*this.screenWidth,this.text.y=.5*this.screenHeight+.5*this.starWarsLoader.height),this.background&&o.isWebGL&&(this.background.width=this.screenWidth,this.background.height=this.screenHeight),this.continueButton&&(this.continueButton.view.position.x=this.screenWidth/2,this.continueButton.view.position.y=this.screenHeight/2)},i.exports=f}),define("fido/utils/Utils",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n={};n.trimTexture=function(e,t,i,o,n){t=t||0,i=i||0,o=o||0,n=n||0;var r=e._frame;r.x+=t,r.y+=o,r.width-=t+i,r.height-=o+n,e.frame=r,e._updateUvs()},n.getTexturesFromFrames=function(e){for(var t=[],i=0;i<e.length;i++)t.push(new o.Texture.fromFrame(e[i]));return t},n.getTexturesFromImages=function(e){for(var t=[],i=0;i<e.length;i++)t.push(new o.Texture.fromImage(e[i]));return t},n.getTexturesFromFramesWithPrefix=function(e,t,i,n){var r=[];void 0==i&&(i=0);for(var s=0;t>s;s++){var a=s+i,h=e.replace("%%",10>a?"0"+a:a);if(n)var h=e.replace("%%",a);r.push(new o.Texture.fromFrame(h))}return r},n.getTexturesFromImagesWithPrefix=function(e,t,i,n){var r=[];void 0==i&&(i=0);for(var s=0;t>s;s++){var a=s+i,h=e.replace("%%",10>a?"0"+a:a);if(n)var h=e.replace("%%",a);r.push(new o.Texture.fromImage(h))}return r},n.formatTime=function(e){if(999999===e)return"00:00:00";var e=e/.06,t=e/60/1e3|0;e-=60*t*1e3;var i=e/1e3|0;e-=1e3*i;var o=e/10|0;return e-=10*o,(10>t?"0":"")+t+":"+(10>i?"0":"")+i+":"+(10>o?"0":"")+o},n.formatTimeSeconds=function(e){if(999999===e)return"00:00";var e=e/.06,t=e/60/1e3|0;e-=60*t*1e3;var i=e/1e3|0;return e-=1e3*i,(10>t?"0":"")+t+":"+(10>i?"0":"")+i},n.pad=function(e,t){var i="0000"+e;return i.substr(i.length-t)},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[i],e[i]=o}return e},n.formatScore=function(e){for(var t=e.toString().split(""),i="",o=t.length,n=o%3-1,r=0;o>r;r++)i+=t[r],(r-n)%3==0&&r!=o-1&&(i+=",");return i},n.formatNumber=function(e){if(ones=e%10,tens=Math.floor(e/10)%10,1==tens)return e+"th";switch(ones){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}},n.formatName=function(e){for(var t=e.split(" "),i=t.length-1;i>=0;i--)0!==t[i].length&&(wordArray=t[i].split(""),wordArray[0]=wordArray[0].toUpperCase(),t[i]=wordArray.join(""));return word=t.join(" "),word},window.console||(window.console={log:function(e){}}),n.get_query=function(e){for(var t=location.href,i=t.substring(t.indexOf("?")+1).split("&"),o=0,n={};o<i.length;o++)i[o]=i[o].split("="),n[i[o][0]]=decodeURIComponent(i[o][1]);return n.hasOwnProperty(e)?n[e]:!1},n.toCamelCase=function(e){var t=/\s([a-z]|[A-Z])/,i=e.trim();return i=i.toLowerCase(),i=i.replace(t,function(e,t){return t.toUpperCase()})},n.defaults=function(e,t){e=e||{};for(var i in t)i in e||(e[i]=t[i]);return e},n.fitText=n.resizeText=function(e,t,i,o){o=o||"w",e.scale.set(1),i&&(e.text=i);var n=0;
n="w"===o?t/e.width:t/e.height,n>1&&(n=1),e.scale.set(n)},n.resizeMultipleTexts=function(e,t,i){for(var o=0;o<e.length;o++){var n=e[o];n.scale.set(1)}var r=0;if(i)for(var o=0;o<e.length;o++){var n=e[o];n.text=i[o]}for(var o=0;o<e.length;o++){var n=e[o];n.width>r&&(r=n.width)}var s=t/r;s>1&&(s=1);for(var o=0;o<e.length;o++)e[o].scale.set(s)},i.exports=n}),define("fido/utils/Math2",["require","exports","module"],function(e,t,i){var o={};o.TWO_PI=2*Math.PI,o.random=function(e,t){return e=e||0,t=void 0===t?1:t,e+Math.random()*(t-e)},o.randomInt=function(e,t){return e+Math.random()*(t-e)|0},o.randomSeed=function(e,t,i){min=e,max=t,i=i||1,i=(9301*i+49297)%233280;var o=i/233280;return min+o*(max-min)},o.randomChance=function(e,t){return o.randomSeed(0,1,t)>e},o.cap=function(e,t,i){return t>e?t:e>i?i:e},o.sign=function(e){return 0>e?-1:e>0?1:0},o.randomChoice=function(e,t){return Math.random()<.5?e:t},o.map=function(e,t,i,o,n){return(n-o)*((e-t)/(i-t))+o},o.smallestAngle=function(e,t){e%=2*Math.PI,0>e&&(e+=2*Math.PI);var i=t-e,o=t+2*Math.PI-e,n=t-2*Math.PI-e,r=Math.abs(i),s=Math.abs(o),a=Math.abs(n),h=i;return r>s&&a>s?h=o:r>a&&s>a&&(h=n),h},o.wrap=function(e,t,i){var o=i-t;return e-=t,e%=o,0>e&&(e+=o),e+=t},i.exports=o}),define("fido/effects/Sparkles",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("fido/utils/Math2"),s=function(e,t,i){o.Container.call(this),this.total=i||5,this.sparkles=[],this.sparkleDimension=t||new o.Circle(0,0,50);for(var n=0;n<this.total;n++){var s;s=0===e.length?new o.Sprite:o.Sprite.fromFrame(e[Math.floor(Math.random()*e.length)]||"sparkle.png"),s.anchor.set(.5),s.life=0,o.isWebGL&&(s.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0),s.life=n/this.total*100,s.initialScale=.6+r.random(-.4,.4),this.addChild(s)}this.x=this.sparkleDimension.x,this.y=this.sparkleDimension.y,this.sparkleDimension.type===o.SHAPES.CIRC&&(this.innerRadius=.7*this.sparkleDimension.radius,this.outerRadius=this.sparkleDimension.radius,this.range=this.outerRadius-this.innerRadius)};s.prototype=Object.create(o.Container.prototype),s.prototype.constructor=s,s.prototype.updateTransform=function(){if(this.visible){for(var e=this.children,t=e.length-1;t>=0;t--){var i=e[t];i.life-=3*n.instance.deltaTime,i.rotation+=.1*n.instance.deltaTime,i.scale.set(i.initialScale*Math.sin(i.life/100*Math.PI)),i.life<0&&(i.life=100,this.sparkleDimension.type===o.SHAPES.CIRC?(i.x=this.innerRadius*r.randomChoice(-1,1)+r.random(0,this.range),i.y=this.innerRadius*r.randomChoice(-1,1)+r.random(0,this.range)):this.sparkleDimension.type===o.SHAPES.RECT&&(i.x=r.random(0,this.sparkleDimension.width),i.y=r.random(0,this.sparkleDimension.height)))}o.Container.prototype.updateTransform.call(this)}},i.exports=s}),define("fido/physics/DoubleSpring",["require","exports","module"],function(e,t,i){var o=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29};o.constructor=o,o.prototype.update=function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy},o.prototype.reset=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0},i.exports=o}),define("fido/system/DelayedCalls",["require","exports","module","PIXI","fido/system/Ticker"],function(e,t,i){var o=(e("PIXI"),e("fido/system/Ticker")),n=function(){this.delayedCalls=[]};n.prototype.clear=function(){this.delayedCalls=[],o.instance.remove(this.update,this),this.updating=!1},n.prototype.add=function(e,t,i){var n={func:e,args:i,tick:0,delay:t,"delete":!1};return this.delayedCalls.push(n),this.updating||(o.instance.add(this.update,this),this.updating=!0),this.delayedCalls.length-1},n.prototype.getRemainingTime=function(e){var t=this.delayedCalls[e];return t&&t.delay?60*t.delay-t.tick:0},n.prototype.update=function(){for(var e=0;e<this.delayedCalls.length;e++){var t=this.delayedCalls[e];t.tick++,t.tick>60*t.delay&&(t.func(t.args),t["delete"]=!0)}for(var e=0;e<this.delayedCalls.length;e++){var t=this.delayedCalls[e];t["delete"]&&(this.delayedCalls.splice(e,1),e--)}0===this.delayedCalls.length&&(o.instance.remove(this.update,this),this.updating=!1)},i.exports=n}),define("com/fighter/game/effects/GlitchEffect",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/Math2","fido/physics/DoubleSpring","fido/utils/Utils","fido/system/DelayedCalls"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=(e("fido/utils/Math2"),e("fido/physics/DoubleSpring"),e("fido/utils/Utils")),s=e("fido/system/DelayedCalls"),a=function(){if(o.Container.call(this),window.canGlitch){this.tick=0;var e=this.loadAssetsGlitch();this.glitchSprite=new o.Sprite,this.glitchSprite.anchor.x=this.glitchSprite.anchor.y=.5,this.glitchSprite.textures=e,this.glitchSprite.counter=0,this.glitchSprite.nbPlayed=0,this.glitchSprite.speed=.3,this.addChild(this.glitchSprite),this.displacementFilter=new o.filters.DisplacementFilter(this.glitchSprite),this.displacementFilter.scale.x=10,this.displacementFilter.scale.y=1}this.filters=null,this.flickering=!0,this.isEndlessGlitching=!1,this.delayedCalls=new s,this.glitchScale1=[10,20,40],this.glitchScale2=[40,60,80]};a.prototype=Object.create(o.Container.prototype),a.prototype.loadAssetsGlitch=function(){var e=[[ASSET_URL+"img/game/temp/glitch5_000%%.png",10,0],[ASSET_URL+"img/game/temp/glitch4_000%%.png",8,0],[ASSET_URL+"img/game/temp/glitch3_000%%.png",4,0],[ASSET_URL+"img/game/temp/glitch2_000%%.png",3,0],[ASSET_URL+"img/game/temp/glitch1_000%%.png",6,0]],t=e[Math.floor(Math.random()*e.length)],i=r.getTexturesFromImagesWithPrefix(t[0],t[1],t[2],!1);return i},a.prototype.stop=function(){this.filters=null,this.flickering=!1,this.isTransitioning=!1},a.prototype.toggle=function(e){e&&o.isWebGL?this.filters=[this.displacementFilter]:e?this.flickering=!0:(this.filters=null,this.flickering=!1)},a.prototype.updateTransform=function(){if(this.visible){if(window.canGlitch)if(this.tick++,this.isTransitioning)if(this.isTransitionGlitching){this.tick%40===0&&(this.glitchSprite.position.x=this.glitchScale2[Math.floor(Math.random()*this.glitchScale2.length)],this.glitchSprite.position.y=this.glitchScale2[Math.floor(Math.random()*this.glitchScale2.length)]),this.displacementFilter.scale.y=1,this.glitchSprite.counter+=this.glitchSprite.speed*n.game.deltaTime,this.glitchSprite.texture=this.glitchSprite.textures[Math.floor(this.glitchSprite.counter%this.glitchSprite.textures.length)],this.displacementFilter.uniforms.mapSampler.value=this.glitchSprite.texture,Math.floor(this.glitchSprite.counter%this.glitchSprite.textures.length)>=this.glitchSprite.textures.length-1&&this.glitchSprite.nbPlayed>this.glitchSprite.nbToPlay?(this.isEndlessGlitching=!1,this.isTransitionGlitching=!1,this.filters=null,this.isTransitioning=!1):Math.floor(this.glitchSprite.counter%this.glitchSprite.textures.length)>=this.glitchSprite.textures.length-1&&this.glitchSprite.nbPlayed++}else this.isEndlessGlitching?(this.tick%40===0&&(this.glitchSprite.position.x=this.glitchScale1[Math.floor(Math.random()*this.glitchScale1.length)],this.glitchSprite.position.y=this.glitchScale1[Math.floor(Math.random()*this.glitchScale1.length)]),this.displacementFilter.scale.y=1,this.glitchSprite.counter+=this.glitchSprite.speed*n.game.deltaTime,this.glitchSprite.texture=this.glitchSprite.textures[Math.floor(this.glitchSprite.counter%this.glitchSprite.textures.length)],this.displacementFilter.uniforms.mapSampler.value=this.glitchSprite.texture,Math.floor(this.glitchSprite.counter%this.glitchSprite.textures.length)>=this.glitchSprite.textures.length-1&&(this.isEndlessGlitching=!1,this.filters=null,this.stopAfterOnce||(this.delayBeforeGlitch=30*Math.random()+this.delayBeforeNextGlitch))):this.delayBeforeGlitch&&(this.delayBeforeGlitch--,this.delayBeforeGlitch<=0&&this.glitch(null,null,this.delayBeforeNextGlitch));else this.filters=null;o.Container.prototype.updateTransform.call(this)}},a.prototype.transitionGlitch=function(){this.isEndlessGlitching=!1,this.isTransitionGlitching=!0,window.canGlitch&&(this.glitchSprite.counter=0,this.glitchSprite.nbPlayed=0,this.glitchSprite.nbToPlay=4)},a.prototype.glitch=function(e,t,i){e&&this.delayedCalls.add(this.transitionGlitch.bind(this),3),this.delayBeforeNextGlitch=i||10,this.stopAfterOnce=t,this.isTransitioning=!0,this.isEndlessGlitching=!0,window.canGlitch&&(this.glitchSprite.counter=0,this.glitchSprite.textures=this.loadAssetsGlitch(),this.filters=[this.displacementFilter])},a.prototype.resize=function(e,t){window.canGlitch&&(this.w=e,this.h=t,this.glitchSprite.width=e,this.glitchSprite.height=t)},i.exports=a}),define("fido/app/DevicemotionManager",["require","exports","module","fido/system/Ticker"],function(e,t,i){e("fido/system/Ticker");DevicemotionManager=function(){this.accelerationWithGravity={x:0,y:0,z:0},this.acceleration={x:0,y:0,z:0},this.rotation={alpha:0,beta:0,gamma:0},this.supportsMotion="DeviceMotionEvent"in window,this.supportsMotion&&window.addEventListener("devicemotion",this.checkMotion.bind(this),!0)},DevicemotionManager.prototype.checkMotion=function(e){this.acceleration.x=e.acceleration.x,this.acceleration.y=e.acceleration.y,this.acceleration.z=e.acceleration.z,this.accelerationWithGravity.x=e.accelerationIncludingGravity.x,this.accelerationWithGravity.y=e.accelerationIncludingGravity.y,this.accelerationWithGravity.z=e.accelerationIncludingGravity.z,this.rotation.alpha=e.rotationRate.alpha,this.rotation.beta=e.rotationRate.beta,this.rotation.gamma=e.rotationRate.gamma},DevicemotionManager.constructor=DevicemotionManager,i.exports=DevicemotionManager}),define("tracker",["require","exports","module"],function(e,t,i){if(window.CTOW){var o=new CTOW;o.trackPage()}var n={level:"1",isNew:!0,trackGame:function(e,t){this.track("game_action",e,this.level,t)},trackAction:function(e,t){},track:function(e,t,i,n){i=i||this.level,n=n||null;var r={event:e,game_id:"123",game_id_source:"Matterhorn",game_level:i||0,game_tier1:t};if(n)for(var s in n)r[s]=n[s];try{o.trackGame(r)}catch(a){}},trackDevice:function(){},trackClick:function(){}};i.exports=n}),define("com/fighter/app/screens/TitleScreen",["require","exports","module","PIXI","starwars/buttons/GoldenButton","starwars/buttons/GoldenButton","fido/system/Device","fido/sound/MusicManager","fido/utils/Math2","fido/effects/Sparkles","fido/system/Ticker","fido/utils/FrameWait","fido/utils/Utils","com/fighter/game/effects/GlitchEffect","fido/system/DelayedCalls","fido/app/OrientationManager","fido/app/DevicemotionManager","tracker","tracker","tracker","fido/sound/MusicManager"],function(e,t,i){var o=e("PIXI"),n=e("starwars/buttons/GoldenButton"),r=e("starwars/buttons/GoldenButton"),s=e("fido/system/Device"),a=(e("fido/sound/MusicManager"),e("fido/utils/Math2")),h=(e("fido/effects/Sparkles"),e("fido/system/Ticker")),c=(e("fido/utils/FrameWait"),e("fido/utils/Utils")),l=e("com/fighter/game/effects/GlitchEffect"),p=e("fido/system/DelayedCalls"),u=e("fido/app/OrientationManager"),d=e("fido/app/DevicemotionManager"),g=function(e){this.app=e,o.Container.call(this),this.de,this.logoContainer=new o.Container,this.devicemotionManager=new d,this.orientationManager=new u,this.deviceOrientation=this.orientationManager.orientation>=0?1:-1,this.bg=new o.Sprite.fromImage(ASSET_URL+"img/game/tittle_screen_illu.jpg"),this.bg.anchor.x=.5,this.addChild(this.bg),this.glitchEffectContainer=new l,this.addChild(this.glitchEffectContainer),this.poe=new o.Sprite.fromFrame("poe_gitch.png"),this.poe.ticker=0,this.poe.delay=60*Math.random()+120,this.poe.defaultTexture="poe_gitch.png",this.poe.textures=c.getTexturesFromFramesWithPrefix("poe_gitch%%.png",8,2,!0),this.poe.anchor.x=this.poe.anchor.y=.5,this.glitchEffectContainer.addChild(this.poe),this.sun=new o.Sprite.fromFrame("tittlescreen_soleil.png"),this.sun.anchor.x=this.sun.anchor.y=.5,this.addChild(this.sun),this.haloSun=new o.Sprite.fromFrame("tittlescreen_halo_sun.png"),this.haloSun.anchor.x=this.haloSun.anchor.y=.5,this.haloSun.alpha=.2,this.haloSun.scale.x=this.haloSun.scale.y=1.5,this.haloSun.blendMode=o.blendModes.ADD,this.haloSun.position=this.sun.position,this.addChild(this.haloSun),this.explosion=new o.Sprite.fromFrame("explosion.png"),this.explosion.anchor.x=this.explosion.anchor.y=.5,this.explosion.originalPos=new o.Point(345,320),this.explosion.amplitude=new o.Point(40,20),this.explosion.parallaxSpeed=.6,this.addChild(this.explosion),this.tieFighter=new o.Sprite.fromFrame("tie_fighter.png"),this.tieFighter.anchor.x=this.tieFighter.anchor.y=.5,this.tieFighter.originalPos=new o.Point(345,300),this.tieFighter.amplitude=new o.Point(50,30),this.tieFighter.parallaxSpeed=.8,this.addChild(this.tieFighter),this.xwing=new o.Sprite.fromFrame("x_wing.png"),this.xwing.anchor.x=this.xwing.anchor.y=.5,this.xwing.scale.x=this.xwing.scale.y=1.3,this.xwing.originalPos=new o.Point(755,325),this.xwing.amplitude=new o.Point(110,90),this.xwing.parallaxSpeed=1,this.addChild(this.xwing),this.bulletTieFighter1=new o.Sprite.fromFrame("bullets_tie_fighter.png"),this.bulletTieFighter1.blendMode=o.blendModes.ADD,this.bulletTieFighter1.anchor.x=this.bulletTieFighter1.anchor.y=.5,this.bulletTieFighter1.originalPos=new o.Point(430,345),this.bulletTieFighter1.amplitude=new o.Point(60,60),this.bulletTieFighter1.parallaxSpeed=.9,this.addChild(this.bulletTieFighter1),this.bulletTieFighter2=new o.Sprite.fromFrame("bullets_tie_fighter2.png"),this.bulletTieFighter2.anchor.x=this.bulletTieFighter2.anchor.y=.5,this.bulletTieFighter2.blendMode=o.blendModes.ADD,this.bulletTieFighter2.originalPos=new o.Point(475,255),this.bulletTieFighter2.amplitude=new o.Point(40,-20),this.bulletTieFighter2.parallaxSpeed=1.1,this.addChild(this.bulletTieFighter2),this.bulletXwing1=new o.Sprite.fromFrame("bullets_x_wing.png"),this.bulletXwing1.blendMode=o.blendModes.ADD,this.bulletXwing1.anchor.x=this.bulletXwing1.anchor.y=.5,this.bulletXwing1.originalPos=new o.Point(880,170),this.bulletXwing1.amplitude=new o.Point(40,40),this.bulletXwing1.parallaxSpeed=1.2,this.addChild(this.bulletXwing1),this.bulletXwing2=new o.Sprite.fromFrame("bullets_x_wing2.png"),this.bulletXwing2.blendMode=o.blendModes.ADD,this.bulletXwing2.anchor.x=this.bulletXwing2.anchor.y=.5,this.bulletXwing2.originalPos=new o.Point(1010,275),this.bulletXwing2.amplitude=new o.Point(50,30),this.bulletXwing2.parallaxSpeed=.75,this.addChild(this.bulletXwing2),this.containerButton=new o.Container,this.addChild(this.containerButton),this.playButton=new r("icon_play.png"),this.playButton.depth=100,this.containerButton.addChild(this.playButton),this.shopButton=new n("icon_shop.png"),this.shopButton.setSize("small"),this.containerButton.addChild(this.shopButton),this.leaderboardButton=new r("icon_leaderboard.png"),this.leaderboardButton.setSize("small"),this.containerButton.addChild(this.leaderboardButton.view),this.achievmentButton=new n("icon_medal.png"),this.achievmentButton.setSize("small"),this.addChild(this.achievmentButton),this.playButton.onPress.add(this.onButtonPressed,this),this.leaderboardButton.onPress.add(this.onButtonPressed,this),this.shopButton.onPress.add(this.onButtonPressed,this),this.achievmentButton.onPress.add(this.onButtonPressed,this),this.percentageParallaxX=0,this.percentageParallaxY=0,this.interactive=!0,this.mousemove=this.onMove.bind(this),this.delayedCalls=new p};g.prototype=Object.create(o.Container.prototype),g.prototype.onMove=function(e){if(!this.isTransationing){var t=e.data.getLocalPosition(this);this.percentageParallaxX=(t.x-this.w/2)/this.w*2,this.percentageParallaxY=(t.y-this.h/2)/this.h*2,this.percentageParallaxX>1?this.percentageParallaxX=1:this.percentageParallaxX<-1&&(this.percentageParallaxX=-1),this.percentageParallaxY>1?this.percentageParallaxY=1:this.percentageParallaxY<-1&&(this.percentageParallaxY=-1),TweenLite.to(this.tieFighter.position,2,{x:this.w/2-223+this.percentageParallaxX*this.tieFighter.amplitude.x,y:this.tieFighter.originalPos.y+this.percentageParallaxY*this.tieFighter.amplitude.y}),TweenLite.to(this.xwing.position,2,{x:this.w/2+157+this.percentageParallaxX*this.xwing.amplitude.x,y:this.xwing.originalPos.y+this.percentageParallaxY*this.xwing.amplitude.y}),TweenLite.to(this.bulletTieFighter1.position,2,{x:this.w/2-138+this.percentageParallaxX*this.bulletTieFighter1.amplitude.x,y:this.bulletTieFighter1.originalPos.y+this.percentageParallaxY*this.bulletTieFighter1.amplitude.y}),TweenLite.to(this.bulletTieFighter2.position,2,{x:this.w/2-93+this.percentageParallaxX*this.bulletTieFighter2.amplitude.x,y:this.bulletTieFighter2.originalPos.y+this.percentageParallaxY*this.bulletTieFighter2.amplitude.y}),TweenLite.to(this.bulletXwing1.position,2,{x:this.w/2+312+this.percentageParallaxX*this.bulletXwing1.amplitude.x,y:this.bulletXwing1.originalPos.y+this.percentageParallaxY*this.bulletXwing1.amplitude.y}),TweenLite.to(this.bulletXwing2.position,2,{x:this.w/2+442+this.percentageParallaxX*this.bulletXwing2.amplitude.x,y:this.bulletXwing2.originalPos.y+this.percentageParallaxY*this.bulletXwing2.amplitude.y}),TweenLite.to(this.explosion.position,2,{x:this.w/2-350+this.percentageParallaxX*this.explosion.amplitude.x,y:this.explosion.originalPos.y+this.percentageParallaxY*this.explosion.amplitude.y})}},g.prototype.parallax=function(e,t){var i=20;e>i?e=i:-i>e&&(e=-i);var o=a.map(e,-i,i,-10,10);t>i?t=i:-i>t&&(t=-i);var n=a.map(t,-i,i,-10,10);(o>0&&this.tieFighter.position.x<this.tieFighter.originalPos.x+5*this.tieFighter.amplitude.x||0>o&&this.tieFighter.position.x>this.tieFighter.originalPos.x-5*this.tieFighter.amplitude.x)&&(this.tieFighter.position.x+=.08*(this.tieFighter.position.x+o-this.tieFighter.position.x)),(n>0&&this.tieFighter.position.y<this.tieFighter.originalPos.y+5*this.tieFighter.amplitude.y||0>n&&this.tieFighter.position.y>this.tieFighter.originalPos.y-5*this.tieFighter.amplitude.y)&&(this.tieFighter.position.y+=.08*(this.tieFighter.position.y+n-this.tieFighter.position.y)),(o>0&&this.xwing.position.x<this.xwing.originalPos.x+8*this.xwing.amplitude.x||0>o&&this.xwing.position.x>this.xwing.originalPos.x-8*this.xwing.amplitude.x)&&(this.xwing.position.x+=.08*(this.xwing.position.x+1.5*o-this.xwing.position.x)),(n>0&&this.xwing.position.y<this.xwing.originalPos.y+8*this.xwing.amplitude.y||0>n&&this.xwing.position.y>this.xwing.originalPos.y-8*this.xwing.amplitude.y)&&(this.xwing.position.y+=.08*(this.xwing.position.y+1.5*n-this.xwing.position.y)),(o>0&&this.bulletTieFighter1.position.x<this.bulletTieFighter1.originalPos.x+8*this.bulletTieFighter1.amplitude.x||0>o&&this.bulletTieFighter1.position.x>this.bulletTieFighter1.originalPos.x-8*this.bulletTieFighter1.amplitude.x)&&(this.bulletTieFighter1.position.x+=.08*(this.bulletTieFighter1.position.x+1.2*o-this.bulletTieFighter1.position.x)),(n>0&&this.bulletTieFighter1.position.y<this.bulletTieFighter1.originalPos.y+8*this.bulletTieFighter1.amplitude.y||0>n&&this.bulletTieFighter1.position.y>this.bulletTieFighter1.originalPos.y-8*this.bulletTieFighter1.amplitude.y)&&(this.bulletTieFighter1.position.y+=.08*(this.bulletTieFighter1.position.y+1.2*n-this.bulletTieFighter1.position.y)),(o>0&&this.bulletTieFighter2.position.x<this.bulletTieFighter2.originalPos.x+8*this.bulletTieFighter2.amplitude.x||0>o&&this.bulletTieFighter2.position.x>this.bulletTieFighter2.originalPos.x-8*this.bulletTieFighter2.amplitude.x)&&(this.bulletTieFighter2.position.x+=.08*(this.bulletTieFighter2.position.x+1.5*o-this.bulletTieFighter2.position.x)),(n>0&&this.bulletTieFighter2.position.y<this.bulletTieFighter2.originalPos.y+8*this.bulletTieFighter2.amplitude.y||0>n&&this.bulletTieFighter2.position.y>this.bulletTieFighter2.originalPos.y-8*this.bulletTieFighter2.amplitude.y)&&(this.bulletTieFighter2.position.y+=.08*(this.bulletTieFighter2.position.y+1.5*n-this.bulletTieFighter2.position.y)),(o>0&&this.bulletXwing1.position.x<this.bulletXwing1.originalPos.x+8*this.bulletXwing1.amplitude.x||0>o&&this.bulletXwing1.position.x>this.bulletXwing1.originalPos.x-8*this.bulletXwing1.amplitude.x)&&(this.bulletXwing1.position.x+=.08*(this.bulletXwing1.position.x+1.2*o-this.bulletXwing1.position.x)),(n>0&&this.bulletXwing1.position.y<this.bulletXwing1.originalPos.y+8*this.bulletXwing1.amplitude.y||0>n&&this.bulletXwing1.position.y>this.bulletXwing1.originalPos.y-8*this.bulletXwing1.amplitude.y)&&(this.bulletXwing1.position.y+=.08*(this.bulletXwing1.position.y+1.2*n-this.bulletXwing1.position.y)),(o>0&&this.bulletXwing2.position.x<this.bulletXwing2.originalPos.x+8*this.bulletXwing2.amplitude.x||0>o&&this.bulletXwing2.position.x>this.bulletXwing2.originalPos.x-8*this.bulletXwing2.amplitude.x)&&(this.bulletXwing2.position.x+=.08*(this.bulletXwing2.position.x+1.9*o-this.bulletXwing2.position.x)),(n>0&&this.bulletXwing2.position.y<this.bulletXwing2.originalPos.y+8*this.bulletXwing2.amplitude.y||0>n&&this.bulletXwing2.position.y>this.bulletXwing2.originalPos.y-8*this.bulletXwing2.amplitude.y)&&(this.bulletXwing2.position.y+=.08*(this.bulletXwing2.position.y+1.9*n-this.bulletXwing2.position.y)),(o>0&&this.explosion.position.x<this.explosion.originalPos.x+8*this.explosion.amplitude.x||0>o&&this.explosion.position.x>this.explosion.originalPos.x-8*this.explosion.amplitude.x)&&(this.explosion.position.x+=.08*(this.explosion.position.x+1*o-this.explosion.position.x)),(n>0&&this.explosion.position.y<this.explosion.originalPos.y+8*this.explosion.amplitude.y||0>n&&this.explosion.position.y>this.explosion.originalPos.y-8*this.explosion.amplitude.y)&&(this.explosion.position.y+=.08*(this.explosion.position.y+1*n-this.explosion.position.y))},g.prototype.goBackToMainSite=function(){window.location.href="http://www.disney.co.uk"},g.prototype.animateTransition=function(){this.isTransationing=!0,TweenLite.to([this.bg.position,this.sun,this.haloSun],2,{y:-600,ease:Sine.easeOut}),TweenLite.to(this.poe.position,2,{y:-200,ease:Sine.easeOut}),TweenLite.to([this.bg,this.poe,this.sun,this.haloSun],2,{alpha:0}),TweenLite.to(this.containerButton,2,{y:"-=200",ease:Sine.easeOut}),TweenLite.to(this.containerButton,1.3,{alpha:0,ease:Sine.easeOut}),TweenLite.to(this.achievmentButton,1.3,{alpha:0,ease:Sine.easeOut}),TweenLite.to(this.tieFighter.position,2*this.tieFighter.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.xwing.position,2*this.xwing.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.explosion.position,2*this.explosion.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.bulletTieFighter1.position,2*this.bulletTieFighter1.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.bulletTieFighter2.position,2*this.bulletTieFighter2.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.bulletXwing1.position,2*this.bulletXwing1.parallaxSpeed,{y:-200,ease:Sine.easeOut}),TweenLite.to(this.bulletXwing2.position,2*this.bulletXwing2.parallaxSpeed,{y:-200,ease:Sine.easeOut}),this.delayedCalls.add(function(){this.app.bg.move(3.3)}.bind(this),.1),this.app.bg.fadeVignet(1,2),this.delayedCalls.add(function(){this.app.frontLayer.playIntro(2)}.bind(this),.1),this.delayedCalls.add(function(){this.screenManager.gotoScreenByID("select")}.bind(this),2)},g.prototype.onButtonPressed=function(t){this.buttonClicked||(t===this.playButton?(s.instance.android&&(document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullScreen?document.body.webkitRequestFullScreen():document.body.requestFullScreen&&document.body.requestFullScreen()),e("tracker").track("enter_game","enter"),this.animateTransition(),this.buttonClicked=!0):t===this.leaderboardButton?(this.app.overlayManager.show("scores"),this.app.overlayManager.leaderboardScreen.backToNormalScreen=!0,e("tracker").track("game_action","view_leaderboards")):t===this.shopButton?(this.app.overlayManager.show("shop"),this.app.overlayManager.shopScreen.backToNormalScreen=!0,e("tracker").track("game_action","view_shop")):t===this.achievmentButton&&(this.app.overlayManager.show("achievements"),this.app.overlayManager.shopScreen.backToNormalScreen=!0))},g.prototype.onShow=function(){e("fido/sound/MusicManager").play("mainLoop"),this.app.wasSavingEndlessModeFromPauseMenu=!1,this.app.callbackFromPauseMenu=null,this.buttonClicked=!1,this.isTransationing=!1,this.app.topMenu.setMode("title"),this.app.frontLayer.fade(0),this.app.frontLayer.fadeLogo(1),this.app.bg.fadeVignet(.4,.5),h.instance.add(this.update,this),this.sun.position.x=this.w/2+72,this.sun.position.y=200,this.achievmentButton.alpha=1,this.sun.alpha=1,this.haloSun.alpha=.2,this.poe.alpha=1,this.poe.position.x=this.w/2,this.poe.position.y=this.h/2,this.bg.position.y=0,this.bg.alpha=1,this.containerButton.position.y=0,this.containerButton.alpha=1,this.tieFighter.position.x=this.w/2-223+this.percentageParallaxX*this.tieFighter.amplitude.x,this.tieFighter.position.y=this.tieFighter.originalPos.y+this.percentageParallaxY*this.tieFighter.amplitude.y,this.xwing.position.x=this.w/2+157+this.percentageParallaxX*this.xwing.amplitude.x,this.xwing.position.y=this.xwing.originalPos.y+this.percentageParallaxY*this.xwing.amplitude.y,this.explosion.position.x=this.w/2-350+this.percentageParallaxX*this.explosion.amplitude.x,this.explosion.position.y=this.explosion.originalPos.y+this.percentageParallaxY*this.explosion.amplitude.y,this.bulletTieFighter1.position.x=this.w/2-138+this.percentageParallaxX*this.bulletTieFighter1.amplitude.x,this.bulletTieFighter1.position.y=this.bulletTieFighter1.originalPos.y+this.percentageParallaxY*this.bulletTieFighter1.amplitude.y,this.bulletTieFighter2.position.x=this.w/2-93+this.percentageParallaxX*this.bulletTieFighter2.amplitude.x,this.bulletTieFighter2.position.y=this.bulletTieFighter2.originalPos.y+this.percentageParallaxY*this.bulletTieFighter2.amplitude.y,this.bulletXwing1.position.x=this.w/2+312+this.percentageParallaxX*this.bulletXwing1.amplitude.x,this.bulletXwing1.position.y=this.bulletXwing1.originalPos.y+this.percentageParallaxY*this.bulletXwing1.amplitude.y,this.bulletXwing2.position.x=this.w/2+442+this.percentageParallaxX*this.bulletXwing2.amplitude.x,this.bulletXwing2.position.y=this.bulletXwing2.originalPos.y+this.percentageParallaxY*this.bulletXwing2.amplitude.y},g.prototype.onShown=function(){},g.prototype.deviceMotionUpdate=function(){s.instance.desktop||(s.instance.iOS?(x=Math.abs(this.devicemotionManager.rotation.alpha/2),y=Math.abs(this.devicemotionManager.rotation.beta/2)):s.instance.chrome?(x=Math.abs(10*this.devicemotionManager.rotation.alpha),y=Math.abs(10*this.devicemotionManager.rotation.beta)):(x=Math.abs(this.devicemotionManager.rotation.alpha/2),y=Math.abs(this.devicemotionManager.rotation.beta/2)),x<1&&(x=0),y<1&&(y=0),this.devicemotionManager.rotation.alpha*this.deviceOrientation>0?x*=1:x*=-1,this.devicemotionManager.rotation.alpha*this.deviceOrientation>0?y*=1:y*=-1,this.parallax(x,y))},g.prototype.update=function(){this.isTransationing||(this.poe.ticker++,this.poe.ticker>this.poe.delay?(window.mobiles?this.poe.texture=this.poe.textures[Math.floor(Math.random()*this.poe.textures.length)]:this.glitchEffectContainer.glitch(!1,!0),this.poe.delay=240*Math.random()+60,this.poe.ticker=0):window.mobiles&&(this.poe.texture=o.Texture.fromFrame(this.poe.defaultTexture))),this.deviceMotionUpdate()},g.prototype.onHidden=function(){h.instance.remove(this.update,this)},g.prototype.resize=function(e,t){this.w=e,this.h=t,this.sun.position.x=e/2+72,this.sun.position.y=200,this.poe.position.x=e/2,this.poe.position.y=t/2-60,this.bg.position.x=e/2,this.playButton.position.set(e/2,t/2+200),this.shopButton.view.position.set(e/2-140,this.playButton.position.y),this.leaderboardButton.view.position.set(e/2+140,this.playButton.position.y),this.achievmentButton.view.position.set(180,64)},i.exports=g}),define("com/fighter/game/engine/World",["require","exports","module","signals"],function(e,t,i){var o=(e("signals"),function(){this.elements=[],this.view=new PIXI.Container,this.view.scale.set(.25)});o.prototype.update=function(){for(var e=this.elements.length-1;e>=0;e--)this.elements[e].update()},o.prototype.add=function(e){e.world||(e.world=this,this.elements.push(e),this.view.addChild(e.view))},o.prototype.remove=function(e){var t=this.elements.indexOf(e);-1!==t&&(e.world=null,this.elements.splice(t,1),this.view.removeChild(e.view))},i.exports=o}),define("com/fighter/game/engine/crash/shapes/AABB",["require","exports","module"],function(e,t,i){var o=function(e,t){this.width=e,this.height=t,this.type=0,this.boundingBox=this};o.prototype.getView=function(e){return(new PIXI.Graphics).beginFill(16711680).drawRect(-this.width/2,-this.height/2,this.width,this.height)},i.exports=o}),define("com/fighter/game/engine/crash/shapes/Circle",["require","exports","module","./AABB"],function(e,t,i){var o=e("./AABB"),n=function(e){this.radius=e,this.offset=0,this.type=1,this.boundingBox=new o(2*e,2*e)};n.prototype.getView=function(){return(new PIXI.Graphics).beginFill(16711680).drawCircle(0,0,this.radius)},i.exports=n}),define("com/fighter/game/engine/crash/shapes/Rectangle",["require","exports","module","./AABB"],function(e,t,i){var o=e("./AABB"),n=function(e,t,i){this.width=e,this.height=t,this.type=0,this.rotation=i;var n=Math.sqrt(e*e+t*t);this.boundingBox=new o(n,n)};n.prototype.getView=function(e){var t=(new PIXI.Graphics).beginFill(e||2768447).drawRect(-this.width/2,-this.height/2,this.width,this.height);return t.rotation=this.rotation,t},i.exports=n}),define("com/fighter/game/engine/crash/Vector",["require","exports","module"],function(e,t,i){var o=function(e,t){this.x=e||0,this.y=t||0};o.prototype.clone=function(e){return e?(e.x=this.x,e.y=this.y,e):new o(this.x,this.y)},o.prototype.plus=function(e){return this.x+=e.x,this.y+=e.y,this},o.prototype.minus=function(e){return this.x-=e.x,this.y-=e.y,this},o.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},o.prototype.multiply=o.prototype.multiplyScalar=function(e){return this.x*=e,this.y*=e,this},o.prototype.divideScalar=function(e){if(0===e)this.x=0,this.y=0;else{var t=1/e;this.x*=t,this.y*=t}return this},o.prototype.dot=function(e){return this.x*e.x+this.y*e.y},o.prototype.length=function(e){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},o.prototype.normalize=function(){return this.divideScalar(this.length())},o.prototype.distanceTo=function(e){return Math.sqrt(this.distanceToSq(e))},o.prototype.distanceToSq=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},o.prototype.set=function(e,t){return this.x=e,this.y=t,this},o.prototype.setX=function(e){return this.x=e,this},o.prototype.setY=function(e){return this.y=e,this},o.prototype.setLength=function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},o.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},o.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},o.prototype.rad=function(){return Math.atan2(this.x,this.y)},o.prototype.deg=function(){return 180*this.rad()/Math.PI},o.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},o.prototype.rotate=function(e){var t=this.x;return this.x=this.x*Math.cos(e)-this.y*Math.sin(e),this.y=t*Math.sin(e)+this.y*Math.cos(e),this},o.projectPoint=function(e,t){var i=new o(0,0),n=o.project(e.clone().minus(i),t);return n.clone().plus(i)},o.project=function(e,t){var i=new o(0,0),n=e.dot(t);return i.x=n/(t.x*t.x+t.y*t.y)*t.x,i.y=n/(t.x*t.x+t.y*t.y)*t.y,i},o.prototype.constructor=o,i.exports=o}),define("com/fighter/game/engine/crash/shapes/Line",["require","exports","module","../Vector","./AABB"],function(e,t,i){var o=e("../Vector"),n=e("./AABB"),r=function(e,t){var i=Math.sin(t),r=Math.cos(t),s=e/2;
this.start=new o(-s*r,-s*i),this.end=new o(s*r,s*i);var a=Math.abs(this.start.x-this.end.x),h=Math.abs(this.start.y-this.end.y);this.boundingBox=new n(a,h),this.type=2};r.prototype.getView=function(e){return(new PIXI.Graphics).lineStyle(5,e||65280).moveTo(this.start.x,this.start.y).lineTo(this.end.x,this.end.y)},i.exports=r}),define("com/fighter/game/engine/crash/SpatialHash",["require","exports","module","signals"],function(e,t,i){var o=(e("signals"),function(e,t,i){this.hash=[],this.width=100,this.height=100,this.size=256,this.buildHash()});o.prototype.buildHash=function(){for(var e=this.width,t=this.height,i=e*t,o=0;i>o;o++)this.hash[o]=[]},o.prototype.add=function(e){var t,i,o=e.hitArea.boundingBox,n=(e.position.x+o.x)/this.size|0,r=(e.position.y+o.y)/this.size|0,s=(e.position.x+o.x+o.width)/this.size|0,a=(e.position.y+o.y+o.height)/this.size|0;for(i=r;a>=i;i++)for(t=n;s>=t;t++){var h=i*this.width+t;this.hash[h]&&this.hash[h].push(e)}},o.prototype.retrieve=function(e){var t,i,o=e.hitArea.boundingBox,n=(e.position.x+o.x)/this.size|0,r=(e.position.y+o.y)/this.size|0,s=(e.position.x+o.x+o.width)/this.size|0,a=(e.position.y+o.y+o.height)/this.size|0,h=[];for(i=r;a>=i;i++)for(t=n;s>=t;t++){var c=i*this.width+t;this.hash[c]&&(h=h.concat(this.hash[c]))}return this.removeDuplicates(h)},o.prototype.removeDuplicates=function(e){for(var t={},i=[],o=e.length,n=0,r=0;o>r;r++){var s=e[r];1!==t[s.UID]&&(t[s.UID]=1,i[n++]=s)}return i},o.prototype.remove=function(e){var t,i,o=e.hitArea.hitArea,n=(e.position.x+o.x)/this.size|0,r=(e.position.y+o.y)/this.size|0,s=(e.position.x+o.x+o.width)/this.size|0,a=(e.position.y+o.y+o.height)/this.size|0;for(i=r;a>=i;i++)for(t=n;s>=t;t++){var h=i*this.width+t,c=this.hash[h].indexOf(e);-1!==c&&this.hash[h].splice(c)}},o.prototype.clear=function(){this.buildHash()},i.exports=o}),define("com/fighter/game/engine/crash/CrashTests",["require","exports","module","./Vector"],function(e,t,i){var o=e("./Vector"),n=[],r=function(){this.temp=new o,this.temp2=new o,this.temp3=new o,this.temp4=new o,this.temp5=new o,this.temp6=new o,this.collisions=[],this.pool=[],this.TICK=0};r.prototype.AABBAABB=function(e,t){},r.prototype.circleAABB=function(e,t){var i=Math.sin(-t.hitArea.rotation),o=Math.cos(-t.hitArea.rotation),n=t.position.x,r=t.position.y,s=this.temp;s.x=o*(e.position.x-n)-i*(e.position.y-r)+n,s.y=i*(e.position.x-n)+o*(e.position.y-r)+r;var a=s.minus(t.position),h=e.hitArea.radius,c=t.hitArea,l=c.width/2,p=c.height/2,u=a.clone(this.temp2);a.x<-l?u.x=-l:a.x>l&&(u.x=l),a.y<-p?u.y=-p:a.y>p&&(u.y=p);var d=u.x-a.x,g=u.y-a.y,f=d*d+g*g;if(0===f){u.x=c.left;var m=a.x-c.left,v=l-a.x,y=a.y- -p,_=p-a.y,f=999999;f>m&&(f=m),f>v&&(f=v),f>y&&(f=y),f>_&&(f=_),w=this.temp4,f==m?(w.x=-1,w.y=1e-5):f==v?(w.x=1,w.y=1e-5):f==y?(w.x=1e-5,w.y=-1):f==_&&(w.x=1e-5,w.y=1);var x=-f-h;return penetrationLine2=this.temp3,penetrationLine2.x=w.x*o+w.y*i,penetrationLine2.y=w.y*o-w.x*i,void this.collide(e,t,x,penetrationLine2)}if(h*h>f){var w=a.minus(u),x=w.length()-h;if(0>x)return w.normalize(),penetrationLine2=this.temp3,penetrationLine2.x=w.x*o+w.y*i,penetrationLine2.y=w.y*o-w.x*i,void this.collide(e,t,x,penetrationLine2)}this.endCollision(e,t)},r.prototype.circleLine=function(e,t){var i=t.hitArea.start,n=t.hitArea.end,r=e.hitArea.radius,s=n.clone(this.temp).minus(i),a=this.temp2.set(-s.y,s.x);a.normalize();var h=e.position.clone(this.temp3).minus(t.position),c=h.clone(this.temp4).minus(i),l=o.projectPoint(c,a),p=h.clone(this.temp5).minus(n),u=(o.projectPoint(p,a),c.dot(s)),d=p.dot(s),g=0;if(0>u){if(g=c.length()-r,0>g)return void c.normalize()}else if(d>0){if(g=p.length()-r,0>g)return void p.normalize()}else{g=l.length()-r;var f=a.clone(this.temp6),m=(n.x-i.x)*(h.y-i.y)-(n.y-i.y)*(h.x-i.x);if(m=m>0?1:-1,f.x*=m,f.y*=m,0>g)return f.normalize(),this.collide(e,t,g,f),!0}return this.endCollision(e,t),!1},r.prototype.collide=function(e,t,i,o){var n=this.startCollision(e,t,i,o);n.ignore||e.collide(n)},r.prototype.bounce=function(e,t){var i=new o(t.y,-t.x),n=o.projectPoint(e.velocity,i),r=o.projectPoint(e.velocity,t),s=new o(0,0);s.x=t.x*r.length(),s.y=t.y*r.length(),s.y<0&&(e.floor=!0),n.multiply(1),s.multiply(.1);velocity.length();n.normalize(),e.velocity.x=20*n.x,e.velocity.y=20*n.y,e.velocity.x=n.x+s.x,e.velocity.y=n.y+s.y},r.prototype.startCollision=function(e,t,i,o){var r=e.UID+":"+t.UID,a=this.collisions[r];return a?(a.penetration=i,a.projection=o,a):(a=n.pop(),a||(a=new s),a.object1=e,a.object2=t,a.penetration=i,a.projection=o,a.ignore=!1,this.collisions[r]=a,e.collideBegin(a),a)},r.prototype.endCollision=function(e,t){var i=e.UID+":"+t.UID,o=this.collisions[i];return o&&(e.collideEnd(o),n.push(o),this.collisions[i]=null),o};var s=function(){this.object1,this.object2,this.ignore,this.penetration,this.projection};i.exports=new r}),define("com/fighter/game/engine/crash/CrashGroup",["require","exports","module","signals","./SpatialHash","./CrashTests"],function(e,t,i){var o=(e("signals"),e("./SpatialHash")),n=e("./CrashTests"),r=function(){this.children=[],this.hash=new o(100,100)};r.prototype.add=function(e){this.children.push(e),this.hash.add(e)},r.prototype.remove=function(e){var t=this.children.indexOf(e);this.children.splice(t,1)},r.prototype.collide=function(e){for(var t=this.hash.retrieve(e),i=0;i<t.length;i++){var o=t[i];0===o.hitArea.type?n.circleAABB(e,t[i]):2===o.hitArea.type&&(e.velocity.y>7?(e.position.y-=e.velocity.y/2,n.circleLine(e,t[i])?e.position.y+=e.velocity.y/2:(e.position.y+=e.velocity.y/2,n.circleLine(e,t[i]))):n.circleLine(e,t[i]))}},i.exports=r}),define("com/fighter/game/engine/crash/Crash",["require","exports","module","./shapes/AABB","./shapes/Circle","./shapes/Rectangle","./shapes/Line","./Vector","./Vector","./CrashGroup","./CrashTests"],function(e,t,i){i.exports={AABB:e("./shapes/AABB"),Circle:e("./shapes/Circle"),Rectangle:e("./shapes/Rectangle"),Line:e("./shapes/Line"),Point:e("./Vector"),Vector:e("./Vector"),CrashGroup:e("./CrashGroup"),CrashTests:e("./CrashTests")}}),define("com/fighter/game/engine/GameObject",["require","exports","module","signals","com/fighter/game/engine/crash/Crash"],function(e,t,i){var o=(e("signals"),e("com/fighter/game/engine/crash/Crash")),n=function(e,t){var i=100;this.hitArea=e||new o.Rectangle(-i/2,-i/2,i,i),this.view=t||this.hitArea.getView(),this.position=new o.Point,this.origin=new o.Point,this.oldPosition=new o.Point,this.velocity=new o.Point,this.rotation=0,this.halfWidth=0,this.world=null,this.type=0,this.UID=n._UID++};n.prototype.collide=function(e){},n.prototype.collideBegin=function(e){e.object2},n.prototype.collideEnd=function(e){},n.prototype.update=function(){this.view.x=this.position.x,this.view.y=this.position.y},n._UID=0,i.exports=n}),define("com/fighter/game/engine/GameObjectPool",["require","exports","module"],function(e,t,i){var o=function(e){this.classType=e,this.pool=[]};o.constructor=o,o.prototype.getObject=function(){var e=this.pool.pop();return e||(e=new this.classType),e},o.prototype.prepopulate=function(e){for(var t=0;e>t;t++)this.pool.push(new this.classType)},o.prototype.returnObject=function(e){this.pool.indexOf(e)<=-1&&this.pool.push(e)},o.pools=[],o.idGenerator=1,o.getObject=function(e){e._CLASS_ID||(e._CLASS_ID=o.idGenerator++,o.pools[e._CLASS_ID]=new o(e));var t=o.pools[e._CLASS_ID].getObject();return t._CLASS_ID=e._CLASS_ID,t},o.prepopulate=function(e,t){e._CLASS_ID||(e._CLASS_ID=o.idGenerator++,o.pools[e._CLASS_ID]=new o(e));var i=o.pools[e._CLASS_ID];i.prepopulate(t)},o.prototype["return"]=o.returnObject=function(e){o.pools[e._CLASS_ID].returnObject(e)},i.exports=o}),define("com/fighter/game/hud/DetailText",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","signals"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/GameObjectPool"),e("signals")),r=function(){o.Text.call(this,"YAY",{font:"26px chunkfiveroman",fill:"#eaff32",dropShadow:!0}),this.anchor.set(.5),this.count=0,this.multiplierColors=["#eaff32","#ffd300","#ff70df","#00ebff"],this.onFinish=new n};r.prototype=Object.create(o.Text.prototype),r.prototype.setup=function(e,t,i,o){this.x=e,this.y=t,this.speed=5,this.alpha=1,this.count=0,this.scale.x=this.scale.y=0,TweenLite.to(this.scale,.5,{x:1+.2*(o-1),y:1+.2*(o-1),ease:Elastic.easeOut}),this.style.fill=this.multiplierColors[(o-1)%4],this.setText(i+(o>1?"x"+o:""))},r.prototype.updateTransform=function(){o.Text.prototype.updateTransform.call(this),this.speed*=.95,this.position.y-=this.speed,this.count++,this.count>20&&(this.alpha*=.95),this.alpha<.3&&this.onFinish.dispatch(this)},i.exports=r}),define("fido/utils/Timer",["require","exports","module","../system/Ticker","signals"],function(e,t,i){var o=e("../system/Ticker"),n=e("signals"),r=function(e,t){this.isOn=!1,this.count=0,this.ticker=t||o.instance,this.duration=60*e,this.onComplete=new n};r.prototype.setDuration=function(e){this.duration=60*e},r.prototype.getDuration=function(){return this.duration/60},r.prototype.start=function(){this.isOn||(this.ticker.add(this.update,this),this.isOn=!0),this.count=0},r.prototype.stop=function(){this.isOn=!1,this.ticker.remove(this.update,this)},r.prototype.getRatio=function(){return this.count/this.duration},r.prototype.update=function(){this.count+=this.ticker.deltaTime,this.count>this.duration&&(this.onComplete.dispatch(),this.stop())},i.exports=r}),define("fido/system/LocalStorage",["require","exports","module"],function(e,t,i){var o=function(e){this.id=e||"com.goodboydigital",this.canSave=!1;try{localStorage.setItem(this.id+".access",!0),localStorage.removeItem(this.id+".access",!0),this.canSave=!0}catch(t){}};o.prototype.store=function(e,t){this.canSave&&localStorage.setItem(this.id+"."+e,t)},o.prototype.get=function(e){return this.canSave?localStorage.getItem(this.id+"."+e):void 0},o.prototype.storeObject=function(e,t){this.canSave&&localStorage.setItem(this.id+"."+e,JSON.stringify(t))},o.prototype.getObject=function(e){return this.canSave?JSON.parse(localStorage.getItem(this.id+"."+e)):void 0},o.prototype.remove=function(e){this.canSave&&localStorage.removeItem(this.id+"."+e)},o.prototype.reset=function(){if(this.canSave)for(var e in localStorage)-1!==e.indexOf(this.id+".")&&localStorage.removeItem(e)},i.exports=o}),define("fido/goals/Goals",["require","exports","module","signals","fido/loader/Cache","fido/system/LocalStorage"],function(e,t,i){var o=e("signals"),n=e("fido/loader/Cache"),r=e("fido/system/LocalStorage"),s=function(e){this.config=null,this.achievementUnlocked=new o,this.allAchievementsCollected=new o,this.allLevelsComplete=new o,this.onSave=new o,this.debug=!1,this.noSave=!1,this.totalAchievements=0,this.achievedInGroup=0,this.achievementList={},this.groups=[],this.groupHash={},this.totalGroups=0,this.currentGroup="",this.currentGroupIndex=0,this.active=!0,this.storage=new r(e),this.save=this.getSave()};s.prototype.validate=function(e){var t=e.goals,i=e.groups,o={};for(var n in i)for(var r=i[n],s=0;s<r.achievements.length;s++){var a=r.achievements[s];t[a]&&(o[a]||(o[a]=!0))}},s.prototype.saveLoaded=function(){this.achievementList&&(this.achievementList=this.merge(this.achievementList,this.save.medals))},s.prototype.merge=function(e,t){for(var i,o={},n=0,r=arguments.length;r>n;n++)for(i in arguments[n])arguments[n].hasOwnProperty(i)&&(o[i]=arguments[n][i]);return o},s.prototype.load=function(e,t){if(this.config=e||n.getJson("goals"),t)for(var i in this.config.goals){var o=this.config.goals[i];o.desc=t[o.desc],o.id=i}this.config||(e?this.config=e:(this.config={goals:{},groups:{level1:{desc:"Dummy empty object, must have the 'achievement' property and it must be an array",achievements:[]}}},this.noSave=!0)),this.validate(this.config);var r=Object.keys(this.config.groups);this.totalGroups=r.length,""===this.save.currentGroup||this.noSave?this.loadGroup(r[0]):(this.currentGroup=this.save.currentGroup,this.loadGroup(this.currentGroup))},s.prototype.loadNextGroup=function(){var e=this.getGroupIndex(this.currentGroup);if(-1!==e){if(e++,e>=this.totalGroups)return this.allLevelsComplete.dispatch(),this.active=!1,!1;var t=Object.keys(this.config.groups),i=t[e];return this.loadGroup(i),this.saveStatus(),this.currentGroupIndex=e-1,!0}this.active=!1},s.prototype.getGroupIndex=function(e){var t=Object.keys(this.config.groups);return t.indexOf(e)},s.prototype.getGroupByName=function(e){return this.groupHash[e]},s.prototype.loadGroup=function(e){this.currentGroup=e;for(var t=this.config.groups[e],i=0;i<t.achievements.length;i++){var o=t.achievements[i],n=this.config.goals[o];n.achieved=!1,this.debug,this.achievementList.hasOwnProperty(n.property)===!1&&(this.achievementList[n.property]=[]),n.completion=n.value/n.target*100,n.group=e,this.achievementList[n.property].push(n),this.totalAchievements++}this.reset(),this.achievementList=this.merge(this.achievementList,this.save.medals);var t=[];for(var r in this.achievementList)for(var s=this.achievementList[r],i=0;i<s.length;i++){var n=s[i];n.group===e&&t.push(n)}this.groups.push(t);var a=this.config.groups[e];this.groupHash[e]={desc:a.desc,achievements:t},this.debug},s.prototype.getLastAchievements=function(){return this.groups[this.groups.length-1]},s.prototype.increment=function(e,t){this.update(e,t,!0)},s.prototype.update=function(e,t,i){if(this.active){var o=!1;if(this.achievementList.hasOwnProperty(e))for(var n=this.achievementList[e],r=0;r<n.length;r++){var s=n[r];if(s.achieved===!1)switch(o=!0,i?s.value+=t:s.value=Math.max(s.value,t),s.type){case"=":s.completion=Math.floor(s.value/s.target*100),s.value>=s.target&&(s.completion=100,s.achieved=!0,this.receiveAchievement(s))}}o===!0&&this.isListComplete()&&(this.debug,this.allAchievementsCollected.dispatch())}},s.prototype.isListComplete=function(){for(var e in this.achievementList)if(this.achievementList.hasOwnProperty(e))for(var t=this.achievementList[e],i=0;i<t.length;i++){var o=t[i];if(o.achieved===!1)return!1}return!0},s.prototype.reset=function(){for(var e in this.achievementList)if(this.achievementList.hasOwnProperty(e))for(var t=this.achievementList[e],i=0;i<t.length;i++){var o=t[i];o.achieved!==!1||o.cumulative&&o.cumulative!==!1||(o.completion=0,o.value=0)}},s.prototype.receiveAchievement=function(e){this.debug,this.achievementUnlocked.dispatch(e),this.saveStatus()},s.prototype.goalsRemaining=function(){return this.achievementList.length-this.goalsCompleted()},s.prototype.getAll=function(){return JSON.parse(JSON.stringify(this.achievementList))},s.prototype.getAllGroups=function(){var e=this.config,t=[];for(var i in this.achievementList){var o=this.achievementList[i];t.push(o)}t=t.reduce(function(e,t){return e.concat(t)}),descs=t.reduce(function(e,t){return e[t.desc]=t,e},{});var n=[];for(var i in e.groups)for(var r=e.groups[i],s=0;s<r.achievements.length;s++){var a=r.achievements[s];if(e.goals.hasOwnProperty(a)){var h=e.goals[a];descs.hasOwnProperty(h.desc)&&(h.completion=descs[h.desc].completion||0,h.achieved=descs[h.desc].achieved||!1),n.push(h)}}return n},s.prototype.goalsCompleted=function(){var e=0;for(var t in this.achievementList)for(var i=this.achievementList[t],o=0;o<i.length;o++){var n=i[o];n.achieved===!0&&e++}return e},s.prototype.getSave=function(){var e=this.storage.getObject("save");return e?e:(e=new a,this.storage.storeObject("save",e),e)},s.prototype.saveStatus=function(){this.noSave||(this.debug,this.save.medals=this.achievementList,this.save.currentGroup=this.currentGroup,this.storage.storeObject("save",this.save),this.onSave.dispatch())},s.prototype.saveAndReset=function(){this.reset(),this.saveStatus()};var a=function(){this.medals={},this.currentGroup=""};i.exports=s}),define("com/fighter/game/hud/ComboView",["require","exports","module","PIXI","fido/utils/Timer","fido/goals/Goals"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Timer"),e("fido/goals/Goals")),r=function(){o.Container.call(this),this.pool=[],this.size=0,this.textures=[this.getTextTexture(translations.STR_COMBO_NONE),this.getTextTexture(translations.STR_COMBO_FLIP),this.getTextTexture(translations.STR_COMBO_ENEMY_DIE),this.getTextTexture(translations.STR_COMBO_DOUBLE_FLIP),this.getTextTexture(translations.STR_COMBO_TRIPLE_FLIP),this.getTextTexture(translations.STR_COMBO_WALL_JUMP),this.getTextTexture(translations.STR_COMBO_VINE_SWING)],window.FONTS_EXTENDED?this.total=new o.Text("2",{font:"28px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}):this.total=new o.extras.BitmapText("2",{font:"28px Dosis Blue"}),this.total.alpha=0,this.addChild(this.total),this.activeItems=[],this.onHiddenBound=this.onHidden.bind(this)};r.prototype=Object.create(o.Container.prototype),r.prototype.addTrick=function(e){var t=this.pool.pop();t||(t=new o.Sprite,this.addChild(t)),t.tint=16777215,t.visible=!0,t.texture=this.textures[e],t.alpha=0,this.activeItems.push(t),EasingsGame.to(t,.3,{alpha:1}),t.position.y=25*this.size,this.size++,this.total.tint=16777215,this.total.visible=!0,EasingsGame.to(this.total,.3,{alpha:1,y:25*this.size})},r.prototype.complete=function(e){e&&(this.total.tint=16711680);for(var t=0;t<this.activeItems.length;t++)e&&(this.activeItems[t].tint=16711680),EasingsGame.to(this.activeItems[t],.3,{y:0,alpha:0});EasingsGame.to(this.total,.3,{y:0,alpha:0,overwrite:!0,onComplete:this.onHiddenBound}),this.size>=15?n.instance.increment("achieve_15_combos",1):this.size>=10?n.instance.increment("achieve_10_combos",1):this.size>=5&&n.instance.increment("achieve_5_combos",1),this.size=0},r.prototype.onHidden=function(){this.total.visible=!1;for(var e=0;e<this.activeItems.length;e++)this.pool.push(this.activeItems[e]),this.activeItems[e].visible=!1,this.activeItems[e].tint=16777215;this.total.tint=16777215,this.activeItems.length=0},r.prototype.update=function(e){this.size>1?window.flipLanguage?this.total.text=this.size+" x"+e:this.total.text=e+" x"+this.size:this.total.text=e},r.prototype.getTextTexture=function(e){var t;return t=window.FONTS_EXTENDED?new o.Text(e.toLowerCase(),{font:"28px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}):new o.extras.BitmapText(e.toLowerCase(),{font:"28px Dosis Blue"}),t.generateTexture(window.renderer)},i.exports=r}),define("fido/ui/buttons/DefaultButton",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton","fido/sound/SoundManager"],function(e,t,i){var o=e("PIXI"),n=e("fido/ui/buttons/AbstractButton"),r=(e("fido/sound/SoundManager"),function(e,t,i,r){this.isOnlyIcon=!1;var s;e?(s=new o.Sprite.fromFrame(e),s.anchor.set(.5)):(s=new o.Container,this.isOnlyIcon=!0),n.call(this,s),this.normalTexture=e,this.downTexture=t||this.normalTexture,this.hoverTexture=i||this.normalTexture,r&&(this.icon=new o.Sprite.fromFrame(r),this.icon.anchor.set(.5),this.addChild(this.icon)),this.onDown.add(this._onDown,this),this.onUp.add(this._onUp,this),this.onHover.add(this._onHover,this),this.onOut.add(this._onMouseOut,this)});r.prototype=Object.create(n.prototype),r.prototype._onDown=function(){this.isOnlyIcon||(this.view.texture=o.Texture.fromFrame(this.downTexture))},r.prototype._onHover=function(){this.isOnlyIcon||(this.view.texture=o.Texture.fromFrame(this.hoverTexture))},r.prototype._onMouseOut=function(){this.isOnlyIcon||(this.view.texture=o.Texture.fromFrame(this.normalTexture))},r.prototype._onUp=function(){this.isOnlyIcon||(this.view.texture=o.Texture.fromFrame(this.normalTexture))},r.prototype.setIcon=function(e){this.icon.texture=o.Texture.fromFrame(e)},r.prototype.setSize=function(e){this.defaultScale=e,this.overScale=1.1*e},r.prototype.fromFrames=function(e,t,i,n){return new r(o.Texture.fromFrame(e),o.Texture.fromFrame(t),o.Texture.fromFrame(i),n?o.Texture.fromFrame(n):null)},r.gameSpecificButton=function(e){var t=new r("bigbutton_up.png","bigbutton_down.png","bigbutton_over.png",e?e:null);return t.defaultScale=1,e&&(t.icon.pivot.y=13),t},i.exports=r}),define("com/fighter/app/buttons/IconButton",["require","exports","module","PIXI","fido/ui/buttons/DefaultButton"],function(e,t,i){var o=(e("PIXI"),e("fido/ui/buttons/DefaultButton")),n={small:function(e){var t=new o("icon_play.png","icon_play.png","icon_play.png",e?e:null);return t.defaultScale=1,t},big:function(e){var t=new o("icon_play.png","icon_play.png","icon_play.png",e?e:null);return t.defaultScale=1,t},close:function(e){var t=new o("inner_disc_red_small.png","redbutton_down.png","redbutton_over.png",e?e:null);return t.defaultScale=1,t}};i.exports=n}),define("com/fighter/app/ui/CompositeText",["require","exports","module","PIXI"],function(e,t,i){function o(e,t,i){t=t||"texttext",i=i||{},n.Container.call(this),e&&(this.icon=n.Sprite.fromFrame(e),this.icon.x=20,this.icon.anchor.set(.5),this.text=new n.Text(t,i),this.text.anchor.y=.5,this.icon.scale.set(.3),this.hoverIcon=n.Sprite.fromFrame(e),this.hoverIcon.x=this.icon.x,this.hoverIcon.anchor.set(.5),this.hoverIcon.visible=!1,this.addChild(this.text),this.addChild(this.icon),this.addChild(this.hoverIcon),this.ticked=!1)}var n=e("PIXI");o.prototype=Object.create(n.Container.prototype),o.prototype.constructor=o,o.prototype.reset=function(e){this.icon.scale.set(.3),this.text.x=this.icon.x+this.icon.width*this.icon.anchor.x+5,this.rotation=0,this.hoverIcon.scale.set(.3),this.hoverIcon.visible=!1,this.ticked=!1,this.complete=!1},o.prototype.showIcon=function(e,t){this.icon.scale.set(0),e&&(this.icon.texture=e),this.hoverIcon.x=this.icon.x,this.icon.visible=!0,TweenLite.to(this.icon.scale,.9,{delay:t||.2,x:1.5,y:1.5,ease:Elastic.easeOut,overwrite:!0})},o.prototype.setText=function(e){this.text.text=e,this.text.updateText(),this.text.scale.set(1);var t=380/this.text.width;t=Math.min(1,t),this.text.scale.set(t),window.flipLanguage?(this.text.x=this.icon.width*this.icon.anchor.x+5-20+340-this.text.width,this.icon.x=this.text.x+this.text.width+30):this.text.x=this.icon.x+this.icon.width*this.icon.anchor.x+5},o.prototype.getText=function(){return this.text.text},o.prototype.setStyle=function(e){this.text.style=e,this.text.updateText(),this.text.scale.set(1);var t=380/this.text.width;t=Math.min(1,t),this.text.scale.set(t)},i.exports=o}),define("com/fighter/app/goals/GoalView",["require","exports","module","PIXI","signals","fido/goals/Goals","com/fighter/app/ui/CompositeText","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),e("fido/goals/Goals")),r=e("com/fighter/app/ui/CompositeText"),s=e("fido/sound/SoundBridge"),a=function(){o.Container.call(this),this.texts=[],this.textPool=[],this.textContainer=new o.Container,this.addChild(this.textContainer),this.titleString="",this.queued=0,n.instance.achievementUnlocked.add(this.onSingleGoalComplete,this),n.instance.allAchievementsCollected.add(this.onLevelComplete,this),this.format={font:"18px "+window.MAIN_FONT,fill:"#ccffff"},this.indicesToTick=[],this.tickTexture=o.Texture.fromFrame("star_02_on.png"),this.levelComplete=!1,this.init()};a.prototype=Object.create(o.Container.prototype),a.prototype.constructor=a,a.prototype.onSingleGoalComplete=function(e){for(var t=0;t<this.texts.length;t++){var i=this.texts[t].getText().toLowerCase().replace(/\s?\(\d+\%\)/g,"");e.desc.toLowerCase()===i&&this.indicesToTick.push(t)}},a.prototype.onLevelComplete=function(e){this.levelComplete=!0},a.prototype.tick=function(){for(var e=0;e<this.texts.length;e++)this.texts[e].complete&&this.indicesToTick.push(e);for(var e=0;e<this.indicesToTick.length;e++){var t=this.indicesToTick[e];t>=0&&t<this.texts.length&&this.animateTick(this.texts[t],.6*e)}},a.prototype.animateTick=function(e,t){if(!e.ticked){e.hoverIcon.x=e.icon.x;var i=e.hoverIcon;i.visible=!1,i.scale.set(0),i.texture=this.tickTexture,i.alpha=0,i.visible=!0,setTimeout(function(){s.sfx.play("stars")},1e3*t),TweenLite.to(i.scale,.9,{delay:t||.2,x:.3,y:.3,ease:Elastic.easeOut,overwrite:!0}),TweenLite.to(i,.7,{alpha:1}),e.ticked=!0}},a.prototype.reload=function(){TweenLite.to(this,.5,{alpha:0,onComplete:function(){this.reset(),this.setData(),TweenLite.to(this,.5,{alpha:1,ease:Elastic.easeOut})}.bind(this)})},a.prototype.init=function(){for(var e=0;10>e;e++)this.createText();this.setData()},a.prototype.reset=function(){for(var e=0;e<this.texts.length;e++)this.texts[e].reset();this.indicesToTick.length=0,this.textContainer.removeChildren(),this.setData()},a.prototype.createText=function(){if(!e){var e=new r("star_off.png");this.texts.push(e)}return e.setStyle(this.format),e},a.prototype.tickCompletes=function(){for(var e=0;e<this.texts.length;e++){var t=this.texts[e];t.complete&&this.animateTick(t,.01)}},a.prototype.setFromGroup=function(e){this.setData(e.achievements)},a.prototype.setData=function(e,t){if(!e){var e=n.instance.getLastAchievements();t=t||3,t!==1/0&&(e=e.slice(0,t))}for(var i=0;i<this.texts.length;i++)this.texts[i].visible=!1;for(var o=9999,r=0,i=0;i<e.length;i++){var s=e[i],a=s.desc,h=this.texts[i];h.x=0,h.y=45*i+35,this.textContainer.addChild(h),s.achieved===!1&&Math.round(s.completion)>0&&(a+=window.FLIP_PERCENT?" (%"+Math.round(s.completion)+")":" ("+Math.round(s.completion)+"%)"),a=a.toUpperCase(),h.setText(a),o=Math.min(h.text.scale.x,o),r=Math.max(h.text.width,r),h.complete=s.achieved,h.visible=!0}for(var i=0;i<this.texts.length;i++)this.texts[i].text.scale.set(o)},i.exports=a}),define("starwars/filters/GlitchCathodic",["require","exports","module","PIXI"],function(e,t,i){function o(){n.AbstractFilter.call(this,null,["precision highp float;","uniform sampler2D Texture0;","uniform float time;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main()","{","vec4 color = texture2D(Texture0, vTextureCoord).rgba;","color -= abs(sin(vTextureCoord.y * 200.0 + time * 2.5)) * 0.04; // (1) ","color -= abs(sin(vTextureCoord.y * 400.0 - time * 5.0)) * 0.02; // (2)","gl_FragColor = color;","}"].join("\n"),{time:{type:"f",value:1}})}var n=e("PIXI");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{time:{get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time=e}}}),i.exports=o}),define("starwars/effects/interferences/LogoRebel",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e){o.Container.call(this),this.counter=0,this.logo=new o.Sprite,this.logo.anchor.set(.5),this.logo.position.y=-70,this.positions=[],this.addChild(this.logo)};n.prototype=Object.create(o.Container.prototype),n.prototype.random=function(e,t){this.logo.position=this.positions[Math.floor(Math.random()*this.positions.length)]},n.prototype.reset=function(e,t){this.logo.texture=new o.Texture.fromFrame("logorebels.png"),this.positions=[new o.Point(-e/2+this.logo.width/2+30,-t/2+this.logo.height/2+10),new o.Point(-e/2+this.logo.width/2+20,t/2-this.logo.height/2-10),new o.Point(e/2-this.logo.width/2-20,t/2-this.logo.height/2-10),new o.Point(e/2-this.logo.width/2-30,-t/2+this.logo.height/2+10)]},n.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.counter+=1,this.logo.alpha=Math.abs(.3*Math.sin(.5*Math.tan(this.counter)))+.3},i.exports=n}),define("starwars/effects/interferences/Line",["require","exports","module","PIXI","signals"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=function(e){o.Container.call(this),this.heightLine=e,this.counter=0,this.isBlinking=!1,this.blinkLives=3,this.onHide=new n;var t=new o.Graphics;t.beginFill(16777215).drawRect(0,0,1,this.heightLine),this.line=new o.Sprite(t.generateTexture()),this.line.anchor.set(.5),this.line.tint="0x2996ad",this.addChild(this.line),this.squares=[];for(var i=0;3>i;i++){var r=new o.Graphics;r.beginFill(16777215).drawRect(0,0,100*Math.random()+20,30*Math.random()+5);var s=new o.Sprite(r.generateTexture());s.tint="0x2996ad",s.position.y=-this.heightLine/2+Math.random()*this.heightLine,s.alpha=.7*Math.random()+.2,s.speed=5*Math.random()-2.5;var a=Math.random()>.5?0:1;a?s.anchor.x=0:s.anchor.x=1,this.line.addChild(s),this.squares.push(s)}};r.prototype=Object.create(o.Container.prototype),r.prototype.reset=function(){this.blinkLives=3,this.alpha=1,this.isBlinking=!1,this.isDead=!1;for(var e=0;e<this.squares.length;e++)this.squares[e].speed=5*Math.random()-2.5},r.prototype.disappear=function(){this.isBlinking=!0},r.prototype.updateTransform=function(){if(o.Container.prototype.updateTransform.call(this),this.counter+=1,!this.isDead){this.isBlinking&&(this.counter%4===0&&this.blinkLives>=0?(this.blinkLives--,this.alpha=this.alpha>0?0:1):(this.alpha=0,this.isDead=!0,this.onHide.dispatch()));for(var e=0;e<this.squares.length;e++){var t=this.squares[e];t.position.y+=t.speed,(t.position.y>=this.heightLine/2-50||t.position.y<=-this.heightLine/2-t.height)&&(t.position.y=-this.heightLine/2+Math.random()*this.heightLine,t.speed=5*Math.random()-2.5,t.alpha=.7*Math.random()+.2,t.scale.x=.2*Math.random()+.8,t.scale.y=.2*Math.random()+.8)}}},i.exports=r}),define("starwars/effects/interferences/TechnoLines",["require","exports","module","PIXI","./Line"],function(e,t,i){var o=e("PIXI"),n=e("./Line"),r=function(){o.Container.call(this),this.dimensions={width:400,height:400},this.counter=0,this.lines=[]};r.prototype=Object.create(o.Container.prototype),r.prototype.reset=function(e,t){this.dimensions.width=e,this.dimensions.height=t,this.counter=0,this.lines=[];for(var i=0;3>i;i++){var o=new n(this.dimensions.height);o.life=100*Math.random(),o.position.x=Math.random()*this.dimensions.width-this.dimensions.width/2,o.onHide.add(this.replace.bind(this,o)),this.lines.push(o),this.addChild(o)}},r.prototype.replace=function(e){e.position.x=Math.random()*this.dimensions.width-this.dimensions.width/2,e.life=100*Math.random(),e.reset()},r.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.counter+=1;for(var e=0;e<this.lines.length;e++){var t=this.lines[e];t.life>=0?t.life--:t.disappear()}this.alpha=Math.abs(.3*Math.sin(Math.tan(this.counter)))+.65},i.exports=r}),define("starwars/effects/interferences/Chip",["require","exports","module","PIXI","./Chip"],function(e,t,i){var o=e("PIXI"),n=e("./Chip"),n=function(e,t){o.Container.call(this),this.counter=0,this.lifeMove=100*Math.random(),this.lifeScale=100*Math.random(),this.dimensions={width:e||200,height:t||200},this.posx=0,this.posy=0,this.widthTarget=100*Math.random()+50,this.heightTarget=100*Math.random()+50,this.tl=new o.Sprite.fromFrame("corner_top_left.png"),this.addChild(this.tl),this.tr=new o.Sprite.fromFrame("corner_top_right.png"),this.addChild(this.tr),this.bl=new o.Sprite.fromFrame("corner_bottom_left.png"),this.addChild(this.bl),this.br=new o.Sprite.fromFrame("corner_bottom_right.png"),this.addChild(this.br)};n.prototype=Object.create(o.Container.prototype),n.prototype.reset=function(e,t){this.dimensions={width:e,height:t}},n.prototype.animateMovement=function(){var e=.9*(Math.random()*this.dimensions.width-this.dimensions.width/2),t=.9*(Math.random()*this.dimensions.height-this.dimensions.height/2);TweenLite.to(this,.2,{posx:e,posy:t,onComplete:function(){this.isMoving=!1,this.lifeMove=150*Math.random()+30}.bind(this)})},n.prototype.animateScale=function(){var e=40*Math.random()+20,t=40*Math.random()+20;TweenLite.to(this,.2,{widthTarget:e,heightTarget:t,onComplete:function(){this.isScaling=!1,this.lifeScale=110*Math.random()}.bind(this)})},n.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.counter+=1,this.lifeScale>=0&&!this.isScaling?this.lifeScale--:this.isScaling||(this.isScaling=!0,this.animateScale()),this.lifeMove>=0&&!this.isMoving?this.lifeMove--:this.isMoving||(this.isMoving=!0,this.animateMovement()),this.tl.position.x=-this.widthTarget/2+this.posx,this.tl.position.y=-this.heightTarget/2+this.posy,this.tr.position.x=this.widthTarget/2+this.posx,this.tr.position.y=-this.heightTarget/2+this.posy,this.bl.position.x=-this.widthTarget/2+this.posx,this.bl.position.y=this.heightTarget/2+this.posy,this.br.position.x=this.widthTarget/2+this.posx,this.br.position.y=this.heightTarget/2+this.posy,this.alpha=Math.abs(.4*Math.sin(Math.tan(this.counter)))+.1},i.exports=n}),define("starwars/effects/interferences/TargetCorners",["require","exports","module","PIXI","./Chip"],function(e,t,i){
var o=e("PIXI"),n=e("./Chip"),r=function(e){o.Container.call(this),this.numberOfChips=e,this.chips=[]};r.prototype=Object.create(o.Container.prototype),r.prototype.reset=function(e,t){this.chips=[];for(var i=0;i<this.numberOfChips;i++){var o=new n;o.reset(e,t),this.addChild(o),this.chips.push(o)}},i.exports=r}),define("starwars/effects/interferences/GridLetters",["require","exports","module","PIXI","./Line"],function(e,t,i){var o=e("PIXI"),n=(e("./Line"),function(e,t){o.Container.call(this),this.letters=[],this.lettersRef="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")});n.prototype=Object.create(o.Container.prototype),n.prototype.reset=function(e,t){this.counter=0;for(var i=0,n=0,r=0;5>r;r++){for(var s=0;10>s;s++){var a=new o.extras.BitmapText(this.lettersRef[Math.floor(Math.random()*this.lettersRef.length)],{font:"12px Aurek-Besh Narrow"});a.position.x=i,a.position.y=n,a.isFadingOut=!1,a.counter=Math.floor(20*Math.random()),a.divide=Math.floor(5*Math.random()+3),a.alpha=.4*Math.random()+.2,this.addChild(a),this.letters.push(a),i+=12}i=0,n+=20}this.pivot.x=this.width/2,this.pivot.y=this.height/2},n.prototype.random=function(e,t){this.position.x=Math.random()*e-e/2,this.position.y=Math.random()*t-t/2},n.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.counter+=1;for(var e=0;e<this.letters.length;e++)l=this.letters[e],l.counter++,l.counter%l.divide===0&&(l.text=this.lettersRef[Math.floor(Math.random()*this.lettersRef.length)]),l.counter%l.divide!==0||l.isFadingOut?l.alpha>=.1?(l.isFadingOut=!0,l.alpha*=.99):l.isFadingOut=!1:(l.alpha=1,l.isFadingOut=!0)},i.exports=n}),define("starwars/effects/interferences/Diagram",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e){o.Container.call(this),this.bars=[],this.numberOfBars=e||5};n.prototype=Object.create(o.Container.prototype),n.prototype.random=function(e,t){this.position.x=-e/2+this.width/2+Math.random()*(e-this.width)},n.prototype.reset=function(e,t){this.bars=[];for(var i=0,n=0,r=0;r<this.numberOfBars;r++){var s=8*Math.random()+2,a=new o.Graphics;a.beginFill(16777215).drawRect(0,0,s,40).endFill();var h=new o.Sprite(a.generateTexture());h.counter=100*Math.random(),h.anchor.y=1,h.timeBeforeSleep=100*Math.random()+50,h.timeBeforeWake=null,h.amplitude=Math.random()+.5,i+=n+2,h.position.x=i,n=s,this.addChild(h),this.bars.push(h)}this.position.y=t/2-this.height/2+8},n.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this);for(var e=0;e<this.bars.length;e++){var t=this.bars[e];if(t.timeBeforeSleep>0&&null===t.timeBeforeWake){t.timeBeforeSleep--;var i=.5*Math.random();t.counter+=i,t.scale.y=Math.abs(Math.cos(t.counter/4)*t.amplitude)}else t.timeBeforeSleep<=0&&null===t.timeBeforeWake?t.timeBeforeWake=50*Math.random():t.timeBeforeWake>=0?t.timeBeforeWake--:(t.timeBeforeWake=null,t.timeBeforeSleep=100*Math.random()+50);t.alpha=Math.abs(.3*Math.sin(Math.tan(t.counter)))+.2}},i.exports=n}),define("starwars/overlays/OverlayTitle",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(){o.Container.call(this),this.title=null,window.FONTS_EXTENDED?(this.title=new o.Text("",{font:"45px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}),this.title.anchor.x=.5,this.blurredTitle=new o.Text("",{font:"45px "+window.MAIN_FONT,fill:"#ffbc29"}),this.blurredTitle.anchor.x=.5,this.blurredTitle.alpha=.8,this.blurredTitle.position=this.title.position,this.addChild(this.title),this.addChild(this.blurredTitle),this.blurFilter=new o.filters.BlurFilter,this.blurFilter.passes=5,this.blurFilter.blur=40):(this.title=new o.extras.BitmapText("",{font:"46px Star Jedi"}),this.title.pivot.y=68,this.addChild(this.title))};n.prototype=Object.create(o.Container.prototype),n.prototype.onHide=function(){window.FONTS_EXTENDED&&(this.blurredTitle.filters=null)},Object.defineProperties(n.prototype,{text:{get:function(){return this.title.text},set:function(e){window.FONTS_EXTENDED?(this.title.text=e.toUpperCase(),this.blurredTitle.text=this.title.text,this.blurredTitle.filters=o.isWebGL?[this.blurFilter]:null):(this.title.text=e.toLowerCase(),this.title.position.x=-this.title.width/2);var t=420/this.title.width;this.scale.set(Math.min(t,1))}}}),i.exports=n}),define("starwars/overlays/Overlay",["require","exports","module","PIXI","fido/system/Ticker","../filters/GlitchCathodic","../effects/interferences/LogoRebel","../effects/interferences/TechnoLines","../effects/interferences/TargetCorners","../effects/interferences/GridLetters","../effects/interferences/Diagram","starwars/overlays/OverlayTitle","fido/app/Screen","fido/system/Device"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("../filters/GlitchCathodic"),s=e("../effects/interferences/LogoRebel"),a=e("../effects/interferences/TechnoLines"),h=e("../effects/interferences/TargetCorners"),c=e("../effects/interferences/GridLetters"),l=e("../effects/interferences/Diagram"),p=e("starwars/overlays/OverlayTitle"),u=e("fido/app/Screen"),d=e("fido/system/Device"),g=null,f=null,m=null,v=null,y=null,_=function(e,t){u.call(this),this.app=e,this.counter=0,this.hasClose=!1,this.disableFilters=t||!1,this.screen=new o.Sprite.fromFrame("inner_panel_blue_medium.png"),this.screen.anchor.set(.5),this.screen.position.y=-10,this.addChild(this.screen),this.currentInterference=null,g||!o.isWebGL||d.instance.iOS||this.disableFilters||(g=new a,g.reset(this.screen.width,this.screen.height),f=new h(2),f.reset(this.screen.width,this.screen.height),m=new c,m.reset(this.screen.width,this.screen.height),v=new l(12),v.reset(this.screen.width,this.screen.height),y=new s(8),y.reset(this.screen.width,this.screen.height)),this.containerInterference=new o.Container,this.screen.addChild(this.containerInterference),this.interferences=[f,m,v,y],this.bg=new o.Sprite.fromFrame("panel_frame_medium.png"),this.bg.anchor.set(.5),this.addChild(this.bg),!o.isWebGL||d.instance.iOS||this.disableFilters||(this.glitchFilter=new r,this.screen.filters=[this.glitchFilter]),this.title=new p,this.title.position.y=.5*-this.bg.height-this.title.height+5,this.addChild(this.title);var i=[-207.5,-194,213.5,-188,242.5,-166,260.5,135,228.5,164,-232.5,164,-260.5,142,-239.5,-171],n=new o.Graphics;n.clear().beginFill(16777215).drawPolygon(i),this.screen.mask=n,this.bg.addChild(n)};_.prototype=Object.create(u.prototype),_.prototype.onShow=function(){n.instance.add(this.update,this),this.app.topMenu.hide(),o.isWebGL&&!d.instance.iOS&&(this.containerInterference.alpha=.5,this.containerInterference.addChild(g),this.currentInterference=this.interferences[Math.floor(Math.random()*this.interferences.length)],this.currentInterference.random&&this.currentInterference.random(this.screen.width,this.screen.height),this.containerInterference.addChild(this.currentInterference))},_.prototype.update=function(){!o.isWebGL||d.instance.iOS||this.disableFilters||(this.counter-=.04,this.glitchFilter.uniforms.time.value=this.counter)},_.prototype.onHide=function(){o.isWebGL&&!d.instance.iOS&&this.containerInterference.removeChild(this.currentInterference),this.app.topMenu.show()},_.prototype.onHidden=function(){n.instance.remove(this.update,this)},_.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=_}),define("com/fighter/game/hud/GoalPanel",["require","exports","module","PIXI","com/fighter/app/buttons/IconButton","fido/utils/Utils","fido/goals/Goals","com/fighter/app/goals/GoalView","starwars/overlays/Overlay"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/app/buttons/IconButton"),e("fido/utils/Utils"),e("fido/goals/Goals")),r=e("com/fighter/app/goals/GoalView"),s=e("starwars/overlays/Overlay"),a=function(){s.call(this,app,!0),this.title=new o.Text("",{font:"36px "+window.SECONDARY_FONT,fill:"#ccffff"}),this.title.anchor.set(.5),this.title.y=-150,this.addChild(this.title),this.goalView=new r,this.addChild(this.goalView),this.goalView.position.set(0,-140)};a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.update=function(){var e=translations[n.instance.groupHash[n.instance.currentGroup].desc];this.title.text=e.toUpperCase(),this.goalView.reset(),this.goalView.x=-(.5*this.goalView.width),this.goalView.tickCompletes()},i.exports=a}),define("libs/gameConfig/gameTracking",["require","exports","module"],function(e,t,i){var o={trackAction:function(e,t){var i={message:t||"",action:e};window.DIBIGameTracking&&window.DIBIGameTracking(i)},trackDevice:function(){},trackClick:function(){}};i.exports=o}),define("com/fighter/app/system/GameSaveManager",["require","exports","module","fido/system/LocalStorage","signals","fido/loader/Cache"],function(e,t,i){var o=e("fido/system/LocalStorage"),n=e("signals"),r=(e("fido/loader/Cache"),function(){this.onLoaded=new n,this.localStorage=new o("com.disney.fighter.game_11"),this.save=null,this.state=-1,this.allComplete=!1});r.prototype.loadGame=function(){this.loadGameFromLocalStorage()},r.prototype.loadGameFromLocalStorage=function(){var e=this.localStorage.getObject("save");e||(e=new s,this.localStorage.storeObject("save",e)),this.save=e,this.onLoaded.dispatch()},r.prototype.isPB=function(e,t){return this.save.data.hasOwnProperty(t)?e>=this.save.data[t]:void 0},r.prototype.getPB=function(e){return this.save.data.hasOwnProperty(e)?this.save.data[e]:void 0},r.prototype.unlock=function(e){e<this.save.missions.length&&(this.save.missions[e].unlocked=!0),this.saveToStorage()},r.prototype.setDeathScore=function(e,t){this.save.missions[e].stepGameover=t,this.saveToStorage()},r.prototype.unlockCharacter=function(){for(var e=0;e<this.save.missions.length;e++){var t=this.save.missions[e];if(t.unlocked===!1)return t.unlocked=!0,t}return!1},r.prototype.saveScore=function(e,t){this.isPB(e,t)&&(this.save.data[t]=e),this.saveToStorage()},r.prototype.setStars=function(e,t){t>this.save.missions[e].stars&&(this.save.missions[e].stars=t,this.saveToStorage())},r.prototype.setHighscore=function(e,t){t>this.save.missions[e].localHighscore&&(this.save.missions[e].localHighscore=t,this.saveToStorage()),t>this.save.bestScore&&this.saveBestScore(t)},r.prototype.saveBestScore=function(e){this.save.bestScore=e,this.saveToStorage()},r.prototype.saveTuto=function(){this.save.tuto=!0,this.saveToStorage()},r.prototype.saveName=function(e){this.save.name=e,this.saveToStorage()},r.prototype.saveToStorage=function(){this.localStorage.storeObject("save",this.save)};var s=function(){this.data={distance:0,score:0},this.tuto=!1,this.bestScore=0,this.missions=[{unlocked:!0,localHighscore:0,stars:0,stepGameover:0},{unlocked:!1,localHighscore:0,stars:0,stepGameover:0},{unlocked:!1,localHighscore:0,stars:null,stepGameover:0}],this.name=""};s.prototype.constructor=s,r.instance=new r,i.exports=r}),define("com/fighter/game/hud/HealthBar",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){function o(e){n.Container.call(this),this.tick=0,this.app=e,this.view=new n.Container,this.addChild(this.view),this.bg=new n.Sprite.fromFrame("lifebar_background.png"),this.bg.anchor.x=this.bg.anchor.y=.5,this.view.addChild(this.bg),this.bgBlack=new n.Sprite.fromFrame("lifebar_background_black.png"),this.bgBlack.anchor.x=this.bgBlack.anchor.y=.5,this.bg.addChild(this.bgBlack),this.lifeBar=new n.Sprite.fromFrame("lifebar_gradiant.png"),this.lifeBar.anchor.x=this.lifeBar.anchor.y=.5,this.bg.addChild(this.lifeBar),this.masky=new n.Graphics,this.masky.beginFill(16777215).drawRect(0,0,this.lifeBar.width,this.lifeBar.height),this.masky.position.x=-this.lifeBar.width/2,this.masky.position.y=-this.lifeBar.height/2,this.view.addChild(this.masky),this.lifeBar.mask=this.masky,this.updateView(1),this.view.cacheAsBitmap=!0,this.defaultWidth=this.view.width,r.instance.add(this.update,this)}var n=e("PIXI"),r=(e("fido/utils/Math2"),e("fido/system/Ticker"));o.prototype=Object.create(n.Container.prototype),o.prototype.constructor=o,o.prototype.reset=function(){var e=this.app.getShopStates();this.scale.x=.7+.1*(e.health-1)},o.prototype.update=function(){this.view.cacheAsBitmap||(this.tick++,this.tick>40&&(this.tick=0,this.view.cacheAsBitmap=!0))},o.prototype.updateView=function(e){this.masky.scale.x>=0&&(0>e&&(e=0),this.tick=0,this.view.cacheAsBitmap=!1,this.masky.scale.x=e)},i.exports=o}),define("com/fighter/game/hud/ItemGaugeWeapon",["require","exports","module","PIXI","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=function(){o.Container.call(this),this.bg=new o.Sprite.fromFrame("chargelaser_background.png"),this.addChild(this.bg),this.containerLights=new o.Container,this.containerLights.position.x=-6,this.containerLights.position.y=-this.bg.height/2,this.addChild(this.containerLights),this.lights=["chargelaser1.png","chargelaser2.png","chargelaser3.png"];for(var e=1,t=0;t<this.lights.length;t++){var i=new o.Sprite.fromFrame(this.lights[t]);i.position.x=e,e+=85,this.containerLights.addChild(i)}this.isDecreasing=!1,this.currentPower=.01,this.highlighting=!1,this.maxPower=1,this.ratio=0,this.tick=0,this.update(0),this.highlightBar=new o.Sprite.fromFrame("highlight_bar.png"),this.highlightBar.position.x=this.containerLights.width/2,this.highlightBar.position.y=6,this.highlightBar.scale.x=1.5,this.highlightBar.anchor.x=.5,this.highlightBar.anchor.y=.5,this.highlightBar.alpha=0,this.highlightBar.hitArea=new o.Rectangle,this.bg.addChild(this.highlightBar),this.masky=new o.Graphics,this.masky.beginFill(16777215).drawRect(0,0,this.containerLights.width,this.containerLights.height),this.masky.position.x=0,this.masky.position.y=-this.containerLights.height/2+10,this.bg.addChild(this.masky),this.containerLights.mask=this.masky,this.bg.cacheAsBitmap=!0,n.instance.add(this.update,this)};r.prototype=Object.create(o.Container.prototype),r.prototype.constructor=r,r.prototype.reset=function(){this.maxPower=1,this.ratio=0,this.masky.scale.x=0},r.prototype.highlight=function(){this.highlighting=!0},r.prototype.unlight=function(){this.highlighting=!1,this.highlightBar.alpha=0},r.prototype.decrease=function(){this.isDecreasing=!0},r.prototype.increase=function(){this.isDecreasing||(this.bg.cacheAsBitmap&&(this.bg.cacheAsBitmap=!1),this.currentPower+=.005,this.currentPower>this.maxPower&&(this.currentPower=this.maxPower),this.ratio=this.currentPower/this.maxPower,this.updateView(this.ratio))},r.prototype.update=function(){this.isDecreasing?(this.bg.cacheAsBitmap&&(this.bg.cacheAsBitmap=!1),this.currentPower>.01?(this.currentPower-=.01,this.ratio=this.currentPower/this.maxPower,this.updateView(this.ratio)):(this.isDecreasing=!1,this.bg.cacheAsBitmap=!0)):this.ratio>=.99&&(this.bg.cacheAsBitmap=!0),this.highlighting&&this.highlightBar&&(this.tick++,this.highlightBar.alpha=.6*Math.cos(this.tick/10))},r.prototype.updateView=function(e){e>=0&&(this.masky.scale.x=e)},i.exports=r}),define("com/fighter/game/hud/PlayerLifeVignet",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){function o(){r.Container.call(this),this.tick=0,this.soundsMuted=!1,this.view=new r.Container,this.addChild(this.view),this.redVignet=new r.Sprite.fromImage(ASSET_URL+"img/game/temp/red_vignet.png"),this.redVignet.anchor.x=this.redVignet.anchor.y=.5,this.redVignet.visible=!1,this.view.addChild(this.redVignet),this.blueVignet=new r.Sprite.fromImage(ASSET_URL+"img/game/temp/blue_vignet.png"),this.blueVignet.visible=!1,this.blueVignet.anchor.x=this.blueVignet.anchor.y=.5,this.view.addChild(this.blueVignet),this.alpha=0,this.defaultWidth=this.view.width,this.defaultHeight=this.view.height,this.hitArea=new r.Rectangle,a.instance.add(this.update,this)}function n(e,t,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+t}var r=e("PIXI"),s=e("fido/utils/Math2"),a=e("fido/system/Ticker");o.prototype=Object.create(r.Container.prototype),o.prototype.constructor=o,o.prototype.muteSounds=function(){this.soundsMuted=!0,e("fido/sound/SoundBridge").sfx.stop("alarm_03")},o.prototype.playSounds=function(){this.soundsMuted=!1,this.soundIsPlaying&&e("fido/sound/SoundBridge").sfx.play("alarm_03")},o.prototype.hit=function(){this.isHit=!0,this.alpha=1,Easings.to(this,2,{alpha:this.ratio>.85?this.maxAlpha:0,ease:Easings.easeOutCirc,onComplete:function(){this.isHit=!1}.bind(this)})},o.prototype.reset=function(){this.soundsMuted=!1,this.soundIsPlaying=!1,this.ratio=0,this.tick=0,this.alpha=0,this.maxAlpha=0,this.minAlpha=this.maxAlpha/2},o.prototype.changeAlpha=function(e){this.tick=0;var t=this.ratio<e;this.ratio=e;var i=n(e,0,1,1);this.maxAlpha=i,this.minAlpha=this.maxAlpha/2,this.frenquency=s.map(e,0,1,40,5),this.ratio>0&&(t?(this.blueVignet.visible=!1,this.redVignet.visible=!0):(this.blueVignet.visible=!0,this.redVignet.visible=!1),this.hit())},o.prototype.update=function(){!this.isHit&&this.ratio>.85&&(this.tick++,this.alpha=Math.abs(Math.cos(this.tick/this.frenquency)*(this.maxAlpha-this.minAlpha))+this.minAlpha,this.soundIsPlaying||(this.soundsMuted||e("fido/sound/SoundBridge").sfx.play("alarm_03"),this.soundIsPlaying=!0)),this.soundIsPlaying&&this.ratio<=.85&&(e("fido/sound/SoundBridge").sfx.stop("alarm_03"),this.soundIsPlaying=!1),this.alpha>0&&!this.isHit&&this.ratio<=.85&&(this.alpha=0)},o.prototype.resize=function(e,t){this.view.position.x=e/2,this.view.position.y=t/2,this.view.scale.x=0,this.view.scale.y=0,this.view.scale.x=Math.min(e/this.defaultWidth,1),this.view.scale.x=-Math.abs(this.view.scale.x),this.view.scale.y=Math.min(t/this.defaultHeight,1)},i.exports=o}),define("com/fighter/game/hud/TextHud",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e,t,i,n){o.Container.call(this),t=t||50,this.maxWidth=n||150,this.anchor=i||{x:0,y:0},window.FONTS_EXTENDED?(this.title=new o.Text("",{font:t+"px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}),this.title.anchor.x=this.anchor.x,this.title.anchor.y=this.anchor.y,this.addChild(this.title)):(this.title=new o.extras.BitmapText("",{font:t+"px "+e}),this.addChild(this.title))};n.prototype=Object.create(o.Container.prototype),n.prototype.onHide=function(){window.FONTS_EXTENDED&&(this.blurredTitle.filters=null)},Object.defineProperties(n.prototype,{text:{get:function(){return this.title.text},set:function(e){window.FONTS_EXTENDED?this.title.text=e:(this.title.text=e,1===this.anchor.x&&(this.title.pivot.y=this.anchor.y*this.title.height,this.title.pivot.x=this.title.width));var t=this.maxWidth/this.title.width;this.scale.set(Math.min(t,1))}}}),i.exports=n}),define("com/fighter/game/hud/ProgressBar",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker","signals"],function(e,t,i){function o(e){n.Container.call(this),this.onComplete=new r;var t=new n.Graphics;t.beginFill(16777215).drawRect(0,0,800,10),this.bg=new n.Sprite.fromFrame("progression_bar.png"),this.bg.anchor.x=0,this.bg.anchor.y=.5,this.addChild(this.bg),this.inside=new n.Sprite.fromFrame("progression_bar_green.png"),this.inside.anchor.x=0,this.inside.scale.x=0,this.inside.anchor.y=.5,this.inside.position.x=2,this.bg.addChild(this.inside),this.lastdeath=new n.Sprite.fromFrame("progression_last_death.png"),this.lastdeath.anchor.x=0,this.lastdeath.anchor.y=1,this.bg.addChild(this.lastdeath),this.total=0,this.currentStep=0,this.ratio=0,this.player=new n.Graphics,this.player.beginFill(16777215).drawRect(-8,-8,16,16),this.target=new n.Sprite.fromFrame("progression_bar_flag.png"),this.target.position.x=this.bg.width-4,this.target.anchor.y=1,this.bg.addChild(this.target),Device.instance.desktop}var n=e("PIXI"),r=(e("fido/utils/Math2"),e("fido/system/Ticker"),e("signals"));o.prototype=Object.create(n.Container.prototype),o.prototype.constructor=o,o.prototype.addLastScore=function(e){0===e?this.lastdeath.visible=!1:this.lastdeath.visible=!0,this.lastdeath.position.x=this.bg.width*(e/this.total)},o.prototype.setData=function(e){this.total=e},o.prototype.progress=function(e){this.currentStep+=e,this.ratio=this.currentStep/this.total,this.ratio>1&&(this.ratio=1,!this.completeDispatched&&this.total>0&&(this.onComplete.dispatch(this),this.completeDispatched=!0))},o.prototype.reset=function(){this.lastdeath.visible=!1,this.alpha=1,this.player.position.x=0,this.inside.scale.x=0,this.currentStep=0,this.ratio=0,this.completeDispatched=!1},o.prototype.update=function(){this.total>0&&(this.inside.scale.x+=.1*(this.ratio-this.inside.scale.x))},i.exports=o}),define("com/fighter/app/LinesUI",["require","exports","module","PIXI","signals","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),e("fido/system/Ticker")),r=function(){o.Container.call(this),this.isUpdating=!1,this.pool=[],this.activeLines=[]};r.prototype=Object.create(o.Container.prototype),r.prototype.stop=function(){n.instance.remove(this.update,this),this.isUpdating=!1},r.prototype.addLines=function(e,t,i,r){this.isUpdating||(n.instance.add(this.update,this),this.isUpdating=!0),i=i||200,r=r||100,t=t||10;for(var s=["glitch_dark.png","glitch_white.png"],a=0;t>a;a++){var h=this.pool.pop();h||(h=new o.Sprite.fromFrame(s[a%s.length]),h.anchor.y=.5),h.alpha=0,h.futureAlpha=.9*Math.random()+.1,h.anchor.x=1,h.delay=Math.floor(60*Math.random()),h.scale.x=.1,h.scale.y=.6*Math.random()+.4,h.futureScale=.8*Math.random()+.2,h.position.x=e.x+Math.random()*i-i/5,h.position.y=e.y+Math.random()*r-r/2,this.addChild(h),this.activeLines.push(h)}},r.prototype.update=function(){for(var e=0;e<this.activeLines.length;e++){var t=this.activeLines[e];t.delay>=0?(t.delay--,0===t.delay&&(t.alpha=t.futureAlpha,t.delay--)):(t.alpha*=.99,1===t.anchor.x?t.scale.x<t.futureScale?t.scale.x*=1.06:(t.anchor.x=0,t.position.x-=t.width):t.scale.x>.01?t.scale.x*=.9:(this.removeChild(t),this.pool.push(t),this.activeLines.splice(e,1),e--))}0===this.activeLines.length&&this.stop()},i.exports=r,r.instance=new r}),define("com/fighter/game/hud/Bb8Warning",["require","exports","module","PIXI","fido/utils/Math2","fido/utils/Utils","fido/system/Ticker","fido/system/DelayedCalls","signals","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Math2"),e("fido/utils/Utils"),e("fido/system/Ticker"),e("fido/system/DelayedCalls")),r=e("signals"),s=e("fido/sound/SoundBridge"),a=function(){o.Container.call(this),this.onFinished=new r,this.tick=0,this.bg=new o.Sprite.fromFrame("warning_bb8.png"),this.bg.anchor.x=1,this.bg.anchor.y=.5,this.addChild(this.bg),this.iconWarn1=new o.Sprite.fromFrame("warning_signal.png"),this.iconWarn1.anchor.x=this.iconWarn1.anchor.y=.5,this.iconWarn1.position.x=-this.iconWarn1.width/2,this.bg.addChild(this.iconWarn1),this.iconWarn2=new o.Sprite.fromFrame("warning_signal2.png"),this.iconWarn2.anchor.x=this.iconWarn2.anchor.y=.5,this.iconWarn2.position=this.iconWarn1.position,this.bg.addChild(this.iconWarn2),this.delayedCalls=new n};a.prototype=Object.create(o.Container.prototype),a.prototype.update=function(){this.isTransitioning||(this.tick+=.2,this.iconWarn1.visible&&(this.iconWarn1.alpha=.8+.2*Math.cos(this.tick)),this.iconWarn2.visible&&(this.iconWarn1.alpha=.8+.2*Math.cos(this.tick)))},a.prototype.changeSign=function(){this.iconWarn1.visible=!1,this.iconWarn2.visible=!0},a.prototype.finish=function(){EasingsGame.to(this,.2,{alpha:0,onComplete:function(){this.onFinished.dispatch()}.bind(this)})},a.prototype.setScaleX=function(e){this.scale.x=e,this.scale.x<0?this.iconWarn1.texture=o.Texture.fromFrame("warning_signal3.png"):this.iconWarn1.texture=o.Texture.fromFrame("warning_signal2.png"),this.iconWarn1.scale.x=e,this.iconWarn2.scale.x=e},a.prototype.animate=function(){},a.prototype.reset=function(e){e=e||1.5,this.alpha=1,this.scale.x=1,this.iconWarn1.visible=!0,this.iconWarn2.visible=!1,this.isTransitioning=!1,this.delayedCalls.add(this.changeSign.bind(this),e/3),this.delayedCalls.add(this.finish.bind(this),e),s.sfx.playGroup("bb8_scared")},a.prototype.update=function(){},i.exports=a}),define("com/fighter/game/hud/Bb8WarningMissile",["require","exports","module","PIXI","com/fighter/game/hud/Bb8Warning"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/hud/Bb8Warning"),r=function(){n.call(this),this.iconWarn1.texture=o.Texture.fromFrame("icon_alert_rocket.png"),this.iconWarn2.texture=o.Texture.fromFrame("icon_alert_rocket.png")};r.prototype=Object.create(n.prototype),r.prototype.setScaleX=function(e){this.scale.x=e},i.exports=r}),define("com/fighter/game/hud/Hud",["require","exports","module","PIXI","signals","./DetailText","com/fighter/game/engine/GameObjectPool","fido/ui/buttons/AbstractButton","fido/utils/Utils","./ComboView","com/fighter/game/hud/GoalPanel","fido/goals/Goals","libs/gameConfig/gameTracking","fido/loader/Cache","com/fighter/app/system/GameSaveManager","com/fighter/game/hud/HealthBar","com/fighter/game/hud/ItemGaugeWeapon","com/fighter/game/hud/PlayerLifeVignet","com/fighter/game/hud/TextHud","com/fighter/game/hud/ProgressBar","com/fighter/app/LinesUI","fido/physics/DoubleSpring","com/fighter/game/hud/Bb8Warning","com/fighter/game/hud/Bb8WarningMissile","com/fighter/game/engine/GameObjectPool","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),e("./DetailText"),e("com/fighter/game/engine/GameObjectPool"),e("fido/ui/buttons/AbstractButton"),e("fido/utils/Utils"),e("./ComboView")),r=(e("com/fighter/game/hud/GoalPanel"),e("fido/goals/Goals"),e("libs/gameConfig/gameTracking"),e("fido/loader/Cache"),e("com/fighter/app/system/GameSaveManager")),s=e("com/fighter/game/hud/HealthBar"),a=e("com/fighter/game/hud/ItemGaugeWeapon"),h=e("com/fighter/game/hud/PlayerLifeVignet"),c=e("com/fighter/game/hud/TextHud"),l=e("com/fighter/game/hud/ProgressBar"),p=e("com/fighter/app/LinesUI"),u=e("fido/physics/DoubleSpring"),d=e("com/fighter/game/hud/Bb8Warning"),g=e("com/fighter/game/hud/Bb8WarningMissile"),f=e("com/fighter/game/engine/GameObjectPool"),m=e("fido/utils/Math2"),v=function(e){this.game=e,o.Container.call(this),this.hitArea=new o.Rectangle,this.containerTutorial=new o.Container,this.addChild(this.containerTutorial),this.bgHealthText=new o.Sprite.fromFrame("lifebar_graphic.png"),this.bgHealthText.position.x=205,this.bgHealthText.position.y=30,this.addChild(this.bgHealthText),this.typesPickupsOnScreen={Rocket:!1,SpreadFire:!1,Shield:!1},this.rocketPickup=new o.Sprite.fromFrame("icon_missile.png"),this.spreadFirePickup=new o.Sprite.fromFrame("icon_multishot.png"),this.shieldPickup=new o.Sprite.fromFrame("icon_shield.png"),this.relatedIcon={icon_missile:this.rocketPickup,icon_multishot:this.spreadFirePickup,icon_shield:this.shieldPickup},this.pickupsOnHud=[],this.containerPickup=new o.Container,this.containerPickup.x=40,this.containerPickup.y=165,this.redVignet=new h,this.addChild(this.redVignet),this.healthBar=new s(this.game.app),this.addChild(this.healthBar),this.gaugeWeapon=new a,this.addChild(this.gaugeWeapon),this.debugText=new c("Dosis Blue",35,{x:0,y:0}),this.debugText.text="0",this.debugText.position.x=930,this.debugText.position.y=25,this.powerText=new c("Dosis Green",15,{x:0,y:0}),this.powerText.text=translations.STR_POWER_CHARGE,this.powerText.position.x=330,this.powerText.position.y=85;var t={x:1,y:.5};window.FONTS_EXTENDED&&(t={x:1,y:0}),this.healthText=new o.Sprite.fromFrame("healf_icon_bar.png"),this.healthText.anchor.x=this.healthText.anchor.y=.5,this.healthText.position.x=305,this.healthText.position.y=50,this.laserIcon=new o.Sprite.fromFrame("power_charge_icon.png"),this.laserIcon.anchor.x=this.laserIcon.anchor.y=.5,this.laserIcon.position.x=305,this.laserIcon.position.y=95,this.coinsImage=new o.Sprite.fromFrame("coins_pickup.png"),this.coinsImage.anchor.x=this.coinsImage.anchor.y=.5,this.coinsImage.position.x=20+this.coinsImage.width/2,this.coinsImage.position.y=70+this.coinsImage.height,this.coins=new c("Dosis Blue",24,{x:0,y:0}),this.coins.text="0",this.coins.position.x=this.coinsImage.x+30,this.coins.position.y=83,this.scoreText=new c("Dosis Blue",24,{x:0,y:0}),this.scoreText.text=translations.STR_SCORE,this.scoreText.position.x=20,this.scoreText.position.y=23,this.score=new c("Dosis Blue",24,{x:0,y:0}),this.score.text="0",this.score.position.x=this.scoreText.x,this.score.position.y=this.scoreText.y+this.score.height,this.comboView=new n,this.comboView.x=20,this.comboView.y=185,this.addChild(this.comboView),this.addChild(this.coinsImage),this.addChild(this.coins),this.addChild(this.scoreText),this.addChild(this.score),this.addChild(this.healthText),this.addChild(this.laserIcon),this.addChild(this.powerText),this.addChild(this.containerPickup),this.progressBar=new l,this.progressBar.visible=!1,this.progressBar.onComplete.add(this.onProgressBarComplete,this),this.addChild(this.progressBar),this.linesUI=new p,this.addChild(this.linesUI),this.spring=new u};v.prototype=Object.create(o.Container.prototype),v.prototype.onProgressBarComplete=function(){},v.prototype.getProgress=function(){return this.progressBar.currentStep},v.prototype.setProgress=function(e){this.game.engine.player.dying||this.game.engine.player.starting||this.progressBar.progress(e),this.game.endless&&!this.alreadyBeenDisplayedThisRound&&this.game.totalScore>r.instance.save.missions[this.game.missionIndex].localHighscore&&r.instance.save.missions[this.game.missionIndex].localHighscore>10&&(this.alreadyBeenDisplayedThisRound=!0,this.game.engine.bannerText.run(translations.STR_ENDLESS_NEW_HIGHSCORE,null,2))},v.prototype.setProgressBarData=function(e){if(this.game.endless){var t=r.instance.save.missions[this.game.missionIndex].localHighscore;t&&t>0?(this.progressBar.setData(t),this.progressBar.visible=!1):this.progressBar.visible=!1}else{this.progressBar.visible=!0;for(var t=0,i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var n=0;n<e[i][o].nbEnemiesPerType.length;n++)t+=e[i][o].nbEnemiesPerType[n],"mirror"===e[i][o].type&&(t+=e[i][o].nbEnemiesPerType[n]);this.progressBar.setData(t)}var s=r.instance.save.missions[this.game.missionIndex].stepGameover;this.progressBar.addLastScore(s)},v.prototype.addBb8Warning=function(e,t,i,o){i=i||{x:1,y:1};var n=f.getObject(d);n.position.x=e.x,n.position.y=e.y,n.onFinished.addOnce(function(){o&&o.call(this),this.containerTutorial.removeChild(n),f.returnObject(n)}.bind(this)),this.containerTutorial.addChild(n),n.reset(t),n.setScaleX(i.x)},v.prototype.addBb8WarningMissile=function(e,t,i,o){i=i||{x:1,y:1};var n=f.getObject(g);n.position.x=e.x,n.position.y=e.y,n.onFinished.addOnce(function(){o&&o.call(this),this.containerTutorial.removeChild(n),f.returnObject(n)}.bind(this)),this.containerTutorial.addChild(n),n.reset(t),n.setScaleX(i.x)},v.prototype.hide=function(){this.alpha=0},v.prototype.show=function(){EasingsGame.to(this,1,{alpha:1,onComplete:function(){this.start()}.bind(this)})},v.prototype.showPB=function(){this.titleContainer.visible=!0,TweenLite.to(this.titleBg,.75,{alpha:1,ease:Bounce.easeOut}),this.title.pivot.x=-200;var e=.5;TweenLite.to(this.title,.15,{alpha:1,ease:Sine.easeOut,delay:e}),TweenLite.to(this.title.pivot,.5,{x:0,ease:Expo.easeOut,delay:e}),TweenLite.to(this.title.pivot,.5,{x:200,ease:Expo.easeIn,delay:2+e}),TweenLite.to(this.title,.25,{alpha:0,ease:Sine.easeOut,delay:2.25+e}),TweenLite.to(this.titleBg,.25,{alpha:0,ease:Sine.easeOut,delay:2.4+e,onComplete:function(){this.titleContainer.visible=!1}.bind(this)})},v.prototype.start=function(){this.addLinesUI()},v.prototype.reorganisePickups=function(){for(var e=0;e<this.pickupsOnHud.length;e++){var t=this.pickupsOnHud[e];EasingsGame.to(t.position,.2,{x:40*e})}},v.prototype.removePickupfromHUD=function(e){for(var t=0;t<this.pickupsOnHud.length;t++){var i=this.pickupsOnHud[t];i.type===e&&(this.typesPickupsOnScreen[i.type]=!1,this.pickupsOnHud.splice(t,1),t--,reorganise=!0,this.containerPickup.removeChild(i))}this.reorganisePickups()},v.prototype.addPickupToHUD=function(e,t){if(!this.typesPickupsOnScreen[t]){"Rocket"===t&&this.typesPickupsOnScreen.SpreadFire?this.removePickupfromHUD("SpreadFire"):"SpreadFire"===t&&this.typesPickupsOnScreen.Rocket&&this.removePickupfromHUD("Rocket");
var i=this.relatedIcon[e];i.alpha=1,i.anchor.x=i.anchor.y=.5,i.tick=0,i.type=t,this.containerPickup.addChild(i),this.pickupsOnHud.push(i),this.typesPickupsOnScreen[t]=!0,this.reorganisePickups()}},v.prototype.checkPickupHUD=function(){for(var e=!1,t=0;t<this.pickupsOnHud.length;t++){var i=this.pickupsOnHud[t];"Shield"===i.type?i.remainingTime=this.game.engine.player.getRemainingTimeShield():"Rocket"===i.type||"SpreadFire"===i.type?i.remainingTime=this.game.engine.powerUpWeaponManager.getRemainingTime():"Slowmo"===i.type&&(i.remainingTime=this.game.engine.getRemainingTimeSlowmo()),i.remainingTime<=.1||isNaN(i.remainingTime)?(this.typesPickupsOnScreen[i.type]=!1,this.pickupsOnHud.splice(t,1),t--,e=!0,this.containerPickup.removeChild(i)):i.remainingTime<3&&(i.tick++,i.alpha=.3*Math.cos(i.tick)+.7)}e&&this.reorganisePickups()},v.prototype.addLinesUI=function(){this.linesUI.addLines({x:this.healthText.position.x-this.healthText.width/2,y:this.healthText.position.y},4,60,30)},v.prototype.updateScore=function(e){this.score.text=e},v.prototype.updateCoins=function(e){this.spring.dx=2,this.coins.text=e},v.prototype.updateHealth=function(e){this.healthBar.updateView(e),this.redVignet.changeAlpha(1-e)},v.prototype.onPausePressed=function(){this.game.reset()},v.prototype.reset=function(){this.game.endless?this.removeChild(this.progressBar):(this.addChild(this.progressBar),this.progressBar.reset()),this.alreadyBeenDisplayedThisRound=!1,this.healthBar.reset(),this.redVignet.reset(),this.score.text=0,this.coins.text=0,this.progressBarCompleted=!1,this.gaugeWeapon.reset()},v.prototype.showCurrentGoals=function(){this.goalPanel.visible=!0,this.goalPanel.update(),TweenLite.to(this.goalPanel.pivot,.8,{y:-30,ease:Expo.easeOut,onComplete:function(){TweenLite.to(this.goalPanel.pivot,.8,{y:-200,ease:Sine.easeIn,delay:1.2,onComplete:function(){}.bind(this)})}.bind(this)})},v.prototype.updateLives=function(){},v.prototype.onDetailFinish=function(e){},v.prototype.update=function(){this.comboView.update(0|this.game.comboManager.currentTrickScore),this.checkPickupHUD(),this.spring.update(),this.coinsImage.scale.x=this.coinsImage.scale.y=1+.1*this.spring.x,this.game.endless||this.progressBar.update(),this.tick++,this.tick%240===0&&this.addLinesUI(),this.game.engine.player.position.y>400&&(this.game.endless||(this.progressBar.alpha=m.map(this.game.engine.player.position.y,400,560,1,.2),this.progressBar.alpha<.2&&(this.progressBar.alpha=.2)))},v.prototype.showGameover=function(){},v.prototype.onGameoverComplete=function(){this.game.onGameover.dispatch()},v.prototype.completeMission=function(){this.redVignet.reset(),this.game.endless||this.progressBar.reset()},v.prototype.resize=function(e,t){this.w=e,this.h=t,this.progressBar.position.x=this.w/2-this.progressBar.width/2,this.progressBar.position.y=this.progressBarCompleted?this.h+40:this.h-80,this.redVignet.resize(e,t),this.healthBar.position.x=this.w/2+51+(this.healthBar.defaultWidth*this.healthBar.scale.x-this.healthBar.defaultWidth)/2,this.healthBar.position.y=50,this.gaugeWeapon.position.x=this.healthBar.position.x-this.healthBar.width/2+3,this.gaugeWeapon.position.y=80},i.exports=v}),define("com/fighter/game/GameConfig",["require","exports","module"],function(e,t,i){function o(){this.keyCodes={left:37,up:38,right:39,down:40},this.shopData={},this.levels={},this.suitSkinId=0,this.tricks={NONE:0,FLIP:1,ENEMY_DIE:2}}o.prototype.constructor=o,i.exports=new o}),define("com/fighter/game/ComboManager",["require","exports","module","fido/utils/Timer","fido/goals/Goals","com/fighter/game/GameConfig"],function(e,t,i){var o=e("fido/utils/Timer"),n=e("fido/goals/Goals"),r=e("com/fighter/game/GameConfig"),s=function(e){this.game=e,this.game.engine.player.view.onTrickBegin.add(this.onTrickBegin,this),this.game.engine.player.view.onTrickComplete.add(this.onTrickComplete,this),this.game.engine.player.view.onFlying.add(this.onFlying,this),this.game.engine.player.onLosingLife.add(this.onTrickFail,this),this.game.engine.onTrickBegin.add(this.onTrickBegin,this),this.game.engine.onTrickComplete.add(this.onTrickComplete,this),this.combo=0,this.currentTrickScore=0,this.currentTrickId=0,this.timer=new o(1),this.timer.onComplete.add(this.onTimerComplete,this)};s.prototype.onTimerComplete=function(){var e=this.currentTrickScore*this.combo|0;this.combo=0,this.game.incrementDistance(e),this.currentTrickScore=0,this.game.hud.comboView.complete()},s.prototype.onTrickBegin=function(e){this.timer.stop(),this.currentTrickId=e},s.prototype.update=function(e){},s.prototype.onTrickComplete=function(e){this.currentTrickId=e,e===r.tricks.FLIP?(this.combo++,this.currentTrickScore+=100,this.game.hud.comboView.addTrick(e)):e===r.tricks.ENEMY_DIE?(this.startTimer(.5),this.combo++,0===this.currentTrickScore?this.currentTrickScore=100:this.currentTrickScore+=10,this.game.hud.comboView.addTrick(e)):3===e?(this.combo++,this.currentTrickScore+=100,this.game.hud.comboView.addTrick(e),n.instance.increment("flip",1)):4===e?(this.combo+=2,this.currentTrickScore+=500,this.game.hud.comboView.addTrick(e),n.instance.increment("flip",1),n.instance.increment("doubleFlip",1)):5===e?(this.combo+=3,this.currentTrickScore+=2500,this.game.hud.comboView.addTrick(e),n.instance.increment("flip",1),n.instance.increment("doubleFlip",1),n.instance.increment("tripleFlip",1)):6===e?(this.combo++,this.currentTrickScore+=100,this.game.hud.comboView.addTrick(e)):7===e&&(this.combo++,this.currentTrickScore+=100,this.game.hud.comboView.addTrick(e))},s.prototype.onTrickFail=function(e){var t=this.currentTrickScore*this.combo|0;this.combo=0,this.game.incrementDistance(t),this.currentTrickScore=0,this.game.hud.comboView.complete(!0),this.combo>0},s.prototype.startTimer=function(e){this.currentTrickId=0,this.timer.isOn||(this.timer.setDuration(e),this.timer.start())},s.prototype.onFlying=function(e){this.startTimer(1)},i.exports=s}),define("fido/bob/Group",["require","exports","module"],function(e,t,i){var o=function(){this.children=[]};o.prototype.add=function(e){return this.children.push(e),e},o.prototype.remove=function(e){var t=this.children.indexOf(e);return-1===t?null:(this.children.splice(t,1),e)},o.prototype.run=function(e){for(var t=0;t<this.children.length;t++)e(this.children[t])},o.prototype.empty=function(){this.children.length=0},i.exports=o}),define("fido/bob/World",["require","exports","module","PIXI","./Group","fido/system/Ticker"],function(e,t,i){var o=(e("PIXI"),e("./Group")),n=e("fido/system/Ticker"),r=function(){this.allItems=new o,this.updateItems=new o,this.groups={},this.itemsToRemove=[],this.systems=[]};r.constructor=r,r.prototype.install=function(e,t){this.systems.push(e),e.init(this),this[t]=e},r.prototype.changeItemGroups=function(e,t){for(var i=0;i<e.groups.length;i++)var n=e.groups[i],r=this.groups[n].remove(e);for(var s=0;s<t.length;s++){var n=t[s],r=this.groups[n];r||(r=this.groups[n]=new o),r.add(e)}},r.prototype.add=function(e){if(e._gc){var t=this.itemsToRemove.indexOf(e);this.itemsToRemove.splice(t,1),e._gc=!1}e.world&&this.removeItem(e),e.world=this;for(var i=0;i<this.systems.length;i++)this.systems[i].add(e);this.allItems.add(e);for(var i=0;i<e.groups.length;i++){var n=e.groups[i],r=this.groups[n];r||(r=this.groups[n]=new o),r.add(e)}e.update&&this.updateItems.add(e),e.addedToWorld&&e.addedToWorld(this)},r.prototype.remove=function(e){!e._gc&&e.world&&(e._gc=!0,this.itemsToRemove.push(e))},r.prototype.update=function(){var e=n.game.deltaTime*n.game.speed/2;e>2&&(e=2);for(var t=0;e>t;t++){this.removeItems();for(var i=0;i<this.systems.length;i++)this.systems[i].preupdate();for(var o=this.updateItems.children,i=0;i<o.length;i++)o[i].update();for(var i=0;i<this.systems.length;i++)this.systems[i].update();for(var i=0;i<this.systems.length;i++)this.systems[i].postupdate()}},r.prototype.removeItems=function(){this.itemsToRemove.length;for(var e=0;e<this.itemsToRemove.length;e++){var t=this.itemsToRemove[e];this.removeItem(t)}this.itemsToRemove.length=0},r.prototype.removeItem=function(e){e._gc=!1;for(var t=0;t<this.systems.length;t++)this.systems[t].remove(e);e.update&&this.updateItems.remove(e),e.removedFromWorld&&e.removedFromWorld(this),e.world=null,this.allItems.remove(e);for(var t=0;t<e.groups.length;t++){var i=e.groups[t];this.groups[i].remove(e)}},r.prototype.clear=function(){for(var e=0;e<this.systems.length;e++)this.systems[e].clear();this.allItems.empty(),this.updateItems.empty(),this.groups={},this.removeItems(),this.collisionHash={}},r.prototype.find=function(e,t){if(!this.groups[e])return null;for(var i=this.groups[e].children,o=0;o<i.length;o++)if(i[o].meta.name===t)return i[o]};var s=[];r.prototype.findAll=function(e,t){if(!this.groups[e])return null;var i=this.groups[e].children;s.length=0;for(var o=0;o<i.length;o++)i[o].meta.name===t&&s.push(i[o]);return s},i.exports=r}),define("fido/bob/PixiView",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI");o.DisplayObject.prototype.layer="default";var n=function(e){o.Container.call(this),this.innerContainer=new o.Container,this.activeItemsContainer=new o.Container,this.addChild(this.innerContainer),this.innerContainer.addChild(this.activeItemsContainer),this.filterArea=new o.Rectangle(0,0,1e6,1e6),this.layers={},this.camera=e.camera||{x:0,y:0,zoom:1},this.addLayer("back"),this.addLayer("default"),this.addLayer("front")};n.prototype=Object.create(o.Container.prototype),n.prototype.init=function(e){},n.prototype.preupdate=function(e){},n.prototype.update=function(){this.camera.update();var e=this.camera.zoom;this.scale.set(e),this.position.x=this.camera.viewWidth/2-this.camera.viewWidth/2*e,this.position.y=this.camera.viewHeight/2-this.camera.viewHeight/2*e,this.innerContainer.x=-this.camera.x+this.camera.viewWidth/2,this.innerContainer.y=-this.camera.y+this.camera.viewHeight/2},n.prototype.postupdate=function(e){},n.prototype.setLayer=function(e,t){if(e.world){var i=e.view,o=this.layers[i.layer];o.removeChild(i),i.layer=t;var n=this.layers[i.layer];i.parent=n,n.children.push(e.view)}},n.prototype.add=function(e){if(e.view){var t=e.view,i=this.layers[t.layer];t.parent=i,i.children.push(e.view)}},n.prototype.remove=function(e){if(e.view){var t=e.view,i=this.layers[t.layer],o=i.children.indexOf(t);-1!=o&&(t.parent=null,i.children.splice(o,1))}},n.prototype.clear=function(){for(var e in this.layers)this.layers[e].removeChildren()},n.prototype.addLayer=function(e){this.layers[e]=new o.Container,this.activeItemsContainer.addChild(this.layers[e])},n.prototype.bringToFront=function(e){var t=this.layers[e.view.layer],i=t.children.indexOf(e.view);-1!=i&&(t.children.splice(i,1),t.children.push(e.view))},i.exports=n}),define("fido/bob/index",["require","exports","module","./World","./Group","./PixiView"],function(e,t,i){i.exports={World:e("./World"),Group:e("./Group"),PixiView:e("./PixiView")}}),define("com/fighter/game/engine_shooter/Camera",["require","exports","module","PIXI","fido/physics/DoubleSpring","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("fido/physics/DoubleSpring"),r=e("fido/utils/Math2"),s=e("fido/system/Ticker"),a=function(e){this.x=0,this.y=0,this.rotation=0,this.zoom=1,this.viewWidth=1024,this.viewHeight=626,this.game=e,this.padding=Device.instance.isMobile?1e5:100,this.deviceOffset=Device.instance.isMobile?1.2:1,this.idleZoom=1.6,this.movingZoom=1,this.deathZoom=3.2,this.zoom=this.idleZoom,this.zoomTarget=this.idleZoom,this.zoomWait=0,this.easeX=0,this.easeY=0,this.spring=new n,this.springHit=new n,this.spring.damp=.9,this.spring.springiness=.09,this.springHit.damp=.9,this.currentTarget=new o.Point,this.gameMode=!1,this._ratio=0,this.overZoom=0,this.canShake=!0,this.target=new o.Point,this.defaultPoint=new o.Point,this.offset=new o.Point,this.ease=new o.Point,this.mobileSpeed={min:.04,max:.05},this.desktopSpeed={min:.02,max:.02},this.speed=null,Device.instance.desktop?this.speed=this.desktopSpeed:this.speed=this.mobileSpeed};a.prototype.reset=function(){this.player=this.game.player,this.idleZoom=1,this.zoom=1,this.ease.x=this.x=0,this.ease.y=this.y=0,this._ratio=0,this.gameMode=!0},a.prototype.hit=function(e,t,i){this.canShake&&((void 0===e||null===e)&&(e=e||Math.random()*Math.PI*2),t=t||10,this.springHit.dx=Math.sin(e)*t,this.springHit.dy=Math.cos(e)*t)},a.prototype.shake=function(e,t,i){this.canShake&&((void 0===e||null===e)&&(e=e||Math.random()*Math.PI*2),t=t||10,(Math.sin(e)*t>this.spring.dx&&Math.cos(e)*t>this.spring.dy||i)&&(this.spring.dx=Math.sin(e)*t,this.spring.dy=Math.cos(e)*t))},a.prototype.moveTo=function(e,t,i){TweenLite.to(this,t,{_ratio:1,ease:Sine.easeInOut,onComplete:i}),this.currentTarget=e},a.prototype.moveToPlayer=function(e,t){TweenLite.to(this,e,{_ratio:0,ease:Sine.easeInOut,onComplete:t}),this.gameMode=!0},a.prototype.lock=function(){this.easeX=this.game.player.position.x,this.easeY=this.game.player.position.y-60,this.x=this.easeX,this.y=this.easeY,this._ratio=0},a.prototype.introZoom=function(){EasingsGame.to(this,1,{zoom:2})},a.prototype.quickZoom=function(){TweenLite.to(this,.3,{overZoom:.3,ease:Back.easeOut})},a.prototype.quickZoomOut=function(e){TweenLite.to(this,.3,{overZoom:0,delay:e,ease:Back.easeOut})},a.prototype.deathMode=function(){this.shake(),this.deathZoom=this.zoom,TweenLite.to(this,.5,{deathZoom:2,rotation:.1,ease:Back.easeOut}),TweenLite.to(this,.5,{deathZoom:1,rotation:0,overwrite:!1,delay:.6,ease:Back.easeIn})},a.prototype.update=function(){this.spring.update(),this.springHit.update(),this.x=this.target.x+this.defaultPoint.x+this.spring.x+this.offset.x+this.springHit.x;var e=this.player.velocity.y;e>50?e=50:-50>e&&(e=-50);var t=r.map(Math.abs(e),0,50,0,1)*this.speed.max+this.speed.min;this.ease.y+=(this.defaultPoint.y-this.target.y-this.ease.y)*t*s.game.deltaTime,this.y=this.ease.y,this.y+=this.spring.y,this.y+=this.springHit.y},a.prototype.resize=function(e,t){this.viewWidth=e,this.viewHeight=t},i.exports=a}),define("com/fighter/game/engine_shooter/view/ShipAbstractView",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(){o.Sprite.call(this)};n.prototype=Object.create(o.Sprite.prototype),n.prototype.update=function(){},n.prototype.reset=function(){},i.exports=n}),define("com/fighter/game/engine_shooter/PlayerView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView","fido/utils/Math2","fido/utils/Utils","fido/system/Ticker","signals","com/fighter/game/GameConfig"],function(e,t,i){function o(e,t,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+t}var n=e("PIXI"),r=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),s=(e("fido/utils/Math2"),e("fido/utils/Utils")),a=e("fido/system/Ticker"),h=e("signals"),c=e("com/fighter/game/GameConfig"),l={"default":0,moving:1,fliping:2},p=function(e){r.call(this),this.onFlying=new h,this.onTrickBegin=new h,this.onTrickComplete=new h,this.defaultBaseImage=e||"xwing_movement_000",this.view=new n.Sprite.fromFrame(this.defaultBaseImage+"14.png"),this.defaultTexture=this.defaultBaseImage+"14.png",this.view.scale.x=this.view.scale.y=.6,this.view.anchor.x=this.view.anchor.y=.5,this.addChild(this.view),this.state=l["default"],this.defaultId=14,this.top=0,this.bottom=28,this.easeV=0,this.minV=.1,this.maxV=10,this.speed=new n.Point;var t=s.getTexturesFromFramesWithPrefix("XWING_000%%.png",20,0);this.view.flipTextures=t,this.view.counter=0,this.view.speed=.4,this.gunsContainer=new n.Container,this.view.addChild(this.gunsContainer),this.gunTop=new n.Sprite.fromFrame("baton_shooter_haut.png"),this.gunTop.defaultx=-35,this.gunTop.position.x=-35,this.gunTop.position.y=-30,this.gunsContainer.addChild(this.gunTop),this.gunBottom=new n.Sprite.fromFrame("baton_shooter_bas.png"),this.gunBottom.defaultx=-35,this.gunBottom.position.x=-35,this.gunBottom.position.y=20,this.gunsContainer.addChild(this.gunBottom);var i=s.getTexturesFromFramesWithPrefix("shield_appear_000%%.png",14,0);this.apparition=new n.Sprite(i[0]),this.apparition.anchor.x=this.apparition.anchor.y=.5,this.apparition.textures=i,this.apparition.counter=0,this.apparition.speed=.4,this.impacts=[],this.pool=[]};p.prototype=Object.create(r.prototype),p.prototype.showImpact=function(e){var t=this.pool.pop();if(!t){var i=s.getTexturesFromFramesWithPrefix("impact_player_000%%.png",7,0),t=new n.Sprite(i[0]);t.anchor.x=t.anchor.y=.5,t.textures=i,t.scale.x=t.scale.y=2}t.speed=.15,t.visible=!0,t.position.x=e.x,t.position.y=e.y,t.counter=0,this.view.addChild(t),this.impacts.push(t)},p.prototype.setSpeed=function(e){this.speed.x=e.x,Math.abs(e.y)>.1?this.speed.y=e.y:this.speed.y=0,this.speed.x>30&&this.flip()},p.prototype.fire=function(e){},p.prototype.reset=function(){EasingsGame.killTweensOf(this.view),EasingsGame.killTweensOf(this),this.isLeaving=!1,this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+"14.png"),this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+"14.png"),this.state=l["default"],this.gunsContainer.visible=!0,this.rotation=0,this.view.rotation=0},p.prototype.backToNormal=function(){this.isLeaving=!0;var e,t={number:28};EasingsGame.to(t,2,{number:14,onUpdate:function(){e=Math.floor(t.number),this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+(10>e?"0"+e:e)+".png")}.bind(this),onComplete:function(){this.isLeaving=!1}.bind(this)})},p.prototype.showSide=function(){this.isLeaving=!0;var e,t={number:14};EasingsGame.to(t,.6,{number:28,ease:EasingsGame.easeInOutSine,onUpdate:function(){e=Math.floor(t.number),this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+(10>e?"0"+e:e)+".png")}.bind(this)})},p.prototype.leave=function(e){this.isLeaving=!0;var t,i={number:14};EasingsGame.to(i,1,{number:4,ease:EasingsGame.easeInOutSine,onUpdate:function(){t=Math.floor(i.number),this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+(10>t?"0"+t:t)+".png")}.bind(this)}),EasingsGame.to(this.view,2,{rotation:-Math.PI/8,ease:Easings.easeInOutSine})},p.prototype.hit=function(e){this.showImpact(e)},p.prototype.flip=function(e){Device.instance.desktop&&this.state!==l.fliping&&(this.state=l.fliping,this.view.counter=0,this.stopSendingSomeBonus||this.onTrickBegin.dispatch(c.tricks.FLIP))},p.prototype.updateView=function(e){if(this.speed.y*=.99,!this.isLeaving){if(this.state!==l.fliping||this.stopSendingSomeBonus){var t,i=Math.abs(this.speed.y),r=e.y<0?-1:1;if(isNaN(i))return;Math.abs(i)<this.minV?(this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+"14.png"),this.state=l["default"],this.gunsContainer.visible=!0):(i>this.maxV&&(i=this.maxV),this.easeV+=.2*(i-this.easeV),this.state=l.moving,t=r>0?Math.floor(o(this.easeV,this.defaultId,this.bottom-this.defaultId,this.maxV)):Math.floor(o(this.easeV,this.defaultId,this.top-this.defaultId,this.maxV)),this.view.texture=n.Texture.fromFrame(this.defaultBaseImage+(10>t?"0"+t:t)+".png"),14===t?this.gunsContainer.visible=!0:this.gunsContainer.visible=!1)}else this.view.counter+=this.view.speed*a.game.deltaTime,this.view.texture=this.view.flipTextures[Math.floor(this.view.counter%this.view.flipTextures.length)],Math.floor(this.view.counter%this.view.flipTextures.length)>=this.view.flipTextures.length-1&&(this.state=l["default"],this.onTrickComplete.dispatch(c.tricks.FLIP),this.onFlying.dispatch(),this.stopSendingSomeBonus=!0);for(var s=0;s<this.impacts.length;s++){var h=this.impacts[s];h.counter+=h.speed*a.game.deltaTime,h.texture=h.textures[Math.floor(h.counter%h.textures.length)],Math.floor(h.counter%h.textures.length)>=h.textures.length-1&&(this.pool.push(h),this.view.removeChild(h),this.impacts.slice(s,1),s--)}}},i.exports=p}),define("com/fighter/game/engine/Item",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/utils/FrameWait"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/GameObjectPool"),r=e("fido/utils/FrameWait"),s=function(e,t,i,r){this.UID=s._UID++,this.view=i||null,this.body=r||null,this.position=new o.Point,this.view&&(this.view.position=this.position),this.position.x=0|e,this.position.y=0|t,this.world=null,this.canCollide=!0,this.collideWithSelf=!0,this.type=0,this.groups=[],this._TICK=-1,this.keepInBonus=!0,this._gc=!1,this.returnToPool=function(){n.returnObject(this)}.bind(this)};s.prototype.updateView=function(e){this.view=e},s.prototype.reset=function(e){},s.prototype.destroy=function(){this.world&&(this.world.remove(this),r.wait(this.returnToPool))},s._UID=0,s.mixin=function(e,t){t.call(e),Object.assign(e,t)},i.exports=s}),define("fido/bob/crash/Vector",["require","exports","module"],function(e,t,i){var o=function(e,t){this.x=e||0,this.y=t||0,this.id=o._UID++};o._UID=0,o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.plus=function(e){return this.x+=e.x,this.y+=e.y,this},o.prototype.minus=function(e){return this.x-=e.x,this.y-=e.y,this},o.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},o.prototype.multiply=o.prototype.multiplyScalar=function(e){return this.x*=e,this.y*=e,this},o.prototype.divideScalar=function(e){if(0===e)this.x=0,this.y=0;else{var t=1/e;this.x*=t,this.y*=t}return this},o.prototype.dot=function(e){return this.x*e.x+this.y*e.y},o.prototype.length=function(e){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},o.prototype.normalize=function(){return this.divideScalar(this.length())},o.prototype.distanceTo=function(e){return Math.sqrt(this.distanceToSq(e))},o.prototype.distanceToSq=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},o.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},o.prototype.setX=function(e){return this.x=e,this},o.prototype.setY=function(e){return this.y=e,this},o.prototype.setLength=function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},o.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},o.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},o.prototype.rad=function(){return Math.atan2(this.x,this.y)},o.prototype.deg=function(){return 180*this.rad()/Math.PI},o.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},o.prototype.rotate=function(e){var t=this.x;return this.x=this.x*Math.cos(e)-this.y*Math.sin(e),this.y=t*Math.sin(e)+this.y*Math.cos(e),this},o.projectPoint=function(e,t){var i=new o(0,0),n=o.project(e.clone().minus(i),t);return n.clone().plus(i)},o.project=function(e,t){var i=new o(0,0),n=e.dot(t);return i.x=n/(t.x*t.x+t.y*t.y)*t.x,i.y=n/(t.x*t.x+t.y*t.y)*t.y,i},o.prototype.constructor=o,i.exports=o}),define("com/fighter/game/engine_shooter/Ship",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker","signals"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=e("fido/system/Ticker"),a=e("signals"),h=function(e){e=e||o.Container,n.call(this,0,0,e),this.view.owner=this,this.affectBySlowMo=!0,this.onAddedToWorld=new a,this.onRemovedFromWorld=new a,this.debug=!1,this.canFire=!0,this.contactZone=new o.Rectangle,this.tickWaitTimeToShot=0,this.defaultWaitTimeToShot=60,this.waitTimeToShot=this.defaultWaitTimeToShot,this.delayBullet=10,this.indexBullet=0,this.defaultArrayToShoot=[1],this.arrayToShoot=[],this.defaultNumberLife=5,this.life=this.defaultNumberLife,this.currentLife=5,this.dir=1,this.tick=0,this.tickBullet=0,this.isDead=!1,this.radius=12.5,this.stopShooting=!1,this.G=100,this.mass=100,this.positionVec=new r(this.position.x,this.position.y),this.velocity=new r(0,0),this.acceleration=new r(0,0),this.attractors=[],this.repulsors=[],this.floatMovement=new o.Point(.2,.1)};h.prototype=Object.create(n.prototype),h.prototype.bringViewToBack=function(){this.world.view.setLayer(this,"shipsBack"),this.isBackward=!0,this.view.scale.x=-.6,this.view.scale.y=.6},h.prototype.bringViewToFront=function(e){this.world.view.setLayer(this,"ships"),this.isBackward=!1,EasingsGame.to(this.view.scale,.2,{x:1,y:1}),EasingsGame.to(this.positionVec,.2,{y:this.positionVec.y+e})},h.prototype.addedToWorld=function(){this.world.view.setLayer(this,"ships"),this.onAddedToWorld.dispatch(this),this.view.reset()},h.prototype.removedFromWorld=function(){this.onRemovedFromWorld.dispatch(this)},h.prototype.removeAttractors=function(){this.attractors=[],this.repulsors=[]},h.prototype.addAttractor=function(e){this.attractors.push(e)},h.prototype.addRepulsor=function(e){this.repulsors.push(e)},h.prototype.stopPrimaryWeapon=function(){this.stopShooting=!0},h.prototype.playPrimaryWeapon=function(){this.stopShooting=!1},h.prototype.reset=function(){if(this.arrayToShoot=this.defaultArrayToShoot.slice(),this.waitTimeToShot=this.defaultWaitTimeToShot,this.tickWaitTimeToShot=this.waitTimeToShot,this.tick=0,this.life=this.defaultNumberLife,this.tickBullet=Math.floor(-100*Math.random()),this.isBackward=!1,this.view.scale.x=1,this.view.scale.y=1,this.debug){var e=new o.Graphics;e.beginFill(16711680).drawRect(this.contactZone.x-this.contactZone.width/2,this.contactZone.y-this.contactZone.height/2,this.contactZone.width,this.contactZone.height),this.view.addChild(e)}},h.prototype.fire=function(){},h.prototype.manageScale=function(e){this.view.scale.x=this.view.scale.y=.8+e/2},h.prototype.update=function(){this.canFire&&(this.tickWaitTimeToShot>0?this.tickWaitTimeToShot--:this.tickBullet>=this.delayBullet&&!this.stopShooting&&!this.isBackward&&(this.arrayToShoot[this.indexBullet%this.arrayToShoot.length]&&this.fire(),this.tickBullet=0,this.indexBullet++,this.indexBullet>this.arrayToShoot.length&&(this.indexBullet=0,this.tickWaitTimeToShot=this.waitTimeToShot))),this.view.update(),this.tick+=this.affectBySlowMo?s.game.deltaTime:1,this.tickBullet+=this.affectBySlowMo?Math.min(s.game.deltaTime,1):1,this.isStatic||!this.canMove||this["switch"]||(this.positionVec.x+=Math.cos(this.tick/10)*this.floatMovement.x,this.positionVec.y+=Math.cos(this.tick/20)*this.floatMovement.y)},i.exports=h}),define("com/fighter/game/engine_shooter/bullets/Bullet",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("fido/bob/crash/Vector"),a=new s,h=(new s,function(e){e=e||new o.Container,e.anchor.set(.5),r.call(this,0,0,e),this.view.layer="lasers",this.debug=!1,this.TYPES={enemy:0,player:1},this.damage=1,this.type=this.TYPES.enemy,this.contactZone=new o.Rectangle(0,0,60,5),this.readyForDestroy=!1,this.G=10,this.mass=5,this.speedBullet=new o.Point(-8,0),this.positionVec=new s(this.position.x,this.position.y),this.velocity=new s(-8,0),this.acceleration=new s(0,0),this.groups=["bullets"]});h.prototype=Object.create(r.prototype),h.prototype.calculateAttraction=function(e){a.x=0,a.y=0;for(var t=0;t<e.attractors.length;t++)a.plus(e.attractors[t].calculateAttraction(this));return a},h.prototype.calculateRepulsion=function(e){a.x=0,a.y=0;for(var t,i=0;i<e.repulsors.length;i++)t=e.repulsors[i].calculateRepulsion(this,this.position.x,this.position.y),a.plus(t);return a},h.prototype.applyForce=function(e){var t=a;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);this.acceleration.plus(i)},h.prototype.update=function(){this.velocity.plus(this.acceleration),this.view.rotation=Math.atan2(this.velocity.y,this.velocity.x),this.positionVec.plus(this.velocity),this.velocity.multiply(0),this.type===this.TYPES.player?(this.velocity.x+=this.speedBullet.x,this.velocity.y+=this.speedBullet.y):(this.velocity.x+=this.speedBullet.x*n.game.deltaTime*this.timeManager.tickSpeedEnemies,this.velocity.y+=this.speedBullet.y*n.game.deltaTime*this.timeManager.tickSpeedEnemies),this.acceleration.multiply(.98),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y},h.prototype.reset=function(){if(this.timeManager=this.world.game.game.timeManager,this.readyForDestroy=!1,this.mass=20,this.positionVec=new s(this.position.x,this.position.y),this.debug){var e=new o.Graphics;e.beginFill(65280).drawRect(this.contactZone.x-this.contactZone.width/2,this.contactZone.y-this.contactZone.height/2,this.contactZone.width,this.contactZone.height),this.view.addChild(e)}},i.exports=h}),define("com/fighter/game/engine_shooter/bullets/FighterBullet",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=function(){var e=new o.Sprite.fromFrame("bullet_red.png");e.scale.x=1+.6*Math.random(),e.anchor.x=0,e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.player,this.speedBullet=new o.Point(12,0),this.defaultSpeedBullet=new o.Point(12,0),this.groups.push("player_bullets")};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){n.prototype.reset.call(this),this.speedBullet.x=this.defaultSpeedBullet.x+1.5*Math.random()-.75;this.world.game.game.app.getShopStates();this.damage=1},i.exports=r}),define("com/fighter/game/engine_shooter/DelayedCallsGame",["require","exports","module","fido/system/Ticker","fido/system/DelayedCalls"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("fido/system/DelayedCalls"),r=function(){n.call(this),this.update2=n.prototype.update};r.prototype=Object.create(n.prototype),r.prototype.update=function(){o.game.active&&this.update2()},i.exports=r}),define("com/fighter/game/engine_shooter/damages/damages/DamagesPlayer",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("fido/utils/Utils"),a=function(e){r.call(this,0,0,new o.Container),this.view.layer="shields",this.groups=["damages"];var t=s.getTexturesFromFramesWithPrefix("impact_player_000%%.png",7,0);this.impact=new o.Sprite(t[0]),this.impact.anchor.x=this.impact.anchor.y=.5,this.impact.textures=t,this.impact.scale.x=this.impact.scale.y=2,this.impact.speed=.5,this.impact.counter=0};a.prototype=Object.create(r.prototype),a.prototype.update=function(){this.impact.counter+=this.impact.speed*n.game.deltaTime,this.impact.texture=this.impact.textures[Math.floor(this.impact.counter%this.impact.textures.length)],Math.floor(this.impact.counter%this.impact.textures.length)>=this.impact.textures.length-1&&(this.view.removeChild(this.impact),this.destroy())},a.prototype.stop=function(){this.destroy()},a.prototype.reset=function(){this.view.addChild(this.impact),this.impact.counter=0},i.exports=a}),define("com/fighter/game/engine_shooter/damages/SmokeShip",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=(e("fido/system/Ticker"),new r,function(e){var e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke3.png");e.anchor.x=e.anchor.y=.5,n.call(this,0,0,e),this.tick=0,this.speed=new o.Point});s.prototype=Object.create(n.prototype),s.prototype.addedToWorld=function(){this.appearing=!0,this.view.scale.x=this.view.scale.y=.3,this.view.alpha=.6,this.view.speedR=.05*Math.random()-.025,this.view.position.x=-40},s.prototype.update=function(){this.view.alpha*=.96,this.view.scale.x=this.view.scale.y*=1.01,this.view.position.x-=1,this.view.rotation+=this.view.speedR,this.view.alpha<.08&&this.destroy()},s.prototype.reset=function(){},i.exports=s}),define("com/fighter/game/engine_shooter/damages/SmokeTrailShip",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker","com/fighter/game/engine_shooter/damages/SmokeShip"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/GameObjectPool"),r=e("com/fighter/game/engine/Item"),s=e("fido/bob/crash/Vector"),a=(e("fido/system/Ticker"),e("com/fighter/game/engine_shooter/damages/SmokeShip")),h=(new s,function(e){r.call(this,0,0),this.tick=0,this.groups=["smoke_trails"],this.target=new o.Point,this.smokes=[],this.isReady=!0});h.prototype=Object.create(r.prototype),
h.prototype.addSmoke=function(){var e=n.getObject(a);e.position.x=this.target.position.x,e.position.y=this.target.position.y;var t=Math.cos(this.target.view.rotation),i=Math.sin(this.target.view.rotation);e.speed.x=2*-t,e.speed.y=-i*(.1*Math.random()),this.world.add(e),this.smokes.push(e)},h.prototype.animateSmoke=function(){for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.position.x+=t.speed.x,t.position.y+=t.speed.y,t.speed.x*=.99,t.speed.y*=.99,t.world||(this.smokes.splice(e,1),e--)}},h.prototype.update=function(){this.animateSmoke(),this.isReady&&(this.tick++,this.tick%(Device.instance.desktop?5:20)===0&&this.addSmoke(),this.target.world||this.destroy())},h.prototype.reset=function(e){this.isReady=!0,this.target=e||new o.Point},i.exports=h}),define("com/fighter/game/engine_shooter/ShipTrail",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine/Item","fido/system/Ticker"],function(e,t,i){function o(e,t,i,o){return e/=o,i*e*e*e+t}var n=e("PIXI"),r=(e("fido/utils/Math2"),e("com/fighter/game/engine/Item")),s=e("fido/system/Ticker"),a=function(){r.call(this,0,0,new n.Container);var e=new n.Texture.fromFrame("rope2.png");if(this.defaultWidth=e.width,this.ropeLength=e.width/6,this.tick=0,this.points=[],n.isWebGL){for(var t=0;20>t;t++){var i=new n.Point(t*this.ropeLength,0);i.ease=new n.Point,i.x=20*t,i.y=0,this.points.push(i)}this.minTrailWidth=320,this.trailWidth=300,this.strip=new n.mesh.Rope(n.Texture.fromFrame("2stoke_xwing.png"),this.points),this.strip.interactive=!1,this.strip.blendMode=n.BLEND_MODES.ADD}else this.strip=new n.Sprite(e);this.strip.hitArea=new n.Rectangle,this.view.addChild(this.strip),this.engineExhaust=new n.Sprite.fromFrame("2reacteur_xwing_ADD.png"),this.engineExhaust.interactive=!1,this.engineExhaust.anchor.x=this.engineExhaust.anchor.y=.5,this.engineExhaust.blendMode=n.isWebGL?n.BLEND_MODES.ADD:0,this.engineExhaust.alpha=.9,this.engineExhaust.hitArea=new n.Rectangle,this.view.addChild(this.engineExhaust),this.groups=["cloudy_trails"]};a.prototype=Object.create(r.prototype),a.prototype.reset=function(e){this.target=e,this.trailWidth=300},a.prototype.update=function(){this.trailWidth>this.minTrailWidth&&(this.trailWidth*=.99),this.engineExhaust.position.x=this.target.position.x-60,this.engineExhaust.position.y=this.target.position.y;var e=this.target.view.position.x-this.trailWidth,t=this.target.view.position.x-50;if(this.tick+=.1,n.isWebGL){var i=.9+.5*Math.random();this.strip.alpha+=.3*(i-this.strip.alpha);for(var r=0;r<this.points.length;r++)if(0===r?this.points[r].x=e:r===this.points.length-1?this.points[r].x=t:this.points[r].x=e+(t-e)/this.points.length*r,r===this.points.length-1){this.points[r].y=this.target.position.y;var a=1;this.points[r].ease.y+=(this.target.position.y-this.points[r].ease.y)*a*s.game.deltaTime,this.points[r].y=this.points[r].ease.y}else{var a=1/(this.points.length-1)*(r+1);if(n.isWebGL){var h=o(a,.05,.95,1);this.points[r].ease.y+=(this.points[this.points.length-1].y-this.points[r].ease.y)*h*s.game.deltaTime}else this.points[r].ease.y+=(this.points[this.points.length-1].y-this.points[r].ease.y)*a*s.game.deltaTime;this.points[r].y=this.points[r].ease.y}}},i.exports=a}),define("com/fighter/game/engine_shooter/Player",["require","exports","module","PIXI","signals","com/fighter/game/engine_shooter/PlayerView","com/fighter/game/engine_shooter/Ship","com/fighter/game/engine_shooter/bullets/FighterBullet","fido/bob/crash/Vector","fido/utils/Math2","com/fighter/game/engine_shooter/DelayedCallsGame","com/fighter/game/engine_shooter/damages/damages/DamagesPlayer","com/fighter/game/engine/GameObjectPool","fido/utils/Utils","fido/system/Ticker","com/fighter/game/engine_shooter/damages/SmokeTrailShip","com/fighter/game/engine_shooter/ShipTrail","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=e("com/fighter/game/engine_shooter/PlayerView"),s=e("com/fighter/game/engine_shooter/Ship"),a=e("com/fighter/game/engine_shooter/bullets/FighterBullet"),h=e("fido/bob/crash/Vector"),c=e("fido/utils/Math2"),l=e("com/fighter/game/engine_shooter/DelayedCallsGame"),p=e("com/fighter/game/engine_shooter/damages/damages/DamagesPlayer"),u=e("com/fighter/game/engine/GameObjectPool"),d=e("fido/utils/Utils"),g=e("fido/system/Ticker"),f=e("com/fighter/game/engine_shooter/damages/SmokeTrailShip"),m=e("com/fighter/game/engine_shooter/ShipTrail"),v=e("fido/sound/SoundBridge"),y=new h,_=function(e){var t=new r;s.call(this,t),this.soundsMuted=!1,this.soundIsPlaying=!1,this.mustGetAllHealthBack=!1,this.delayBeforeRemovingShield=15,this.delayBeforeGettingLifeBack=null,this.idDelayedShield=null,this.affectBySlowMo=!1,this.gotHisHealthBackPickup=!1,this.positionBeforeMoving=new o.Point,this.arrayToShoot=[1],this.engine=e,this.onDying=new n,this.onLosingLife=new n,this.onWinningLife=new n,this.onShipMoveFast=new n,this.refreshPosition=!0,this.defaultWaitTimeToShot=0,this.delayBullet=18,this.contactZoneDefault=new o.Rectangle(-20,0,50,20),this.contactZoneShield=new o.Rectangle(-20,0,160,160),this.contactZone=this.contactZoneDefault,this.target=new h,this.tempAcceleration=new h,this.speed=new o.Point,this.maxspeed=35,this.defaultNumberLife=2,this.delayedCalls=new l,this.shield=null;var i=d.getTexturesFromFramesWithPrefix("electric_charge_000%%.png",10,1);this.laserCharger=new o.Sprite,this.laserCharger.position.x=10,this.laserCharger.anchor.x=this.laserCharger.anchor.y=.5,this.laserCharger.visible=!1,this.laserCharger.textures=i,this.laserCharger.counter=0,this.laserCharger.speed=.3,this.view.addChild(this.laserCharger);var a=d.getTexturesFromFramesWithPrefix("charge_laser_000%%.png",17,0);this.laserChargerPoints=new o.Sprite,this.laserChargerPoints.position.x=10,this.laserChargerPoints.anchor.x=this.laserChargerPoints.anchor.y=.5,this.laserChargerPoints.visible=!1,this.laserChargerPoints.textures=a,this.laserChargerPoints.counter=0,this.laserChargerPoints.speed=.3,this.view.addChild(this.laserChargerPoints),this.shipTrail=u.getObject(m),this.shipTrail.reset(this),this.invincible=!1,this.shipMoved=[0,0],this.stopCheckSpeed=!1};_.prototype=Object.create(s.prototype),_.prototype.muteSounds=function(){e("fido/sound/SoundBridge").sfx.stop("weapon_powerup"),e("fido/sound/SoundBridge").sfx.stop("laser_loops")},_.prototype.playSounds=function(){!this.dying&&this.soundIsPlaying&&(e("fido/sound/SoundBridge").sfx.stop("weapon_powerup"),e("fido/sound/SoundBridge").sfx.play("laser_loops"))},_.prototype.addedToWorld=function(){s.prototype.addedToWorld.call(this),this.world.add(this.shipTrail)},_.prototype.removedFromWorld=function(){s.prototype.removedFromWorld.call(this),this.shipTrail.destroy(),this.smokeTrail.destroy()},_.prototype.removeAttractors=function(){s.prototype.removeAttractors.call(this),this.shield&&this.shield.world&&this.shield.destroy(),this.shield=null},_.prototype.removeShield=function(){for(var e=0;e<this.repulsors.length;e++)if(this.shield.id===e){this.repulsors.splice(e,1);break}this.shield.end(),this.shield=null,this.idDelayedShield=null,this.contactZone=this.contactZoneDefault},_.prototype.addCoinAttractor=function(e){this.coinAttractor=e},_.prototype.addShield=function(e){this.contactZone=this.contactZoneShield,this.delayedCalls.clear(),this.idDelayedShield=this.delayedCalls.add(this.removeShield.bind(this),this.delayBeforeRemovingShield),!this.shield&&e&&(s.prototype.addRepulsor.call(this,e),this.shield=e,this.shield.start(),this.shield.id=this.repulsors.length-1)},_.prototype.hit=function(e,t){if(!this.dying){if(this.delayBeforeGettingLifeBack=200,e=e||1,this.shield)this.shield.hit(t);else{if(t){v.sfx.playGroup("player_hit");var i=u.getObject(p);i.reset(),this.world.game.camera.hit(Math.PI/2,20),i.position.x=t.positionVec.x,i.position.y=t.positionVec.y,this.world.add(i)}this.loseLife(e)}this.acceleration.x-=10}},_.prototype.celebrate=function(e){this.canFire=!1,this.dying=!0,this.velocity.x=0,this.velocity.y=0,EasingsGame.to(this.positionVec,1.5,{x:500,y:350,ease:EasingsGame.easeOutSine}),EasingsGame.to(this.positionVec,2,{delay:1.6,x:2e3,ease:EasingsGame.easeInOutSine})},_.prototype.playTransitionTrench=function(){this.transitioning=!0,this.velocity.x=0,this.velocity.y=0,EasingsGame.to(this.positionVec,2,{x:100,y:300,onComplete:function(){EasingsGame.to(this.positionVec,1.5,{x:1e3,ease:EasingsGame.easeInOutCirc,onComplete:function(){EasingsGame.to(this.positionVec,2,{x:200,ease:EasingsGame.easeInOutSine,onComplete:function(){this.transitioning=!1,this.target.x=this.positionVec.x,this.target.y=this.positionVec.y}.bind(this)}),this.view.backToNormal()}.bind(this)}),this.view.showSide()}.bind(this)})},_.prototype.die=function(t){e("fido/sound/SoundBridge").sfx.stop("laser_loops"),this.dying=!0,this.velocity.x=0,this.velocity.y=0,EasingsGame.to(this.positionVec,3,{x:-200,ease:EasingsGame.easeOutSine,onComplete:function(){this.onDying.dispatch()}.bind(this)}),EasingsGame.to(this.positionVec,4,{y:0,ease:EasingsGame.easeInOutSine}),this.view.leave()},_.prototype.loseLife=function(e){e=e||1,this.life-=e,this.onLosingLife.dispatch(this.life/this.defaultNumberLife),this.life<=0?this.life=0:this.life<=this.defaultNumberLife/4&&this.addSmoke(),this.delayBeforeGettingLifeBack=200},_.prototype.stopSmoke=function(){this.smoking=!1,this.smokeTrail.destroy()},_.prototype.addSmoke=function(){this.smoking=!0,this.smokeTrail=u.getObject(f),this.smokeTrail.reset(this),this.world.add(this.smokeTrail)},_.prototype.winLife=function(e,t){t=t||this.defaultNumberLife;var i=this.world.game.game.app.getShopStates();e=e||i.health,this.life+=e,this.life>=t&&(this.life=t,this.delayBeforeGettingLifeBack=null,this.mustGetAllHealthBack=!1),this.onWinningLife.dispatch(this.life/this.defaultNumberLife),this.life>0&&(this.view.alpha=1,this.life>this.defaultNumberLife/3*2?this.world.game.game.endless||(this.gotHisHealthBackPickup=!1):this.life>this.defaultNumberLife/4&&this.smoking&&this.stopSmoke())},_.prototype.start=function(){this.target.x=this.positionVec.x,this.target.y=this.positionVec.y,this.canFire=!0,this.starting=!1},_.prototype.reset=function(){s.prototype.reset.call(this),EasingsGame.killTweensOf(this.positionVec),this.world.view.setLayer(this,"ships");var e=this.world.game.game.app.getShopStates();this.delayBullet=18-1*(e.frequency_bullet-1),this.invincible=!1,this.soundFireMainGun=!1,this.smoking=!1,this.canFire=!1,this.stopCheckSpeed=!1,this.delayedCalls.clear(),this.idDelayedShield=null,this.view.alpha=1,this.gotHisHealthBackPickup=!1,this.soundsMuted=!1,this.soundIsPlaying=!1,this.stopShooting=!1,this.laserCharger.visible=!1,this.laserChargerPoints.visible=!1,this.dying=!1,this.starting=!0,this.transitioning=!1,this.velocity.x=0,this.velocity.y=0,this.positionVec.x=200,this.positionVec.y=300,this.target.x=this.positionVec.x,this.target.y=this.positionVec.y,this.position.x=200,this.position.y=300,this.view.position.x=200,this.view.position.y=300,this.view.reset(),this.shield&&this.shield.world&&this.shield.destroy(),this.shield=null,this.defaultNumberLife=window.expert?8:16,this.defaultNumberLife+=e.health+1,this.life=this.defaultNumberLife,this.onWinningLife.dispatch(this.life/this.defaultNumberLife),Device.instance.desktop?this.maxspeed=35:Device.instance.iPad?this.maxspeed=75:this.maxspeed=55},_.prototype.fire=function(){var t=Math.random()>=.5?!0:!1;t?this.world.game.bulletsManager.fire(a,this,{x:10,y:-13}):this.world.game.bulletsManager.fire(a,this,{x:10,y:13}),this.view.fire(t);"xwing_shot_0"+Math.ceil(2*Math.random());this.soundFireMainGun||(this.soundFireMainGun=!0,this.soundIsPlaying=!0,e("fido/sound/SoundBridge").sfx.play("laser_loops"))},_.prototype.checkBounds=function(){this.positionVec.y>this.engine.h+30*Math.cos(this.tick/100)-20?this.positionVec.y=this.engine.h+30*Math.cos(this.tick/100)-20:this.position.y<this.world.game.h-this.world.game.bounds.height+50&&(this.position.y=this.world.game.h-this.world.game.bounds.height+50),this.position.x>this.world.game.w-50?this.position.x=this.world.game.w-50:this.position.x<10&&(this.position.x=10)},_.prototype.applyForce=function(e){this.acceleration.plus(e)},_.prototype.follow=function(){var e=y,t=this.target.x,i=this.target.y;e.x=t,e.y=i;var o=e.minus(this.positionVec),n=o.length();if(10>n)n=10;else if(500>n){var r=c.map(n,10,500,10,this.maxspeed);o.setLength(r)}else o.setLength(this.maxspeed);var s=o.minus(this.velocity);this.applyForce(s)},_.prototype.moveTo=function(e){this.starting||this.dying||this.isCelebrating||(this.target.x=e.x,this.target.y=e.y)},_.prototype.stopPrimaryWeapon=function(){s.prototype.stopPrimaryWeapon.call(this),this.laserCharger.visible=!0,this.laserChargerPoints.visible=!0,this.soundFireMainGun&&(this.soundFireMainGun=!1,this.soundIsPlaying=!1,e("fido/sound/SoundBridge").sfx.stop("laser_loops"),e("fido/sound/SoundBridge").sfx.play("weapon_powerup"))},_.prototype.playPrimaryWeapon=function(){s.prototype.playPrimaryWeapon.call(this),this.laserCharger.visible=!1,this.laserChargerPoints.visible=!1,this.soundFireMainGun||(this.soundFireMainGun=!0,this.soundIsPlaying=!0,e("fido/sound/SoundBridge").sfx.stop("weapon_powerup"),e("fido/sound/SoundBridge").sfx.play("laser_loops"))},_.prototype.getRemainingTimeShield=function(){if(null!==this.idDelayedShield){var e=this.delayedCalls.getRemainingTime(this.idDelayedShield)/60;return e}return 0},_.prototype.forceGetBackLife=function(){this.delayBeforeGettingLifeBack=0,this.mustGetAllHealthBack=!0},_.prototype.update=function(){s.prototype.update.call(this),this.tick++,this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.stopCheckSpeed||(0===this.shipMoved[0]||0===this.shipMoved[1]?(Math.abs(this.acceleration.x)>(Device.instance.desktop?10:5)&&0===this.shipMoved[0]&&(this.shipMoved[0]=1),Math.abs(this.acceleration.y)>(Device.instance.desktop?10:5)&&0===this.shipMoved[1]&&(this.shipMoved[1]=1)):(this.onShipMoveFast.dispatch(),this.stopCheckSpeed=!0)),this.starting||this.dying||this.transitioning||(this.velocity.x<-10&&(this.view.stopSendingSomeBonus=!1),this.velocity.plus(this.acceleration),this.velocity.plus(this.tempAcceleration),this.positionVec.plus(this.velocity)),(Math.abs(this.velocity.x)>.4||Math.abs(this.velocity.y)>.4)&&this.smoking?this.smokeTrail.isReady=!1:this.smoking&&(this.smokeTrail.isReady=!0);var e=c.map(Math.abs(this.velocity.y),10,30,0,1);e=c.cap(e,0,1),this.view.rotation=Math.PI/10*e*(this.velocity.y>0?1:-1),this.starting||this.dying||this.transitioning||this.view.updateView(this.velocity),this.acceleration.multiply(0);var t=this.velocity.lengthSq();t>800&&(t=800,this.shipTrail.trailWidth=260),this.starting||this.dying||this.transitioning||(this.follow(),this.checkBounds()),this.stopShooting&&(this.laserCharger.counter+=this.laserCharger.speed*g.game.deltaTime,this.laserCharger.texture=this.laserCharger.textures[Math.floor(this.laserCharger.counter%this.laserCharger.textures.length)],Math.floor(this.laserCharger.counter%this.laserCharger.textures.length)>=this.laserCharger.textures.length-1&&(this.laserCharger.speed=.2*Math.random()+.3,this.laserCharger.rotation=Math.random()*Math.PI*2),this.laserChargerPoints.counter+=this.laserChargerPoints.speed*g.game.deltaTime,this.laserChargerPoints.texture=this.laserChargerPoints.textures[Math.floor(this.laserChargerPoints.counter%this.laserChargerPoints.textures.length)],Math.floor(this.laserChargerPoints.counter%this.laserChargerPoints.textures.length)>=this.laserChargerPoints.textures.length-1&&(this.laserChargerPoints.speed=.2*Math.random()+.3,this.laserChargerPoints.rotation=Math.random()*Math.PI*2)),this.dying||(this.mustGetAllHealthBack?this.winLife(.08):this.gotHisHealthBackPickup||(null!==this.delayBeforeGettingLifeBack&&this.delayBeforeGettingLifeBack>0?this.life<this.defaultNumberLife/2&&this.delayBeforeGettingLifeBack--:null!==this.delayBeforeGettingLifeBack&&(this.gotHisHealthBackPickup=!0,window.expert||this.world.game.pickupManager.addPickupHealth())))},i.exports=_}),define("com/fighter/game/engine_shooter/view/ShootyView",["require","exports","module","PIXI","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=function(e){this.engine=e,this.world=this.engine.world,this.staticAssetsWorld1=[],this.staticAssetsWorld2=[],this.createWorld1Assets(),this.createWorld2Assets(),this.createBombWhite(),this.hideAssets(),this.tutorialPanel=new o.Sprite.fromFrame("generic_comms_panel.png"),this.tutorialPanel.visible=!1,this.tutorialPanel.anchor.x=.5,this.tutorialPanel.anchor.y=.5;var t={font:"30px "+window.SECONDARY_FONT,fill:"#ffffff",wordWrap:!0,lineHeight:38,wordWrapWidth:this.tutorialPanel.width,align:"center"};this.tutorialPanel.info=new o.Text("",t),this.tutorialPanel.info.anchor.x=this.tutorialPanel.info.anchor.y=.5,this.tutorialPanel.info.position.y=this.tutorialPanel.height/2+10,this.tutorialPanel.addChild(this.tutorialPanel.info),this.textPanel=new o.Sprite.fromFrame("panelbb8.png"),this.textPanel.visible=!1,this.textPanel.anchor.x=.5,this.textPanel.anchor.y=.5;var t={font:"30px "+window.SECONDARY_FONT,align:"left",fill:"#ffffff",wordWrap:!0,lineHeight:38,wordWrapWidth:.5*this.textPanel.width};this.textPanel.info=new o.Text("",t),this.textPanel.info.anchor.x=this.textPanel.info.anchor.y=.5,this.textPanel.info.position.y=0,this.textPanel.info.position.x=.14*this.textPanel.width,this.textPanel.addChild(this.textPanel.info),this.world.view.layers.tutorials.addChild(this.textPanel),this.world.view.layers.tutorials.addChild(this.tutorialPanel)};n.prototype.createWorld1Assets=function(){this.graphicsLineAdd=new o.Sprite.fromFrame("graphic_lign_add.png"),this.graphicsLineAdd.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.graphicsLineAdd.alpha=1,this.graphicsLineAdd.scale.x=25,this.graphicsLineAdd.anchor.y=1,this.world.view.layers.filters.addChild(this.graphicsLineAdd),this.staticAssetsWorld1.push(this.graphicsLineAdd),this.graphicsLineMultiply=new o.Sprite.fromFrame("graphic_lign_multiply.png"),this.graphicsLineMultiply.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.graphicsLineMultiply.scale.x=25,this.graphicsLineMultiply.anchor.y=1,this.world.view.layers.filters.addChild(this.graphicsLineMultiply),this.staticAssetsWorld1.push(this.graphicsLineMultiply),this.sunGradiant=new o.Sprite.fromFrame("sun_big_gradiant_overlay.png"),this.sunGradiant.alpha=.35,this.sunGradiant.anchor.x=this.sunGradiant.anchor.y=.5,this.sunGradiant.scale.x=this.sunGradiant.scale.y=2,this.sunGradiant.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.sunGradiant.position.y=80,this.sunGradiant.position.x=900,this.world.view.layers.sunGlow.addChild(this.sunGradiant),this.staticAssetsWorld1.push(this.sunGradiant),this.sunYellowGradient=new o.Sprite.fromFrame("sun_yellow_gradiant.png"),this.sunYellowGradient.anchor.x=this.sunYellowGradient.anchor.y=.5,this.sunYellowGradient.scale.x=this.sunYellowGradient.scale.y=1,this.sunYellowGradient.position.y=80,this.sunYellowGradient.position.x=900,this.world.view.layers.sunGlow.addChild(this.sunYellowGradient),this.staticAssetsWorld1.push(this.sunYellowGradient),this.sunHaloAdd=new o.Sprite.fromFrame("sun_halo_gradiant.png"),this.sunHaloAdd.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.sunHaloAdd.anchor.x=this.sunHaloAdd.anchor.y=.5,this.sunHaloAdd.scale.x=this.sunHaloAdd.scale.y=1,this.sunHaloAdd.position.y=80,this.sunHaloAdd.position.x=900,this.world.view.layers.sunGlow.addChild(this.sunHaloAdd),this.staticAssetsWorld1.push(this.sunHaloAdd),this.sunYellowAdd=new o.Sprite.fromFrame("sun_yellow_add.png"),this.sunYellowAdd.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.sunYellowAdd.anchor.x=this.sunYellowAdd.anchor.y=.5,this.sunYellowAdd.scale.x=this.sunYellowAdd.scale.y=1,this.sunYellowAdd.position.y=80,this.sunYellowAdd.position.x=898,this.world.view.layers.sunGlow.addChild(this.sunYellowAdd),this.staticAssetsWorld1.push(this.sunYellowAdd),this.sunEllipse=new o.Sprite.fromFrame("env1_sun_elipse.png"),this.sunEllipse.anchor.x=this.sunEllipse.anchor.y=.5,this.sunEllipse.scale.x=this.sunEllipse.scale.y=1,this.sunEllipse.position.y=80,this.sunEllipse.position.x=898,this.world.view.layers.sun.addChild(this.sunEllipse),this.staticAssetsWorld1.push(this.sunEllipse)},n.prototype.createWorld2Assets=function(){this.graphicsLineAddWorld2=new o.Sprite.fromFrame("env1_strate_graphic_add.png"),this.graphicsLineAddWorld2.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.graphicsLineAddWorld2.alpha=1,this.graphicsLineAddWorld2.scale.x=25,this.graphicsLineAddWorld2.anchor.y=1,this.world.view.layers.filters.addChild(this.graphicsLineAddWorld2),this.staticAssetsWorld2.push(this.graphicsLineAddWorld2),this.graphicsLineMultiplyWorld2=new o.Sprite.fromFrame("env1_strate_graphic_multiply.png"),this.graphicsLineMultiplyWorld2.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.graphicsLineMultiplyWorld2.alpha=.5,this.graphicsLineMultiplyWorld2.scale.x=25,this.graphicsLineMultiplyWorld2.anchor.y=1,this.world.view.layers.filters.addChild(this.graphicsLineMultiplyWorld2),this.staticAssetsWorld2.push(this.graphicsLineMultiplyWorld2),this.sunGradiantWorld2=new o.Sprite.fromFrame("env1_big_gradiant_sun.png"),this.sunGradiantWorld2.alpha=.4,this.sunGradiantWorld2.anchor.x=this.sunGradiantWorld2.anchor.y=.5,this.sunGradiantWorld2.scale.x=this.sunGradiantWorld2.scale.y=2,this.sunGradiantWorld2.position.y=80,this.sunGradiantWorld2.position.x=900,this.world.view.layers.sunGlow.addChild(this.sunGradiantWorld2),this.staticAssetsWorld2.push(this.sunGradiantWorld2),this.sunYellowGradientWorld2=new o.Sprite.fromFrame("env1_sun_gradiant.png"),this.sunYellowGradientWorld2.anchor.x=this.sunYellowGradientWorld2.anchor.y=.5,this.sunYellowGradientWorld2.scale.x=this.sunYellowGradientWorld2.scale.y=1,this.sunYellowGradientWorld2.position.y=80,this.sunYellowGradientWorld2.position.x=900,this.world.view.layers.sunGlow.addChild(this.sunYellowGradientWorld2),this.staticAssetsWorld2.push(this.sunYellowGradientWorld2),this.sunYellowAddWorld2=new o.Sprite.fromFrame("env1_sun_elipse_add.png"),this.sunYellowAddWorld2.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.sunYellowAddWorld2.anchor.x=this.sunYellowAddWorld2.anchor.y=.5,this.sunYellowAddWorld2.scale.x=this.sunYellowAddWorld2.scale.y=1,this.sunYellowAddWorld2.position.y=80,this.sunYellowAddWorld2.position.x=898,this.world.view.layers.sunGlow.addChild(this.sunYellowAddWorld2),this.staticAssetsWorld2.push(this.sunYellowAddWorld2),this.sunEllipseWorld2=new o.Sprite.fromFrame("env1_sun_elipse.png"),this.sunEllipseWorld2.anchor.x=this.sunEllipseWorld2.anchor.y=.5,this.sunEllipseWorld2.scale.x=this.sunEllipseWorld2.scale.y=1,this.sunEllipseWorld2.position.y=80,this.sunEllipseWorld2.position.x=898,this.world.view.layers.sun.addChild(this.sunEllipseWorld2),this.staticAssetsWorld2.push(this.sunEllipseWorld2),this.verticalSunLine=new o.Sprite.fromFrame("env1_vertical_strate_sun.png"),this.verticalSunLine.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.verticalSunLine.anchor.x=this.verticalSunLine.anchor.y=.5,this.verticalSunLine.scale.y=4,this.verticalSunLine.position=this.sunEllipseWorld2.position,this.world.view.layers.sun.addChild(this.verticalSunLine),this.staticAssetsWorld2.push(this.verticalSunLine),this.verticalSunLineEnv2=new o.Sprite.fromFrame("env2_gradiant_halo_sun2.png"),this.verticalSunLineEnv2.anchor.x=this.verticalSunLineEnv2.anchor.y=.5,this.verticalSunLineEnv2.scale.y=4,this.verticalSunLineEnv2.position=this.sunEllipseWorld2.position,this.world.view.layers.back.addChild(this.verticalSunLineEnv2),this.staticAssetsWorld2.push(this.verticalSunLineEnv2),this.verticalSunLineEnv2Halo=new o.Sprite.fromFrame("env2_gradiant_halo_sun.png"),this.verticalSunLineEnv2Halo.anchor.x=this.verticalSunLineEnv2Halo.anchor.y=.5,this.verticalSunLineEnv2Halo.scale.y=4,this.verticalSunLineEnv2Halo.position=this.sunEllipseWorld2.position,this.world.view.layers.back.addChild(this.verticalSunLineEnv2Halo),this.staticAssetsWorld2.push(this.verticalSunLineEnv2Halo),this.sunAtmosphere=new o.Sprite.fromFrame("env2_gradiant_yellow_sun.png"),this.sunAtmosphere.visible=!1,this.sunAtmosphere.alpha=0,this.sunAtmosphere.scale.x=1100,this.sunAtmosphere.position.x-=100,this.world.view.layers.sunGlow.addChild(this.sunAtmosphere),this.staticAssetsWorld2.push(this.sunAtmosphere),this.darkOverlayEnv3=new o.Sprite.fromFrame("dark_overlay.png"),this.darkOverlayEnv3.visible=!0,this.darkOverlayEnv3.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.darkOverlayEnv3.alpha=0,this.darkOverlayEnv3.scale.x=200,this.darkOverlayEnv3.scale.y=65,this.darkOverlayEnv3.position.x-=100,this.world.view.layers.layerLastEnvironmentFilter.addChild(this.darkOverlayEnv3),this.staticAssetsWorld2.push(this.darkOverlayEnv3)},n.prototype.createBombWhite=function(){this.white=new o.Graphics,this.white.beginFill(16777215).drawRect(-2e3,-2e3,4e3,4e3),this.white.alpha=0,this.world.view.layers.bombLayer.addChild(this.white)},n.prototype.hideSunEnv1=function(){this.sunYellowAdd.visible=!1,this.sunEllipse.visible=!1,this.sunYellowGradient.visible=!1},n.prototype.showBombEffect=function(){this.white.alpha=1,EasingsGame.to(this.white,1,{alpha:0,ease:EasingsGame.easeOutCubic})},n.prototype.showSunEnv1=function(){this.sunYellowAdd.visible=!0,this.sunEllipse.visible=!0,this.sunYellowGradient.visible=!1},n.prototype.showSunEnv1=function(){},n.prototype.animateSunApparitionWorld2Env2=function(){this.sunAtmosphere.visible=!0,this.sunAtmosphere.alpha=0,EasingsGame.to(this.sunAtmosphere,8,{alpha:1}),this.verticalSunLine.visible=!0,this.verticalSunLine.scale.y=0,EasingsGame.to(this.verticalSunLine.scale,.5,{y:4}),this.verticalSunLineEnv2Halo.visible=!0,this.verticalSunLineEnv2Halo.scale.y=0,EasingsGame.to(this.verticalSunLineEnv2Halo.scale,.5,{y:4}),this.verticalSunLineEnv2.visible=!0,this.verticalSunLineEnv2.scale.y=0,EasingsGame.to(this.verticalSunLineEnv2.scale,.5,{y:4})},n.prototype.showSunWorld2=function(){this.sunAtmosphere.position.y=this.engine.h-this.engine.bounds.height,this.sunYellowGradientWorld2.visible=!0,this.sunYellowAddWorld2.visible=!0,this.sunEllipseWorld2.visible=!0},n.prototype.showOverlayEnv3=function(){EasingsGame.to(this.darkOverlayEnv3,1,{alpha:.4})},n.prototype.hideOverlayEnv3=function(){EasingsGame.to(this.darkOverlayEnv3,1,{alpha:0})},n.prototype.hideSunEnv2=function(){EasingsGame.to(this.verticalSunLine.scale,.6,{y:0,onComplete:function(){this.verticalSunLine.visible=!1}.bind(this)}),EasingsGame.to(this.verticalSunLineEnv2Halo.scale,.6,{y:0,onComplete:function(){this.verticalSunLineEnv2Halo.visible=!1}.bind(this)}),EasingsGame.to(this.verticalSunLineEnv2.scale,.6,{y:0,onComplete:function(){this.verticalSunLineEnv2.visible=!1}.bind(this)}),EasingsGame.to(this.sunAtmosphere,.4,{alpha:0})},n.prototype.hideSunLight=function(){this.hideSunEnv2(),this.sunGradiantWorld2.visible=!1,this.sunYellowGradientWorld2.visible=!1,this.sunYellowAddWorld2.visible=!1,this.sunEllipseWorld2.visible=!1},n.prototype.hideAssets=function(){for(var e=0;e<this.staticAssetsWorld2.length;e++)this.staticAssetsWorld2[e].visible=!1;for(var e=0;e<this.staticAssetsWorld1.length;e++)this.staticAssetsWorld1[e].visible=!1;EasingsGame.killTweensOf(this.white),this.white.alpha=0},n.prototype.showWorld1Assets=function(){for(var e=0;e<this.staticAssetsWorld2.length;e++)this.staticAssetsWorld2[e].visible=!1;for(var e=0;e<this.staticAssetsWorld1.length;e++)this.staticAssetsWorld1[e].visible=!0},n.prototype.showWorld2Assets=function(){for(var e=0;e<this.staticAssetsWorld1.length;e++)this.staticAssetsWorld1[e].visible=!1;for(var e=0;e<this.staticAssetsWorld2.length;e++)this.staticAssetsWorld2[e].visible=!0},n.prototype.hideTutorial=function(e){EasingsGame.to(this.tutorialPanel,.5,{alpha:0,onComplete:function(){this.tutorialPanel.visible=!1}.bind(this)})},n.prototype.updateTuto=function(e){this.tutorialPanel.visible=!0,EasingsGame.to(this.tutorialPanel,.5,{alpha:0,onComplete:function(){this.tutorialPanel.texture=o.Texture.fromFrame(Device.instance.desktop?e.image.desktop:e.image.mobile),this.tutorialPanel.info.text=translations[Device.instance.desktop?e.info.desktop:e.info.mobile],this.tutorialPanel.position.x=1650,this.tutorialPanel.info.scale.x=this.tutorialPanel.info.scale.y=1;var t=80;this.tutorialPanel.info.scale.x=this.tutorialPanel.info.scale.y=Math.min(1,t/this.tutorialPanel.info.height),this.tutorialPanel.alpha=1,EasingsGame.to(this.tutorialPanel.position,1.5,{x:350,ease:Easings.easeInOutCirc,onComplete:function(){}.bind(this)})}.bind(this)})},n.prototype.showHelp=function(t){e("fido/sound/SoundBridge").sfx.playGroup("bb8_scared"),EasingsGame.killTweensOf(this.textPanel),EasingsGame.killTweensOf(this.textPanel.position),this.textPanel.visible=!0,this.textPanel.position.x=1600,this.textPanel.alpha=0,this.textPanel.visible=!0,this.textPanel.info.text=t.text||"",EasingsGame.to(this.textPanel,.2,{alpha:1}),EasingsGame.to(this.textPanel.position,.6,{x:this.w/2,ease:EasingsGame.easeOutCirc})},n.prototype.hideHelp=function(e){e?(EasingsGame.killTweensOf(this.textPanel),EasingsGame.killTweensOf(this.textPanel.position),this.textPanel.alpha=0,this.textPanel.visible=!1):EasingsGame.to(this.textPanel,.2,{alpha:0,onComplete:function(){this.textPanel.visible=!1}.bind(this)})},n.prototype.reset=function(e,t){this.textPanel.position.x=1600,this.textPanel.position.y=320,this.tutorialPanel.position.x=1600,this.tutorialPanel.position.y=320,this.world.game.view.hideOverlayEnv3()},n.prototype.resize=function(e,t){this.w=e,this.h=t,this.graphicsLineAdd.position.y=t,this.graphicsLineAdd.position.x=-100,this.graphicsLineMultiply.position.y=t,this.graphicsLineMultiply.position.x=-100,this.graphicsLineMultiplyWorld2.position.y=t,this.graphicsLineMultiplyWorld2.position.x=-100,this.graphicsLineAddWorld2.position.y=t,this.graphicsLineAddWorld2.position.x=-100},n.constructor=n,i.exports=n}),define("com/fighter/game/engine_shooter/enemies/Enemy",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine_shooter/Ship","fido/bob/crash/Vector","signals","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine_shooter/Ship"),s=e("fido/bob/crash/Vector"),a=e("signals"),h=e("fido/utils/Math2"),c=new s,l=(new s,new s),p=new s,u=new s,d=new s,g=new s,f=new s,m=function(e){r.call(this,e),this.debug=!1,this.onDestroyed=new a,this.readyForDestroy=!1,this.forceDestroy=!1,this.zigzag=!1,this.comingFromBehind=!1,this.defaultNumberLife=1,this.pickup=!1,this.canFire=!1,this.mass=0,this.canMove=!0,this.isStatic=!1,this.defaultArrayToShoot=[0,0,1],this.positionVec=new s(this.position.x,this.position.y),this.velocity=new s(0,0),this.acceleration=new s(0,0),this.groups=["enemies"],this.isBackward=!1,this.contactZone=new o.Rectangle(0,0,40,60),this.targetPoint=new o.Point,this.pos=new o.Point,this.previousPos=new o.Point};m.prototype=Object.create(r.prototype),m.prototype.setPickup=function(){this.pickup=!0,this.life=this.defaultNumberLife<8?8:this.defaultNumberLife},m.prototype.reset=function(){r.prototype.reset.call(this),this.timeManager=this.world.game.game.timeManager,this.zigzag&&(EasingsGame.killTweensOf(this.targetPoint),this.zigzag=!1),this.view.scale.x=this.view.scale.y=1,this.comingFromBehind=!1,this.isBackward=!1,this.view.visible=!0,this.view.alpha=1,this.pickup=!1,this.life=this.defaultNumberLife,this.tick=parseInt(100*Math.random()),this.readyForDestroy=!1,this.forceDestroy=!1,this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.velocity.x=0,this.velocity.y=0,this.acceleration.x=0,this.acceleration.y=0,this.pos.x=0,this.pos.y=0,this.previousPos.x=0,this.previousPos.y=0},m.prototype.manageScale=function(e){this.isStatic||(this.view.scale.x=this.view.scale.y=.8+e/4)},m.prototype.applySteerForce=function(e){this.acceleration.plus(e)},m.prototype.applyForce=function(e){var t=c;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);
this.acceleration.plus(i)},m.prototype.followPath=function(e){var t=p;t.x=this.velocity.x,t.y=this.velocity.y,t.normalize(),t.multiply(10);var i=u;i.x=this.positionVec.x,i.y=this.positionVec.y,i.plus(t);var o,n,r,s,a,h,c=null,l=null,f=1e6;for(h=0;h<e.points.length-1;h++){o=e.points[h],n=e.points[h+1];var r=this.getNormalPoint(i,o,n);(r.x>o.x||r.x<n.x)&&(r.x=n.x,r.y=n.y),s=d,s.x=i.x,s.y=i.y,s=s.distanceTo(r),f>s&&(f=s,c=r,a=p,a.x=n.x,a.y=n.y,a.minus(o),a.normalize(),a.multiply(10),l=g,l.x=r.x,l.y=r.y,l.plus(a))}null!=l&&this.seek(l)},m.prototype.follow=function(e,t){var i=p;i.x=e.x,i.y=e.y;var o=i.minus(this.positionVec),n=o.length();if(100>n)n=100;else if(500>n){var r=h.map(n,100,500,100,t||2);o.setLength(r)}else o.setLength(t||2);var s=o.minus(this.velocity);this.applyForce(s)},m.prototype.seek=function(e,t){maxSpeed=t||2,l.x=e.x||this.positionVec.x-t,l.y=e.y;var i=l.minus(this.positionVec);if(0!==i.lengthSq()){i.normalize(),i.multiply(maxSpeed);var o=i.minus(this.velocity);e.x||(o.x=0),this.applySteerForce(o)}},m.prototype.update=function(){r.prototype.update.call(this),this.velocity.plus(this.acceleration),!this.isStatic&&this.canMove&&(this.positionVec.x+=this.velocity.x*n.game.deltaTime*this.timeManager.tickSpeedEnemies,this.positionVec.y+=this.velocity.y*n.game.deltaTime*this.timeManager.tickSpeedEnemies),this.acceleration.multiply(0),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y},m.prototype.die=function(){this.zigzag&&(this.zigzag=!1,EasingsGame.killTweensOf(this.targetPoint)),this.onDestroyed.dispatch(this)},m.prototype.hit=function(e){this.view.hit(e)},m.prototype.getNormalPoint=function(e,t,i){var o=p;o.x=e.x,o.y=e.y,o=o.minus(t);var n=d;n.x=i.x,n.y=i.y,n.minus(t),n.normalize(),n.multiply(o.dot(n));var r=f;return r.x=t.x,r.y=t.y,r=r.plus(n)},i.exports=m}),define("com/fighter/game/engine_shooter/damages/damages/FlyOffDamages",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("com/fighter/game/engine/Item")),r=e("fido/bob/crash/Vector"),s=(e("fido/utils/Utils"),new r,new r,function(e){n.call(this,0,0,new o.Container),this.groups=["damages"],this.pool=[],this.actives=[],this.started=!1});s.prototype=Object.create(n.prototype),s.prototype.generatePieces=function(){this.started=!0;for(var e=0;1>e;e++){var t=this.pool.pop();t||(t=new o.Sprite.fromFrame("damage.png"),t.speed=new o.Point,t.anchor.x=t.anchor.y=.5),t.position.x=0,t.position.y=0,t.speedR=.5*Math.random()-.25,t.alpha=1,t.scale.x=t.scale.y=Math.random()+.2,t.speed.x=2*Math.random()+1,t.speed.y=2*-Math.random(),this.actives.push(t),this.view.addChild(t)}},s.prototype.update=function(){for(var e=0;e<this.actives.length;e++){var t=this.actives[e];t.position.x+=t.speed.x,t.position.y+=t.speed.y,t.speedR*=.99,t.speed.y+=.02,t.rotation+=t.speedR,t.alpha*=.98,t.alpha<.01&&(this.pool.push(t),this.view.removeChild(t),this.actives.splice(e,1),e--)}0===this.actives.length&&this.started&&this.stop()},s.prototype.stop=function(){this.started=!1,this.destroy()},s.prototype.reset=function(){this.started=!1,this.generatePieces()},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/views/TieFighterBaseView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView","fido/system/Ticker","com/fighter/game/engine_shooter/damages/damages/FlyOffDamages","fido/utils/Math2","fido/utils/Utils","fido/bob/crash/Vector","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=e("fido/system/Ticker"),s=(e("com/fighter/game/engine_shooter/damages/damages/FlyOffDamages"),e("fido/utils/Math2")),a=e("fido/utils/Utils"),h=e("fido/bob/crash/Vector"),c=new h,l=new h,p=function(e){n.call(this),this.backTexture=o.Texture.fromFrame("wing_back.png"),this.frontTexture=o.Texture.fromFrame("wing_front.png"),this.canTurn=!0,this.ease=0,this.owner=e,this.back=new o.Sprite,this.back.anchor.x=this.back.anchor.y=.5,this.back.scale.x=this.back.scale.y=.5,this.front=new o.Sprite,this.front.anchor.x=this.front.anchor.y=.5,this.front.scale.x=this.front.scale.y=.5,this.x1=-50,this.x2=1330,this.y1=0,this.y2=470,this.offset=40,this.offsetY=40,this.tickSpeed=0,this.easeY=0,this.speed=new o.Point,this.pos=new o.Point,this.previousPos=new o.Point,this.firstTime=!0;var t=a.getTexturesFromFramesWithPrefix("tie_turn_000%%.png",10,0);if(this.turningTie=new o.Sprite,this.turningTie.visible=!1,this.turningTie.scale.x=this.turningTie.scale.y=.5,this.turningTie.anchor.x=.5,this.turningTie.anchor.y=.5,this.turningTie.textures=t,this.turningTie.counter=0,this.turningTie.speed=.5,this.addChild(this.turningTie),this.delayBeforeTurning=!0,this.delayBeforeTurning)var i=a.getTexturesFromFramesWithPrefix("tiefighter_vrille_000%%.png",31,1);var i=a.getTexturesFromFramesWithPrefix("tiefighter_vrille_000%%.png",23,4);this.rotatingTie=new o.Sprite(i[0]),this.rotatingTie.defaultTexture=i[0],this.rotatingTie.anchor.x=this.rotatingTie.anchor.y=.5,this.rotatingTie.scale=this.front.scale,this.rotatingTie.position=this.front.position,this.rotatingTie.visible=!1,this.rotatingTie.textures=i,this.rotatingTie.counter=0,this.rotatingTie.speed=.5,this.rotatingTie.delayed=0,this.addChild(this.rotatingTie),this.addChild(this.back),this.addChild(this.front),this.redGlow=new o.Sprite.fromFrame("first_order_red.png"),this.redGlow.blendMode=Device.instance.desktop?o.BLEND_MODES.ADD:0,this.redGlow.visible=!1,this.redGlow.position=this.front.position,this.redGlow.anchor.x=.5,this.redGlow.anchor.y=.5,this.redGlow.scale=this.front.scale,this.addChild(this.redGlow),this.shield=new o.Sprite.fromFrame("shield_tiefighter.png"),this.shield.scale.x=this.shield.scale.y=.5,this.shield.anchor.x=this.shield.anchor.y=.5,this.shield.alpha=0,this.addChild(this.shield),this.shieldImpact=new o.Sprite.fromFrame("shield_impact_tiefighter.png"),this.shieldImpact.alpha=0,this.shieldImpact.scale.x=this.shieldImpact.scale.y=.5,this.shieldImpact.anchor.x=this.shieldImpact.anchor.y=.5,this.addChild(this.shieldImpact)};p.prototype=Object.create(n.prototype),p.constructor=p,p.prototype.rotate=function(){this.owner.pickup||(this.rotatingTie.visible=!0,this.front.visible=!1,this.back.visible=!1,this.rotatingTie.delayed=0,this.fighter360&&!this.rotatingTie.visible&&(this.rotatingTie.delayed=4e3,EasingsGame.to(this.front,.1,{alpha:0,onComplete:function(){this.back.visible=!1,this.front.visible=!1,this.rotatingTie.delayed=0}.bind(this)}),EasingsGame.to(this.back,.1,{alpha:0})))},p.prototype.bringToFront=function(e){this.back.texture=this.backTexture,this.front.texture=this.frontTexture},p.prototype.bringToBack=function(e){"first"===e?(this.back.texture=o.Texture.fromFrame("background_forest_tiefighter.png"),this.front.texture=o.Texture.fromFrame("background_forest_tiefighter2.png")):(this.back.texture=o.Texture.fromFrame("background_snow_tiefighter.png"),this.front.texture=o.Texture.fromFrame("background_snow_tiefighter2.png"))},p.prototype.turn=function(){this.canTurn&&(this.back.visible=!1,this.front.visible=!1,this.turningTie.visible=!0)},p.prototype.setPickup=function(){this.front.texture=o.Texture.fromFrame("tie_fighter_pickup_guard.png"),this.back.texture=o.Texture.fromFrame("tie_fighter_pickup2.png"),this.redGlow.visible=!0},p.prototype.reset=function(){this.ease=0,this.front.texture=this.frontTexture,this.back.texture=this.backTexture,this.rotation=-5*Math.PI/180,this.turningTie.visible=!1,this.rotatingTie.delayed=0,this.rotatingTie.visible=!1,this.rotatingTie.counter=0,this.rotatingTie.texture=this.rotatingTie.defaultTexture,this.back.visible=!0,this.front.visible=!0,this.back.alpha=1,this.front.alpha=1},p.prototype.hit=function(t){if(this.owner.defaultNumberLife<2)return void e("fido/sound/SoundBridge").sfx.play("shot_impact");if(Math.random()>.5)this.rotate();else if(t){e("fido/sound/SoundBridge").sfx.playGroup("shield_hit"),c.x=this.position.x,c.y=this.position.y,l.x=t.position.x,l.y=t.position.y;var i=l.minus(c);this.shieldImpact.rotation=Math.atan2(i.y,i.x),this.shield.alpha=1,this.shieldImpact.alpha=1,EasingsGame.to(this.shieldImpact,.1,{alpha:0}),EasingsGame.to(this.shield,.4,{alpha:0})}},p.prototype.calculateSpeed=function(){var e,t,i,o,n,r,s,a,h,c,l,p=this.position.x,u=this.position.y;return this.previousTime===!1?0:(h=this.previousTime,e=this.previousPos.x,t=this.previousPos.y,i=Date.now(),o=e-p,n=t-u,r=i-h,c=0>o?1:-1,l=0>n?1:-1,p=e,u=t,s=c*Math.sqrt(o*o)/(r/10),a=l*Math.sqrt(n*n)/(r/10),isNaN(s)&&(s=0),isNaN(a)&&(a=0),{x:s,y:a})},p.prototype.animateView=function(){var e=0;r.game.deltaTime<2&&(this.easeY+=.04*(this.speed.y-this.easeY)*r.game.deltaTime),speedy=this.easeY,speedy>3&&(speedy=3),speedy<-3&&(speedy=-3);var e,t,i;if(t=this.speed.y<0?s.map(speedy,0,-3,0,-10):s.map(speedy,0,3,0,10),i=s.map(Math.abs(speedy),0,3,.5,.4),this.owner.zigzag||this.owner.comeFromSineWave||this.owner.comeFromTopBottomWave||this.owner.comeFromYSeekerWave||this.owner.comeFromFlyByWave){e=Math.atan2(this.speed.y,this.speed.x)+Math.PI;var o=.1*s.smallestAngle(this.rotation,e);this.rotation+=o}this.front.scale.y=this.back.scale.y=i,this.front.position.y=t},p.prototype.update=function(){n.prototype.update.call(this),this.redGlow.rotation=-this.rotation;var e=(this.position.x-this.x1)/this.x2;0>=e&&(e=0),e>=1&&(e=1),this.front.position.x=-this.offset/2+this.offset*e,this.speed=this.calculateSpeed(),this.previousPos.x=this.position.x,this.previousPos.y=this.position.y,this.previousTime=Date.now(),this.animateView(),this.tickSpeed++,this.turningTie.visible&&(this.turningTie.counter+=this.turningTie.speed*r.game.deltaTime,this.turningTie.texture=this.turningTie.textures[Math.floor(this.turningTie.counter%this.turningTie.textures.length)],Math.floor(this.turningTie.counter%this.turningTie.textures.length)>=this.turningTie.textures.length-1&&(this.turningTie.visible=!1,this.back.visible=!0,this.front.visible=!0,this.owner.pickup&&this.owner.setPickup())),this.rotatingTie.visible&&(this.rotatingTie.delayed>0?this.rotatingTie.delayed--:(this.rotatingTie.counter+=this.rotatingTie.speed*r.game.deltaTime,this.rotatingTie.texture=this.rotatingTie.textures[Math.floor(this.rotatingTie.counter%this.rotatingTie.textures.length)],Math.floor(this.rotatingTie.counter%this.rotatingTie.textures.length)>=this.rotatingTie.textures.length-1&&!this.front.visible&&(this.fighter360?(this.front.visible=!0,this.front.alpha=0,this.back.visible=!0,this.back.alpha=0,EasingsGame.to(this.back,.1,{alpha:1}),EasingsGame.to(this.front,.1,{alpha:1,onComplete:function(){this.rotatingTie.visible=!1,this.back.visible=!0,this.rotatingTie.delayed=4e3}.bind(this)})):(this.rotatingTie.visible=!1,this.rotatingTie.delayed=4e3,this.back.visible=!0,this.front.visible=!0,this.back.alpha=1,this.front.alpha=1))))},i.exports=p}),define("com/fighter/game/engine_shooter/enemies/views/TieFighterView",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/views/TieFighterBaseView","fido/utils/Utils"],function(e,t,i){var o=(e("PIXI"),e("fido/system/Ticker"),e("com/fighter/game/engine_shooter/enemies/views/TieFighterBaseView")),n=(e("fido/utils/Utils"),function(){o.call(this)});n.prototype=Object.create(o.prototype),n.constructor=n,n.prototype.hit=function(e){o.prototype.hit.call(this,e)},n.prototype.reset=function(){o.prototype.reset.call(this),this.redGlow.visible=!1},n.prototype.update=function(){o.prototype.update.call(this)},i.exports=n}),define("com/fighter/game/engine_shooter/bullets/TieBullet",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.enemy,this.speedBullet=new o.Point(-8,0),window.expert?this.defaultSpeedBullet=new o.Point(-14,0):this.defaultSpeedBullet=new o.Point(-8,0),this.groups.push("enemies_bullets")};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){n.prototype.reset.call(this),this.speedBullet.x=this.defaultSpeedBullet.x-1*Math.random()},i.exports=r}),define("com/fighter/game/engine_shooter/damages/explosions/TieFighterCrash",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Utils","fido/system/DelayedCalls","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("fido/bob/crash/Vector"),a=e("fido/utils/Utils"),h=new s,c=new s,l=e("fido/system/DelayedCalls"),p=function(e){r.call(this,0,0,new o.Container),this.groups=["explosions"],this.container=new o.Container,this.view.addChild(this.container);var t=a.getTexturesFromFramesWithPrefix("TIE_fighter_crash_000%%.png",30,0);this.tieCrash=new o.Sprite,this.tieCrash.anchor.x=.5,this.tieCrash.anchor.y=.5,this.tieCrash.scale.x=this.tieCrash.scale.y=.5,this.tieCrash.textures=t,this.tieCrash.counter=0,this.tieCrash.textures.reverse(),this.tieCrash.speed=.4;var i=a.getTexturesFromFramesWithPrefix("basic_explosion1_000%%.png",6,0);this.smokeExplosion=new o.Sprite,this.smokeExplosion.anchor.x=.5,this.smokeExplosion.anchor.y=.5,this.smokeExplosion.textures=i,this.smokeExplosion.counter=0,this.smokeExplosion.speed=.5;var n=a.getTexturesFromFramesWithPrefix("basic_explosion2_000%%.png",14,0);this.smokeExplosionDisappear=new o.Sprite,this.smokeExplosionDisappear.scale.x=this.smokeExplosionDisappear.scale.y=2,this.smokeExplosionDisappear.anchor.x=1,this.smokeExplosionDisappear.anchor.y=.5,this.smokeExplosionDisappear.textures=n,this.smokeExplosionDisappear.counter=0,this.smokeExplosionDisappear.speed=.5;var s=a.getTexturesFromFramesWithPrefix("explosion_crash_000%%.png",13,0);this.groundExplosion=new o.Sprite,this.groundExplosion.scale.x=this.groundExplosion.scale.y=2,this.groundExplosion.anchor.x=.5,this.groundExplosion.anchor.y=.5,this.groundExplosion.textures=s,this.groundExplosion.counter=0,this.groundExplosion.speed=.4;var h=a.getTexturesFromFramesWithPrefix("tie_fighter_crash_000%%.png",18,3);this.dirtySmokeWhenCrashing=new o.Sprite,this.dirtySmokeWhenCrashing.scale.x=2,this.dirtySmokeWhenCrashing.scale.x=2,this.dirtySmokeWhenCrashing.anchor.y=.5,this.dirtySmokeWhenCrashing.textures=h,this.dirtySmokeWhenCrashing.counter=0,this.dirtySmokeWhenCrashing.speed=.5,this.lens=new o.Sprite.fromFrame("lens_explosion.png"),this.lens.anchor.x=this.lens.anchor.y=.5,this.lens.scale.x=this.lens.scale.y=0,this.container.addChild(this.lens),this.delayedCalls=new l};p.prototype=Object.create(r.prototype),p.prototype.prepareAssets=function(){this.tieCrash.speed=.2*Math.random()-.1+.3,this.tieCrash.speedR=.05*Math.random(),this.container.addChild(this.tieCrash),this.container.addChild(this.smokeExplosion),this.container.addChild(this.smokeExplosionDisappear),this.container.addChild(this.groundExplosion),this.container.addChild(this.dirtySmokeWhenCrashing),this.animate()},p.prototype.animate=function(){this.lens.scale.x=this.lens.scale.y=0,this.lens.alpha=1;var e=1;EasingsGame.to(this.lens.scale,.1*e,{delay:0,x:4,y:1,ease:EasingsGame.easeInCubic}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,y:0,ease:EasingsGame.easeOutCirc}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,alpha:0,ease:EasingsGame.easeOutCirc});var t,i=.2*Math.random()+.6,o=this.position.x-300*Math.random()-300;t="first"===this.world.game.assetsManager.currentWorld&&0===this.world.game.assetsManager.currentStepWorld?500+40*Math.random():this.world.game.h-100,h.x=this.position.x,h.y=this.position.y,c.x=o,c.y=t;var n=h.minus(c),r=Math.atan2(n.y,n.x);this.dirtySmokeWhenCrashing.rotation=r,EasingsGame.to(this.position,i,{x:o,y:t,onComplete:function(){this.tieCrash.visible=!1}.bind(this)}),this.delayedCalls.add(function(){this.groundExplosion.visible=!0}.bind(this),i/3*2)},p.prototype.update=function(){this.smokeExplosion.visible&&(this.smokeExplosion.counter+=this.smokeExplosion.speed*n.game.deltaTime,this.smokeExplosion.texture=this.smokeExplosion.textures[Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)],Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)>=this.smokeExplosion.textures.length-1&&(this.smokeExplosion.visible=!1,this.firstExplosionVisible=!1)),this.tieCrash.visible&&(this.tieCrash.counter+=this.tieCrash.speed*n.game.deltaTime,this.tieCrash.texture=this.tieCrash.textures[Math.floor(this.tieCrash.counter%this.tieCrash.textures.length)],this.tieCrash.rotation+=this.tieCrash.speedR),this.groundExplosion.visible&&(this.groundExplosion.counter+=this.groundExplosion.speed*n.game.deltaTime,this.groundExplosion.texture=this.groundExplosion.textures[Math.floor(this.groundExplosion.counter%this.groundExplosion.textures.length)],Math.floor(this.groundExplosion.counter%this.groundExplosion.textures.length)>=this.groundExplosion.textures.length-1&&(this.groundExplosion.visible=!1,this.destroy())),this.dirtySmokeWhenCrashing.visible&&(this.dirtySmokeWhenCrashing.counter+=this.dirtySmokeWhenCrashing.speed*n.game.deltaTime,this.dirtySmokeWhenCrashing.texture=this.dirtySmokeWhenCrashing.textures[Math.floor(this.dirtySmokeWhenCrashing.counter%this.dirtySmokeWhenCrashing.textures.length)],Math.floor(this.dirtySmokeWhenCrashing.counter%this.dirtySmokeWhenCrashing.textures.length)>=this.dirtySmokeWhenCrashing.textures.length-1&&(this.dirtySmokeWhenCrashing.visible=!1))},p.prototype.reset=function(){this.container.position.x=this.container.position.y=0,e("fido/sound/SoundBridge").sfx.play("tiefighter_spinning"),this.smokeExplosion.visible=!0,this.tieCrash.visible=!0,this.groundExplosion.visible=!1,this.smokeExplosion.counter=0,this.smokeExplosion.rotation=Math.random()*Math.PI*2,this.dirtySmokeWhenCrashing.visible=!0,this.prepareAssets()},i.exports=p}),define("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/utils/Utils","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("fido/utils/Utils"),a=function(e){r.call(this,0,0,new o.Container),this.groups=["explosions"],this.container=new o.Container,this.view.addChild(this.container);var t=s.getTexturesFromFramesWithPrefix("basic_explosion1_000%%.png",6,0);this.smokeExplosion=new o.Sprite,this.smokeExplosion.scale.x=this.smokeExplosion.scale.y=2,this.smokeExplosion.anchor.x=.5,this.smokeExplosion.anchor.y=.5,this.smokeExplosion.textures=t,this.smokeExplosion.counter=0,this.smokeExplosion.speed=.6,this.lens=new o.Sprite.fromFrame("lens_explosion.png"),this.lens.anchor.x=this.lens.anchor.y=.5,this.lens.scale.x=this.lens.scale.y=0,this.container.addChild(this.lens)};a.prototype=Object.create(r.prototype),a.prototype.prepareAssets=function(){this.container.addChild(this.smokeExplosion),this.animate()},a.prototype.animate=function(){this.lens.scale.x=this.lens.scale.y=0,this.lens.alpha=1;var e=1;EasingsGame.to(this.lens.scale,.1*e,{delay:0,x:4,y:1,ease:Easings.easeInCubic}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,y:0,ease:Easings.easeOutCirc}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,alpha:0,ease:Easings.easeOutCirc})},a.prototype.update=function(){this.smokeExplosion.visible&&(this.smokeExplosion.counter+=this.smokeExplosion.speed*n.game.deltaTime,this.smokeExplosion.texture=this.smokeExplosion.textures[Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)],Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)>=this.smokeExplosion.textures.length-1&&(this.smokeExplosion.visible=!1,this.firstExplosionVisible=!1,this.destroy()))},a.prototype.reset=function(){this.container.position.x=this.container.position.y=0,this.smokeExplosion.visible=!0,this.smokeExplosion.counter=0,this.smokeExplosion.rotation=Math.random()*Math.PI*2,this.prepareAssets(),e("fido/sound/SoundBridge").sfx.play("tiefighter_explosion_01")},i.exports=a}),define("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/DelayedCalls","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("fido/bob/crash/Vector"),a=e("fido/system/DelayedCalls"),h=e("fido/utils/Utils"),c=(new s,new s,function(e){r.call(this,0,0,new o.Container),this.groups=["explosions"],this.container=new o.Container,this.view.addChild(this.container);var t=h.getTexturesFromFramesWithPrefix("explosion2_000%%.png",5,0);this.containerMask=new o.Sprite,this.containerMask.anchor.x=.5,this.containerMask.anchor.y=.5,this.containerMask.explosionTexture=t,this.containerMask.counter=0,this.containerMask.speed=.6;var i=h.getTexturesFromFramesWithPrefix("basic_explosion1_000%%.png",6,0);this.smokeExplosion=new o.Sprite,this.smokeExplosion.scale.x=this.smokeExplosion.scale.y=2,this.smokeExplosion.anchor.x=.5,this.smokeExplosion.anchor.y=.5,this.smokeExplosion.textures=i,this.smokeExplosion.counter=0,this.smokeExplosion.speed=.4;var n=h.getTexturesFromFramesWithPrefix("basic_explosion2_000%%.png",10,4);this.smokeExplosionDisappear=new o.Sprite,this.smokeExplosionDisappear.scale.x=this.smokeExplosionDisappear.scale.y=3,this.smokeExplosionDisappear.anchor.x=.5,this.smokeExplosionDisappear.anchor.y=.5,this.smokeExplosionDisappear.textures=n,this.smokeExplosionDisappear.counter=0,this.smokeExplosionDisappear.speed=.7,this.lens=new o.Sprite.fromFrame("lens_explosion.png"),this.lens.anchor.x=this.lens.anchor.y=.5,this.lens.scale.x=this.lens.scale.y=0,this.container.addChild(this.lens),this.pool=[],this.trails=[],this.delayedCalls=new a});c.prototype=Object.create(r.prototype),c.prototype.prepareAssets=function(){for(var e=0;e<(Device.instance.desktop?6:3);e++){var t=this.pool.pop();t||(t=new o.Sprite.fromFrame("pixel_explosion_white.png"),t.blendMode=Device.instance.desktop?o.BLEND_MODES.ADD:0),t.toDelete=!1;var i=50*Math.random()+50;t.scale.x=Math.floor(i/t.width*100)/100,t.scale.y=.1,t.anchor.x=1;var n=2*Math.PI/8*e+Math.random()*Math.PI/2-Math.PI/4;n=Math.floor(10*n)/10,t.rotation=n,t.position.x=Math.cos(n)*i,t.position.y=Math.sin(n)*i,this.trails.push(t),this.container.addChild(t)}var r=Math.random()*Math.PI*2;this.containerMask.rotation=r,this.containerMask.angle=r,this.container.addChild(this.smokeExplosion),this.container.addChild(this.smokeExplosionDisappear),this.container.addChild(this.containerMask),this.animate()},c.prototype.animate=function(){this.lens.scale.x=this.lens.scale.y=0,this.lens.alpha=1,this.containerMask.scale.x=this.containerMask.scale.y=1+1*Math.random(),this.containerMask.position.x=this.containerMask.position.y=0;var e=1;EasingsGame.to(this.lens.scale,.1*e,{delay:0,x:4,y:1,ease:Easings.easeInCubic}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,y:0,ease:Easings.easeOutCirc}),EasingsGame.to(this.lens,.5*e,{delay:.1*e,alpha:0,ease:Easings.easeOutCirc});var t=40*Math.cos(this.containerMask.angle+7*Math.PI/6)*this.containerMask.scale.x,i=40*Math.sin(this.containerMask.angle+7*Math.PI/6)*this.containerMask.scale.x;EasingsGame.to(this.containerMask.position,.1*e,{delay:0*e,x:t,y:i,ease:Easings.easeOutCirc});for(var o=0;o<this.trails.length;o++){var n=this.trails[o];Math.floor(5*Math.random())/60;EasingsGame.to(n.scale,4/60*e,{delay:0+2/60*e,x:0,ease:Easings.easeOutSine,onComplete:this.removeTrail.bind(this),onCompleteParams:[n,o]})}},c.prototype.moveSmoke=function(){EasingsGame.to(this.smokeExplosionDisappear,.5,{x:-100,ease:Easings.easeOutSine,onComplete:function(){this.destroy()}.bind(this)})},c.prototype.removeTrail=function(e){e.todelete=!0},c.prototype.update=function(){this.containerMask.visible&&(this.containerMask.counter+=this.containerMask.speed*n.game.deltaTime,this.containerMask.texture=this.containerMask.explosionTexture[Math.floor(this.containerMask.counter%this.containerMask.explosionTexture.length)],Math.floor(this.containerMask.counter%this.containerMask.explosionTexture.length)>=this.containerMask.explosionTexture.length-1&&(this.containerMask.visible=!1)),this.smokeExplosion.visible&&(this.smokeExplosion.counter+=this.smokeExplosion.speed*n.game.deltaTime,this.smokeExplosion.texture=this.smokeExplosion.textures[Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)],Math.floor(this.smokeExplosion.counter%this.smokeExplosion.textures.length)>=this.smokeExplosion.textures.length-1&&(this.smokeExplosion.visible=!1,this.firstExplosionVisible=!1,Math.random()>.4?this.smokeExplosionDisappear.visible=!0:this.destroy())),this.smokeExplosionDisappear.visible&&(this.smokeExplosionDisappear.counter+=this.smokeExplosionDisappear.speed*n.game.deltaTime,this.smokeExplosionDisappear.texture=this.smokeExplosionDisappear.textures[Math.floor(this.smokeExplosionDisappear.counter%this.smokeExplosionDisappear.textures.length)],this.smokeExplosionDisappear.scale.y=.4*Math.random()+.6,Math.floor(this.smokeExplosionDisappear.counter%this.smokeExplosionDisappear.textures.length)>=this.smokeExplosionDisappear.textures.length-1&&(this.smokeExplosionDisappear.visible=!1,this.destroy()));for(var e=0;e<this.trails.length;e++)this.trails[e].toDelete&&(this.pool.push(this.trails[e]),this.container.removeChild(this.trails[e]),this.trails.splice(e,1),e--)},c.prototype.reset=function(){this.container.position.x=this.container.position.y=0,this.containerMask.counter=0,this.containerMask.visible=!0,this.smokeExplosion.visible=!0,this.smokeExplosionDisappear.alpha=1,this.smokeExplosion.counter=0,this.smokeExplosion.rotation=Math.random()*Math.PI*2,this.smokeExplosionDisappear.position.x=0,this.smokeExplosionDisappear.counter=0,this.smokeExplosionDisappear.visible=!1,this.prepareAssets()},i.exports=c}),define("fido/game/GameObjectPool",["require","exports","module"],function(e,t,i){var o=function(e){this.classType=e,this.pool=[]};o.constructor=o,o.prototype.prepopulate=function(e){for(var t=0;e>t;t++)this.pool.push(new this.classType)},o.prototype.get=o.prototype.getObject=function(){var e=this.pool.pop();return e||(e=new this.classType),e},o.prototype["return"]=o.prototype.returnObject=function(e){this.pool.push(e)},Object.defineProperties(o.prototype,{total:{get:function(){return this.pool.length}},length:{get:function(){return this.pool.length}}}),o.pools=[],o.idGenerator=1,o.getPool=function(e){return e._CLASS_ID||(e._CLASS_ID=o.idGenerator++,o.pools[e._CLASS_ID]=new o(e)),o.pools[e._CLASS_ID]},o.get=o.getObject=function(e){e._CLASS_ID||(e._CLASS_ID=o.idGenerator++,o.pools[e._CLASS_ID]=new o(e));var t=o.pools[e._CLASS_ID].getObject();return t._CLASS_ID=e._CLASS_ID,t},o.prototype["return"]=o.returnObject=function(e){o.pools[e._CLASS_ID].returnObject(e)},i.exports=o}),define("com/fighter/game/engine_shooter/damages/explosions/ExplosionFallApart",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/utils/Utils","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear","fido/game/GameObjectPool"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("com/fighter/game/engine/Item")),r=(e("fido/utils/Utils"),e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic")),s=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),a=(e("fido/game/GameObjectPool"),function(e){n.call(this,0,0,new o.Container),this.groups=["explosions"],this.container=new o.Container,this.view.addChild(this.container),this.uniqueAssets=["middle.png","wing1_debris.png","wing2_debris.png"],this.multipleAssets=["particle3.png","particles1.png","particles2.png"],this.pool=[],this.items=[],this.poolUnique=[],this.itemsUnique=[]});a.prototype=Object.create(n.prototype),a.prototype.prepareAssets=function(){Math.random()>.5||!Device.instance.desktop?this.world.game.explosionManager.addExplosion(this,r):this.world.game.explosionManager.addExplosion(this,s);for(var e=0;e<this.uniqueAssets.length;e++){var t=this.poolUnique.pop();t||(t=new o.Sprite.fromFrame(this.uniqueAssets[e%this.uniqueAssets.length]),t.anchor.x=t.anchor.y=.5,t.speed={x:0,y:0,z:0,r:0}),this.resetSprite(t),this.container.addChild(t),this.itemsUnique.push(t)}for(var i=Device.instance.desktop?5:1,e=0;i>e;e++){var t=this.pool.pop();t||(t=new o.Sprite.fromFrame(this.multipleAssets[e%this.multipleAssets.length]),t.anchor.x=t.anchor.y=.5,t.speed={x:0,y:0,z:0,r:0}),this.resetSprite(t),this.container.addChild(t),this.items.push(t)}},a.prototype.resetSprite=function(e){e.position.x=0,e.position.y=0,e.speed.x=4*(4*Math.random()-1),e.speed.y=4*(2*Math.random()-1),e.speed.z=2*(.5*Math.random()-.25),e.speed.r=.2*Math.random()-.1,e.defaultScale=.3*Math.random()+.7,e.scale.x=e.scale.y=2*(.3*Math.random()+.7),e.tick=100*Math.random()*2,e.rotation=0,e.alpha=1},a.prototype.updateItem=function(e){e.position.x+=e.speed.x,e.position.y+=e.speed.y,e.speed.y+=.05,e.speed.x*=.96,e.rotation+=e.speed.r,e.speed.r*=.98,e.tick+=e.speed.z,e.scale.x=e.defaultScale+.4*Math.cos(e.tick),e.scale.y=e.defaultScale,e.defaultScale*=.98},a.prototype.animate=function(){},a.prototype.update=function(){for(var e=0;e<this.items.length;e++)this.updateItem(this.items[e]),this.items[e].defaultScale<.1&&(this.pool.push(this.items[e]),this.container.removeChild(this.items[e]),this.items.splice(e,1),e--);for(var e=0;e<this.itemsUnique.length;e++)this.updateItem(this.itemsUnique[e]),this.itemsUnique[e].defaultScale<.1&&(this.poolUnique.push(this.itemsUnique[e]),this.container.removeChild(this.itemsUnique[e]),this.itemsUnique.splice(e,1),e--);0===this.items.length&&0===this.itemsUnique.length&&this.destroy()},a.prototype.reset=function(){this.container.position.x=this.container.position.y=0,this.prepareAssets()},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/TieFighter",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/TieFighterView","com/fighter/game/engine_shooter/bullets/TieBullet","com/fighter/game/engine_shooter/damages/explosions/TieFighterCrash","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear","com/fighter/game/engine_shooter/damages/explosions/ExplosionFallApart","fido/system/DelayedCalls","fido/goals/Goals","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),r=e("com/fighter/game/engine_shooter/enemies/views/TieFighterView"),s=e("com/fighter/game/engine_shooter/bullets/TieBullet"),a=e("com/fighter/game/engine_shooter/damages/explosions/TieFighterCrash"),h=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"),c=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),l=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionFallApart"),p=e("fido/system/DelayedCalls"),u=e("fido/goals/Goals"),d=function(e){e=e||new r(this),n.call(this,e),this.defaultArrayToShoot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],this.mass=2,this.dontDisplayHit=!0,this.canFire=!1,this.comeFromFlyByWave=!1,this.defaultNumberLife=2,this.speedBullet=new o.Point(-8,0),this.delayedCalls=new p};d.prototype=Object.create(n.prototype),d.prototype.rotate=function(){this.view.rotate()},d.prototype.setPickup=function(){this.pickup=!0,this.life=this.defaultNumberLife<8?8:this.defaultNumberLife},d.prototype.die=function(e){if(n.prototype.die.call(this),u.instance.increment("destroy_ties",1),!e){var t=Math.random();Device.instance.desktop?t>.75?this.world.game.explosionManager.addExplosion(this,a):t>.5?this.world.game.explosionManager.addExplosion(this,c):this.world.game.explosionManager.addExplosion(this,l):t>.9?this.world.game.explosionManager.addExplosion(this,a):t>.75?this.world.game.explosionManager.addExplosion(this,l):this.world.game.explosionManager.addExplosion(this,h);
}},d.prototype.bringViewToBack=function(){n.prototype.bringViewToBack.call(this),this.view.bringToBack(this.world.game.game.missionId)},d.prototype.bringViewToFront=function(e){this.view.bringToFront(),this.world.view.setLayer(this,"ships"),this.view.turn(),this.delayedCalls.add(function(){this.isBackward=!1,this.view.scale.x=this.view.scale.y=1}.bind(this),.2)},d.prototype.setPickup=function(){n.prototype.setPickup.call(this),this.view.setPickup()},d.prototype.hit=function(e){this.view.hit(e)},d.prototype.reset=function(){n.prototype.reset.call(this),this.comeFromFlyByWave=!1,this.comeFromSineWave=!1,this.comeFromYSeekerWave=!1,this.comeFromTopBottomWave=!1},d.prototype.fire=function(t,i){t=t||s,this.world.game.bulletsManager.fire(t,this),i||e("fido/sound/SoundBridge").sfx.play("tie_laser_single")};d.prototype.update=function(){n.prototype.update.call(this)},i.exports=d}),define("com/fighter/game/engine_shooter/enemies/WeakTieFighter",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/views/TieFighterView","com/fighter/game/engine_shooter/bullets/TieBullet","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/TieFighter")),r=e("com/fighter/game/engine_shooter/enemies/views/TieFighterView"),s=e("com/fighter/game/engine_shooter/bullets/TieBullet"),a=function(){var e=new r(this);e.tint=16711680,n.call(this,e),this.defaultArrayToShoot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],this.mass=2,this.defaultNumberLife=1,this.speedBullet=new o.Point(-8,0)};a.prototype=Object.create(n.prototype),a.prototype.reset=function(){n.prototype.reset.call(this)},a.prototype.fire=function(t,i){t=t||s,this.world.game.bulletsManager.fire(t,this),i||e("fido/sound/SoundBridge").sfx.play("tie_laser_single")},a.prototype.update=function(){n.prototype.update.call(this)},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/views/TieFighter360View",["require","exports","module","PIXI","com/fighter/game/engine_shooter/enemies/views/TieFighterBaseView"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/enemies/views/TieFighterBaseView"),r=function(){n.call(this),this.fighter360=!0,this.canTurn=!0,this.backTexture=o.Texture.fromFrame("wing_back.png"),this.frontTexture=o.Texture.fromFrame("first_order.png"),this.redGlow.visible=!0};r.prototype=Object.create(n.prototype),r.constructor=r,r.prototype.update=function(){n.prototype.update.call(this)},i.exports=r}),define("com/fighter/game/engine_shooter/bullets/TieBullet360",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=e("fido/bob/crash/Vector"),s=new r,a=function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.enemy,window.expert?this.defaultSpeedBullet=new o.Point(-15,0):this.defaultSpeedBullet=new o.Point(-8,0),this.groups.push("enemies_bullets")};a.prototype=Object.create(n.prototype),a.prototype.reset=function(){n.prototype.reset.call(this);var e=this.world.game.player,t=s;t.x=this.positionVec.x,t.y=this.positionVec.y,t=t.minus(e.positionVec),t.normalize(),this.speedBullet.x=t.x*this.defaultSpeedBullet.x,this.speedBullet.y=t.y*this.defaultSpeedBullet.x},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/TieFighter360",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/views/TieFighter360View","com/fighter/game/engine_shooter/bullets/TieBullet360","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/TieFighter")),n=e("com/fighter/game/engine_shooter/enemies/views/TieFighter360View"),r=e("com/fighter/game/engine_shooter/bullets/TieBullet360"),s=function(){var e=new n;o.call(this,e),this.defaultArrayToShoot=[1,1,1,0,0,0,0,0],this.mass=2,this.defaultNumberLife=3};s.prototype=Object.create(o.prototype),s.prototype.fire=function(t,i){t=t||r,this.world&&(this.world.game.bulletsManager.fire(t,this),i||e("fido/sound/SoundBridge").sfx.play("tie_laser_single"))},s.prototype.reset=function(){o.prototype.reset.call(this)},s.prototype.update=function(){o.prototype.update.call(this)},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/TieFighterTrench",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/views/TieFighter360View","com/fighter/game/engine_shooter/bullets/TieBullet360","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/TieFighter")),n=e("com/fighter/game/engine_shooter/enemies/views/TieFighter360View"),r=e("com/fighter/game/engine_shooter/bullets/TieBullet360"),s=function(){var e=new n;o.call(this,e),this.defaultArrayToShoot=[1,1,1,0,0,0,0,0],this.mass=2,this.defaultNumberLife=10};s.prototype=Object.create(o.prototype),s.prototype.fire=function(t,i){t=t||r,this.world&&(this.world.game.bulletsManager.fire(t,this),i||e("fido/sound/SoundBridge").sfx.play("tie_laser_single"))},s.prototype.reset=function(){o.prototype.reset.call(this)},s.prototype.update=function(){o.prototype.update.call(this)},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/HeavyTieFighter360",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/views/TieFighter360View","com/fighter/game/engine_shooter/bullets/TieBullet360","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/TieFighter")),n=e("com/fighter/game/engine_shooter/enemies/views/TieFighter360View"),r=e("com/fighter/game/engine_shooter/bullets/TieBullet360"),s=function(){var e=new n;o.call(this,e),this.defaultArrayToShoot=[0,0,1],this.mass=2,this.defaultNumberLife=5};s.prototype=Object.create(o.prototype),s.prototype.fire=function(t,i){t=t||r,this.world.game.bulletsManager.fire(t,this),i||e("fido/sound/SoundBridge").sfx.play("tie_laser_single")},s.prototype.reset=function(){o.prototype.reset.call(this)},s.prototype.update=function(){o.prototype.update.call(this)},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/views/LandingShipView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=e("fido/utils/Utils"),s=e("fido/system/Ticker"),a=function(){n.call(this),this.tick=0,this.view=new o.Sprite.fromFrame("landingship2.png"),this.view.anchor.x=this.view.anchor.y=.5,this.view.scale.x=this.view.scale.y=1.5,this.addChild(this.view),this.viewDamaged=new o.Sprite.fromFrame("landingship_damage.png"),this.viewDamaged.alpha=0,this.viewDamaged.anchor.x=this.viewDamaged.anchor.y=.5,this.viewDamaged.scale.x=this.viewDamaged.scale.y=1.5,this.addChild(this.viewDamaged),this.impactsContainer=new o.Container,this.addChild(this.impactsContainer),this.pool=[],this.smokes=[],this.impacts=[],this.poolImpacts=[]};a.prototype=Object.create(n.prototype),a.constructor=a,a.prototype.showImpact=function(e){var t=this.poolImpacts.pop();if(!t){var i=r.getTexturesFromFramesWithPrefix("impact_player_000%%.png",7,0),t=new o.Sprite(i[0]);t.anchor.x=t.anchor.y=.5,t.textures=i,t.scale.x=t.scale.y=2}t.speed=1.5,t.visible=!0,t.position.x=50*Math.random()-25,t.position.y=30*Math.random()-15,t.counter=0,this.impactsContainer.addChild(t),this.impacts.push(t)},a.prototype.destroy=function(){this.viewDamaged.alpha=0;for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];this.viewDamaged.removeChild(t),this.pool.push(t),this.smokes.splice(e,1),e--}},a.prototype.reset=function(){EasingsGame.killTweensOf(this.viewDamaged),this.viewDamaged.alpha=0},a.prototype.hit=function(e){e&&this.showImpact(e)},a.prototype.updateView=function(e){EasingsGame.to(this.viewDamaged,.5,{alpha:e})},a.prototype.addSmoke=function(){var e=this.pool.pop();e||(e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke2.png"),e.tint=0*Math.random(),e.anchor.x=e.anchor.y=.5),e.alpha=.2*Math.random()+.8,e.isGrowing=!0,e.tick=0,e.speedX=2*Math.random()+1,e.speedY=Math.random()+1,e.scale.x=e.scale.y=1+.4*Math.random()-.2,e.position.x=150*Math.random()-75+125,e.position.y=0,this.viewDamaged.addChild(e),this.smokes.push(e)},a.prototype.update=function(){this.viewDamaged.alpha>.5&&(this.tick++,this.tick%(Device.instance.desktop?20:35)===0&&this.addSmoke());for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.tick++,t.position.x-=1*Math.sin(t.tick/40),t.position.y+=.1*Math.cos(t.tick/40)-t.speedY,t.scale.x=t.scale.y+=.005*Math.cos(t.tick/40),t.alpha*=.996,t.alpha<.02&&(this.viewDamaged.removeChild(t),this.pool.push(t),this.smokes.splice(e,1),e--)}for(var e=0;e<this.impacts.length;e++){var i=this.impacts[e];i.counter+=i.speed*s.game.deltaTime,i.texture=i.textures[Math.floor(i.counter%i.textures.length)],Math.floor(i.counter%i.textures.length)>=i.textures.length-1&&(this.poolImpacts.push(i),this.impactsContainer.removeChild(i),this.impacts.slice(e,1),e--)}},i.exports=a}),define("com/fighter/game/engine_shooter/bullets/DirectionalBullet",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=e("fido/bob/crash/Vector"),s=(new r,function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.enemy,this.groups.push("enemies_bullets")});s.prototype=Object.create(n.prototype),s.prototype.reset=function(e){n.prototype.reset.call(this),this.speedBullet.x=-6*e.x,this.speedBullet.y=-6*e.y},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/EnemyLifeBar",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine/Item"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/GameObjectPool"),e("fido/bob/crash/Vector")),r=e("com/fighter/game/engine/Item"),s=(new n,new n,function(){r.call(this,0,0,new o.Container),this.view.layer="shields",this.back=new o.Sprite.fromFrame("life_landingship1.png"),this.view.addChild(this.back),this.front=new o.Sprite.fromFrame("life_landingship2.png"),this.view.addChild(this.front)});s.prototype=Object.create(r.prototype),s.prototype.reset=function(e,t){this.owner=e,this.offset=t||{x:0,y:0},this.front.scale.x=1},s.prototype.update=function(){this.view.position.x=this.owner.position.x+this.offset.x,this.view.position.y=this.owner.position.y+this.offset.y,(this.front.scale.x<=0||!this.owner.world||this.owner.isDead)&&this.destroy()},s.prototype.updateView=function(e){this.front.scale.x=e},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/LandingShip",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/LandingShipView","com/fighter/game/hud/ItemGaugeWeapon","com/fighter/game/engine_shooter/bullets/DirectionalBullet","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear","com/fighter/game/engine_shooter/enemies/EnemyLifeBar","com/fighter/game/engine/GameObjectPool","fido/goals/Goals","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),r=e("com/fighter/game/engine_shooter/enemies/views/LandingShipView"),s=e("com/fighter/game/hud/ItemGaugeWeapon"),a=e("com/fighter/game/engine_shooter/bullets/DirectionalBullet"),h=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"),c=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),l=e("com/fighter/game/engine_shooter/enemies/EnemyLifeBar"),p=e("com/fighter/game/engine/GameObjectPool"),u=e("fido/goals/Goals"),d=function(){var e=new r;e.anchor.x=e.anchor.y=.5,n.call(this,e),this.defaultArrayToShoot=[1,1,1],this.mass=2,this.defaultNumberLife=90,this.speedBullet=new o.Point(-4,0),this.contactZone=new o.Rectangle(0,0,80,100),this.delayBeforeLoadingLaser=400*Math.random()+200,this.isIncreasingWeapon=!1,this.unload=!1,this.isLandingShip=!0,this.gaugeWeapon=new s,this.floatMovement.x=.3,this.floatMovement.y=.2};d.prototype=Object.create(n.prototype),d.prototype.die=function(){n.prototype.die.call(this),u.instance.increment("destroy_transports",1),this.world.game.blastEffect(this.position),Device.instance.desktop?this.world.game.explosionManager.addExplosion(this,c):this.world.game.explosionManager.addExplosion(this,h)},d.prototype.reset=function(){this.spread=Math.PI/4,this.nbGroupsBullet=4,this.nbBulletsPerGroup=3,this.delayBeforeLoadingLaser=400*Math.random()+200,this.unload=!1,this.isIncreasingWeapon=!1,this.view.reset(),n.prototype.reset.call(this),this.lifeBar=p.getObject(l),this.lifeBar.reset(this,{x:50,y:-50}),this.world.add(this.lifeBar)},d.prototype.addedToWorld=function(){},d.prototype.removedFromWorld=function(){this.view.destroy(),this.lifeBar.world},d.prototype.fireLaser=function(){this.world.game.enemiesLaserManager.fire(this)},d.prototype.fire=function(){for(var e,t,i,o=0;o<this.nbGroupsBullet;o++){e=2*this.spread/this.nbGroupsBullet*o-this.spread;for(var n=0;n<this.nbBulletsPerGroup;n++)t=e+Math.PI/50*n,i={x:Math.cos(t)/2,y:Math.sin(t)/2},this.world.game.bulletsManager.fire(a,this,{x:45,y:-25},i)}},d.prototype.hit=function(t){n.prototype.hit.call(this,t),e("fido/sound/SoundBridge").sfx.play("shield_hit");var i=1-this.life/this.defaultNumberLife;this.view.updateView(i),this.lifeBar.updateView(this.life/this.defaultNumberLife)},d.prototype.update=function(){n.prototype.update.call(this)},i.exports=d}),define("com/fighter/game/engine_shooter/enemies/views/ObstacleView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=function(){n.call(this),this.container=new o.Container,this.addChild(this.container),this.view1=new o.Sprite.fromFrame("env3_impact_element.png"),this.view1.anchor.x=.5,this.view1.anchor.y=.5,this.view1.visible=!1,this.view2=new o.Sprite.fromFrame("env3_impact_element2.png"),this.view2.anchor.x=.5,this.view2.anchor.y=.5,this.view2.visible=!1,this.container.addChild(this.view1),this.container.addChild(this.view2)};r.prototype=Object.create(n.prototype),r.constructor=r,r.prototype.reset=function(){Math.random()>=.5?(this.view1.visible=!0,this.view2.visible=!1):(this.view1.visible=!1,this.view2.visible=!0)},r.prototype.getHeight=function(){return this.view1.visible?this.view1.height:this.view2.height},r.prototype.hit=function(){},r.prototype.update=function(){},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/Obstacle",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/ObstacleView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),n=e("com/fighter/game/engine_shooter/enemies/views/ObstacleView"),r=function(){var e=new n(this);o.call(this,e),this.view.layer="obstaclesInside",this.isStatic=!0,this.defaultArrayToShoot=[0],this.defaultNumberLife=10002};r.prototype=Object.create(o.prototype),r.prototype.reset=function(){this.view.reset(),this.contactZone.height=this.view.getHeight(),o.prototype.reset.call(this)},r.prototype.getWidth=function(){return this.view.width},r.prototype.getHeight=function(){return this.view.getHeight()},r.prototype.fire=function(){},r.prototype.update=function(){o.prototype.update.call(this)},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/views/MashMachineView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=function(){n.call(this),this.view=new o.Sprite.fromFrame("env3_pimpact_lateform.png"),this.view.anchor.x=.5,this.view.anchor.y=.5,this.addChild(this.view)};r.prototype=Object.create(n.prototype),r.constructor=r,r.prototype.reset=function(){},r.prototype.hit=function(){},r.prototype.update=function(){},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/MashMachineSubpart",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/MashMachineView"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),r=e("com/fighter/game/engine_shooter/enemies/views/MashMachineView"),s=function(){var e=new r(this);n.call(this,e),this.view.layer="obstacles",this.isStatic=!0,this.defaultArrayToShoot=[0],this.defaultNumberLife=100,this.contactZone=new o.Rectangle(0,0,200,300)};s.prototype=Object.create(n.prototype),s.prototype.reset=function(){n.prototype.reset.call(this)},s.prototype.addedToWorld=function(){n.prototype.addedToWorld.call(this),this.world.view.setLayer(this,"obstacles")},s.prototype.fire=function(){},s.prototype.update=function(){n.prototype.update.call(this)},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/MashMachine",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/MashMachineSubpart"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Math2"),e("com/fighter/game/engine/Item")),r=e("com/fighter/game/engine_shooter/enemies/MashMachineSubpart"),s=function(){n.call(this,0,0,new o.Container),this.speed=0};s.prototype=Object.create(n.prototype),s.prototype.onRemovedFromWorld=function(){},s.prototype.setPosition=function(e){this.bottomPart.positionVec.x=e,this.topPart.positionVec.x=e},s.prototype.getWidth=function(){return this.topPart.view.width},s.prototype.reset=function(){this.speed=.4+2*Math.random(),this.incrementSpaceBetweenParts=200*Math.random(),this.topPart=this.world.game.enemyManager.addEnemy(r),this.topPart.view.view.scale.y=-1,this.topPart.defaultY=this.world.game.h-this.world.game.bounds.height+this.topPart.view.view.height/2-40,this.topPart.positionVec.y=this.topPart.defaultY,this.world.add(this.topPart),this.bottomPart=this.world.game.enemyManager.addEnemy(r),this.bottomPart.view.view.scale.y=1,this.bottomPart.defaultY=this.world.game.h-this.topPart.view.view.height/2+40,this.bottomPart.positionVec.y=this.bottomPart.defaultY,this.world.add(this.bottomPart),this.delay=60},s.prototype.smash=function(){EasingsGame.to(this.topPart.positionVec,this.speed,{y:this.topPart.defaultY,delay:1,ease:Easings.easeOutCirc,onComplete:function(){this.goBack()}.bind(this)}),EasingsGame.to(this.bottomPart.positionVec,this.speed,{y:this.bottomPart.defaultY,delay:1,ease:Easings.easeOutCirc})},s.prototype.goBack=function(){EasingsGame.to(this.topPart.positionVec,1,{y:this.topPart.defaultY-100,ease:Easings.easeInCubic,onComplete:function(){this.smash()}.bind(this)}),EasingsGame.to(this.bottomPart.positionVec,1,{y:this.bottomPart.defaultY+100,ease:Easings.easeInCubic})},s.prototype.update=function(){this.machineStarted||(this.machineStarted=!0,this.goBack()),this.topPart.world||this.bottomPart.world||this.destroy()},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/views/TurretInsideView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView","fido/utils/Math2","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=e("fido/utils/Math2"),s=e("fido/utils/Utils"),a=function(){n.call(this),this.tick=0,this.background=new o.Sprite.fromFrame("env3_background_touret.png"),this.background.anchor.x=this.background.anchor.y=.5,this.addChild(this.background);var e=s.getTexturesFromFramesWithPrefix("touret_last_world_000%%.png",24,0);e.reverse(),this.turret=new o.Sprite(e[0]),this.turret.anchor.x=this.turret.anchor.y=.5,this.turret.textures=e,this.turret.speed=.4,this.background.addChild(this.turret);var t=new o.Sprite.fromFrame("env3_pipe_lign3.png");t.anchor.x=t.anchor.y=.5,t.position.y=this.turret.height/2,this.sprites=[0,24],this.xBullet=0,this.enable=!1,this.triggerX=200};a.prototype=Object.create(n.prototype),a.constructor=a,a.prototype.reset=function(){this.enable=!1,this.tick=0,this.turret.texture=this.turret.textures[0],this.hasBeenPlayed=!1,this.fireEnable=!1},a.prototype.getXBullet=function(){return this.xBullet},a.prototype.getXBullet2=function(){return this.xBullet2},a.prototype.hit=function(){},a.prototype.update=function(){if(n.prototype.update.call(this),this.enable){this.tick++;var e=(Math.cos(this.tick/20)+1)/2,t=parseInt((1-e)*this.turret.textures.length);this.turret.texture=this.turret.textures[t],t>=this.turret.textures.length-1&&(this.enable=!1,this.hasBeenPlayed=!0),this.xBullet=r.map(e,1,0,-140,100),this.xBullet2=r.map(e,1,0,-100,140)}else Math.abs(this.owner.world.game.player.position.x-this.owner.position.x)<this.triggerX&&!this.hasBeenPlayed&&(this.enable=!0,this.fireEnable=!0)},i.exports=a}),define("com/fighter/game/engine_shooter/bullets/TurretInsideBullet",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet","fido/bob/crash/Vector","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=e("fido/bob/crash/Vector"),s=e("fido/system/Ticker"),a=(new r,function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.enemy,this.groups.push("enemies_bullets")});a.prototype=Object.create(n.prototype),a.prototype.reset=function(e){n.prototype.reset.call(this),this.view.scale.x=this.view.scale.y=1,this.speedBullet.x=-6*e.x,this.speedBullet.y=-6*e.y,this.view.rotation=Math.atan2(this.speedBullet.y,this.speedBullet.x)},a.prototype.update=function(){n.prototype.update.call(this),this.view.scale.x<2?this.view.scale.x=this.view.scale.y+=.02*s.game.deltaTime*this.timeManager.tickSpeedEnemies:this.view.scale.x=this.view.scale.y=2},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/TurretInside",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/TurretInsideView","com/fighter/game/engine_shooter/bullets/TurretInsideBullet","fido/bob/crash/Vector","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),r=e("com/fighter/game/engine_shooter/enemies/views/TurretInsideView"),s=e("com/fighter/game/engine_shooter/bullets/TurretInsideBullet"),a=e("fido/bob/crash/Vector"),h=new a,c=new a,l=function(){var e=new r(this);n.call(this,e),this.view.layer="turretsBack",this.defaultArrayToShoot=[0,1],this.isTurret=!0,this.isTurretInside=!0,this.tickWaitTimeToShot=20,this.defaultWaitTimeToShot=15,this.delayBullet=0,this.canFire=!0,this.canMove=!1,this.mass=2,this.defaultNumberLife=1e3,this.speedBullet=new o.Point(-8,0),this.bulletForce={x:0,y:0},this.bulletForce2={x:0,y:0},this.posBullet={x:0,y:-115},this.posBullet2={x:0,y:-115},this.contactZone=new o.Rectangle};l.prototype=Object.create(n.prototype),l.prototype.reset=function(){n.prototype.reset.call(this),this.world.view.setLayer(this,"turretsBack")},l.prototype.fire=function(){this.view.fireEnable&&(this.world.game.bulletsManager.fire(s,this,{x:this.posBullet.x,y:this.posBullet.y},this.bulletForce),this.world.game.bulletsManager.fire(s,this,{x:this.posBullet2.x,y:this.posBullet2.y},this.bulletForce2),e("fido/sound/SoundBridge").sfx.play("tiefighter_weapon_01"))},l.prototype.update=function(){n.prototype.update.call(this),this.posBullet.x=this.view.getXBullet(),h.x=this.posBullet.x,h.y=this.posBullet.y,c.x=0,c.y=-50;var e=c.minus(h);e.normalize(),this.bulletForce.x=e.x,this.bulletForce.y=e.y,this.posBullet2.x=this.view.getXBullet2(),h.x=this.posBullet2.x,h.y=this.posBullet2.y,c.x=0,c.y=-50;var e=c.minus(h);e.normalize(),this.bulletForce2.x=e.x,this.bulletForce2.y=e.y},i.exports=l}),define("com/fighter/game/engine_shooter/enemies/Wave",["require","exports","module","com/fighter/game/engine_shooter/enemies/TieFighter","fido/bob/crash/Vector","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine/Item","signals"],function(e,t,i){var o=(e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("com/fighter/game/engine/Item")),n=e("signals"),r=function(){o.call(this,0,0),this.mininmumOffset=150,this.onWaveDestroy=new n,this.pattern={},this.enemies=[],this.groups=["waves"],this.tickBullet=0,this.tickShot=0,this.tickFrenquencyBullet=0,this.speed=2,this.snipersEnemies=[],this.arrayToShoot=[1,1,1],this.tickShot=[0],this.delayBulletPerPass=120,this.offsetOffScreen=100};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){if(this.timeManager=this.world.game.game.timeManager,this.pointers=[],this.data=e,this.speed=this.data.data.speed||2,this.enemies=this.data.enemies,this.arrayToShoot=this.data.data.arrayToShoot||this.arrayToShoot,this.data.data.delayBulletPerPass){this.delayBulletPerPass=[];for(var t=0;t<this.data.data.nbPasses;t++)this.data.data.delayBulletPerPass[t]?this.delayBulletPerPass.push(this.data.data.delayBulletPerPass[t]):this.delayBulletPerPass.push(this.data.data.delayBulletPerPass[0]||120)}else{this.delayBulletPerPass=[];for(var t=0;t<this.data.data.nbPasses;t++)this.delayBulletPerPass.push(120)}this.tickShots=[];for(var t=0;t<this.data.data.nbPasses;t++)this.tickShots.push(0);this.tickBullets=[];for(var t=0;t<this.data.data.nbPasses;t++)this.tickBullets.push(0);for(var i=0,t=0;t<this.data.data.nbPasses;t++)if(this.data.data.enemiesPerPass&&this.data.data.enemiesPerPass[t])for(var o=0;o<this.data.data.enemiesPerPass[t];o++){var n=this.enemies[0][i];this.data.data.spread&&n.spread&&(n.spread=this.data.data.spread),this.data.data.nbGroupsBullet&&n.nbGroupsBullet&&(n.nbGroupsBullet=this.data.data.nbGroupsBullet),this.data.data.nbBulletsPerGroup&&n.nbBulletsPerGroup&&(n.nbBulletsPerGroup=this.data.data.nbBulletsPerGroup),i++}this.drawPath(),this.place()},r.prototype.drawPath=function(){},r.prototype.killEverybody=function(){if(this.data.data.enemyTypes.length>1)for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++)for(var o=t[i],n=0;n<o.length;n++){var r=o[n];r["switch"]||r.isTurret||r.isStatic||this.world.game.enemyManager.hitEnemy(r,100,null,!0)}else for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++){var r=t[i];r["switch"]||r.isTurret||r.isStatic||this.world.game.enemyManager.hitEnemy(r,100,null,!0)}},r.prototype.place=function(){Math.random()>=.7&&this.enemies[0][this.enemies[0].length-1].setPickup()},r.prototype.selectEnemyForEachWave=function(){this.tickBullet=0,this.tickFrenquencyBullet=0,this.snipersEnemies=[];for(var e=0;e<this.waves.length;e++){var t=this.waves[e],i=t[Math.floor(Math.random()*t.length)];this.snipersEnemies.push(i)}},r.prototype.selectEnemyForWave=function(e){this.tickBullets[e]=0;var t=this.waves[e];this.snipersEnemies[e]=t[Math.floor(Math.random()*t.length)]},r.prototype.decrementTimer=function(){this.tickFrenquencyBullet++;var e=!1;if(this.tickFrenquencyBullet%5===0){for(var t=0;t<this.tickBullets.length;t++)this.snipersEnemies[t]&&this.tickBullets[t]++;e=!0}for(var t=0;t<this.snipersEnemies.length;t++){var i=this.snipersEnemies[t];i&&i.world?(this.arrayToShoot[this.tickBullets[t]-1]&&e&&!i.isBackward&&i.fire(),this.tickBullets[t]-1>=this.arrayToShoot.length&&(this.snipersEnemies[t]=null)):this.snipersEnemies[t]=null}for(var t=0;t<this.data.data.nbPasses;t++)this.snipersEnemies[t]||(this.tickShots[t]++,this.tickShots[t]>=this.delayBulletPerPass[t]&&(this.tickShots[t]=0,this.selectEnemyForWave(t)))},r.prototype.update=function(){if(this.waves){this.decrementTimer();var e=!1;if(this.data.data.enemyTypes.length>1)for(var t=0;t<this.waves.length;t++)for(var i=this.waves[t],o=0;o<i.length;o++)for(var n=i[o],r=0;r<n.length;r++){var s=n[r];s.world?e=!0:(n.splice(r,1),r--)}else for(var t=0;t<this.waves.length;t++)for(var i=this.waves[t],o=0;o<i.length;o++){var s=i[o];s.world?e=!0:(i.splice(o,1),o--)}}else for(var e=!1,a=0,t=0;t<this.enemies.length;t++)for(var o=0;o<this.enemies[t].length;o++)this.enemies[t][o].world&&(e=!0,a++);e||(this.onWaveDestroy.dispatch(),this.destroy())},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/SineWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={type:"sine",y:"random",ymin:200,ymax:400,radius:"random",radiusmin:200,radiusmax:400},this.waveLength=null,this.frequency=null};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.waveLength=.1*Math.random()+.1,this.frequency=20;for(var e=this.engine.world.view.camera.x+600,t=0,i=0;i<this.enemies[0].length;i++){t="random"===this.pattern.y?Math.random()*(this.pattern.ymax-this.pattern.ymin)+this.pattern.ymin:this.pattern.y;var o=this.enemies[0][i];o.arrayToShoot=this.data.arrayToShoot||o.defaultArrayToShoot,o.time=10*Math.random(),o.positionVec.x=e+i*this.mininmumOffset,o.positionVec.y=t}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.time+=1*o.game.deltaTime,t.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies*this.timeManager.tickSpeedEnemies,t.acceleration.y+=.1*Math.cos(t.time/this.frequency)}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/TopBottomWave",["require","exports","module","com/fighter/game/engine_shooter/enemies/Wave","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("com/fighter/game/engine_shooter/enemies/Wave"),n=(e("fido/utils/Math2"),e("fido/system/Ticker")),r=function(){o.call(this),this.pattern={y:"random",ymin:200,ymax:300,amplitude:200},this.waveLength=null,this.leader=null,this.oldAccelerationY=null,this.tick=0,this.startAngle=0,this.angleVel=.23};r.prototype=Object.create(o.prototype),r.prototype.place=function(){o.prototype.place.call(this),this.waveLength=.1*Math.random()+.1,this.waves=[];for(var e,t,i,n=0,r=0;r<this.data.data.nbPasses;r++){e=this.data.data.offsetsPasses[r],amplitude=this.data.data.amplitudesPasses[r],t=this.engine.game.w+e.x,i=e.y;for(var s=[],a=0;a<this.data.data.enemiesPerPass[r];a++){var h=this.enemies[0][n];h.comeFromTopBottomWave=!0,a%2===0?(t+=this.mininmumOffset,h.pair=!0):h.pair=!1,h.arrayToShoot=this.data.arrayToShoot||h.defaultArrayToShoot,this.data.delayBulletPerPass?(h.waitTimeToShot=this.data.delayBulletPerPass[r]||h.defaultWaitTimeToShot,h.tickBullet=Math.floor(Math.random()*h.waitTimeToShot)):h.tickBullet=Math.floor(Math.random()*h.defaultWaitTimeToShot),h.positionVec.x=t,h.positionVec.y=r%2===0?i-amplitude/2:i+amplitude/2,s.push(h),n++}this.waves.push(s)}},r.prototype.update=function(){o.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++){var r,s=t[i];r=s.pair?(Math.sin(s.positionVec.x/100)+1)/2*this.data.data.amplitudesPasses[e]+this.data.data.offsetsPasses[e].y:(-Math.sin(s.positionVec.x/100)+1)/2*this.data.data.amplitudesPasses[e]+this.data.data.offsetsPasses[e].y,
s.positionVec.y=r,s.positionVec.x-=this.speed*n.game.deltaTime*this.timeManager.tickSpeedEnemies}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/LandingShipClassic",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={type:"LandingShipClassic",y:"random",ymin:200,ymax:400,offset:200},this.waveLength=null,this.frequency=null};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.waveLength=.1*Math.random()+.1,this.frequency=20;for(var e,t=this.engine.world.view.camera.x+800,i=0,o=0;o<this.enemies[0].length;o++){var r=this.enemies[0][o];r.frequency=10*Math.random()+10,r.time=Math.random()*Math.PI*2,r.offset=200*Math.random()-100+2*this.pattern.offset,i=this.pattern.ymin+(this.pattern.ymax-this.pattern.ymin)/this.enemies[0].length*o,e=t+100*Math.random(),r.positionVec.x=e,r.positionVec.y=i}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.time+=1*o.game.deltaTime,t.positionVec.x>this.engine.w-t.offset?t.positionVec.x-=1*o.game.deltaTime:t.positionVec.x-=Math.cos(t.time/t.frequency)*this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies,t.positionVec.y-=.5*Math.cos(t.time/t.frequency)}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/CircleWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={type:"circle",y:"random",ymin:200,ymax:300,radius:"random",radiusmin:80,radiusmax:140},this.waveLength=null,this.frequency=null};r.prototype=Object.create(n.prototype),r.prototype.place=function(){var e=this.engine.world.view.camera.x+600,t="random"===this.pattern.y?Math.random()*(this.pattern.ymax-this.pattern.ymin)+this.pattern.ymin:this.pattern.y,i=0;radius="random"===this.pattern.radius?Math.random()*(this.pattern.radiusmax-this.pattern.radiusmin)+this.pattern.radiusmin:this.pattern.radius;for(var o=0;o<this.enemies[0].length;o++){var n=this.enemies[0][o];n.frequency=2*Math.random()+15,n.amplitude=.04,n.time=10*Math.random(),i=2*Math.PI/this.enemies[0].length*o,n.positionVec.x=e+Math.cos(i)*radius+2*radius,n.positionVec.y=t+Math.sin(i)*radius}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.time++,t.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies,t.acceleration.y+=Math.cos(t.time/t.frequency)*t.amplitude}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/FollowLeaderSine",["require","exports","module","com/fighter/game/engine_shooter/enemies/Wave","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("com/fighter/game/engine_shooter/enemies/Wave"),n=(e("fido/utils/Math2"),e("fido/system/Ticker")),r=function(){o.call(this),this.pattern={y:"random",ymin:200,ymax:300,amplitude:200},this.leader=null,this.oldAccelerationY=null,this.tick=0,this.startAngle=0,this.angleVel=.23};r.prototype=Object.create(o.prototype),r.prototype.follow=function(e,t,i){var o=tempVector;o.x=t,o.y=i;var n=o.minus(e.positionVec),r=n.length();if(!(r<2*e.view.width)){n.setLength(2);var s=n.minus(e.velocity);return s}},r.prototype.place=function(){o.prototype.place.call(this),this.waves=[];for(var e,t,i,n=0,r=0;r<this.data.data.nbPasses;r++){e=this.data.data.offsetsPasses[r],t=this.engine.game.w+this.offsetOffScreen+e.x,i=e.y;for(var s=[],a=0;a<this.data.data.enemiesPerPass[r];a++){var h=this.enemies[0][n];h.comeFromSineWave=!0,h.positionVec.x=t+a*this.mininmumOffset,h.positionVec.y=i,h.arrayToShoot=this.data.arrayToShoot||h.defaultArrayToShoot,this.data.delayBulletPerPass?(h.waitTimeToShot=this.data.delayBulletPerPass[r]||h.defaultWaitTimeToShot,h.tickBullet=Math.floor(Math.random()*h.waitTimeToShot)):h.tickBullet=Math.floor(Math.random()*h.defaultWaitTimeToShot),s.push(h),n++}this.waves.push(s)}},r.prototype.update=function(){o.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++){var r=t[i];r.positionVec.y=(Math.sin(r.positionVec.x/100)+1)/2*this.data.data.amplitudesPasses[e]+this.data.data.offsetsPasses[e].y,r.positionVec.x-=this.speed*n.game.deltaTime*this.timeManager.tickSpeedEnemies}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/Path",["require","exports","module","com/fighter/game/engine/Item"],function(e,t,i){var o=e("com/fighter/game/engine/Item"),n=function(){o.call(this,0,0),this.radius=1,this.points=[]};n.prototype=Object.create(o.prototype),n.prototype.addPoints=function(e){for(var t=0;t<e.length;t++){var i={x:e[t].x,y:e[t].y};this.points.push(i)}},n.prototype.getStart=function(){return this.points[0]},n.prototype.getEnd=function(){return this.points[this.points.length-1]},i.exports=n}),define("com/fighter/game/engine_shooter/enemies/waves/FollowPath",["require","exports","module","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/enemies/Wave","fido/utils/Math2","com/fighter/game/engine_shooter/enemies/waves/Path"],function(e,t,i){var o=(e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("com/fighter/game/engine/GameObjectPool")),n=e("fido/bob/crash/Vector"),r=e("com/fighter/game/engine_shooter/enemies/Wave"),s=(e("fido/utils/Math2"),e("com/fighter/game/engine_shooter/enemies/waves/Path")),a=(new n,function(){r.call(this),this.debug=!0,this.pattern={y:"random",ymin:200,ymax:300,amplitude:200,points:[{x:1100,y:300},{x:600,y:200},{x:-200,y:300}]},this.path=null});a.prototype=Object.create(r.prototype),a.prototype.drawPath=function(){if(this.path=o.getObject(s),this.path.addPoints(this.data.points),this.debug){var e=new PIXI.Graphics;e.lineStyle(2,0).moveTo(this.data.points[0].x,this.data.points[0].y);for(var t=1;t<this.data.points.length;t++){var i=this.data.points[t];e.lineTo(i.x,i.y)}this.world.game.game.view.addChild(e)}},a.prototype.place=function(){r.prototype.place.call(this);for(var e=this.path.getStart(),t=0;t<this.enemies[0].length;t++){var i=this.enemies[0][t];i.positionVec.x=e.x+(t+1)*this.mininmumOffset,i.positionVec.y=e.y}},a.prototype.update=function(){if(r.prototype.update.call(this),this.path)for(var e=0;e<this.enemies[0].length;e++)this.enemies[0][e].world&&this.enemies[0][e].followPath(this.path)},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/waves/FlybyWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={type:"flyby",radiusmin:80,radiusmax:140},this.waveLength=null,this.frequency=null};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.waves=[];var e,t,i,o=0;this.positionTheyGoUpPerPass=[];for(var r=0;r<this.data.data.nbPasses;r++){this.data.data.positionTheyGoUpPerPass&&this.data.data.positionTheyGoUpPerPass[r]?this.positionTheyGoUpPerPass.push(this.data.data.positionTheyGoUpPerPass[r]):this.positionTheyGoUpPerPass.push(200);var s=[];e=this.data.data.offsetsPasses[r],t=this.engine.game.w+this.offsetOffScreen+e.x,i=e.y;for(var a=0;a<this.data.data.enemiesPerPass[r];a++){var h=this.enemies[0][o];h.comeFromFlyByWave=!0,this.data.delayBulletPerPass?(h.waitTimeToShot=this.data.delayBulletPerPass[r]||h.defaultWaitTimeToShot,h.tickBullet=Math.floor(Math.random()*h.waitTimeToShot)):h.tickBullet=Math.floor(Math.random()*h.defaultWaitTimeToShot),h.arrayToShoot=this.data.arrayToShoot||h.defaultArrayToShoot,h.positionVec.x=t+a*this.mininmumOffset,h.positionVec.y=i,h.defaultY=i,h.pickup,o++,s.push(h)}this.waves.push(s)}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=this.world.game.bounds.width+200,t=0;t<this.waves.length;t++)for(var i=this.waves[t],r=0;r<i.length;r++){var s=i[r],a=1-(s.positionVec.x-this.positionTheyGoUpPerPass[t])/e;0>a?a=0:a>1&&(a=1);var h=s.positionVec.x-this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies,c=s.defaultY-700*Math.pow(a,6);o.game.deltaTime<2&&s.seek({x:h,y:c},this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies)}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/FlipFlopWave",["require","exports","module","com/fighter/game/engine_shooter/enemies/Wave","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("com/fighter/game/engine_shooter/enemies/Wave"),n=(e("fido/utils/Math2"),e("fido/system/Ticker")),r=function(){o.call(this),this.waveLength=null,this.leader=null,this.oldAccelerationY=null,this.tick=0,this.startAngle=0,this.angleVel=.23};r.prototype=Object.create(o.prototype),r.prototype.place=function(){o.prototype.place.call(this),this.waveLength=.1*Math.random()+.1,this.waves=[];for(var e,t,i,n=0,r=0;r<this.data.data.nbPasses;r++){e=this.data.data.offsetsPasses[r],t=this.engine.game.w+this.offsetOffScreen+e.x,i=e.y;for(var s=[],a=0,h=0;h<this.data.data.enemiesPerPass[r];h++){var c=this.enemies[0][n];this.data.delayBulletPerPass?(c.waitTimeToShot=this.data.delayBulletPerPass[r]||c.defaultWaitTimeToShot,c.tickBullet=Math.floor(Math.random()*c.waitTimeToShot)):c.tickBullet=Math.floor(Math.random()*c.defaultWaitTimeToShot),c.count=a,0===a?(c.positionVec.x=t,c.positionVec.y=i-this.mininmumOffset):1===a?(c.positionVec.x=t-50,c.positionVec.y=i):2===a&&(c.positionVec.x=t,c.positionVec.y=i+this.mininmumOffset,t+=this.mininmumOffset+25),s.push(c),n++,a++,a%=3}this.waves.push(s)}},r.prototype.update=function(){o.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0,r=0;r<t.length;r++){var s=t[r];0===s.count?(y=Math.sin(s.positionVec.x/50)*this.data.data.amplitudesPasses[e],y+=this.data.data.offsetsPasses[e].y):2===s.count?(y=Math.sin(s.positionVec.x/50)*-this.data.data.amplitudesPasses[e],y+=this.data.data.offsetsPasses[e].y):y=this.data.data.offsetsPasses[e].y,s.positionVec.y=y,s.positionVec.x-=this.speed*n.game.deltaTime*this.timeManager.tickSpeedEnemies,isNaN(s.positionVec.x),i++,i%=3}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/EagleWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.waves=[],this.sweetpot=200,this.pointers=[]};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.tickSpeed=1;var e,t,i,o=0;this.waves=[];for(var r=0;r<this.data.data.nbPasses;r++){e=this.data.data.offsetsPasses[r],t=this.engine.game.w+this.offsetOffScreen+e.x,i=e.y,amplitude=this.data.data.amplitude||10;for(var s=0,a=[],h=0;h<this.data.data.enemiesPerPass[r];h++){var c=this.enemies[0][o];c.arrayToShoot=[],c.positionVec.x=t,c.positionVec.y=i+s*amplitude*(h%2===0?1:-1),c.arrivedAtMiddleBefore=!1,0===h&&this.pointers.push(c),o++,h%2===0&&(s++,t+=60),a.push(c)}this.waves.push(a)}},r.prototype.calculatePercentage=function(e,t){var i,o=this.engine.game.w/3*2-50;return i=t?Math.abs((e-o)/this.sweetpot)+.3:(e-o)/this.sweetpot+.3,i>1&&(i=1),0>i&&(i=0),i},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.waves.length;e++){var t=this.waves[e];if(this.pointers[e].positionVec.x<=-300)this.waves.splice(e,1),e--;else{var i=this.calculatePercentage(this.pointers[e].positionVec.x,this.pointers[e].arrivedAtMiddleBefore);this.pointers[e].arrivedAtMiddleBefore||(t.velX=i*-this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies),.5>i&&!this.pointers[e].arrivedAtMiddleBefore&&(this.pointers[e].arrivedAtMiddleBefore=!0,this.pointers[e].timerBeforeGoing=0),this.pointers[e].arrivedAtMiddleBefore&&this.pointers[e].timerBeforeGoing>0?this.pointers[e].timerBeforeGoing--:this.pointers[e].arrivedAtMiddleBefore&&(Math.abs(t.velX)<.5&&(t.velX=-.5),t.velX=1.05*-Math.abs(t.velX)),this.pointers[e].tick++;for(var r=(2*Math.cos(this.pointers[e].tick/20),0);r<t.length;r++){var s=t[r];(this.pointers[e].timerBeforeGoing<=0||!this.pointers[e].arrivedAtMiddleBefore)&&(s.positionVec.x+=t.velX),this.pointers[e].timerBeforeGoing>.3?(s.arrayToShoot=this.data.arrayToShoot||s.defaultArrayToShoot,s.positionVec.x+=t.velX):s.arrayToShoot=[],0===r&&(this.pointers[e].world||(this.pointers[e].timerBeforeGoing<=0||!this.pointers[e].arrivedAtMiddleBefore)&&(this.pointers[e].positionVec.x+=t.velX))}}}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/TankDefenceWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={type:"circle",y:"random",ymin:200,ymax:300,radius:"random",radiusmin:80,radiusmax:140},this.waveLength=null,this.frequency=null,this.pointers=[]};r.prototype=Object.create(n.prototype),r.prototype.reset=function(e){n.prototype.reset.call(this,e);for(var t=0,i=0,o=0;o<this.data.data.nbPasses;o++)for(var r=this.data.data.enemiesPerPass[o],s=0;s<r.length;s++)for(var a=0;a<r[s];a++){var h;0===s?(h=this.enemies[s][t],t++):(h=this.enemies[s][i],i++),this.data.data.spread&&h.spread&&(h.spread=this.data.data.spread),this.data.data.nbGroupsBullet&&h.nbGroupsBullet&&(h.nbGroupsBullet=this.data.data.nbGroupsBullet),this.data.data.nbBulletsPerGroup&&h.nbBulletsPerGroup&&(h.nbBulletsPerGroup=this.data.data.nbBulletsPerGroup)}},r.prototype.place=function(){var e,t,i,o,n=0,r=0;this.waves=[];for(var s=0;s<this.data.data.nbPasses;s++){e=this.data.data.radiusPerPass[s],t=this.data.data.offsetsPasses[s],i=this.engine.game.w+this.offsetOffScreen+this.data.data.radiusPerPass[s],o=t.y;for(var a=this.data.data.enemiesPerPass[s],h=[],c=0;c<a.length;c++){for(var l=[],p=0;p<a[c];p++){var u;0===c?(u=this.enemies[c][n],u.arrayToShoot=this.data.arrayToShoot||u.defaultArrayToShoot,this.data.delayBulletPerPass?(u.waitTimeToShot=this.data.delayBulletPerPass[s]||u.defaultWaitTimeToShot,u.tickBullet=Math.floor(Math.random()*u.waitTimeToShot)):u.tickBullet=Math.floor(Math.random()*u.defaultWaitTimeToShot),n++,u.angle=2*Math.PI/a[0]*p):(u=this.enemies[c][r],u.arrayToShoot=this.data.arrayToShoot||u.defaultArrayToShoot,this.pointers.push(u),u.canFire=!0,r++,u.frequency=10*Math.random()+10,u.time=Math.random()*Math.PI*2,u.offset=this.data.data.howMuchDoTheyDisplace[s],u.positionVec.x=i,u.positionVec.y=o,s===this.data.data.nbPasses-1&&(u.pickup=!0)),l.push(u)}h.push(l)}this.waves.push(h)}},r.prototype.selectEnemyForEachWave=function(){this.tickBullet=0,this.tickFrenquencyBullet=0,this.snipersEnemies=[];for(var e=0;e<this.waves.length;e++){var t=this.waves[e][0],i=t[Math.floor(Math.random()*t.length)];this.snipersEnemies.push(i)}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++){var s=t[i][r];s.time+=1*o.game.deltaTime;var a=this.data.data.radiusPerPass[e];0===i?(s.angle+=.01,s.positionVec.x=Math.sin(s.angle)*a+this.pointers[e].positionVec.x,s.positionVec.y=Math.cos(s.angle)*a+this.pointers[e].positionVec.y):(s.positionVec.x>this.engine.w-s.offset?s.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies:s.positionVec.x-=.4*Math.cos(s.time/s.frequency)*o.game.deltaTime*this.timeManager.tickSpeedEnemies,s.positionVec.y-=.5*Math.cos(s.time/s.frequency)*o.game.deltaTime*this.timeManager.tickSpeedEnemies,s.world||(this.pointers[e].positionVec.x>this.engine.w-this.pointers[e].offset?this.pointers[e].positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies:this.pointers[e].positionVec.x-=.4*Math.cos(this.pointers[e].time/this.pointers[e].frequency)*o.game.deltaTime*this.timeManager.tickSpeedEnemies,this.pointers[e].positionVec.y-=.5*Math.cos(this.pointers[e].time/s.frequency)*o.game.deltaTime*this.timeManager.tickSpeedEnemies))}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/FromBehindWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.pattern={}};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.waves=[];for(var e,t,i,o=0,r=0;r<this.data.data.nbPasses;r++){e=this.data.data.offsetsPasses[r],t=e.x,i=e.y;for(var s=[],a=0;a<this.data.data.enemiesPerPass[r];a++){var h=this.enemies[0][o];h.world.changeItemGroups(h,["enemies_back"]),h.time=10*Math.random(),h.comeFromBehindWave=!0,h.bringViewToBack(),h.positionVec.x=t-a*this.mininmumOffset,h.positionVec.y=i,h.arrayToShoot=this.data.arrayToShoot||h.defaultArrayToShoot,this.data.delayBulletPerPass?(h.waitTimeToShot=this.data.delayBulletPerPass[r]||h.defaultWaitTimeToShot,h.tickBullet=Math.floor(Math.random()*h.waitTimeToShot)):h.tickBullet=Math.floor(Math.random()*h.defaultWaitTimeToShot),s.push(h),o++}this.waves.push(s)}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++){var r=t[i];if(r.isBackward){if(r.positionVec.x>this.engine.game.w-20){var s=(r.positionVec.y-this.engine.game.h/3)/(this.engine.game.h/3);r.bringViewToFront(100*-s),r.world.changeItemGroups(r,["enemies"])}o.game.deltaTime<2&&(r.positionVec.x+=.8*this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies*this.timeManager.tickSpeedEnemies)}else r.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies*this.timeManager.tickSpeedEnemies}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/ObstacleWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this)};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];this.data.data.obstaclePositions[e].top?(t.view.container.scale.y=-1,t.positionVec.y=this.world.game.h-this.world.game.bounds.height+t.getHeight()/2):(t.view.container.scale.y=1,t.positionVec.y=this.world.game.h-t.getHeight()/2),t.positionVec.x=this.data.data.obstaclePositions[e].x+this.world.game.w}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++)this.enemies[0][e].positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/ObstaclesWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave","com/fighter/game/engine_shooter/enemies/Obstacle","com/fighter/game/engine_shooter/enemies/MashMachine","com/fighter/game/engine_shooter/enemies/TurretInside","com/fighter/game/engine/GameObjectPool","fido/system/DelayedCalls","signals"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=e("com/fighter/game/engine_shooter/enemies/Obstacle"),s=e("com/fighter/game/engine_shooter/enemies/MashMachine"),a=e("com/fighter/game/engine_shooter/enemies/TurretInside"),h=e("com/fighter/game/engine/GameObjectPool"),c=e("fido/system/DelayedCalls"),l=e("signals"),p=function(){n.call(this),this.places={bottom:0,middle:1,top:2},this.isWarningOnScreen={bottom:!1,middle:!1,top:!1},this.onHelpDisappeared=new l,this.delay=120*Math.random(),this.queues=[],this.firstTime=!0,this.delayedCalls=new c};p.prototype=Object.create(n.prototype),p.prototype.addTurret=function(){this.turret=h.getObject(a),this.turret.positionVec.x=1400+200*Math.random(),this.turret.isTurret=!0,this.world.add(this.turret),this.turret.reset(),this.turret.positionVec.y=this.world.game.h/2+80},p.prototype.placeObstacles=function(){var e={},t=[],i=1500,o=Math.floor(5*Math.random())+2,n=0;if(0===this.index){for(var a=0;o>a;a++){var h=this.world.game.enemyManager.addEnemy(r);h.speedX=0,h.view.container.scale.y=-1,h.positionVec.x=i+n,h.positionVec.y=this.world.game.h-this.world.game.bounds.height+h.getHeight()/2,t.push(h),this.enemies.push(h),n+=h.getWidth()+110+700*Math.random()}e.place=this.places.top}else if(1===this.index){for(var a=0;o>a;a++){var h=this.world.game.enemyManager.addEnemy(r);h.speedX=0,h.view.container.scale.y=1,h.positionVec.x=i+n,h.positionVec.y=this.world.game.h-h.getHeight()/2,t.push(h),this.enemies.push(h),n+=h.getWidth()+100+400*Math.random()}e.place=this.places.bottom}else if(2===this.index){for(var o=Math.floor(2*Math.random())+1,a=0;o>a;a++){var h=this.world.game.enemyManager.addEnemy(s);h.position.x=i+n,h.speedX=0,t.push(h),this.enemies.push(h),n+=600+400*Math.random()}e.place=this.places.middle}e.enemies=t,this.queues.push(e),this.index++,this.index>2&&(this.index=0)},p.prototype.hideHelp=function(){this.world.game.view.hideHelp(),this.delayedCalls.add(function(){this.onHelpDisappeared.dispatch(),this.helping=!1}.bind(this),2)},p.prototype.displayHelp=function(){this.helping=!0,this.firstTime=!1,this.world.game.view.showHelp({text:translations.STR_WARNING_OBSTACLES}),this.delayedCalls.add(this.hideHelp.bind(this),5)},p.prototype.warning=function(e){if(this.firstTime)return this.displayHelp(),void this.onHelpDisappeared.addOnce(function(){this.warning(e)}.bind(this),this);this.isWarningOnScreen[e.place]=!0;var t;e.place===this.places.top?t=140:e.place===this.places.bottom?t=this.world.game.h-140:(t=250,this.world.game.game.hud.addBb8Warning({x:this.world.game.w,y:450},1)),this.world.game.game.hud.addBb8Warning({x:this.world.game.w,y:t},1,{x:1,y:1},function(){this.throwObject(e)}.bind(this))},p.prototype.throwObject=function(e){for(var t=0;t<e.enemies.length;t++)e.enemies[t].speedX=16;this.isWarningOnScreen[e.place]=!1,this.queues.shift()},p.prototype.place=function(){this.index=0,this.stop=!1,this.indexPass=0,this.enemies=[],this.addTurret()},p.prototype.update=function(){this.stop||this.helping||(this.delay--,this.delay<=0&&(this.delay=180,this.indexPass<this.data.data.nbPasses&&(this.indexPass++,this.placeObstacles())),this.queues[0]&&!this.isWarningOnScreen[this.queues[0].place]&&this.world&&this.warning(this.queues[0]));for(var e=!1,t=0;t<this.enemies.length;t++){var i=this.enemies[t];i.positionVec?i.positionVec.x-=i.speedX*o.game.deltaTime*this.timeManager.tickSpeedEnemies:(i.position.x-=i.speedX*o.game.deltaTime*this.timeManager.tickSpeedEnemies,i.setPosition(i.position.x)),i.world?e=!0:(this.enemies.splice(t,1),t--)}this.turret&&(this.turret.positionVec.x-=4.8*o.game.deltaTime*this.timeManager.tickBackground,this.turret.positionVec.x<=this.turret.view.width-100&&(this.turret.view.reset(),this.stop?(this.turret.destroy(),this.destroy(),this.onWaveDestroy.dispatch()):this.turret.positionVec.x=1600+650*Math.random())),(this.indexPass>=this.data.data.nbPasses&&!e||this.world.game.player.dying)&&(this.stop=!0,this.queues=[])},i.exports=p}),define("com/fighter/game/engine_shooter/enemies/waves/MashWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this)};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.position.x=this.data.data.obstaclePositions[e].x+this.world.game.w+150,t.setPosition(t.position.x)}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.position.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies,t.setPosition(t.position.x)}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/TurretWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this)};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.positionVec.x=this.data.data.obstaclePositions[e].x+this.world.game.w+150,t.positionVec.y=this.world.game.h/2+50}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=0;e<this.enemies[0].length;e++){var t=this.enemies[0][e];t.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/ZigZagWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave","fido/bob/crash/Vector"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=e("fido/bob/crash/Vector"),s=new r,a=new r,h=function(){n.call(this),this.tick=0,this.pattern={type:"flyby",radiusmin:80,radiusmax:140},this.waveLength=null,this.frequency=null,this.queueCreated=!1,this.queue=[],this.indexQueue=0,this.easingsToAdd=[]};h.prototype=Object.create(n.prototype),h.prototype.place=function(){n.prototype.place.call(this),this.queue=[],this.indexQueue=0,this.queueCreated=!1,this.easingsToAdd=[];var e=0;this.waves=[];var t,i,r,h=0,c=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies;this.comingFromBehind=!1;for(var l=350,h=0,p=0;p<this.data.data.nbPasses;p++){var u=this.data.data.points[p]||this.data.data.points[0];u[0].x<0&&(this.comingFromBehind=!0);var d=[];t=this.data.data.offsetsPasses?this.data.data.offsetsPasses[p]||{x:0,y:0}:{x:0,y:0},i=this.comingFromBehind?-100+t.x:this.engine.game.w+this.offsetOffScreen+t.x,r=u[0].y,e=0;for(var g=0;g<this.data.data.enemiesPerPass[p];g++)for(var f="mirror"===this.data.data.type?2:1,m=0;f>m;m++){var v=1===m;if(v)var y=this.enemies[0][this.data.data.enemiesPerPass[p]-1+h];else var y=this.enemies[0][h];y.zigzag=!0,y.positionVec.x=i+g*(this.mininmumOffset+20)*(this.comingFromBehind?-1:1),y.positionVec.y=r,y.targetPoint.x=y.positionVec.x,y.targetPoint.y=y.positionVec.y,y.comingFromBehind=this.comingFromBehind;for(var _=0,x=!1,w=0;w<u.length;w++){var b=u[w];x=1,w===u.length-1&&(x=1,b.x=-200-t.x);var k;s.x=b.x+t.x,s.y=b.y+t.y,0===w?(a.x=y.positionVec.x,a.y=y.positionVec.y):(a.x=u[w-1].x+t.x,a.y=u[w-1].y+t.y),k=s.distanceTo(a);var S=k/c,T=l+(l-(b.y+t.y));EasingsGame.to(y.targetPoint,S/160,{delay:_,x:b.x+x*t.x,y:v?T:b.y+t.y}),_+=S/160}e++,v||h++,d.push(y)}this.waves.push(d)}},h.prototype.update=function(){if(this.queueCreated&&this.indexQueue<this.queue.length,!1)return EasingsGame.to(this.queue[this.indexQueue].target,this.queue[this.indexQueue].duration,this.queue[this.indexQueue].props),void this.indexQueue++;if(this.queueCreated,!1)return void(this.queueCreated=!1);this.tick++,this.tick%2===0&&n.prototype.update.call(this);for(var e=0;e<this.waves.length;e++)for(var t=this.waves[e],i=0;i<t.length;i++){var o=t[i];o.world&&(o.positionVec.x+=.03*(o.targetPoint.x-o.positionVec.x),o.positionVec.y+=.03*(o.targetPoint.y-o.positionVec.y))}},i.exports=h}),define("com/fighter/game/engine_shooter/enemies/waves/YSeekerWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=function(){n.call(this),this.tick=0,this.pattern={type:"flyby",radiusmin:80,radiusmax:140},this.waveLength=null,this.frequency=null,this.speedY=[]};r.prototype=Object.create(n.prototype),r.prototype.place=function(){n.prototype.place.call(this),this.tick=0,this.waves=[];for(var e,t,i,o=0,r=0;r<this.data.data.nbPasses;r++){var s=[];e=this.data.data.offsetsPasses[r],t=this.engine.game.w+this.offsetOffScreen+e.x,i=e.y;for(var a=0;a<this.data.data.enemiesPerPass[r];a++){var h=this.enemies[0][o];h.comeFromYSeekerWave=!0,h.tick=100*Math.random()-50,this.data.delayBulletPerPass?(h.waitTimeToShot=this.data.delayBulletPerPass[r]||h.defaultWaitTimeToShot,h.tickBullet=Math.floor(Math.random()*h.waitTimeToShot)):h.tickBullet=Math.floor(Math.random()*h.defaultWaitTimeToShot),this.data.data.speedYPerPass&&this.data.data.speedYPerPass[r]?this.speedY.push(this.data.data.speedYPerPass[r]):this.speedY.push(2),h.arrayToShoot=this.data.arrayToShoot||h.defaultArrayToShoot,h.positionVec.x=t+a*this.mininmumOffset,h.positionVec.y=i,h.defaultY=i,h.pickup,o++,s.push(h)}this.waves.push(s)}},r.prototype.update=function(){n.prototype.update.call(this);for(var e=(this.world.game.bounds.width+200,this.world.game.player.positionVec.y),t=0;t<this.waves.length;t++)for(var i=this.waves[t],r=0;r<i.length;r++){var s=i[r];s.tick++,o.game.deltaTime<2&&(s.positionVec.x-=this.speed*o.game.deltaTime*this.timeManager.tickSpeedEnemies,s.seek({x:null,y:e+.5*Math.cos(s.tick/20)},(this.speedY[t]+Math.cos(s.tick/20))*o.game.deltaTime*this.timeManager.tickSpeedEnemies))}},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/views/SwitchView",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=e("fido/utils/Utils"),s=e("fido/system/Ticker"),a=function(){n.call(this),this.tick=0,this.view=new o.Sprite.fromFrame("end_machine_clean.png"),this.view.anchor.x=this.view.anchor.y=.5,this.addChild(this.view),this.viewDamaged=new o.Sprite.fromFrame("end_machine_explose.png"),this.viewDamaged.alpha=0,this.viewDamaged.pivot.x=96,this.viewDamaged.pivot.y=146,this.addChild(this.viewDamaged),this.impactsContainer=new o.Container,this.addChild(this.impactsContainer),this.pool=[],this.smokes=[],this.impacts=[],this.poolImpacts=[]};a.prototype=Object.create(n.prototype),a.constructor=a,a.prototype.showImpact=function(e){var t=this.poolImpacts.pop();if(!t){var i=r.getTexturesFromFramesWithPrefix("impact_player_000%%.png",7,0),t=new o.Sprite(i[0]);t.anchor.x=t.anchor.y=.5,t.textures=i,t.scale.x=t.scale.y=2}t.speed=1.5,t.visible=!0,t.position.x=50*Math.random()-25,t.position.y=30*Math.random()-15,t.counter=0,this.impactsContainer.addChild(t),this.impacts.push(t)},a.prototype.destroy=function(){this.viewDamaged.alpha=0;for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];this.viewDamaged.removeChild(t),this.pool.push(t),this.smokes.splice(e,1),e--}},a.prototype.reset=function(){this.viewDamaged.alpha=0},a.prototype.hit=function(e){e&&this.showImpact(e)},a.prototype.updateView=function(e){EasingsGame.to(this.viewDamaged,.5,{alpha:e})},a.prototype.addSmoke=function(){var e=this.pool.pop();e||(e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke2.png"),e.tint=0*Math.random(),e.anchor.x=e.anchor.y=.5),e.alpha=.2*Math.random()+.8,e.isGrowing=!0,e.tick=0,e.speedX=2*Math.random()+1,e.speedY=Math.random()+1,e.scale.x=e.scale.y=1+.4*Math.random()-.2,e.position.x=150*Math.random()-75+125,e.position.y=0,this.viewDamaged.addChild(e),this.smokes.push(e)},a.prototype.update=function(){this.viewDamaged.alpha>.5&&(this.tick++,this.tick%20===0&&this.addSmoke());for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.tick++,t.position.x-=1*Math.sin(t.tick/40),t.position.y+=.1*Math.cos(t.tick/40)-t.speedY,t.scale.x=t.scale.y+=.005*Math.cos(t.tick/40),t.alpha*=.996,t.alpha<.005&&(this.viewDamaged.removeChild(t),this.pool.push(t),this.smokes.splice(e,1),e--)}for(var e=0;e<this.impacts.length;e++){var i=this.impacts[e];i.counter+=i.speed*s.game.deltaTime,i.texture=i.textures[Math.floor(i.counter%i.textures.length)],
Math.floor(i.counter%i.textures.length)>=i.textures.length-1&&(this.poolImpacts.push(i),this.impactsContainer.removeChild(i),this.impacts.slice(e,1),e--)}},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/Switch",["require","exports","module","PIXI","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/SwitchView","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/enemies/Enemy"),r=e("com/fighter/game/engine_shooter/enemies/views/SwitchView"),s=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),a=function(){var e=new r;e.anchor.x=e.anchor.y=.5,n.call(this,e),this.isDestroyed=!1,this["switch"]=!0,this.defaultNumberLife=20,this.defaultContactZone=new o.Rectangle(0,0,147,144)};a.prototype=Object.create(n.prototype),a.prototype.die=function(){this.world.game.explosionManager.addExplosion(this,s),this.view.updateView(1),this.isDestroyed=!0,this.contactZone=new o.Rectangle},a.prototype.reset=function(){n.prototype.reset.call(this),this.contactZone=this.defaultContactZone,this.isDestroyed=!1,this.world.view.setLayer(this,"switch")},a.prototype.removedFromWorld=function(){this.view.destroy()},a.prototype.fire=function(){},a.prototype.hit=function(e){n.prototype.hit.call(this,e)},a.prototype.update=function(){n.prototype.update.call(this)},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/waves/DestroySwitchWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/Wave","com/fighter/game/engine_shooter/enemies/Switch","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/DelayedCallsGame","signals"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("com/fighter/game/engine_shooter/enemies/Wave"),r=e("com/fighter/game/engine_shooter/enemies/Switch"),s=e("com/fighter/game/engine/GameObjectPool"),a=e("com/fighter/game/engine_shooter/DelayedCallsGame"),h=e("signals"),c=function(){n.call(this),this.posSwitches=[{x:200,y:350},{x:400,y:100},{x:600,y:400},{x:800,y:140},{x:1e3,y:440}],this.spawn=400,this.delayedCalls=new a,this.onHelpDisappeared=new h,this.firstTime=!0};c.prototype=Object.create(n.prototype),c.prototype.reset=function(e){n.prototype.reset.call(this,e),this.firstTime=!0,this.world.game.view.showOverlayEnv3()},c.prototype.generateSwitches=function(){this.didStart=!0;for(var e=1100,t=0;t<this.posSwitches.length;t++){var i=this.posSwitches[t],o=s.getObject(r);this.world.add(o),o.reset(),o.positionVec.x=e+i.x,o.isDestroyed=!1,o.positionVec.y=i.y,o.spawn=e+this.spawn,this.enemies.push(o)}},c.prototype.hideHelp=function(){this.world.game.view.hideHelp(),this.delayedCalls.add(function(){this.onHelpDisappeared.dispatch()}.bind(this),2)},c.prototype.displayHelp=function(){this.world.game.view.showHelp({text:translations.STR_DESTROY_SWITCHES}),this.delayedCalls.add(this.hideHelp.bind(this),5)},c.prototype.place=function(){this.enemies=[],this.stop=!1,this.didStart=!1,this.displayHelp(),this.onHelpDisappeared.addOnce(function(){this.generateSwitches()}.bind(this),this)},c.prototype.update=function(){if(this.didStart){for(var e=!1,t=0;t<this.enemies.length;t++){var i=this.enemies[t];i.positionVec.x-=4.8*o.game.deltaTime*this.timeManager.tickBackground,i.positionVec.x<-100&&(this.stop?(i.destroy(),this.enemies.splice(t,1),t--):i.positionVec.x+=i.spawn+100),i.isDestroyed||(e=!0)}e||this.stop?this.stop&&0===this.enemies.length&&(this.destroy(),this.onWaveDestroy.dispatch()):this.stop=!0}},i.exports=c}),define("com/fighter/game/engine_shooter/Bb8Warning",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine/Item","fido/utils/Utils","fido/system/Ticker","fido/system/DelayedCalls","signals"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Math2"),e("com/fighter/game/engine/Item")),r=(e("fido/utils/Utils"),e("fido/system/Ticker"),e("fido/system/DelayedCalls")),s=e("signals"),a=function(){n.call(this,0,0,new o.Container),this.onFinished=new s,this.tick=0,this.bg=new o.Sprite.fromFrame("warning_bb8.png"),this.bg.anchor.x=1,this.bg.anchor.y=.5,this.view.addChild(this.bg),this.iconWarn1=new o.Sprite.fromFrame("warning_signal.png"),this.iconWarn1.anchor.x=this.iconWarn1.anchor.y=.5,this.iconWarn1.position.x=-this.iconWarn1.width/2,this.bg.addChild(this.iconWarn1),this.iconWarn2=new o.Sprite.fromFrame("warning_signal2.png"),this.iconWarn2.anchor.x=this.iconWarn2.anchor.y=.5,this.iconWarn2.position=this.iconWarn1.position,this.bg.addChild(this.iconWarn2),this.delayedCalls=new r};a.prototype=Object.create(n.prototype),a.prototype.update=function(){this.isTransitioning||(this.tick+=.2,this.iconWarn1.visible&&(this.iconWarn1.alpha=.8+.2*Math.cos(this.tick)),this.iconWarn2.visible&&(this.iconWarn1.alpha=.8+.2*Math.cos(this.tick)))},a.prototype.changeSign=function(){this.iconWarn1.visible=!1,this.iconWarn2.visible=!0},a.prototype.finish=function(){EasingsGame.to(this.view,.2,{alpha:0,onComplete:function(){this.onFinished.dispatch(),this.destroy()}.bind(this)})},a.prototype.animate=function(){},a.prototype.reset=function(e){this.view.alpha=1,this.view.scale.x=1,this.iconWarn1.visible=!0,this.iconWarn2.visible=!1,this.isTransitioning=!1,this.delayedCalls.add(this.changeSign.bind(this),.5),this.delayedCalls.add(this.finish.bind(this),1.5)},a.prototype.update=function(){},i.exports=a}),define("com/fighter/game/engine_shooter/bullets/BulletToRight",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.comingFromBehind=!0,this.type=this.TYPES.enemy,this.speedBullet=new o.Point(8,0),this.defaultSpeedBullet=new o.Point(8,0),this.groups.push("enemies_bullets")};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){n.prototype.reset.call(this),this.speedBullet.x=this.defaultSpeedBullet.x+2*Math.random()-1},i.exports=r}),define("com/fighter/game/engine_shooter/enemies/waves/ChasingWave",["require","exports","module","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/waves/ZigZagWave","com/fighter/game/engine_shooter/Bb8Warning","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/bullets/BulletToRight","com/fighter/game/engine_shooter/DelayedCallsGame","signals","fido/sound/SoundBridge"],function(e,t,i){var o=(e("fido/system/Ticker"),e("com/fighter/game/engine_shooter/enemies/waves/ZigZagWave")),n=(e("com/fighter/game/engine_shooter/Bb8Warning"),e("com/fighter/game/engine/GameObjectPool"),e("com/fighter/game/engine_shooter/bullets/BulletToRight")),r=e("com/fighter/game/engine_shooter/DelayedCallsGame"),s=e("signals"),a=function(){o.call(this),this.delayBeforeSalve=10,this.nbTimeFired=0,this.helpDisplayed=!1,this.delayedCalls=new r,this.onHelpDisappeared=new s,this.firstTime=!0};a.prototype=Object.create(o.prototype),a.prototype.reset=function(e){o.prototype.reset.call(this,e),this.isReadyToGo=!1,this.helpDisplayed=!1,this.nbTimeFired=0},a.prototype.place=function(){if(this.isReadyToGo)o.prototype.place.call(this);else{this.tick=0,this.waves=[];var e,t,i=0;e=-100;for(var n=0;n<this.data.data.nbPasses;n++){var r=[];t=350;for(var s=0;s<this.data.data.enemiesPerPass[n];s++){var a=this.enemies[0][i];a.comingFromBehind=!0,a.positionVec.x=e-s*this.mininmumOffset,a.positionVec.y=t,i++,r.push(a)}this.waves.push(r)}}},a.prototype.killEverybody=function(){this.isReadyToGo=!0,o.prototype.killEverybody.call(this)},a.prototype.removedFromWorld=function(){this.onHelpDisappeared.removeAll(),this.delayedCalls.clear()},a.prototype.hideHelp=function(e){this.world.game.view.hideHelp(),e||this.delayedCalls.add(function(){this.onHelpDisappeared.dispatch()}.bind(this),2)},a.prototype.displayHelp=function(){this.firstTime=!1,this.world.game.view.showHelp({text:translations.STR_WARNING_TIES_BEHIND}),this.delayedCalls.add(this.hideHelp.bind(this),5)},a.prototype.headsUp=function(){if(this.helpDisplayed=!0,this.firstTime)return this.displayHelp(),void this.onHelpDisappeared.addOnce(function(){this.headsUp()}.bind(this),this);var e=this.world.game.player.positionVec.y;this.world.game.game.hud.addBb8Warning({x:0,y:e},null,{x:-1,y:1},function(){this.fire(e)}.bind(this))},a.prototype.fire=function(t){if(this.world){e("fido/sound/SoundBridge").sfx.play("tie_laser_loop");for(var i=(this.world.game.player,0);i<this.waves.length;i++)for(var o=this.waves[i],r=0;r<o.length;r++){var s=o[r];if(s.world)for(var a=0;5>a;a++)s.positionVec.y=t,s.position.x=s.positionVec.x-40*Math.random()+20,s.position.y=s.positionVec.y+20*Math.random()-10,s.fire(n,!0)}this.nbTimeFired++,this.nbTimeFired>=this.data.data.nbTimeToFire?this.delayedCalls.add(function(){this.isReadyToGo=!0,this.data.data.points[0][0].y=t,this.place()}.bind(this),1):this.helpDisplayed=!1}},a.prototype.readyFire=function(){},a.prototype.update=function(){this.isReadyToGo?o.prototype.update.call(this):this.helpDisplayed||(this.delayBeforeSalve--,this.delayBeforeSalve<=0&&(this.headsUp(),this.delayBeforeSalve=60))},i.exports=a}),define("com/fighter/game/engine_shooter/enemies/WaveManager",["require","exports","module","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","fido/utils/Math2","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/WeakTieFighter","com/fighter/game/engine_shooter/enemies/TieFighter360","com/fighter/game/engine_shooter/enemies/TieFighterTrench","com/fighter/game/engine_shooter/enemies/HeavyTieFighter360","com/fighter/game/engine_shooter/enemies/LandingShip","com/fighter/game/engine_shooter/enemies/Obstacle","com/fighter/game/engine_shooter/enemies/MashMachine","com/fighter/game/engine_shooter/enemies/TurretInside","com/fighter/game/engine_shooter/enemies/waves/SineWave","com/fighter/game/engine_shooter/enemies/waves/TopBottomWave","com/fighter/game/engine_shooter/enemies/waves/LandingShipClassic","com/fighter/game/engine_shooter/enemies/waves/CircleWave","com/fighter/game/engine_shooter/enemies/waves/FollowLeaderSine","com/fighter/game/engine_shooter/enemies/waves/FollowPath","com/fighter/game/engine_shooter/enemies/waves/FlybyWave","com/fighter/game/engine_shooter/enemies/waves/FlipFlopWave","com/fighter/game/engine_shooter/enemies/waves/EagleWave","com/fighter/game/engine_shooter/enemies/waves/TankDefenceWave","com/fighter/game/engine_shooter/enemies/waves/FromBehindWave","com/fighter/game/engine_shooter/enemies/waves/ObstacleWave","com/fighter/game/engine_shooter/enemies/waves/ObstaclesWave","com/fighter/game/engine_shooter/enemies/waves/MashWave","com/fighter/game/engine_shooter/enemies/waves/TurretWave","com/fighter/game/engine_shooter/enemies/waves/ZigZagWave","com/fighter/game/engine_shooter/enemies/waves/YSeekerWave","com/fighter/game/engine_shooter/enemies/waves/DestroySwitchWave","com/fighter/game/engine_shooter/enemies/waves/ChasingWave","com/fighter/game/engine_shooter/DelayedCallsGame","fido/loader/Cache","signals"],function(e,t,i){var o=e("com/fighter/game/engine_shooter/enemies/TieFighter"),n=e("com/fighter/game/engine/GameObjectPool"),r=(e("fido/bob/crash/Vector"),e("fido/utils/Math2")),o=e("com/fighter/game/engine_shooter/enemies/TieFighter"),s=e("com/fighter/game/engine_shooter/enemies/WeakTieFighter"),a=e("com/fighter/game/engine_shooter/enemies/TieFighter360"),h=e("com/fighter/game/engine_shooter/enemies/TieFighterTrench"),c=e("com/fighter/game/engine_shooter/enemies/HeavyTieFighter360"),l=e("com/fighter/game/engine_shooter/enemies/LandingShip"),p=e("com/fighter/game/engine_shooter/enemies/Obstacle"),u=e("com/fighter/game/engine_shooter/enemies/MashMachine"),d=e("com/fighter/game/engine_shooter/enemies/TurretInside"),g=e("com/fighter/game/engine_shooter/enemies/waves/SineWave"),f=e("com/fighter/game/engine_shooter/enemies/waves/TopBottomWave"),m=e("com/fighter/game/engine_shooter/enemies/waves/LandingShipClassic"),v=e("com/fighter/game/engine_shooter/enemies/waves/CircleWave"),y=e("com/fighter/game/engine_shooter/enemies/waves/FollowLeaderSine"),_=e("com/fighter/game/engine_shooter/enemies/waves/FollowPath"),x=e("com/fighter/game/engine_shooter/enemies/waves/FlybyWave"),w=e("com/fighter/game/engine_shooter/enemies/waves/FlipFlopWave"),b=e("com/fighter/game/engine_shooter/enemies/waves/EagleWave"),k=e("com/fighter/game/engine_shooter/enemies/waves/TankDefenceWave"),S=e("com/fighter/game/engine_shooter/enemies/waves/FromBehindWave"),T=e("com/fighter/game/engine_shooter/enemies/waves/ObstacleWave"),C=e("com/fighter/game/engine_shooter/enemies/waves/ObstaclesWave"),M=e("com/fighter/game/engine_shooter/enemies/waves/MashWave"),P=e("com/fighter/game/engine_shooter/enemies/waves/TurretWave"),E=e("com/fighter/game/engine_shooter/enemies/waves/ZigZagWave"),I=e("com/fighter/game/engine_shooter/enemies/waves/YSeekerWave"),F=e("com/fighter/game/engine_shooter/enemies/waves/DestroySwitchWave"),B=e("com/fighter/game/engine_shooter/enemies/waves/ChasingWave"),A=e("com/fighter/game/engine_shooter/DelayedCallsGame"),O=e("fido/loader/Cache"),L=(e("signals"),function(e,t){this.engine=e,this.enemyManager=t,this.currentStepMission=0,this.numberOfWavesBeforeNextStep=0,this.indexWave=0,this.endlessDifficulty=0,this.endlessMaxDifficulty=1,this.endless=!1,this.delayedCalls=new A,this.currentWave=0,this.enemyTypes={TieFighter:o,WeakTieFighter:s,TieFighter360:a,HeavyTieFighter360:c,LandingShip:l,Obstacle:p,MashMachine:u,TurretInside:d,TieFighterTrench:h},this.patterns={TankDefenceWave:k,FromBehindWave:S,FlipFlopWave:w,TopBottomWave:f,FlybyWave:x,EagleWave:b,FollowPath:_,CircleWave:v,FollowLeaderSine:y,SineWave:g,LandingShipClassic:m,ObstacleWave:T,ObstaclesWave:C,MashWave:M,TurretWave:P,ZigZagWave:E,YSeekerWave:I,DestroySwitchWave:F,ChasingWave:B},this.eTypes=["TieFighter","TieFighter360","LandingShip"],this.pTypes=["FollowPath","CircleWave","FollowLeaderSine","SineWave","LandingShipClassic"],this.paths=[[{x:1200,y:360},{x:818,y:202},{x:449,y:359},{x:339,y:467},{x:177,y:173},{x:52,y:321},{x:-100,y:315}],[{x:1200,y:300},{x:900,y:100},{x:600,y:200},{x:300,y:400},{x:-200,y:300}],[{x:1200,y:130},{x:748,y:132},{x:688,y:334},{x:405,y:337},{x:392,y:216},{x:-100,y:207}]],this.queueCreated=!1,this.queue=[],this.indexQueue=0,this.enemies=[]});L.prototype.reset=function(){if(this.queue=[],this.indexQueue=0,this.queueCreated=!1,this.enemies=[],this.delayedCalls.clear(),this.waves=[],this.currentStepMission=0,this.endless=!1,this.indexWave=0,this.currentWave=0,this.endlessDifficulty=0,this.numberOfWavesBeforeNextStep=0,this.engine.game.endless)this.endless=!0,this.createWaves();else{this.endless=!1;var e=O.getJson("missions");this.waves=e[this.engine.game.missionId].waves}this.engine.game.hud.setProgressBarData(this.waves),this.initiateWaves()},L.prototype.createWaves=function(){var e=O.getJson("endlessPatterns"),t=this.endlessDifficulty/this.endlessMaxDifficulty;t>1?t=1:0>t&&(t=0);var i=r.map(t,0,1,0,e.nbDifficulties-1),o=e.patterns[Math.floor(i)];this.waves=[];for(var n=Math.floor(3*Math.random()+2),s=0;n>s;s++){var a=o[Math.floor(Math.random()*o.length)];this.waves.push(a)}},L.prototype.initiateWaves=function(){if(this.indexWave=0,this.endless){this.numberOfWavesBeforeNextStep=this.waves.length;var e=this.waves[this.indexWave];this.nextWave(e)}else{this.numberOfWavesBeforeNextStep=this.waves[this.currentStepMission].length;var e=this.waves[this.currentStepMission][this.indexWave];this.nextWave(e)}},L.prototype.onWaveDestroy=function(){if(this.indexWave++,this.indexWave>=this.numberOfWavesBeforeNextStep){if(this.endless)Math.random()>=.7&&this.engine.pickupManager.addPickupGlitch(),this.endlessDifficulty+=.08,this.createWaves(),this.initiateWaves(),this.engine.game.timeManager.incrementSpeedEndlessMode();else if(this.currentStepMission++,!this.engine.player.dying){if(!this.engine.newLevelStep())return;this.engine.assetsManager.transitionManager.currentTransition&&this.engine.assetsManager.transitionManager.currentTransition.world&&this.engine.assetsManager.transitionManager.currentTransition.delayBeforeWave?this.delayedCalls.add(this.initiateWaves.bind(this),this.engine.assetsManager.transitionManager.currentTransition.delayBeforeWave):this.initiateWaves()}}else if(this.endless){var e=this.waves[this.indexWave];this.nextWave(e)}else{var e=this.waves[this.currentStepMission][this.indexWave];this.nextWave(e)}},L.prototype.destroy=function(e){this.delayedCalls.clear();for(var t=this.engine.world.groups.waves.children,i=0;i<t.length;i++)t[i].delayedCalls&&t[i].delayedCalls.clear(),t[i].destroy(),t[i].onWaveDestroy.removeAll()},L.prototype.prepareWave=function(){for(var e=this.w,t=(this.futureWave,this.wave,[]),i=0,o=0;o<e.enemyTypes.length;o++){for(var n=(e.enemyTypes[o],[]),r=0;r<e.nbEnemiesPerType[o];r++)for(var s=0;s<("mirror"===e.type?2:1);s++){var a=this.enemies[i];n.push(a),i++}t.push(n)}var h={enemies:t,pattern:this.patterns[e.pattern],follow:e.follow,points:e.points,data:this.w,arrayToShoot:this.w.arrayToShoot||null,delayBulletPerPass:this.w.delayBulletPerPass||null};e.kyloren&&this.engine.showKyloren(e.kylorenDelay),this.engine.world.add(this.wave),this.wave.reset(h)},L.prototype.nextWave=function(e){if(!this.engine.player.dying){var t=e,i=n.getObject(this.patterns[t.pattern]);i.onWaveDestroy.addOnce(this.onWaveDestroy,this),i.engine=this.engine,this.queue=[],this.indexQueue=0,this.enemies=[];for(var o=0;o<t.enemyTypes.length;o++)for(var r=t.enemyTypes[o],s=0;s<t.nbEnemiesPerType[o];s++)for(var a=0;a<("mirror"===t.type?2:1);a++)this.queue.push(this.enemyTypes[r]);this.queueCreated=!0,this.w=e,this.refWave=t,this.wave=i}},L.prototype.update=function(){this.queueCreated&&this.indexQueue<this.queue.length?(this.enemies.push(this.enemyManager.addEnemy(this.queue[this.indexQueue])),this.indexQueue++):this.queueCreated&&(this.prepareWave(),this.queueCreated=!1)},i.exports=L}),define("com/fighter/game/engine_shooter/enemies/EnemyManager",["require","exports","module","com/fighter/game/engine_shooter/enemies/TieFighter","signals","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/enemies/WaveManager","com/fighter/game/engine_shooter/DelayedCallsGame"],function(e,t,i){var o=(e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("signals")),n=e("com/fighter/game/engine/GameObjectPool"),r=(e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/enemies/WaveManager")),s=(e("com/fighter/game/engine_shooter/DelayedCallsGame"),function(e){this.speed=new PIXI.Point(2),this.level=0,this.tick=0,this.engine=e,this.onEnemySurvived=new o,this.onEnemyDied=new o,this.onEnemyPickupDied=new o,this.onEnemyWithoutPickupDied=new o,this.currentWave=null,this.delayBeforeNewWave=0,this.waveManager=new r(this.engine,this)});s.prototype.hitEnemy=function(e,t,i,o){if(t=t||1,e.life-=t,e.life<=0){var n=!1;!Device.instance.desktop&&o&&Math.random()>.4&&(n=!0),e.die(n),e["switch"]||e.isTurret||e.isStatic?e["switch"]&&this.engine.game.hud.setProgress(1):(this.onEnemyDied.dispatch(1),this.destroyEnemy(e))}else t>.2&&(this.engine.damageManager.addDamages(e),e.hit(i))},s.prototype.explodeEveryone=function(){this.waveManager.wave.killEverybody()},s.prototype.addEnemy=function(e){var t=n.getObject(e);return t.engine=this.engine,t.positionVec&&(t.positionVec.x=1500,t.positionVec.y=300),this.engine.world.add(t),t.reset(),t},s.prototype.destroyEnemy=function(e){this.lastDead===e.UID,e.destroy(),this.lastDead=e.UID,e.forceDestroy||this.engine.game.endless||e.isStatic||this.engine.game.hud.setProgress(1),e.forceDestroy||(e.pickup?this.onEnemyPickupDied.dispatch():this.onEnemyWithoutPickupDied.dispatch())},s.prototype.checkBounds=function(e){e.positionVec.y<50?e.positionVec.y+=.2:e.positionVec.y>this.engine.h-100&&(e.positionVec.y-=.2)},s.prototype.gameover=function(){},s.prototype.destroy=function(){for(var e=this.engine.world.groups.enemies_back.children,t=this.engine.world.groups.enemies.children,i=t.concat(e),o=0;o<i.length;o++)i[o].forceDestroy=!0;this.waveManager.destroy()},s.prototype.manageScale=function(){for(var e=this.engine.world.groups.enemies.children,t=0;t<e.length;t++){var i=e[t];if(i.world){var o=0;i.positionVec.y>0&&(o=i.positionVec.y/this.engine.h),i.manageScale(o)}}},s.prototype.reset=function(){this.player=this.engine.player},s.prototype.update=function(){this.waveManager.update();for(var e=this.engine.world.groups.enemies.children,t=0;t<e.length;t++){var i=e[t];!(i.positionVec.x<(i.isStatic?-200:-20)||i.positionVec.y<=this.engine.h-this.engine.bounds.height)||i.isTurret||i["switch"]||i.isBackward||i.comingFromBehind?(i.readyForDestroy||i.forceDestroy)&&(this.onEnemyDied.dispatch(),this.destroyEnemy(i)):(this.onEnemySurvived.dispatch(),this.destroyEnemy(i)),i.comingFromBehind&&i.positionVec.x>0&&(i.comingFromBehind=!1)}for(var o=this.engine.world.groups.enemies_back.children,t=0;t<o.length;t++){var i=o[t];i.forceDestroy&&this.destroyEnemy(i)}},i.exports=s}),define("com/fighter/game/engine_shooter/bullets/XwingBullet",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=function(){var e=new o.Sprite.fromFrame("bullet_red.png");e.anchor.x=e.anchor.y=.5,n.call(this,e),this.type=this.TYPES.player,this.isXwingBullet=!0,this.speedBullet=new o.Point(12,0),this.defaultSpeedBullet=new o.Point(12,0),this.groups.push("player_bullets")};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){n.prototype.reset.call(this),this.speedBullet.x=this.defaultSpeedBullet.x+1.5*Math.random()-.75},i.exports=r}),define("com/fighter/game/engine_shooter/xwingsManager/Xwing",["require","exports","module","PIXI","com/fighter/game/engine_shooter/Ship","com/fighter/game/engine_shooter/PlayerView","fido/utils/Math2","fido/bob/crash/Vector","com/fighter/game/engine_shooter/bullets/XwingBullet","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/ShipTrail"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/Ship"),r=e("com/fighter/game/engine_shooter/PlayerView"),s=e("fido/utils/Math2"),a=e("fido/bob/crash/Vector"),h=e("com/fighter/game/engine_shooter/bullets/XwingBullet"),c=e("com/fighter/game/engine/GameObjectPool"),l=e("com/fighter/game/engine_shooter/ShipTrail"),p=new a,u=(new a,function(){view=new r("bros_x_wing_000"),n.call(this,view),this.player=null,this.debug=!1,this.isRetreating=!1,this.retreatingPos={},this.readyForDestroy=!1,this.defaultNumberLife=10,this.flipFire=!1,this.contactZoneDefault=new o.Rectangle(-20,0,50,20),this.mass=0,this.offset=new o.Point,this.offsetFloor=new o.Point,this.positionVec=new a(this.position.x,this.position.y),this.velocity=new a(0,0),this.acceleration=new a(0,0),this.groups=["xwings"],this.shipTrail=c.getObject(l),this.shipTrail.reset(this)});u.prototype=Object.create(n.prototype),u.prototype.addedToWorld=function(){n.prototype.addedToWorld.call(this),this.world.add(this.shipTrail)},u.prototype.removedFromWorld=function(){n.prototype.removedFromWorld.call(this),this.shipTrail.destroy()},u.prototype.reset=function(){n.prototype.reset.call(this),this.isRetreating=!1,this.maxSpeed=45*Math.random()+25,this.minSpeed=this.maxSpeed/4,this.tick=parseInt(1e3*Math.random()),this.readyForDestroy=!1,this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.velocity.x=0,this.velocity.y=0,this.acceleration.x=0,this.acceleration.y=0},u.prototype.die=function(e){this.retreat({x:-200,y:0})},u.prototype.hit=function(e,t){e=e||1,this.loseLife(e),this.acceleration.x-=10},u.prototype.loseLife=function(e){e=e||1,this.life-=e,this.life<=0&&(this.life=0,this.die())},u.prototype.retreat=function(e){this.isRetreating=!0,this.retreatingPos=e},u.prototype.applySteerForce=function(e){this.acceleration.plus(e)},u.prototype.applyForce=function(e){var t=tempVector;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);this.acceleration.plus(i)},u.prototype.follow=function(){var e=p,t=30*Math.sin(this.tick/20),i=55*Math.cos(this.tick/80);this.isRetreating?(e.x=this.retreatingPos.x,e.y=this.retreatingPos.y):(e.x=this.player.positionVec.x+this.offset.x+t,e.y=this.player.positionVec.y+this.offset.y+i+this.offsetFloor.y);var o=e.minus(this.positionVec),n=o.length();if(this.isRetreating)if(500>n){var r=s.map(n,4,500,10,4);o.setLength(r)}else o.setLength(4);else if(n<this.minSpeed)n=0;else if(500>n){var r=s.map(n,this.minSpeed,500,this.minSpeed,this.maxSpeed);o.setLength(r)}else o.setLength(this.maxSpeed);var a=o.minus(this.velocity);this.applySteerForce(a)},u.prototype.fire=function(){this.flipFire=!this.flipFire,this.flipFire?this.world.game.bulletsManager.fire(h,this,{x:10,y:-13}):this.world.game.bulletsManager.fire(h,this,{x:10,y:13})},u.prototype.update=function(){n.prototype.update.call(this),this.follow(),this.velocity.plus(this.acceleration),this.positionVec.plus(this.velocity),this.view.updateView({x:2*this.velocity.x,x:2*this.velocity.y}),2===this.view.state&&(this.view.state=0),this.acceleration.multiply(0),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y},i.exports=u}),define("com/fighter/game/engine_shooter/xwingsManager/XwingManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/DelayedCallsGame","com/fighter/game/engine_shooter/xwingsManager/Xwing","fido/bob/crash/Vector","fido/utils/Math2","signals","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine_shooter/DelayedCallsGame"),r=e("com/fighter/game/engine_shooter/xwingsManager/Xwing"),s=e("fido/bob/crash/Vector"),a=(e("fido/utils/Math2"),e("signals")),h=(new s,new s,new s,function(e){this.soundsMuted=!1,this.onXwingAddedToWorld=new a,this.onXwingRemovedFromWorld=new a,this.engine=e,this.player=this.engine.player,this.tick=0,this.currentDelayedId=null,this.delayedCalls=new n});h.prototype.removeXWings=function(){this.currentDelayedId=null,this.active=!1;for(var e=this.engine.world.groups.xwings.children,t=0;t<e.length;t++)e[t]&&!e[t].isRetreating&&e[t].retreat({x:-200,y:0})},h.prototype.setSpeed=function(e){for(var t=this.engine.world.groups.xwings.children,i=0;i<t.length;i++)t[i].view.setSpeed({x:.5*e.x,y:.5*e.y})},h.prototype.xwingAddedToWorld=function(e){this.onXwingAddedToWorld.dispatch(e)},h.prototype.xwingRemovedFromWorld=function(e){this.onXwingRemovedFromWorld.dispatch(e)},h.prototype.help=function(t){var i=this.engine.world.groups.xwings.children;if(!this.active||0===i.length){e("fido/sound/SoundBridge").sfx.play("xwing_buddies"),e("fido/sound/SoundBridge").sfx.play("xwing_engine_loop"),e("fido/sound/SoundBridge").sfx.setVolume("xwing_engine_loop",1),t=t||2;for(var n,s=0;t>s;s++)n=o.getObject(r),n.onAddedToWorld.add(this.xwingAddedToWorld,this),n.onRemovedFromWorld.add(this.xwingRemovedFromWorld,this),n.player=this.player,n.offset.x=-80,n.offset.y=s%2===0?-70:100,n.positionVec.x=-100,n.positionVec.y=s%2===0?-100:500,this.engine.world.add(n),n.reset()}this.active=!0,this.delayedCalls.clear(),this.currentDelayedId=this.delayedCalls.add(this.removeXWings.bind(this),25)},h.prototype.reset=function(){this.soundsMuted=!1,this.active=!1,this.tick=0,this.delayedCalls.clear();for(var e=this.engine.world.groups.xwings.children,t=0;t<e.length;t++)e[t].onAddedToWorld.removeAll(),e[t].destroy()},h.prototype.muteSounds=function(){this.soundsMuted=!0},h.prototype.playSounds=function(){this.soundsMuted=!1},h.prototype.manageScale=function(){for(var e=this.engine.world.groups.xwings.children,t=0;t<e.length;t++){var i=e[t];if(i.world){var o=0;i.positionVec.y>0&&(o=i.positionVec.y/this.engine.h),i.manageScale(o)}}},h.prototype.update=function(){this.tick++;var t=this.engine.world.groups.xwings.children;1!==t.length||this.soundsMuted?e("fido/sound/SoundBridge").sfx.stop("xwing_engine_loop"):e("fido/sound/SoundBridge").sfx.setVolume("xwing_engine_loop",.5),null!==this.currentDelayedId&&0!==t.length;for(var i=t.length-1;i>=0;i--){var o=t[i];o.isRetreating&&o.position.x<=-200&&(o.onAddedToWorld.removeAll(),o.destroy()),o.positionVec.y>this.engine.h+30*Math.cos(this.tick/100)-80?o.positionVec.y=this.engine.h+30*Math.cos(this.tick/100)-80:o.positionVec.y<this.engine.h-this.engine.bounds.height+40&&(o.positionVec.y=this.engine.h-this.engine.bounds.height+40)}},i.exports=h}),define("com/fighter/game/engine_shooter/CollisionManager",["require","exports","module","fido/goals/Goals","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"],function(e,t,i){var o=e("fido/goals/Goals"),n=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"),r=function(e){this.engine=e,this.count=0,this.BULLET_TYPES={enemy:0,player:1}};r.prototype.update=function(){Device.instance.desktop?(0===this.count?this.hitTestPlayerBulletsVsEnemy():1==this.count?this.hitTestPlayerRocketsVsEnemy():2===this.count?(this.hitTestBlastsVsEnemy(),this.hitTestPlayerVsPickups()):3===this.count?this.hitTestPlayerVsEnemy():4===this.count&&(this.hitTestPlayerVsEnemyBullet(),this.hitTestSecondaryWeaponVsEnemy()),this.count++,this.count%=5):(0===this.count?this.hitTestPlayerBulletsVsEnemy():1==this.count?this.hitTestPlayerRocketsVsEnemy():2===this.count?this.hitTestBlastsVsEnemy():3===this.count?this.hitTestPlayerVsPickups():4===this.count?this.hitTestPlayerVsEnemy():5===this.count?this.hitTestPlayerVsEnemyBullet():6===this.count&&this.hitTestSecondaryWeaponVsEnemy(),this.count++,this.count%=7)},r.prototype.addPickupOrNot=function(e){return e.life>0?!1:(e.pickup&&!e.isTurret?this.engine.pickupManager.addPickup(e.position):(e.isTurret&&0===e.didReceiveCoin||!e.isTurret)&&(e.didReceiveCoin=1,this.engine.pickupManager.addCoin(e.position)),!0)},r.prototype.hitTestBlastsVsEnemy=function(){for(var e=this.engine.world.groups.blasts.children,t=this.engine.world.groups.enemies.children,i=0;i<e.length;i++)for(var o=e[i],n=0;n<t.length;n++){var r=t[n];if(!(r.isBackward||r.position.x>this.engine.w+50)&&Math.abs(r.positionVec.x-o.position.x)<=o.radius/2&&Math.abs(r.positionVec.y-o.position.y)<=o.radius/2){!r.rocket;var s=r.isLandingShip?o.calculateDamage(r.position)/6:o.calculateDamage(r.position);this.engine.enemyManager.hitEnemy(r,s),this.addPickupOrNot(r)}}},r.prototype.hitTestPlayerRocketsVsEnemy=function(){for(var e,t,i,n,r,s,a,h,c=this.engine.world.groups.rockets.children,l=c,p=this.engine.world.groups.enemies.children,u=l.length,d=0;u>d;d++){var g=l[d];e=g.position.x-g.contactZone.width/2,t=g.position.x+g.contactZone.width/2,i=g.position.y+g.contactZone.height/2,n=g.position.y-g.contactZone.height/2;for(var f=p.length,m=0;f>m;m++){var v=p[m];if(!(v.isBackward||e>this.engine.w+50)&&(r=v.position.x-v.contactZone.width/2+v.contactZone.x,s=v.position.x+v.contactZone.width/2+v.contactZone.x,a=v.position.y+v.contactZone.height/2+v.contactZone.y,h=v.position.y-v.contactZone.height/2+v.contactZone.y,t>r&&s>e&&a>n&&i>h)){g.rocket&&(this.engine.blastManager.addBlastRadius(v.positionVec,100,v),o.instance.increment("destroy_enemy_rocket",1)),g.readyForDestroy=!0,this.engine.enemyManager.hitEnemy(v,v.isLandingShip?g.damage/6:g.damage,g),this.addPickupOrNot(v),this.engine.blastEffect(v.positionVec),u--;break}}}},r.prototype.hitTestPlayerBulletsVsEnemy=function(){for(var e,t,i,n,r,s,a,h,c=this.engine.world.groups.player_bullets.children,l=c,p=this.engine.world.groups.enemies.children,u=l.length,d=!1,g=0;u>g;g++){var f=l[g];e=f.position.x-f.contactZone.width/2,t=f.position.x+f.contactZone.width/2,i=f.position.y+f.contactZone.height/2,n=f.position.y-f.contactZone.height/2;for(var m=p.length,v=0;m>v;v++){var y=p[v];if(!(y.isBackward||e>this.engine.w+50)&&(r=y.position.x-y.contactZone.width/2+y.contactZone.x,s=y.position.x+y.contactZone.width/2+y.contactZone.x,
a=y.position.y+y.contactZone.height/2+y.contactZone.y,h=y.position.y-y.contactZone.height/2+y.contactZone.y,t>r&&s>e&&a>n&&i>h)){this.engine.enemyManager.hitEnemy(y,f.damage,f),y.isTurret||(d=this.addPickupOrNot(y)),f.rocket?this.engine.blastManager.addBlastRadius(y.positionVec,100,y):f.isXwingBullet&&d?o.instance.increment("destroy_enemy_wingmen",1):f.isSpreadFire&&d&&o.instance.increment("destroy_enemy_blaster",1),f.readyForDestroy=!0,u--;break}}}},r.prototype.hitTestPlayerVsPickups=function(){for(var e,t,i,o,n=this.engine.player,r=this.engine.world.groups.pickups.children,s=r.length,a=n.position.x-n.contactZone.width/2+n.contactZone.x,h=n.position.x+n.contactZone.width/2+n.contactZone.x,c=n.position.y+n.contactZone.height/2+n.contactZone.y,l=n.position.y-n.contactZone.height/2+n.contactZone.y,p=0;s>p;p++){var u=r[p];n.position.x-u.position.x,n.position.y-28-1-u.position.y;e=u.position.x-u.contactZone.width/2,t=u.position.x+u.contactZone.width/2,i=u.position.y+u.contactZone.height/2,o=u.position.y-u.contactZone.height/2,t>a&&h>e&&c>o&&i>l&&this.engine.pickupManager.hitPickup(u)}},r.prototype.hitTestSecondaryWeaponVsEnemy=function(){for(var e,t=(this.engine.player,this.engine.world.groups.secondary_weapon.children),i=this.engine.world.groups.surface_missile.children,n=this.engine.world.groups.enemies.children,r=n.concat(i),s=r.length,a=0;a<t.length;a++){e=t[a];for(var h,c,l,p=e.position.y+e.currentHeight/2,u=e.position.y-e.currentHeight/2,d=1400,g=null,f=!1,m=0;s>m;m++){var v=r[m];v.isBackward||(h=v.position.x-v.contactZone.width/2+v.contactZone.x,c=v.position.y+v.contactZone.height/2+v.contactZone.y,l=v.position.y-v.contactZone.height/2+v.contactZone.y,h>1400||h>e.position.x&&p>l&&c>u&&d>h&&(d=v.position.x+v.contactZone.x,e.canKill&&(g=v)))}g&&(g.rocket?g.readyForDestroy=!0:(this.engine.enemyManager.hitEnemy(g,e.power),v.isTurret||(f=this.addPickupOrNot(g),f&&o.instance.increment("destroy_enemy_laser",1)))),e.maxX=d}},r.prototype.hitTestPlayerVsEnemy=function(){var e=[this.engine.player];if(!e.invincible)for(var t,i,o,r,s,a,h,c,l=this.engine.world.groups.xwings.children,p=e.concat(l),u=this.engine.world.groups.enemies.children,d=u.length,g=0;d>g;g++){var f=u[g];if(!(f.isBackward||f["switch"]||f.isTurret&&!f.canFire))for(var m=0;m<p.length;m++){var e=p[m];s=e.position.x-e.contactZoneDefault.width/2+e.contactZoneDefault.x,a=e.position.x+e.contactZoneDefault.width/2+e.contactZoneDefault.x,h=e.position.y+e.contactZoneDefault.height/2+e.contactZoneDefault.y,c=e.position.y-e.contactZoneDefault.height/2+e.contactZoneDefault.y;e.position.x-f.position.x,e.position.y-28-1-f.position.y;t=f.position.x-f.contactZone.width/2,i=f.position.x+f.contactZone.width/2,o=f.position.y+f.contactZone.height/2,r=f.position.y-f.contactZone.height/2,i>s&&a>t&&h>r&&o>c&&(f.isTurretInside||(f.isStatic?(e.loseLife(2),this.engine.explosionManager.addExplosion(e,n),this.engine.camera.shake(15)):(e.hit(),this.engine.enemyManager.hitEnemy(f))))}}},r.prototype.hitTestPlayerVsEnemyBullet=function(){if(!this.engine.player.invincible)for(var e,t,i,o,n,r,s,a,h=[this.engine.player],c=this.engine.world.groups.xwings.children,l=h.concat(c),p=this.engine.world.groups.surface_missile.children,u=this.engine.world.groups.enemies_bullets.children,d=p.concat(u),g=0;g<d.length;g++){var f=d[g];if(f.type!==this.BULLET_TYPES.player)for(var m=0;m<l.length;m++){var v=l[m];n=v.position.x-v.contactZoneDefault.width/2+v.contactZoneDefault.x,r=v.position.x+v.contactZoneDefault.width/2+v.contactZoneDefault.x,s=v.position.y+v.contactZoneDefault.height/2+v.contactZoneDefault.y,a=v.position.y-v.contactZoneDefault.height/2+v.contactZoneDefault.y,e=f.position.x-f.contactZone.width/2,t=f.position.x+f.contactZone.width/2,i=f.position.y+f.contactZone.height/2,o=f.position.y-f.contactZone.height/2,e>r||t>n&&r>e&&s>o&&i>a&&(f.readyForDestroy=!0,v.hit(f.damage,f))}}},r.prototype.hitTestPlayerVsEnemyLaser=function(){if(!this.engine.player.invincible)for(var e,t,i,o,n,r,s,a=[this.engine.player],h=this.engine.world.groups.xwings.children,c=a.concat(h),l=this.engine.world.groups.enemies_lasers.children,p=0;p<l.length;p++){i=-2e3;for(var u=l[p],e=u.view.position.y+u.currentHeight/2,t=u.view.position.y-u.currentHeight/2,d=0;d<c.length;d++){var g=c[d];o=g.position.x-g.contactZoneDefault.width/2+g.contactZoneDefault.x,r=g.position.x+g.contactZoneDefault.width/2+g.contactZoneDefault.x,n=g.position.y+g.contactZoneDefault.height/2+g.contactZoneDefault.y,s=g.position.y-g.contactZoneDefault.height/2+g.contactZoneDefault.y,o<u.view.position.x&&n>t&&e>s&&g.position.x>i&&(i=g.position.x,u.canKill&&g.hit(u.power)),u.maxX=i}}},i.exports=r}),define("com/fighter/game/engine_shooter/bullets/BulletsManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=(e("fido/bob/crash/Vector"),function(e){this.engine=e,this.player=this.engine.player,this.TYPES={enemy:0,player:1}});n.prototype.fire=function(e,t,i,n){var r=o.getObject(e);r.position.x=t.position.x,r.position.y=t.position.y,i&&(r.position.x+=i.x,r.position.y+=i.y),this.engine.world.add(r),r.reset(n)},n.prototype.update=function(){for(var e,t,i=this.engine.world.groups.bullets.children,o=0;o<i.length;o++)t=i[o],t.type===this.TYPES.enemy&&this.player.repulsors.length>0&&(e=t.calculateRepulsion(this.player),e.x=0,t.applyForce(e)),!t.comingFromBehind||t.readyForDestroy?(t.readyForDestroy||t.positionVec.x>this.engine.w+200||t.positionVec.x<-10)&&t.destroy():t.positionVec>1400&&t.destroy()},n.prototype.reset=function(){for(var e=this.engine.world.groups.bullets.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=function(e){this.engine=e,this.mainSpeed=-1,this.ref={},this.onScreen={},this.elements=[]};n.prototype.muteSounds=function(){for(var e,t=0;t<this.elements.length;t++)e=this.elements[t],e.muteSounds&&e.muteSounds()},n.prototype.playSounds=function(){for(var e,t=0;t<this.elements.length;t++)e=this.elements[t],e.playSounds&&e.playSounds()},n.prototype.clear=function(){for(var e,t=0;t<this.elements.length;t++)e=this.elements[t],ref=e.ref,e.stop(!0),e.view.removeChildren(),this.onScreen[ref]=!1;this.elements=[]},n.prototype.load=function(e,t,i){this.mainSpeed=-1;for(var n,r,s,a=0;a<this.elements.length;a++){s=this.elements[a],n=s.ref,r=!1;for(var h=0;h<e.length;h++)e[h]===n&&(r=!0);r||(s.stop&&s.stop(i||t),this.onScreen[n]=!1,this.elements.splice(a,1),a--)}for(var a=0;a<e.length;a++){var s=e[a];if(!this.onScreen[s]){var c=o.getObject(this.ref[s]);c.ref=s,c.world||this.engine.world.add(c),this.onScreen[s]=!0,this.elements.push(c),c.reset(t)}}},n.prototype.reverseSpeed=function(e){},n.prototype.update=function(){},n.prototype.reset=function(){this.mainSpeed=-1;for(var e=0;e<this.elements.length;e++)el=this.elements[e],ref=el.ref,isIn=!1,el.stop?el.stop(!0):el.destroy(),this.onScreen[ref]=!1,this.elements.splice(e,1),e--},n.prototype.resize=function(e,t){for(var i=0;i<this.elements.length;i++)this.elements[i].resize(e,t)},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterStatic",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("com/fighter/game/engine/Item")),r=(e("fido/bob/crash/Vector"),e("fido/utils/Math2"),function(){var e=new o.Container;n.call(this,0,0,e),this.stopped=!1,this.view.layer="water",this.water=new o.Sprite.fromFrame("water_background.png"),this.water.anchor.y=1,this.water.scale.x=25,this.water.position.x=-100,this.view.addChild(this.water)});r.prototype=Object.create(n.prototype),r.prototype.stop=function(e){this.destroy()},r.prototype.reset=function(){this.view.addChild(this.water)},r.prototype.resize=function(e,t){this.view.position.y=t},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/Water",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=(e("fido/bob/crash/Vector"),e("fido/utils/Math2")),a=function(){var e=new o.Container;r.call(this,0,0,e),this.stopped=!1,this.view.layer="water",this.water=new o.Sprite.fromFrame("water_background.png"),this.water.anchor.y=1,this.water.scale.x=30,this.water.position.x=-400,this.view.addChild(this.water),this.delay=5*Math.random(),this.trailStyles={light:0,dark:1,other:2},this.waterTrails=["water_trait1.png","water_trait2.png","water_trait3.png","water_trait4.png"],this.pool=[],this.trails=[],this.reflectionContainer=new o.Container,this.view.addChild(this.reflectionContainer),this.reflectedSprites=[new o.Sprite,new o.Sprite,new o.Sprite];for(var t=0;t<this.reflectedSprites.length;t++)this.reflectedSprites[t].anchor.x=this.reflectedSprites[t].anchor.y=.5,this.reflectionContainer.addChild(this.reflectedSprites[t]);if(!Device.instance.ie&&o.isWebGL&&Device.instance.desktop){this.map=new o.Sprite.fromImage(ASSET_URL+"img/game/displacement_map.jpg"),this.map.hitArea=new o.Rectangle,this.map.scale.x=.5,this.map.scale.y=.8,this.reflectionContainer.addChild(this.map);var i=new o.filters.DisplacementFilter(this.map);this.reflectionContainer.filterArea=new o.Rectangle(0,0,2e3,2e3),this.reflectionContainer.filters=[i]}};a.prototype=Object.create(r.prototype),a.prototype.reflect=function(){for(var e=this.world.groups.xwings.children,t=[this.world.game.player],i=t.concat(e),o=0;o<i.length;o++){var n=i[o];n.position.y>300&&!n.isRetreating?(this.reflectedSprites[o].texture=n.view.view.texture,this.reflectedSprites[o].position.x=n.position.x,this.reflectedSprites[o].position.y=s.map(n.position.y,300,640,-200,20),this.reflectedSprites[o].scale.y=s.map(n.position.y,300,640,-.4,-1),this.reflectedSprites[o].scale.x=s.map(n.position.y,300,640,.5,1),Device.instance.desktop?(this.reflectedSprites[o].alpha=s.map(n.position.y,300,550,0,.4),this.reflectedSprites[o].alpha>.4&&(this.reflectedSprites[o].alpha=.4)):(this.reflectedSprites[o].alpha=s.map(n.position.y,300,550,0,.3),this.reflectedSprites[o].alpha>.6&&(this.reflectedSprites[o].alpha=.3))):this.reflectedSprites[o].alpha=0}},a.prototype.addTrail=function(){var e=2,t=Math.floor(Math.random()*this.waterTrails.length),i=this.pool.pop();i||(i=new o.Sprite.fromImage(this.waterTrails[t]),i.style=t,i.maxScale=new o.Point,i.animateAlpha=!1,i.style===this.trailStyles.dark?(i.maxScale.y=.8,i.alpha=.5*Math.random()+.3,i.minY=105,i.maxY=this.water.height-105,i.speed=8*Math.random()+8*e):i.style===this.trailStyles.light?(i.maxScale.y=.4,i.minY=5,i.maxY=this.water.height-85,i.animateAlpha=!0,i.tick=Math.random()*Math.PI,i.speedTick=40*Math.random()+40,i.speed=8*Math.random()+2*e):(i.alpha=.5*Math.random()+.3,i.maxScale.y=.4,i.minY=15,i.maxY=this.water.height-15,i.speed=8*Math.random()+4*e),i.anchor.y=.5),this.view.addChild(i),i.position.x=this.world.game.w+1200*Math.random(),i.position.y=-this.water.height+Math.random()*i.maxY+i.minY;var n=s.map(i.position.y,-this.water.height,0,4,45);i.speed=n,i.scale.x=Math.random()+.5,i.scale.y=Math.random()*i.maxScale.y+.05,this.trails.push(i)},a.prototype.stop=function(e){this.reflectionContainer.filters=null,this.stopped=!0,e&&(this.view.removeChildren(),this.destroy());for(var t=0;t<this.reflectedSprites.length;t++)this.reflectedSprites[t].alpha=0},a.prototype.update=function(){this.reflect(),!Device.instance.ie&&o.isWebGL&&Device.instance.desktop&&(this.map.position.x+=10,this.map.position.y+=10);for(var e=this.trails.length-1;e>-1;e--){var t=this.trails[e];t.position.x-=t.speed*n.game.deltaTime*this.timeManager.tickBackground,t.animateAlpha&&(t.tick+=1*n.game.deltaTime,t.alpha=Math.abs(.5*Math.sin(t.tick/t.speedTick)+.2)),t.position.x+t.width<-200&&(this.trails.splice(e,1),this.pool.push(t))}return this.stopped?void(0===this.trails.length&&this.destroy()):(this.delay-=1*n.game.deltaTime,void(this.delay<=0&&(this.delay=5*Math.random()+(Device.instance.desktop?5:20),this.addTrail())))},a.prototype.reset=function(){this.timeManager=this.world.game.game.timeManager,this.stopped=!1,this.view.addChildAt(this.water,0)},a.prototype.resize=function(e,t){this.view.position.y=t},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){function o(e,t){return 1e3*e.z-1e3*t.z}var n=e("PIXI"),r=e("com/fighter/game/engine/Item"),s=(e("fido/utils/Math2"),e("fido/system/Ticker")),a=function(){r.call(this,0,0,new n.Container),this.view.layer="back",this.isStopped=!1,this.distance=0,this.elements=[],this.h=0,this.spritesElements=["montaign1.png","montaign2.png","montaign3.png","montaign4.png","montaign5.png"]};a.prototype=Object.create(r.prototype),a.prototype.reset=function(e){this.elements=[],this.isStopped=!1,this.view.removeChildren(),this.mainSpeed=this.world.game.assetsManager.backgroundManager.mainSpeed,this.addElement(e),this.timeManager=this.world.game.game.timeManager},a.prototype.reverseSpeed=function(e){this.mainSpeed=e;for(var t=0;t<this.elements.length;t++)this.elements[t].speed=this.getSpeed(this.elements[t].z)},a.prototype.addElement=function(e,t,i){var o=-100;i=i||1300,this.distance=i,t=t||8;for(var r=0;t>r;r++){var s=new n.Sprite.fromFrame(this.spritesElements[r%this.spritesElements.length]);1===t?s.position.x=i/2*1-o+200*Math.random()-100+(e?0:1300+Math.abs(s.width)):s.position.x=i/t*r-o+200*Math.random()-100+(e?0:1300+Math.abs(s.width)),this.resetElement(s),this.elements.push(s),this.view.addChild(s)}},a.prototype.resetElement=function(e){var t=Math.floor(100*Math.random())/100;e.position.y=30*Math.random(),e.z=t,e.speed=this.getSpeed(t)},a.prototype.getSpeed=function(e){return.4},a.prototype.stop=function(e){if(this.isStopped=!0,e)this.elements=[],this.view.removeChildren(),this.destroy();else for(var t=0;t<this.elements.length;t++){var i=this.elements[t];i.position.x-=i.speed,i.position.x>this.world.game.w&&this.isStopped&&(this.elements.splice(t,1),this.view.removeChild(i),t--)}},a.prototype.update=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].position.x+=this.elements[e].speed*s.game.deltaTime*this.mainSpeed*this.timeManager.tickBackground,this.mainSpeed>0?this.elements[e].position.x>this.distance+250+(this.elements[e].scale.x>0?0:this.elements[e].width)&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e],!0))):this.elements[e].position.x<1.1*-this.elements[e].width&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e])));this.isStopped&&0===this.elements.length&&this.destroy()},a.prototype.swap=function(e,t){t?e.position.x=200*-Math.random()-(e.scale.x<0?0:e.width):e.position.x=this.distance+100*Math.random()+(e.scale.x<0?e.width:0)},a.prototype.depthSortLayer=function(e){e.children.sort(o)},a.prototype.resize=function(e,t){this.w=e,this.h=t,this.view.position.y=t},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){function o(e,t,i,o){return e/=o,i*e*e*e+t}var n=e("PIXI"),r=e("fido/utils/Math2"),s=e("fido/system/Ticker"),a=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"),h=function(){a.call(this),this.view.layer="back",this.delay=100,this.spritesElements=["montaign1.png","montaign2.png","montaign3.png","montaign4.png","montaign5.png"],this.spritesCloudsGround=["cloud_montaign.png","cloud_montaign2.png"],this.spritesCloudsAir=["cloud_air2.png","cloud_air3.png"],this.fog=new n.Sprite.fromFrame("gradiant_montaign.png"),this.fog.blendMode=0,this.fog.anchor.y=1,this.fog.alpha=1,this.fog.position.x=-50,this.fog.position.y=0,this.fog.scale.x=25,this.fog.scale.y=1,this.fog.z=100,this.poolGround=[],this.poolAir=[],this.clouds=[]};h.prototype=Object.create(a.prototype),h.prototype.reverseSpeed=function(e){a.prototype.reverseSpeed.call(this,e);for(var t=0;t<this.clouds.length;t++)this.clouds[t].speed=this.getSpeedCloud(this.clouds[t].z)},h.prototype.reset=function(e){a.prototype.reset.call(this,e),this.clouds=[],this.addClouds(e),this.view.addChild(this.fog)},h.prototype.addElement=function(e){a.prototype.addElement.call(this,e,8,1400)},h.prototype.addClouds=function(e){for(var t=-100,i=1400,o=0;8>o;o++){var r=this.spritesCloudsGround[o%this.spritesCloudsGround.length],s=this.poolGround.pop()||new n.Sprite.fromFrame(r);s.tick=100*Math.random(),s.floor=!0,s.anchor.y=1,this.resetCloud(s),s.position.x=i/8*o-t+200*Math.random()-100+(e?0:1300+Math.abs(s.width)),this.view.addChild(s),this.clouds.push(s)}for(var o=0;3>o;o++){var r=this.spritesCloudsAir[o%this.spritesCloudsAir.length],s=this.poolAir.pop()||new n.Sprite.fromFrame(r);s.anchor.y=1,s.tick=100*Math.random(),s.floor=!1,this.resetCloud(s),s.position.x=i/3*o-t+100*Math.random()-50+(e?0:1300+Math.abs(s.width)),this.view.addChild(s),this.clouds.push(s)}},h.prototype.resetCloud=function(e){var t=.6*Math.random()+.4,i=Math.floor(100*Math.random())/100;e.position.y=2,e.z=i,e.scale.x=e.scale.y=t,e.floor||(e.position.y-=120+60*Math.random()),e.speed=this.getSpeedCloud(i)},h.prototype.getSpeed=function(e){if(this.mainSpeed>0){if(n.isWebGL){var t=o(e,0,10,10);return Math.floor(10*r.map(t,0,10,6,1))/10}return Math.floor(10*r.map(e,0,10,10,6))/10}return Math.floor(10*r.map(e,0,10,.25,.8))/10},h.prototype.stop=function(e){for(var t=0;t<this.clouds.length;t++)this.clouds[t].floor?this.poolGround.push(this.clouds[t]):this.poolAir.push(this.clouds[t]);a.prototype.stop.call(this,e)},h.prototype.resetElement=function(e){a.prototype.resetElement.call(this,e),e.anchor.y=1},h.prototype.getSpeedCloud=function(e){return this.mainSpeed>0?Math.floor(10*r.map(e,0,10,3,.45))/10:Math.floor(10*r.map(e,0,10,.45,1.2))/10},h.prototype.update=function(){a.prototype.update.call(this);for(var e=this.clouds.length-1;e>-1;e--){var t=this.clouds[e];t.position.x+=t.speed*s.game.deltaTime*this.mainSpeed*this.timeManager.tickBackground,t.tick++,this.mainSpeed>0?t.position.x>this.world.game.w+250+(t.scale.x>0?0:t.width)&&(this.resetCloud(t),this.swap(t,!0)):t.position.x<1.1*-t.width&&(this.resetCloud(t),this.swap(t))}this.depthSortLayer(this.view)},h.prototype.resize=function(e,t){a.prototype.update.call(this,e,t),this.view.position.y=t-200},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){function o(e,t){return 1e3*e.z-1e3*t.z}var n=e("PIXI"),r=(e("com/fighter/game/engine/GameObjectPool"),e("com/fighter/game/engine/Item")),s=e("fido/utils/Math2"),a=e("fido/system/Ticker"),h=function(){r.call(this,0,0,new n.Container),this.view.layer="front",this.isStopped=!1,this.layers=[],this.h=0,this.refLayers=[{sprites:["forest_layer3.png"],speed:4,offset:null,reversed:!1,width:680,y:-170,nbSprite:3},{sprites:["forest_layer2.png"],speed:5,offset:null,reversed:!1,width:740,y:-50,nbSprite:3},{sprites:["forest_layer1.png"],speed:7,offset:null,reversed:!1,width:840,y:0,nbSprite:3}]};h.prototype=Object.create(r.prototype),h.prototype.reset=function(e){this.view.removeChildren(),this.layers=[],this.isStopped=!1,this.addElements(e),this.timeManager=this.world.game.game.timeManager},h.prototype.addElements=function(e){for(var t=this.refLayers,i=0,o=0;o<t.length;o++){for(var r=t[o].width*t[o].nbSprite,s=0;s<t[o].nbSprite;s++){var a=t[o].sprites[s%t[o].sprites.length],h=new n.Sprite.fromFrame(a);h.anchor.y=1,t[o].reversed?h.z=i+.1*(t[o].nbSprite-s):h.z=i+.5*s,h.position.y=t[o].y,h.position.x=s*t[o].width+(e?0:1350),h.speed=t[o].speed,t[o].offset&&(h.position.x+=t[o].offset),h.defaultSpawnX=r,this.resetElement(h),this.view.addChild(h),this.layers.push(h)}i+=t[o].nbSprite}},h.prototype.stop=function(e){if(this.isStopped=!0,e)this.layers=[],this.layers.length=0,this.view.removeChildren(),this.destroy();else for(var t=0;t<this.layers.length;t++){var i=this.layers[t];i.position.x-=i.speed,i.position.x>this.world.game.w&&this.isStopped&&(this.layers.splice(t,1),this.view.removeChild(i),t--)}},h.prototype.update=function(){for(var e=0;e<this.layers.length;e++){var t=this.layers[e];t.position.x-=t.speed*a.game.deltaTime*this.timeManager.tickBackground,t.position.x+t.width<=0&&(this.isStopped?(this.layers.splice(e,1),this.view.removeChild(t),e--):(t.position.x+=t.defaultSpawnX,this.resetElement(t)))}0===this.layers.length&&this.destroy(),this.depthSortLayer(this.view)},h.prototype.resetElement=function(e){},h.prototype.getSpeed=function(e){return s.map(e,1,0,20,40)},h.prototype.depthSortLayer=function(e){e.children.sort(o)},h.prototype.resize=function(e,t){this.h=t,this.view.position.y=t},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundForest",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace","fido/system/Ticker","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"),r=e("fido/system/Ticker"),s=e("fido/utils/Math2"),a=function(){n.call(this),this.view.layer="forest",this.delay=100*Math.random(),this.refLayers=[{sprites:["forest_layer3.png"],reversed:!1,speed:4,width:680,y:-170,nbSprite:3,offset:300},{sprites:["forest_layer2.png"],reversed:!0,speed:5,reversed:!0,width:740,y:-50,nbSprite:3},{sprites:["forest_layer1b.png","forest_layer1c.png"],reversed:!1,speed:7,width:840,y:0,nbSprite:3}],this.cloudsAssets=["cloud_between_strate.png"],this.pool=[],this.items=[]};a.prototype=Object.create(n.prototype),a.prototype.update=function(){n.prototype.update.call(this),this.delay-=1*r.game.deltaTime,this.delay<=0&&(this.addCloud(),this.delay=60*Math.random()+30);for(var e=this.items.length-1;e>-1;e--){var t=this.items[e];t.position.x+=t.speed*r.game.deltaTime,t.position.x+Math.abs(t.width)<=-200&&(this.pool.push(t),this.view.removeChild(t),this.items.splice(e,1))}},a.prototype.addCloud=function(){var e=this.pool.pop();e||(e=new o.Sprite.fromFrame(this.cloudsAssets[Math.floor(Math.random()*this.cloudsAssets.length)]),e.anchor.y=1);var t=1-Math.random();e.alpha=1,e.position.y=-100*t+100,e.z=200;var i=s.map(t,1,0,.2,1.5);e.scale.x=e.scale.y=i,e.scale.x*=2*Math.random()>1?-1:1,e.position.x=1200+200*Math.random()+(e.scale.x<0?Math.abs(e.width):0),e.speed=-this.getSpeed(t),this.items.push(e),this.view.addChild(e)},a.prototype.getSpeed=function(e){return s.map(e,1,0,20,40)},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastle",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/system/Ticker","fido/utils/Utils","fido/utils/Math2"],function(e,t,o){function n(e,t){return 1e3*e.z-1e3*t.z}var r=e("PIXI"),s=e("com/fighter/game/engine/Item"),a=e("fido/system/Ticker"),h=e("fido/utils/Utils"),c=(e("fido/utils/Math2"),function(){s.call(this,0,0,new r.Container),this.view.layer="castle",this.tick=0,this.counter=0,this.speed=.2,this.containerCastle=new r.Container,this.containerCastle.z=0,this.containerCastle.scale.x=this.containerCastle.scale.y=1.5,this.view.addChild(this.containerCastle);var e=h.getTexturesFromFramesWithPrefixMore("castle0000_00%%%.png",134,0);e.reverse(),this.castle=new r.Sprite,this.castle.anchor.x=0,this.castle.anchor.y=.5,this.castle.textures=e,this.castle.counter=0,this.castle.speed=.3,this.containerCastle.addChild(this.castle),this.elements=[];this.pool=[],this.smokes=[]});c.prototype=Object.create(s.prototype),c.prototype.addSmoke=function(){var e=this.pool.pop();e||(e=new r.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke2.png"),e.tint=0*Math.random(),e.anchor.x=e.anchor.y=.5),e.alpha=.021,e.isGrowing=!0,e.tick=0,e.speedX=2*Math.random()+1,e.speedY=Math.random()+1,e.scale.x=e.scale.y=1+.4*Math.random()-.2,e.amplitude={},e.amplitude.x=1,e.amplitude.y=.1,e.position.x=180+Math.sin(e.tick/40)*e.amplitude.x,e.position.y=150+Math.cos(e.tick/40)*e.amplitude.y,e.scale.x=e.scale.y+=.01*Math.cos(e.tick/40),this.view.addChild(e),this.smokes.push(e)},c.prototype.stop=function(e){for(i=this.smokes.length-1;i>-1;i--)this.pool.push(this.smokes[i]);this.smokes=[],this.destroy()},c.prototype.reset=function(e){this.percentage=0,this.durationRotation=480,this.counter=0},c.prototype.update=function(){this.tick++,this.counter+=1*a.game.deltaTime,this.castle.counter+=this.castle.speed*a.game.deltaTime,this.castle.texture=this.castle.textures[Math.floor(this.castle.counter%this.castle.textures.length)],this.tick%(Device.instance.desktop?10:35)===0&&this.addSmoke();for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.tick+=t.speedX,t.position.x-=1*Math.sin(t.tick/40),t.position.y+=.1*Math.cos(t.tick/40)-t.speedY,t.scale.x=t.scale.y+=.005*Math.cos(t.tick/40),t.amplitude.x*=1.05,t.isGrowing?(t.alpha*=1.05,t.alpha>1&&(t.alpha=1,t.isGrowing=!1)):t.alpha*=.998,t.alpha<.02&&(this.pool.push(t),this.smokes.splice(e,1),e--)}},c.prototype.depthSortLayer=function(e){e.children.sort(n)},c.prototype.resize=function(e,t){this.view.position.x=e/2,this.view.position.y=t/2+20},o.exports=c}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsCastle",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains")),n=function(){o.call(this),this.spritesCloudsGround=["w1_env3_cloud_black_between_strate.png"]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastleIslandsBack",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){var o=(e("PIXI"),e("fido/utils/Math2")),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"),s=function(){r.call(this),this.view.layer="islands",this.spritesElements=["w1_env3_strate_castle.png"],this.x1=-500,this.x2=2e3};s.prototype=Object.create(r.prototype),s.prototype.stop=function(){r.prototype.stop.call(this,!0)},s.prototype.reverseSpeed=function(e){},s.prototype.addElement=function(e){r.prototype.addElement.call(this,e,2,1500)},s.prototype.update=function(){this.depthSortLayer(this.view);for(var e=0;e<this.elements.length;e++){var t=(this.elements[e].position.x-this.x1)/this.x2;0>=t&&(t=0),t>=1&&(t=1),t=1-2*Math.abs(t-.5),this.elements[e].position.x+=this.elements[e].speed*n.game.deltaTime*this.mainSpeed,this.elements[e].position.y=this.elements[e].defaultPosY+25*t,this.elements[e].scale.x=this.elements[e].scale.y=this.elements[e].defaultScale+.2*t,this.mainSpeed>0?this.elements[e].position.x>this.world.game.w+250+(this.elements[e].scale.x>0?0:this.elements[e].width)&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e],!0))):this.elements[e].position.x<1.1*-this.elements[e].width&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e])))}},s.prototype.getSpeed=function(e){var t=o.map(e,0,10,2,7);return t},s.prototype.resetElement=function(e){r.prototype.resetElement.call(this,e),e.anchor.y=1,e.defaultScale=o.map(e.z,0,10,.3,.6),e.defaultPosY=o.map(e.z,0,10,-250,-190),e.position.y=30*Math.random()-120},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundIslandCastleFront",["require","exports","module","PIXI","fido/utils/Math2","fido/system/Ticker","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){var o=(e("PIXI"),e("fido/utils/Math2")),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"),s=function(){r.call(this),this.view.layer="islands",this.spritesElements=["w1_env3_strate_castle2.png"],this.x1=-500,this.x2=2e3};s.prototype=Object.create(r.prototype),s.prototype.reverseSpeed=function(e){},s.prototype.addElement=function(e){r.prototype.addElement.call(this,e,2,1500)},s.prototype.update=function(){this.depthSortLayer(this.view);for(var e=0;e<this.elements.length;e++){var t=(this.elements[e].position.x-this.x1)/this.x2;0>=t&&(t=0),t>=1&&(t=1),t=1-2*Math.abs(t-.5),this.elements[e].position.x+=this.elements[e].speed*n.game.deltaTime*this.mainSpeed*this.timeManager.tickBackground,this.elements[e].position.y=this.elements[e].defaultPosY+40*t,this.elements[e].scale.x=this.elements[e].scale.y=this.elements[e].defaultScale+.2*t,this.mainSpeed>0?this.elements[e].position.x>this.world.game.w+250+(this.elements[e].scale.x>0?0:this.elements[e].width)&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e],!0))):this.elements[e].position.x<1.1*-this.elements[e].width&&(this.isStopped?(this.view.removeChild(this.elements[e]),this.elements.splice(e,1),e--):(this.resetElement(this.elements[e]),this.swap(this.elements[e])))}},s.prototype.getSpeed=function(e){var t=o.map(e,0,10,6,20);return t},s.prototype.resetElement=function(e){r.prototype.resetElement.call(this,e),e.anchor.y=1,e.defaultScale=o.map(e.z,0,10,.3,1),e.defaultPosY=o.map(e.z,0,10,-150,-90),e.position.y=30*Math.random()-120},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsUnderCastle",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="islands",this.refLayers=[{sprites:["w1_env3_montaign_strate.png"],speed:2,reversed:!1,width:1136,y:-225,nbSprite:3}]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnow",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains"),r=function(){n.call(this),this.spritesElements=["env1_montaign1.png","env1_montaign2.png","env1_montaign3.png"],this.spritesCloudsAir=["cloud_air.png"],this.fog.texture=o.Texture.fromFrame("gradiant_montaign.png"),this.fog.blendMode=0,this.fog.scale.y=1};r.prototype=Object.create(n.prototype),r.prototype.addClouds=function(e){for(var t=-100,i=1400,n=0;3>n;n++){var r=(Math.random(),this.spritesCloudsAir[n%this.spritesCloudsAir.length]),s=this.poolAir.pop()||new o.Sprite.fromFrame(r);s.floor=!1,this.resetCloud(s),s.position.x=i/3*n-t+100*Math.random()-50+(e?0:1300+Math.abs(s.width)),this.view.addChild(s),this.clouds.push(s)}},r.prototype.resize=function(e,t){this.view.position.y=t-60},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/SnowMontainsNotThatFarAway",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){
var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced")),n=function(){o.call(this),this.spritesElements=["env1_strate_montaign_back.png"]};n.prototype=Object.create(o.prototype),n.prototype.addElement=function(e){o.prototype.addElement.call(this,e,3,1500)},n.prototype.getSpeed=function(e){return 1},n.prototype.resetElement=function(e){o.prototype.resetElement.call(this,e),e.anchor.y=1,e.position.y=30*Math.random()-150},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForestSnow",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"),r=function(){n.call(this),this.spritesElements=["env1_strate_forest.png"],this.fog=new o.Sprite.fromImage("env1_gradiant_on_montaign_forest.png"),this.fog.anchor.y=1,this.fog.alpha=.6,this.fog.scale.x=25,this.fog.scale.y=1,this.fog.z=100};r.prototype=Object.create(n.prototype),r.prototype.stop=function(){n.prototype.stop.call(this),EasingsGame.to(this.view,1,{alpha:0,onComplete:function(){this.destroy(),this.elements=[],this.view.removeChildren(),this.view.alpha=1}.bind(this)})},r.prototype.reset=function(e){n.prototype.reset.call(this,e),this.view.addChild(this.fog)},r.prototype.addElement=function(e){n.prototype.addElement.call(this,e,3,1300)},r.prototype.getSpeed=function(e){return 2},r.prototype.resetElement=function(e){n.prototype.resetElement.call(this,e),e.anchor.y=1,e.position.y=10*Math.random()+-30},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowClose",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="snowMontainsClose",this.refLayers=[{sprites:["env1_strate2.png"],speed:4,reversed:!1,width:640,y:5,nbSprite:4}]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowFarAway",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){var o=(e("PIXI"),e("fido/utils/Math2")),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"),r=function(){n.call(this),this.spritesElements=["env1_montaign4.png"]};r.prototype=Object.create(n.prototype),r.prototype.addElement=function(e){n.prototype.addElement.call(this,e,1,1500)},r.prototype.getSpeed=function(e){return Math.floor(10*o.map(e,0,10,.0625,.2))/10},r.prototype.resetElement=function(e){n.prototype.resetElement.call(this,e),e.anchor.y=1},r.prototype.resize=function(e,t){this.view.position.y=t-100},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStructures",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced"],function(e,t,i){var o=(e("PIXI"),e("fido/utils/Math2"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundRandomlySpaced")),n=function(){o.call(this),this.spritesElements=["env2_structure_back.png"]};n.prototype=Object.create(o.prototype),n.prototype.addElement=function(e){o.prototype.addElement.call(this,e,1,3e3)},n.prototype.getSpeed=function(e){return.8},n.prototype.resetElement=function(e){o.prototype.resetElement.call(this,e),e.anchor.y=1},n.prototype.resize=function(e,t){this.view.position.y=t-200},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundFloor",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("com/fighter/game/engine/Item")),r=(e("fido/bob/crash/Vector"),e("fido/utils/Math2"),function(){var e=new o.Container;n.call(this,0,0,e),this.view.layer="back",this.floor=new o.Sprite.fromFrame("env2_flor.png"),this.floor.anchor.y=1,this.floor.scale.x=25,this.floor.position.x=-100,this.view.addChild(this.floor);var t=new o.Sprite.fromFrame("env2_trench.png");t.position.x=-100,t.scale.x=3,t.position.y=-140,this.view.addChild(t)});r.prototype=Object.create(n.prototype),r.prototype.stop=function(e){this.destroy()},r.prototype.update=function(){},r.prototype.reset=function(){},r.prototype.resize=function(e,t){this.view.position.y=t},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsUnderStructure",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="islands",this.refLayers=[{sprites:["env2_lor_montaign.png"],speed:2,reversed:!1,width:1136,y:-170,nbSprite:3}]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/enemies/views/TurretWorld2View",["require","exports","module","PIXI","com/fighter/game/engine_shooter/view/ShipAbstractView"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/view/ShipAbstractView"),r=function(e){n.call(this),this.owner=e;var t=new o.Sprite.fromFrame("env2_strate_touret2.png");t.anchor.x=.5,t.anchor.y=.5,this.addChild(t),this.canon=new o.Sprite.fromFrame("env2_touret_shot.png"),this.canon.anchor.x=1,this.canon.anchor.y=.5,this.canon.position.x=-132,this.canon.position.y=-75,t.addChild(this.canon),this.pool=[],this.smokes=[],this.pivot.x=-110,this.tick=0};r.prototype=Object.create(n.prototype),r.constructor=r,r.prototype.addSmoke=function(){var e=this.pool.pop();e||(e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke2.png"),e.tint=0*Math.random(),e.anchor.x=e.anchor.y=.5),e.alpha=1,e.isGrowing=!0,e.tick=0,e.speedX=2*Math.random()+1,e.speedY=Math.random()+1,e.scale.x=e.scale.y=1+.4*Math.random()-.2,e.position.x=100*Math.random()-100,e.position.y=0,this.addChild(e),this.smokes.push(e)},r.prototype.die=function(){EasingsGame.to(this.canon,1,{rotation:-Math.PI/4,ease:Easings.easeOutCirc})},r.prototype.hit=function(){},r.prototype.update=function(){this.owner.life<this.owner.defaultNumberLife/2&&(this.tick++,this.tick%(Device.instance.desktop?5:20)===0&&this.addSmoke());for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.tick++,t.position.x-=1*Math.sin(t.tick/40),t.position.y+=.1*Math.cos(t.tick/40)-t.speedY,t.scale.x=t.scale.y+=.005*Math.cos(t.tick/40),t.alpha*=.996,t.alpha<.005&&(this.removeChild(t),this.pool.push(t),this.smokes.splice(e,1),e--)}},i.exports=r}),define("com/fighter/game/engine_shooter/bullets/DirectionalBulletTurret",["require","exports","module","PIXI","com/fighter/game/engine_shooter/bullets/Bullet","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/bullets/Bullet"),r=e("fido/bob/crash/Vector"),s=(new r,function(){var e=new o.Sprite.fromFrame("bullet_green.png");e.anchor.x=e.anchor.y=.5,e.scale.x=1.1,e.scale.y=1.25,n.call(this,e),this.type=this.TYPES.enemy,this.groups.push("enemies_bullets")});s.prototype=Object.create(n.prototype),s.prototype.reset=function(e){n.prototype.reset.call(this),this.speedBullet.x=-6*e.x,this.speedBullet.y=-6*e.y},i.exports=s}),define("com/fighter/game/engine_shooter/enemies/TurretWorld2",["require","exports","module","PIXI","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/enemies/Enemy","com/fighter/game/engine_shooter/enemies/views/TurretWorld2View","com/fighter/game/engine_shooter/bullets/DirectionalBulletTurret","com/fighter/game/engine_shooter/enemies/EnemyLifeBar","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear","fido/bob/crash/Vector","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/Item"),e("com/fighter/game/engine_shooter/enemies/Enemy")),r=e("com/fighter/game/engine_shooter/enemies/views/TurretWorld2View"),s=e("com/fighter/game/engine_shooter/bullets/DirectionalBulletTurret"),a=e("com/fighter/game/engine_shooter/enemies/EnemyLifeBar"),h=e("com/fighter/game/engine/GameObjectPool"),c=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),l=e("fido/bob/crash/Vector"),p=new l,u=function(){var e=new r(this);n.call(this,e),this.isTurret=!0,this.defaultArrayToShoot=[1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],this.defaultWaitTimeToShot=0,this.canFire=!0,this.mass=2,this.defaultNumberLife=8,this.speedBullet=new o.Point(-8,0),this.bulletForce={x:0,y:0},this.posBullet={x:0,y:0},this.contactZone=new o.Rectangle(0,0,184,156),this.didReceiveCoin=0};u.prototype=Object.create(n.prototype),u.prototype.reset=function(){n.prototype.reset.call(this),this.didReceiveCoin=0,this.forceStopFire=!1,!this.isDead&&this.lifeBar&&this.lifeBar.world?this.lifeBar.reset(this,{x:-35,y:-110}):(this.lifeBar=h.getObject(a),this.lifeBar.reset(this,{x:-35,y:-110}),this.world.add(this.lifeBar)),this.isDead=!1},u.prototype.hit=function(){this.lifeBar.updateView(this.life/this.defaultNumberLife)},u.prototype.die=function(){this.canFire=!1,this.isDead=!0,this.view.die(),this.world.game.explosionManager.addExplosion(this,c)},u.prototype.addedToWorld=function(){},u.prototype.addLifeBar=function(){this.world&&(this.lifeBar.world?this.lifeBar.reset(this,{x:-35,y:-110}):(this.lifeBar=h.getObject(a),this.lifeBar.reset(this,{x:-35,y:-110}),this.world.add(this.lifeBar)))},u.prototype.removedFromWorld=function(){},u.prototype.fire=function(){this.world.game.bulletsManager.fire(s,this,{x:this.posBullet.x,y:this.posBullet.y},this.bulletForce),this.forceStopFire||e("fido/sound/SoundBridge").sfx.play("tiefighter_weapon_01")},u.prototype.update=function(){if(n.prototype.update.call(this),this.canFire){this.tickWaitTimeToShot>0?this.tickWaitTimeToShot--:this.tickBullet>=this.delayBullet&&!this.stopShooting&&!this.isBackward&&(this.arrayToShoot[this.indexBullet%this.arrayToShoot.length]&&this.fire(),this.tickBullet=0,this.indexBullet++,this.indexBullet>this.arrayToShoot.length&&(this.indexBullet=0,this.tickWaitTimeToShot=this.waitTimeToShot));var e=this.world.game.player;p.x=this.positionVec.x+205-277,p.y=this.positionVec.y-75;var t=p.minus(e.positionVec);t.normalize();var i=Math.atan2(t.y,t.x);i>Math.PI/3?i=Math.PI/3:i<-Math.PI/4&&(i=-Math.PI/4);var o=Math.cos(i),r=Math.sin(i);this.bulletForce.x=o,this.bulletForce.y=r,this.view.canon.rotation=i,this.posBullet.x=-72-57*Math.sin(o),this.posBullet.y=-75-57*Math.sin(r)}},i.exports=u}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/Trench",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/utils/Math2"),s=function(){n.call(this,0,0,new o.Container),this.x1=-50,this.x2=1330,this.trench=new o.Sprite.fromFrame("env2_trench_vertical.png"),this.trench.anchor.x=.5,this.trench.scale.y=2,this.view.addChild(this.trench)};s.prototype=Object.create(n.prototype),s.prototype.update=function(){var e=(this.position.x-this.x1)/this.x2;0>=e&&(e=0),e>=1&&(e=1),this.trench.rotation=r.map(e,0,1,Math.PI/3,-Math.PI/3)},s.prototype.reset=function(e){},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundTrenches",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/enemies/TurretWorld2","com/fighter/game/engine_shooter/backgrounds/items/world2/Trench"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=e("com/fighter/game/engine/GameObjectPool"),a=e("com/fighter/game/engine_shooter/enemies/TurretWorld2"),h=e("com/fighter/game/engine_shooter/backgrounds/items/world2/Trench"),c=function(){r.call(this,0,0,new o.Container),this.h=0,this.elements=[{type:"trench",position:400},{type:"background",image:"env2_batiment.png",position:800},{type:"background",image:"env2_strate2.png",position:1200},{type:"turret",position:2e3},{type:"trench",position:2400},{type:"background",image:"env2_strate2.png",position:2800},{type:"background",image:"env2_batiment.png",position:3200}],this.spawn=3200,this.objects=[]};c.prototype=Object.create(r.prototype),c.prototype.addElements=function(e){for(var t=0;t<this.elements.length;t++){var i,n=this.elements[t],r=n.position+(e?0:1350);"trench"===n.type?(i=s.getObject(h),i.position.x=r,i.reset(),this.world.add(i)):"turret"===n.type?(i=this.world.game.enemyManager.addEnemy(a),i.positionVec.x=r):(i=new o.Sprite.fromFrame(n.image),i.position.x=r,i.anchor.x=i.anchor.y=.5,this.view.addChild(i)),i.spawn=this.spawn+(e?0:1350),i.type=n.type,this.objects.push(i)}},c.prototype.update=function(){for(var e=0;e<this.objects.length;e++){var t=this.objects[e];"trench"===t.type?(t.position.x-=5*n.game.deltaTime*this.timeManager.tickBackground,t.position.x<-500&&!this.isStopped?t.position.x+=t.spawn:t.position.x<-500&&(t.destroy(),this.objects.splice(e,1),e--)):"turret"===t.type?(t.positionVec.x-=5*n.game.deltaTime*this.timeManager.tickBackground,t.positionVec.x<-500&&!this.isStopped?(t.canFire=!0,t.reset(),t.positionVec.x+=t.spawn):t.positionVec.x<-500&&(t.destroy(),this.objects.splice(e,1),e--),t.positionVec.x<0||t.positionVec.x>1200?t.forceStopFire=!0:t.isDead||(t.forceStopFire=!1)):(t.position.x-=5*n.game.deltaTime*this.timeManager.tickBackground,t.position.x<-500&&!this.isStopped?t.position.x+=t.spawn:t.position.x<-500&&(this.view.removeChild(t),this.objects.splice(e,1),e--)),0===this.objects.length&&this.destroy()}},c.prototype.stop=function(e){if(e){for(var t=0;t<this.objects.length;t++)this.objects[t].world&&this.objects[t].destroy(),this.view.removeChildren();this.objects=[],this.destroy()}else{this.isStopped=!0;for(var t=0;t<this.objects.length;t++)this.objects[t].position.x>1350&&(this.objects[t].world&&this.objects[t].destroy(),this.objects.splice(t,1),t--)}},c.prototype.reset=function(e){this.objects=[],this.addElements(e),this.timeManager=this.world.game.game.timeManager},c.prototype.resize=function(e,t){this.h=t;for(var i=0;i<this.objects.length;i++){var o=this.objects[i];"trench"===o.type?o.position.y=this.h-130:"turret"===o.type?o.positionVec.y=this.h-130:o.position.y=this.h-130}},i.exports=c}),define("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollingBackground",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/system/Ticker");ScrollingBackground=function(){var e=new o.Container;n.call(this,0,0,e),this.frontView=new o.Container,this.frontView.pivot.set(568,320),this.frontView.position.set(568,320),this.elements=[],this.speed=6,window.WEBGL||(this.frontView.visible=!1),this.currentX=0},ScrollingBackground.prototype=Object.create(n.prototype),ScrollingBackground.prototype.stop=function(e){this.destroy()},ScrollingBackground.prototype.addTilingElement=function(e,t,i,o,n){var r=new s(e,t,i,o,n);return this.add(r),r},ScrollingBackground.prototype.add=function(e){this.elements.push(e)},ScrollingBackground.prototype.update=function(e){this.currentX+=this.speed*r.game.deltaTime*this.world.game.game.timeManager.tickBackground;for(var t=0;t<this.elements.length;t++)this.elements[t].setPosition({x:this.currentX,y:0})},ScrollingBackground.prototype.reset=function(){this.addTilingElement(new o.Texture.fromImage(ASSET_URL+"img/game/temp/env3_background_down.png"),100,this.view,1,1)},ScrollingBackground.prototype.resize=function(e,t){};var s=function(e,t,i,n,r){n=n||1,this.y=t,this.z=r,this.cap=!0,this.sprites=[],this.spriteWidth=e.width*n-1,this.fixY=!1,this.offsetX=500;var s=Math.ceil(1024/this.spriteWidth);if(3>s&&(s=3),window.WEBGL)this.tilingSprite=new o.extras.TilingSprite(e,1136/n,e.height),i.addChild(this.tilingSprite),this.tilingSprite.anchor.y=1,this.tilingSprite.width=1400,this.tilingSprite.scale.set(n),this.tilingSprite.position.y=626+t,this.sprites=[this.tilingSprite];else for(var a=0;s>a;a++){var h=new o.Sprite(e);h.position.y=626+t,h.anchor.y=1,h.scale.set(n),i.addChild(h),this.sprites.push(h)}};s.prototype.setPosition=function(e){var t=e.x;t*=.8;var i=700,o=i/(i+this.z);t*=o,t+=1e4;var n=e.y;n*=.4,n*=o;var r=this.spriteWidth;if(window.WEBGL){if(this.tilingSprite.tilePosition.x=Math.floor(-t)-this.offsetX,!this.fixY&&(this.tilingSprite.pivot.y+=.3*(n-this.tilingSprite.pivot.y),this.cap)){var s=this.tilingSprite.height*this.tilingSprite.scale.x;this.tilingSprite.pivot.y<640-s+this.y&&(this.tilingSprite.pivot.y=640-s+this.y)}}else for(var a=0;a<this.sprites.length;a++){var h=-t;h+=a*r,h%=r*this.sprites.length,h+=2*r;var c=this.sprites[a];c.visible=!0,c.position.x=Math.floor(h)-this.offsetX,this.fixY&&(this.fixY||(c.pivot.y+=.3*(n-c.pivot.y),this.cap&&c.pivot.y<640-c.height+this.y&&(c.pivot.y=640-c.height+this.y)))}},i.exports=ScrollingBackground}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundCeiling",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollingBackground","com/fighter/game/engine_shooter/enemies/TurretInside","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollingBackground"),r=(e("com/fighter/game/engine_shooter/enemies/TurretInside"),e("fido/system/Ticker"),function(){n.call(this),this.view.layer="back",this.speed=6});r.prototype=Object.create(n.prototype),r.prototype.reset=function(){this.addTilingElement(new o.Texture.fromFrame("env3_celling.png"),0,this.view,1,1)},r.prototype.update=function(){n.prototype.update.call(this)},r.prototype.resize=function(e,t){o.isWebGL?this.view.position.y=t-450-354:(this.view.position.y=t-450-580,this.view.scale.y=1.2),this.view.position.x=-10},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundEnv3Bottom",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollingBackground"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollingBackground"),r=function(){n.call(this),this.view.layer="back"};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){this.addTilingElement(new o.Texture.fromFrame("env3_background_down.png"),0,this.view,1,1)},r.prototype.resize=function(e,t){this.view.position.y=t-450,this.view.position.x=-10},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundPipes",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace","fido/system/Ticker","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"),r=e("fido/system/Ticker"),s=e("fido/utils/Utils"),a=function(){n.call(this),this.view.layer="pipes",this.refLayers=[{sprites:["env3_background_plateform.png"],speed:4.8,reversed:!1,width:2500,y:0,nbSprite:2},{sprites:["env3_pipe_lign1.png"],speed:5.1,reversed:!1,width:1134,y:-20,nbSprite:3},{sprites:["env3_pipe_lign2.png"],speed:5.6,reversed:!1,width:1134,y:-20,nbSprite:3},{sprites:["env3_pipe_lign3.png"],speed:6.1,reversed:!1,width:1134,y:-130,nbSprite:3}];var e=s.getTexturesFromFramesWithPrefix("smoke_last_world_000%%.png",15,1);this.smokePipes=new o.Sprite,this.smokePipes.anchor.x=.5,this.smokePipes.anchor.y=1,this.smokePipes.textures=e,this.smokePipes.counter=0,this.smokePipes.speed=.3,this.smokePipes.delayed=20,this.refPositionSmoke=this.refLayers[Math.floor(Math.random()*this.refLayers.length)].y,this.smokePipes.position.y=this.refPositionSmoke.y,this.smokePipes.position.x=1100*Math.random()};a.prototype=Object.create(n.prototype),a.prototype.reset=function(e){n.prototype.reset.call(this,e),this.view.addChild(this.smokePipes)},a.prototype.update=function(){n.prototype.update.call(this),this.smokePipes.delayed&&this.smokePipes.delayed>0?this.smokePipes.delayed--:(this.smokePipes.visible=!0,this.smokePipes.counter+=this.smokePipes.speed*r.game.deltaTime,this.smokePipes.texture=this.smokePipes.textures[Math.floor(this.smokePipes.counter%this.smokePipes.textures.length)],Math.floor(this.smokePipes.counter%this.smokePipes.textures.length)>=this.smokePipes.textures.length-1&&(this.smokePipes.delayed=20,this.refPositionSmoke=this.refLayers[Math.floor(Math.random()*this.refLayers.length)],this.smokePipes.position.y=this.refPositionSmoke.y,this.smokePipes.position.x=Math.random()*this.world.game.w,this.smokePipes.z=Math.floor(100*Math.random())/100,this.smokePipes.visible=!1)),this.smokePipes.position.x-=this.refPositionSmoke.speed*r.game.deltaTime*this.timeManager.tickBackground},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStars",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("com/fighter/game/engine/Item")),r=(e("fido/bob/crash/Vector"),e("fido/utils/Math2"),function(){var e=new o.Container;n.call(this,0,0,e),this.stopped=!1,this.view.layer="water",this.stars=new o.Sprite.fromFrame("env1_stars_sky.png"),this.view.addChild(this.stars)});r.prototype=Object.create(n.prototype),r.prototype.stop=function(e){this.destroy(),this.view.removeChildren(),this.stars.alpha=0},r.prototype.reset=function(){this.view.addChild(this.stars),this.stars.alpha=0,EasingsGame.to(this.stars,16,{alpha:1})},r.prototype.resize=function(e,t){},i.exports=r}),define("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=e("fido/system/Ticker"),a=e("fido/utils/Math2"),h=new r,c=function(e){e=e||o.Container,n.call(this,0,0,e),this.contactZone=new o.Rectangle(0,0,40,40),this.damage=1,this.readyForDestroy=!1,this.mass=0,this.positionVec=new r(this.position.x,this.position.y),this.velocity=new r(0,0),this.acceleration=new r(0,0),this.groups=["powerup_weapons"]};c.prototype=Object.create(n.prototype),c.prototype.addedToWorld=function(){this.timeManager=this.world.game.game.timeManager},c.prototype.applyForce=function(e){this.acceleration.plus(e)},c.prototype.applySpecificForce=function(e){var t=h;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);this.acceleration.plus(i)},c.prototype.update=function(){this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.velocity.plus(this.acceleration),this.positionVec.x+=this.velocity.x*s.game.deltaTime,this.positionVec.y+=this.velocity.y*s.game.deltaTime,this.acceleration.multiply(0);var e=Math.atan2(this.velocity.y,this.velocity.x);this.isReady&&(this.view.rotation+=.2*a.smallestAngle(this.view.rotation,e))},c.prototype.reset=function(){this.readyForDestroy=!1,this.mass=0,this.positionVec=new r(this.position.x,this.position.y),this.velocity=new r(0,0),this.acceleration=new r(0,0)},i.exports=c}),define("com/fighter/game/engine_shooter/powerUpWeapon/Smoke",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=(e("fido/system/Ticker"),new r,function(e){var e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/smoke3.png");e.anchor.x=e.anchor.y=.5,n.call(this,0,0,e),this.tick=0,this.speed=new o.Point});s.prototype=Object.create(n.prototype),s.prototype.addedToWorld=function(){this.appearing=!0,this.view.scale.x=this.view.scale.y=.1,this.view.alpha=.05,this.view.speedR=.05*Math.random()-.025},s.prototype.update=function(){this.appearing?(this.view.alpha*=1.12,this.view.alpha>.6&&(this.view.alpha=.6,this.appearing=!1)):this.view.alpha*=.89,this.view.scale.x=this.view.scale.y*=1.04,this.view.rotation+=this.view.speedR,this.view.alpha<.08&&this.destroy()},s.prototype.reset=function(){},i.exports=s}),define("com/fighter/game/engine_shooter/powerUpWeapon/SmokeTrail",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/system/Ticker","com/fighter/game/engine_shooter/powerUpWeapon/Smoke"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/GameObjectPool"),r=e("com/fighter/game/engine/Item"),s=e("fido/bob/crash/Vector"),a=(e("fido/system/Ticker"),e("com/fighter/game/engine_shooter/powerUpWeapon/Smoke")),h=(new s,function(e){r.call(this,0,0),this.tick=0,this.groups=["smoke_trails"],this.target=new o.Point,this.smokes=[],this.isReady=!0});h.prototype=Object.create(r.prototype),h.prototype.addSmoke=function(){var e=n.getObject(a);e.position.x=this.target.position.x,e.position.y=this.target.position.y;var t=Math.cos(this.target.view.rotation),i=Math.sin(this.target.view.rotation);e.speed.x=-t*(2*Math.random()),e.speed.y=-i*(1*Math.random()),this.world.add(e),this.smokes.push(e)},h.prototype.animateSmoke=function(){for(var e=0;e<this.smokes.length;e++){var t=this.smokes[e];t.position.x+=t.speed.x,t.position.y+=t.speed.y,t.speed.x*=.99,t.speed.y*=.99,t.world||(this.smokes.splice(e,1),e--)}},h.prototype.update=function(){this.isReady&&(this.tick++,this.tick%(Device.instance.desktop?1:10)===0&&this.addSmoke(),this.animateSmoke(),this.target.world||this.destroy())},h.prototype.reset=function(e){this.isReady=!0,this.target=e||new o.Point},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/items/missiles/SurfaceMissile",["require","exports","module","PIXI","com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon","fido/bob/crash/Vector","fido/utils/Math2","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic","fido/system/Ticker","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/powerUpWeapon/SmokeTrail"],function(e,t,i){function o(e,t,i,o){return e/=o,i*e*e*e+t}var n=e("PIXI"),r=e("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon"),s=e("fido/bob/crash/Vector"),a=e("fido/utils/Math2"),h=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"),c=e("fido/system/Ticker"),l=e("com/fighter/game/engine/GameObjectPool"),p=e("com/fighter/game/engine_shooter/powerUpWeapon/SmokeTrail"),u=new s,d=function(e){var e=new n.Sprite.fromFrame("missile_baddies.png");e.anchor.x=e.anchor.y=.5,r.call(this,e),this.rocket=!0,this.damage=4,this.contactZone=new n.Rectangle(0,0,60,40),this.groups=["surface_missile"],this.fixedTarget=new n.Point};d.prototype=Object.create(r.prototype),d.prototype.addedToWorld=function(){r.prototype.addedToWorld.call(this),this.trail=l.getObject(p),this.trail.reset(this),this.world.add(this.trail)},d.prototype.removedFromWorld=function(){this.trail&&this.trail.world&&this.trail.destroy()},d.prototype.follow=function(){var e=this.enemy,t=u;t.x=e.positionVec.x,t.y=e.positionVec.y;var i=t.minus(this.positionVec);i.normalize(),i.multiply(.5),this.acceleration=i,this.velocity.plus(this.acceleration),this.velocity.x>2&&(this.velocity.x=2),this.velocity.y>2&&(this.velocity.y=2),this.positionVec.plus(this.velocity),this.view.rotation=Math.atan2(this.velocity.y,this.velocity.x)},d.prototype.reset=function(){r.prototype.reset.call(this),this.isLocked=!1,this.hasBeenReprogrammed=!1},d.prototype.destroyWithExplosion=function(){this.world.game.explosionManager.addExplosion(this,h),this.destroy()},d.prototype.update=function(){this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.velocity.plus(this.acceleration),this.positionVec.x+=this.velocity.x*c.game.deltaTime*this.timeManager.tickSpeedEnemies,this.positionVec.y+=this.velocity.y*c.game.deltaTime*this.timeManager.tickSpeedEnemies,this.acceleration.multiply(0),this.view.rotation=Math.atan2(this.velocity.y,this.velocity.x)},d.prototype.seekAndKill=function(){var e=this.enemy,t=u;this.isLocked?(t.x=this.fixedTarget.x,t.y=this.fixedTarget.y):(t.x=e.positionVec.x,t.y=e.positionVec.y);var i=t.minus(this.positionVec),n=i.length();if(300>n&&!this.isLocked)this.isLocked=!0,this.fixedTarget.x=e.positionVec.x,this.fixedTarget.y=e.positionVec.y;else if(600>n){var r;r=Device.instance.desktop?o(n,300,300,600):n;var s=a.map(r,300,600,18,4);i.setLength(s)}else i.setLength(3);if(this.isLocked)var h=this.velocity;else{var h=i.minus(this.velocity);this.applyForce(h)}this.view.rotation=Math.atan2(this.velocity.y,this.velocity.x)},i.exports=d}),define("com/fighter/game/engine_shooter/backgrounds/items/shared/BackgroundSurfaceMissile",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/backgrounds/items/missiles/SurfaceMissile","fido/system/DelayedCalls","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine/Item"),r=e("com/fighter/game/engine_shooter/backgrounds/items/missiles/SurfaceMissile"),s=e("fido/system/DelayedCalls"),a=function(){n.call(this,0,0,null),this.soundsMuted=!1,this.w=0,this.h=0,this.tick=0,this.numberRocketsShot=0,this.delayedCalls=new s};a.prototype=Object.create(n.prototype),a.prototype.muteSounds=function(){this.soundsMuted=!0,e("fido/sound/SoundBridge").sfx.stop("alarm_01")},a.prototype.playSounds=function(){this.soundsMuted=!1,this.soundIsPlaying&&e("fido/sound/SoundBridge").sfx.play("alarm_01")},a.prototype.resetTimer=function(){this.soundIsPlaying=!1,this.tick=0,this.numberRocketsShot=0,this.doubleRocketsFire=!1;for(var e=this.world.groups.surface_missile.children,t=0;t<e.length;t++){var i=e[t];i.destroy()}},a.prototype.reset=function(){this.soundsMuted=!1,this.delay=1240,this.world.game.game.endless?window.expert&&(this.delay=220):"first"===this.world.game.game.missionId?(this.delay=960,window.expert&&(this.delay=120)):"second"===this.world.game.game.missionId&&window.expert&&(this.delay=120)},a.prototype.fire=function(){if(this.world){var e=o.getObject(r),t=this.world.game.player,i=this.world.groups.xwings.children.slice();i.push(t);var n=Math.floor(Math.random()*i.length),s=i[n];e.position.x=1400,e.position.y=this.h-80,e.enemy=s,this.world.game.targetsManager.addTarget(e,s),this.world.add(e),e.reset()}},a.prototype.stop=function(){var t=this.world.groups.surface_missile.children;e("fido/sound/SoundBridge").sfx.stop("alarm_01");for(var i=0;i<t.length;i++){var o=t[i];o.destroy()}this.destroy()},a.prototype.update=function(){this.tick++,this.tick>this.delay&&(this.fire(),this.numberRocketsShot++,this.numberRocketsShot>10&&this.delayedCalls.add(this.fire.bind(this),1),this.world.game.game.hud.addBb8WarningMissile({x:this.world.game.w,y:550},1),this.tick=0);var t=this.world.groups.surface_missile.children;t.length>0&&!this.soundIsPlaying?(this.soundIsPlaying=!0,this.soundsMuted||e("fido/sound/SoundBridge").sfx.play("alarm_01")):0===t.length&&this.soundIsPlaying&&(this.soundIsPlaying=!1,e("fido/sound/SoundBridge").sfx.stop("alarm_01"));for(var i=0;i<t.length;i++){var o=t[i];o.seekAndKill(),o.enemy.world||o.hasBeenReprogrammed||(o.enemy={positionVec:{x:o.positionVec.x+2e3*o.velocity.x,y:o.positionVec.y+2e3*o.velocity.y}},this.world.game.targetsManager.hide(o),o.hasBeenReprogrammed=!0),(o.readyForDestroy||o.positionVec.x>this.width+300||o.positionVec.x<-20)&&o.destroyWithExplosion();
}},a.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/BackgroundManager",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass","com/fighter/game/engine_shooter/backgrounds/items/world1/WaterStatic","com/fighter/game/engine_shooter/backgrounds/items/world1/Water","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundForest","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastle","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsCastle","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastleIslandsBack","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundIslandCastleFront","com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsUnderCastle","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnow","com/fighter/game/engine_shooter/backgrounds/items/world2/SnowMontainsNotThatFarAway","com/fighter/game/engine_shooter/backgrounds/items/world2/ForestSnow","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowClose","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowFarAway","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStructures","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundFloor","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsUnderStructure","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundTrenches","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundCeiling","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundEnv3Bottom","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundPipes","com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStars","com/fighter/game/engine_shooter/backgrounds/items/shared/BackgroundSurfaceMissile","com/fighter/game/engine/GameObjectPool"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass")),n=e("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterStatic"),r=e("com/fighter/game/engine_shooter/backgrounds/items/world1/Water"),s=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontains"),a=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundForest"),h=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastle"),c=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsCastle"),l=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundCastleIslandsBack"),p=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundIslandCastleFront"),u=e("com/fighter/game/engine_shooter/backgrounds/items/world1/BackgroundMontainsUnderCastle"),d=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnow"),g=e("com/fighter/game/engine_shooter/backgrounds/items/world2/SnowMontainsNotThatFarAway"),f=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForestSnow"),m=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowClose"),v=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsSnowFarAway"),y=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStructures"),_=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundFloor"),x=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundMontainsUnderStructure"),w=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundTrenches"),b=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundCeiling"),k=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundEnv3Bottom"),S=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundPipes"),T=e("com/fighter/game/engine_shooter/backgrounds/items/world2/BackgroundStars"),C=e("com/fighter/game/engine_shooter/backgrounds/items/shared/BackgroundSurfaceMissile"),M=(e("com/fighter/game/engine/GameObjectPool"),function(e){o.call(this,e),this.mainSpeed=-1,this.ref={Montains:s,LakeStatic:n,Lake:r,Forest:a,Castle:h,MontainsCastle:c,CastleIslandsBack:l,CastleIslandsFront:p,MontainsUnderCastle:u,SurfaceMissile:C,MontainsSnow:d,SnowMontainsNotThatFarAway:g,ForestSnow:f,MontainsSnowClose:m,MontainsSnowFarAway:v,Structures:y,Floor:_,MontainsUnderStructure:x,Trenches:w,Ceiling:b,BackgroundEnv3Bottom:k,Pipes:S,Stars:T},this.onScreen={Montains:!1,LakeStatic:!1,Lake:!1,Forest:!1,Castle:!1,MontainsUnderCastle:!1,CastleIslandsBack:!1,CastleIslandsFront:!1,SurfaceMissile:!1,MontainsSnow:!1,SnowMontainsNotThatFarAway:!1,ForestSnow:!1,MontainsSnowClose:!1,MontainsSnowFarAway:!1,MontainsCastle:!1,Structures:!1,Floor:!1,MontainsUnderStructure:!1,Trenches:!1,Ceiling:!1,BackgroundEnv3Bottom:!1,Pipes:!1,Stars:!1}});M.prototype=Object.create(o.prototype),M.prototype.reverseSpeed=function(e){e=e||1,this.mainSpeed=e;for(var t=0;t<this.elements.length;t++)this.elements[t].reverseSpeed&&this.elements[t].reverseSpeed(this.mainSpeed)},M.prototype.speedDefault=function(e){this.mainSpeed=-Math.abs(this.mainSpeed);for(var t=0;t<this.elements.length;t++)this.elements[t].reverseSpeed&&this.elements[t].reverseSpeed(this.mainSpeed)},M.prototype.update=function(){},M.prototype.reset=function(){this.reverseSpeed(-1);for(var e=0;e<this.elements.length;e++)this.elements[e].resetTimer&&this.elements[e].resetTimer()},M.prototype.resize=function(e,t){o.prototype.resize.call(this,e,t)},i.exports=M}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundClouds",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/utils/Math2"),s=e("fido/system/Ticker"),a=function(){n.call(this,0,0,new o.Container),this.delay=100*Math.random(),this.w=this.h=0,this.cloudsAssets=["env1_foreground_cloud2.png"],this.items=[],this.pool=[],this.ymin=-180,this.xscalemin=.4,this.xscalemax=2.4};a.prototype=Object.create(n.prototype),a.prototype.stop=function(){this.destroy()},a.prototype.reset=function(e){this.timeManager=this.world.game.game.timeManager},a.prototype.add=function(){var e=this.pool.pop();e||(e=new o.Sprite.fromFrame(this.cloudsAssets[Math.floor(Math.random()*this.cloudsAssets.length)]),e.anchor.y=1);var t=1-Math.random();e.alpha=.8-.3*Math.random(),e.position.y=this.h+t*this.ymin;var i=r.map(t,1,0,this.xscalemin,this.xscalemax);e.scale.x=e.scale.y=i,e.scale.x*=2*Math.random()>1?-1:1,e.position.x=1200+200*Math.random()+(e.scale.x<0?Math.abs(e.width):0),e.speed=-this.getSpeed(t),this.items.push(e),this.view.addChild(e)},a.prototype.getSpeed=function(e){return r.map(e,1,0,40,80)},a.prototype.update=function(){this.delay-=1*s.game.deltaTime,this.delay<=0&&(this.add(),this.delay=60*Math.random()+30);for(var e=this.items.length-1;e>-1;e--){var t=this.items[e];t.position.x+=t.speed*s.game.deltaTime*this.timeManager.tickBackground,t.position.x+Math.abs(t.width)<=-200&&(this.pool.push(t),this.view.removeChild(t),this.items.splice(e,1))}},a.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundCloudsForrest",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundClouds"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundClouds")),n=function(){o.call(this),this.cloudsAssets=["cloud_between_strate.png"],this.ymin=-100,this.xscalemin=.2,this.xscalemax=.9};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloud",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/utils/Math2"),s=e("fido/system/Ticker"),a=e("fido/utils/Utils"),h=function(){n.call(this,0,0,new o.Container),this.view.layer="waterTrail",this.tick=0,this.target=null;var e=a.getTexturesFromFramesWithPrefix("water_mouvment_000%%.png",20,0);this.trailBack=new o.Sprite,this.trailBack.alpha=.6,this.trailBack.anchor.x=this.trailBack.anchor.y=1,this.trailBack.trailTextures=e,this.trailBack.counter=Math.floor(20*Math.random()),this.trailBack.mapScales={x:{min:1.2,max:4},y:{min:0,max:4}},this.trailBack.speed=.4,this.view.addChild(this.trailBack),this.trailFront=new o.Sprite,this.trailFront.anchor.x=this.trailFront.anchor.y=1,this.trailFront.trailTextures=e,this.trailFront.counter=Math.floor(20*Math.random()),this.trailFront.mapScales={x:{min:1,max:2.5},y:{min:0,max:2.5}},this.trailFront.speed=.4,this.view.addChild(this.trailFront)};h.prototype=Object.create(n.prototype),h.prototype.stop=function(){},h.prototype.reset=function(e){this.target=e},h.prototype.update=function(){if(this.target){var e=390,t=this.world.game.h,i=(this.target.position.y-e)/(t-e);0>i&&(i=0),i>1&&(i=1),0>i||(this.trailFront.counter+=this.trailFront.speed*s.game.deltaTime,this.trailFront.texture=this.trailFront.trailTextures[Math.floor(this.trailFront.counter%this.trailFront.trailTextures.length)],this.trailBack.counter+=this.trailBack.speed*s.game.deltaTime,this.trailBack.texture=this.trailBack.trailTextures[Math.floor(this.trailBack.counter%this.trailBack.trailTextures.length)],this.trailFront.scale.x=r.map(i,0,1,this.trailFront.mapScales.x.min,this.trailFront.mapScales.x.max),this.trailBack.scale.x=r.map(i,0,1,this.trailBack.mapScales.x.min,this.trailBack.mapScales.x.max),this.trailFront.scale.y=r.map(i,0,1,this.trailFront.mapScales.y.min,this.trailFront.mapScales.y.max),this.trailBack.scale.y=r.map(i,0,1,this.trailBack.mapScales.y.min,this.trailBack.mapScales.y.max),this.view.alpha=r.map(i,0,.6,0,1),this.view.alpha>1&&(this.view.alpha=1),this.tick+=.5,this.view.position.x=this.target.position.x-this.target.view.view.width/2-10-(12*Math.cos(this.tick/20)+7),this.view.position.y=this.target.position.y+this.target.view.view.height/2-15*(1-i)-4*Math.sin(this.tick/15))}},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloudsManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloud"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/GameObjectPool"),r=e("com/fighter/game/engine/Item"),s=e("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloud"),a=function(){r.call(this,0,0,new o.Sprite),this.w=this.h=0,this.view.anchor.x=1,this.view.anchor.y=0,this.targets=[]};a.prototype=Object.create(r.prototype),a.prototype.stop=function(){for(var e=0;e<this.targets.length;e++){var t=this.targets[e];t.cloud.destroy()}this.targets=[],this.destroy()},a.prototype.addedToWorld=function(){this.world.game.xwingManager.onXwingAddedToWorld.add(this.addTarget,this),this.world.game.xwingManager.onXwingRemovedFromWorld.add(this.removeTarget,this)},a.prototype.removedFromWorld=function(){this.world.game.xwingManager.onXwingAddedToWorld.remove(this.addTarget,this),this.world.game.xwingManager.onXwingRemovedFromWorld.remove(this.removeTarget,this)},a.prototype.removeTarget=function(e){for(var t=0;t<this.targets.length;t++){var i=this.targets[t];if(i.target===e){i.cloud.destroy(),this.targets.slice(t,1);break}}},a.prototype.addTarget=function(e){if(this.world){var t=n.getObject(s);this.world.add(t),t.reset(e),this.targets.push({target:e,cloud:t})}},a.prototype.reset=function(){this.addTarget(this.world.game.player)},a.prototype.update=function(){},a.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/MidgroundManager",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass","com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundClouds","com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundCloudsForrest","com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloudsManager"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass")),n=e("com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundClouds"),r=e("com/fighter/game/engine_shooter/backgrounds/items/world1/MidgroundCloudsForrest"),s=e("com/fighter/game/engine_shooter/backgrounds/items/world1/WaterCloudsManager"),a=function(e){o.call(this,e),this.ref={Clouds:n,CloudsForrest:r,WaterClouds:s},this.onScreen={Clouds:!1,CloudsForrest:!1,WaterClouds:!1}};a.prototype=Object.create(o.prototype),i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator",["require","exports","module","PIXI","fido/system/Ticker","com/fighter/game/engine/Item"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("com/fighter/game/engine/Item"),s=function(){r.call(this,0,0,new o.Container),this.view.layer="front",this.indexImage=0,this.delay=20*Math.random(),Device.instance.desktop||(this.delay+=60),this.w=this.h=0,this.elementsAssets=["foreground_tree1.png","foreground_tree2.png","foreground_tree3.png"],this.items=[],this.pool=[],this.isStopped=!1,this.minDelay=20,this.maxDelay=220};s.prototype=Object.create(r.prototype),s.prototype.stop=function(e){e?(this.items=[],this.view.removeChildren(),this.destroy()):this.isStopped=!0},s.prototype.reset=function(e){this.isStopped=!1,this.timeManager=this.world.game.game.timeManager},s.prototype.add=function(){var e=this.pool.pop();e||(this.indexImage++,e=new o.Sprite.fromFrame(this.elementsAssets[this.indexImage%this.elementsAssets.length]),e.anchor.y=1),e.scale.x*=2*Math.random()>1?-1:1,e.position.x=1200+200*Math.random()+(e.scale.x<0?Math.abs(e.width):0),e.speed=this.getSpeed(),this.resetElement(e),this.items.push(e),this.view.addChild(e)},s.prototype.resetElement=function(e){},s.prototype.getSpeed=function(){return-(20*Math.random()+20)},s.prototype.update=function(){for(var e=this.items.length-1;e>-1;e--){var t=this.items[e];t.position.x+=t.speed*n.game.deltaTime*this.timeManager.tickBackground,t.position.x+Math.abs(t.width)<=-200&&(this.pool.push(t),this.view.removeChild(t),this.items.splice(e,1))}return this.isStopped&&0===this.items.length?void this.destroy():(this.delay-=1*n.game.deltaTime,void(this.delay<=0&&(this.add(),this.delay=Math.random()*(this.maxDelay-this.minDelay)+this.minDelay)))},s.prototype.resize=function(e,t){this.w=e,this.h=t,this.view.position.y=this.h},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundClouds",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["foreground_cloud.png"]};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(60*Math.random()+80)},n.prototype.resetElement=function(e){},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundTrees",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["foreground_tree1.png","foreground_tree2.png","foreground_tree3.png"]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontains",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="montainsFront",this.refLayers=[{sprites:["foreground_strate1.png"],reversed:!1,speed:10,width:1140,y:0,nbSprite:2,offset:1100}]};n.prototype=Object.create(o.prototype),n.prototype.resetElement=function(e){e.position.y=60*Math.random()+30,e.anchor.y=1,e.scale.x=e.scale.y=.9},n.prototype.resize=function(e,t){o.prototype.resize.call(this,e,t),this.view.position.y=t},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontainsCastle",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="front",this.refLayers=[{sprites:["foreground_strate1.png"],reversed:!1,speed:20,width:1140,y:0,nbSprite:2,offset:1100}]};n.prototype=Object.create(o.prototype),n.prototype.resetElement=function(e){e.position.y=20*Math.random()+20,e.anchor.y=1,e.scale.x=e.scale.y=1},n.prototype.resize=function(e,t){o.prototype.resize.call(this,e,t),this.view.position.y=t},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundPlantsCastle",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["w1_env3_foreground_grass.png","w1_env3_foreground_grass2.png","w1_env3_foreground_rock.png","w1_env3_foreground_architecture.png","w1_env3_foreground_architecture2.png"]};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(40*Math.random()+40)},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundCloudsCastle",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["w1_env3_foreground_cloud_black.png"]};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(60*Math.random()+80)},n.prototype.resetElement=function(e){},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundMontainsSnow",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundFixelySpace")),n=function(){o.call(this),this.view.layer="front",this.refLayers=[{sprites:["env1_strate1.png"],speed:10,reversed:!1,width:1140,y:0,nbSprite:3}]};n.prototype=Object.create(o.prototype),n.prototype.resetElement=function(e){e.position.y=60*Math.random()+30},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsSnow",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["env1_foreground_cloud.png","env1_foreground_cloud2.png"]};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(60*Math.random()+80)},n.prototype.resetElement=function(e){},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundPlants",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["env1_foreground_grass.png","env1_foreground_grass2.png","env1_foreground_tree.png"]};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundStructures",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["env2_foreground_rock.png","env2_strate1.png","env1_foreground_tree.png"]};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(10*Math.random()+10)},n.prototype.resetElement=function(e){e.position.y=30*Math.random()+30},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideBottom",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="frontInside",this.elementsAssets=["env3_foreground_structure1.png","env3_foreground_structure2.png"]};n.prototype=Object.create(o.prototype),n.prototype.resetElement=function(e){e.scale.x=1},n.prototype.getSpeed=function(){return-(60*Math.random()+30)},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideTop",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="frontInside",this.elementsAssets=["env3_foreground_structure_haut2.png"]};n.prototype=Object.create(o.prototype),n.prototype.resetElement=function(e){e.position.y=-this.world.game.bounds.height+e.height,e.scale.x=1},n.prototype.getSpeed=function(){return-(60*Math.random()+30)},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsInside",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/items/shared/ScrollableBackgroundGenerator")),n=function(){o.call(this),this.view.layer="front",this.elementsAssets=["env3_foreground_cloud.png"],this.minDelay=20,this.maxDelay=120};n.prototype=Object.create(o.prototype),n.prototype.getSpeed=function(){return-(60*Math.random()+10)},n.prototype.resetElement=function(e){e.scale.x=Math.random()+1,e.scale.y=Math.random()+1},i.exports=n}),define("com/fighter/game/engine_shooter/backgrounds/items/Steam",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/Utils","com/fighter/game/engine/Item"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("fido/utils/Utils"),s=e("com/fighter/game/engine/Item"),a=function(e){s.call(this,0,0,new o.Container),this.view.layer="steam";var t=r.getTexturesFromFramesWithPrefix("smoke_last_world_000%%.png",15,1);this.steam=new o.Sprite,this.steam.anchor.x=.5,this.steam.anchor.y=1,this.steam.textures=t,this.counter=0,this.speed=.3,this.view.addChild(this.steam),this.groups=["steams"]};a.prototype=Object.create(s.prototype),a.prototype.reset=function(){this.counter=0},a.prototype.update=function(){this.counter+=this.speed*n.game.deltaTime,this.steam.texture=this.steam.textures[Math.floor(this.counter%this.steam.textures.length)],Math.floor(this.counter%this.steam.textures.length)>=this.steam.textures.length-1&&this.destroy()},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundSteam",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine/Item","com/fighter/game/engine_shooter/backgrounds/items/Steam","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine/Item"),r=e("com/fighter/game/engine_shooter/backgrounds/items/Steam"),s=e("fido/utils/Math2"),a=e("fido/system/Ticker"),h=function(){n.call(this,0,0,null),this.delay=240*Math.random()+240,this.w=0,this.h=0,this.tick=0,this.delay=120};h.prototype=Object.create(n.prototype),h.prototype.steam=function(){var e=o.getObject(r);this.resetElement(e),this.world.add(e),e.reset()},h.prototype.resetElement=function(e){var t=10*Math.random(),i=s.map(t,0,10,20,200),o=s.map(t,0,10,4,2),n=s.map(t,0,10,12,0);e.position.x=1100*Math.random()+50,e.position.y=this.h+i,e.steam.scale.x=e.steam.scale.y=o,e.speedX=n},h.prototype.stop=function(){this.destroy()},h.prototype.update=function(){this.delay--,this.delay<0&&(this.steam(),this.delay=60*Math.random()+20);for(var e=this.world.groups.steams.children,t=0;t<e.length;t++){var i=e[t];i.position.x-=(7+i.speedX)*a.game.deltaTime*this.world.game.game.timeManager.tickBackground}},h.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/items/ForegroundXwing",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/utils/Utils"),s=e("fido/system/Ticker"),a=function(){var e=new o.Container;e.layer="front",n.call(this,0,0,e);var t=r.getTexturesFromFramesWithPrefix("foregound_arrive_x_wing_000%%.png",14,0),i=r.getTexturesFromFramesWithPrefix("foreground_stay_xwing_000%%.png",15,15),s=r.getTexturesFromFramesWithPrefix("foreground_leave_xwing_000%%.png",16,31);this.xwing=new o.Sprite,this.xwing.scale.x=this.xwing.scale.y=2.2,this.xwing.position.x=-20,this.xwing.position.y=640,this.xwing.anchor.x=0,this.xwing.anchor.y=1,this.xwing.textures=t,this.xwing.texturesStart=t,this.xwing.texturesLeave=s,this.xwing.texturesStay=i,this.xwing.counter=0,this.xwing.speed=.3,this.xwing.nbRepeat=0,this.xwing.nbPlayed=0,this.view.addChild(this.xwing),this.step=0,this.delay=0};a.prototype=Object.create(n.prototype),a.prototype.next=function(){this.xwing.counter=0,this.xwing.nbPlayed=0,0===this.step?this.stay():1===this.step?this.leave():this.finish(),this.step++},a.prototype.stop=function(){this.destroy()},a.prototype.reset=function(){this.delay=480+960*Math.random(),this.xwing.nbPlayed=0,this.start(),this.step=0},a.prototype.start=function(){this.xwing.textures=this.xwing.texturesStart,this.xwing.nbRepeat=0,this.xwing.speed=.4,this.xwing.position.x=-20,this.xwing.position.y=640},a.prototype.stay=function(){this.xwing.textures=this.xwing.texturesStay,this.xwing.nbRepeat=Math.floor(5*Math.random())+2,this.xwing.speed=.24},a.prototype.leave=function(){Math.random()>.4?(this.xwing.textures=this.xwing.texturesLeave,this.xwing.nbRepeat=0,this.xwing.speed=.32):EasingsGame.to(this.xwing.position,2,{x:-1e3,y:500,onComplete:this.next.bind(this)})},a.prototype.finish=function(){this.delay=480*Math.random()+1200,this.step=0,this.xwing.visible=!1,this.start()},a.prototype.update=function(){this.delay>0?this.delay--:(this.xwing.visible=!0,this.xwing.counter+=this.xwing.speed*s.game.deltaTime,this.xwing.texture=this.xwing.textures[Math.floor(this.xwing.counter%this.xwing.textures.length)],Math.floor(this.xwing.counter%this.xwing.textures.length)>=this.xwing.textures.length-1&&(this.xwing.nbPlayed<this.xwing.nbRepeat?this.xwing.nbPlayed++:this.next()))},a.prototype.resize=function(e,t){this.w=e||this.w,this.w=t||this.h},i.exports=a}),define("com/fighter/game/engine_shooter/backgrounds/items/ForegroundTieFighter",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=function(e){this.containerFighter=new o.Container,this.containerFighter.rotation=20*Math.PI/180,this.backFighter=new o.Sprite.fromImage(ASSET_URL+"img/game/tie_fighter_bg_dark.png"),this.backFighter.anchor.set(.5),this.backFighter.scale.set(1.5),this.frontFighter=new o.Sprite.fromImage(ASSET_URL+"img/game/tie_fighter_bg.png"),this.frontFighter.anchor.set(.5),this.frontFighter.scale.set(1.5),this.containerFighter.addChild(this.backFighter),this.containerFighter.addChild(this.frontFighter),this.containerFighter.position.y=100,n.call(this,null,null,this.containerFighter),this.view.layer="frontBattle",this.canFly=!1,this.x1=0,this.x2=1130,this.y1=100,this.y2=350,this.offset=160,this.offsetY=80,this.shipAnimating=!1,this.soundPlaying=!1,this.count=900+300*Math.random()};r.prototype=Object.create(n.prototype),r.prototype.reset=function(){this.shipAnimating=!1,this.soundPlaying=!1,this.count=900+300*Math.random(),this.stopped=!1},r.prototype.addedToWorld=function(e){this.canFly=!0,this.containerFighter.position.x=-this.containerFighter.width},r.prototype.stop=function(e){this.stopped=!0,this.canFly=!1,e&&this.destroy(),this.shipAnimating||this.destroy()},r.prototype.removedFromWorld=function(e){this.canFly=!1},r.prototype.animateFighter=function(){if(!this.shipAnimating){this.containerFighter.visible=!0,this.containerFighter.position.x=1330+this.containerFighter.width/2,this.containerFighter.position.y=-100,this.containerFighter.rotation=-20*Math.PI/180,this.shipAnimating=!0;var e=1;EasingsGame.to(this.containerFighter.position,e,{x:-this.containerFighter.width}),EasingsGame.to(this.containerFighter,e/3,{rotation:0,ease:Easings.easeOutSine,onComplete:function(){EasingsGame.to(this.containerFighter,e/2,{rotation:10*Math.PI/180,ease:Easings.easeInSine})}.bind(this)}),EasingsGame.to(this.containerFighter.position,e/2,{y:320,ease:Easings.easeOutCubic,onComplete:function(){EasingsGame.to(this.containerFighter.position,e/2,{y:100,ease:Easings.easeInCubic,onComplete:function(){this.shipAnimating=!1,this.soundPlaying=!1,this.containerFighter.visible=!1,this.count=2e3+1200*Math.random(),this.stopped&&this.destroy()}.bind(this)})}.bind(this)})}},r.prototype.resize=function(){},r.prototype.update=function(){if(this.canFly){this.count-30<0&&!this.soundPlaying&&(this.soundPlaying=!0,e("fido/sound/SoundBridge").sfx.playGroup("tiefighter_flyby")),this.count<0&&!this.shipAnimating&&this.animateFighter(),this.count--;var t=(this.containerFighter.position.x-this.x1)/this.x2;0>=t&&(t=0),t>=1&&(t=1);var i=(this.containerFighter.position.y-this.y1)/this.y2;0>=i&&(i=0),i>=1&&(i=1),this.frontFighter.position.x=-this.offset/2+this.offset*t,this.frontFighter.position.y=-this.offsetY/2+this.offsetY*i}},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/ForegroundManager",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundClouds","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundTrees","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontains","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontainsCastle","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundPlantsCastle","com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundCloudsCastle","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundMontainsSnow","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsSnow","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundPlants","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundStructures","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideBottom","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideTop","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsInside","com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundSteam","com/fighter/game/engine_shooter/backgrounds/items/ForegroundXwing","com/fighter/game/engine_shooter/backgrounds/items/ForegroundTieFighter"],function(e,t,i){
var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/ManagerBaseClass")),n=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundClouds"),r=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundTrees"),s=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontains"),a=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundMontainsCastle"),h=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundPlantsCastle"),c=e("com/fighter/game/engine_shooter/backgrounds/items/world1/ForegroundCloudsCastle"),l=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundMontainsSnow"),p=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsSnow"),u=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundPlants"),d=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundStructures"),g=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideBottom"),f=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundInsideTop"),m=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundCloudsInside"),v=e("com/fighter/game/engine_shooter/backgrounds/items/world2/ForegroundSteam"),y=e("com/fighter/game/engine_shooter/backgrounds/items/ForegroundXwing"),_=e("com/fighter/game/engine_shooter/backgrounds/items/ForegroundTieFighter"),x=function(e){o.call(this,e),this.ref={Clouds:n,Trees:r,Montains:s,MontainsCastle:a,PlantsCastle:h,CloudsCastle:c,CloudsInside:m,MontainsSnow:l,CloudsSnow:p,Plants:u,Structures:d,ForegroundInsideBottom:g,ForegroundInsideTop:f,ForegroundSteam:v,ForegroundXwing:y,ForegroundTieFighter:_},this.onScreen={Clouds:!1,Trees:!1,Montains:!1,MontainsCastle:!1,PlantsCastle:!1,CloudsCastle:!1,MontainsSnow:!1,CloudsSnow:!1,Plants:!1,Structures:!1,ForegroundInsideBottom:!1,ForegroundInsideTop:!1,CloudsInside:!1,ForegroundSteam:!1,ForegroundXwing:!1,ForegroundTieFighter:!1}};x.prototype=Object.create(o.prototype),i.exports=x}),define("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionBaseClass",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=(e("fido/utils/Math2"),e("fido/system/Ticker")),s=function(){n.call(this,0,0,new o.Container),this.view.layer="transitions",this.delay=4,this.pool=[],this.items=[]};s.prototype=Object.create(n.prototype),s.prototype.reset=function(){},s.prototype.destroy=function(){for(var e=this.items.length-1;e>-1;e--){var t=this.items[e];this.pool.push(t),this.view.removeChild(t),this.items.splice(e,1)}n.prototype.destroy.call(this)},s.prototype.update=function(){for(var e=this.items.length-1;e>-1;e--){var t=this.items[e];t.position.x-=t.speed*r.game.deltaTime,t.position.x<1.1*-t.width&&(this.pool.push(t),this.view.removeChild(t),this.items.splice(e,1))}0===this.items.length&&this.destroy()},s.prototype.resize=function(e,t){},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionToIsland",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionBaseClass","fido/game/GameObjectPool","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionBaseClass"),r=(e("fido/game/GameObjectPool"),e("fido/system/Ticker"),function(){n.call(this),this.delay=4});r.prototype=Object.create(n.prototype),r.prototype.reset=function(){this.addIslands()},r.prototype.addIslands=function(){for(var e=4.5,t=[{sprite:"forest_layer3.png",x:800,y:-140,speed:e},{sprite:"forest_layer3.png",x:0,y:-150,speed:e},{sprite:"forest_layer2.png",x:750,y:-80,speed:e+.3},{sprite:"forest_layer2.png",x:100,y:-70,speed:e+.3},{sprite:"forest_layer1.png",x:640,y:0,speed:e+.5},{sprite:"forest_layer1.png",x:0,y:0,speed:e+.5}],i=0;i<t.length;i++){var n=new o.Sprite.fromFrame(t[i].sprite);n.position.x=1400+t[i].x,n.anchor.y=1,n.position.y=t[i].y,n.speed=t[i].speed,this.view.addChild(n),this.items.push(n)}},r.prototype.resize=function(e,t){this.view.position.y=t},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionForestToLake",["require","exports","module","PIXI","fido/game/GameObjectPool","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionBaseClass","fido/utils/Math2","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=(e("fido/game/GameObjectPool"),e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionBaseClass")),r=(e("fido/utils/Math2"),e("fido/system/Ticker"),function(){n.call(this),this.view.layer="default",this.delay=3});r.prototype=Object.create(n.prototype),r.prototype.reset=function(){this.addIslands()},r.prototype.addIslands=function(){for(var e=9.2,t=0;4>t;t++){var i=new o.Sprite.fromFrame("forest_layer1.png");i.depth=100*Math.random()/100,i.scale.x=Math.random()>.5?-1:1,i.position.x=3e3+t*(200*Math.random()+400)+(i.scale.x>0?0:i.width),i.anchor.y=1,i.position.y=0,i.speed=e,this.view.addChild(i),this.items.push(i)}},r.prototype.resize=function(e,t){this.view.position.y=t},i.exports=r}),define("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionFlatColor",["require","exports","module","PIXI","fido/game/GameObjectPool","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker","fido/system/DelayedCalls"],function(e,t,i){var o=e("PIXI"),n=(e("fido/game/GameObjectPool"),e("com/fighter/game/engine/Item")),r=(e("fido/utils/Math2"),e("fido/system/Ticker"),e("fido/system/DelayedCalls")),s=function(){var e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/flatcolor.png");e.anchor.x=e.anchor.y=.5,n.call(this,0,0,e),this.view.layer="transitionsFlat",this.view.tint=0,this.view.scale.x=this.view.scale.y=200,this.view.alpha=.01,this.delay=2,this.delayFadeOut=60,this.isStopped=!1,this.animate=!1,this.delayedCalls=new r};s.prototype=Object.create(n.prototype),s.prototype.reset=function(){this.isStopped=!1,this.animate=!0,this.delayFadeOut=60,this.world.game.player.invincible=!0,EasingsGame.to(this.view,1,{alpha:1,onComplete:function(){this.world.game.bulletsManager.reset()}.bind(this)}),this.world.game.game.endless||this.delayedCalls.add(function(){this.world.game.bannerText.run(translations.STR_DEFEND_CASTLE,null,3)}.bind(this),.8),EasingsGame.to(this.view,1,{delay:2,alpha:0,onComplete:function(){this.world&&(this.world.game.player.invincible=!1),this.destroy()}.bind(this)})},s.prototype.update=function(){},s.prototype.resize=function(e,t){this.view.position.x=e/2,this.view.position.y=t/2},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionInsideTrench",["require","exports","module","PIXI","fido/game/GameObjectPool","com/fighter/game/engine/Item","fido/utils/Math2","fido/system/Ticker","fido/system/DelayedCalls"],function(e,t,i){var o=e("PIXI"),n=(e("fido/game/GameObjectPool"),e("com/fighter/game/engine/Item")),r=(e("fido/utils/Math2"),e("fido/system/Ticker"),e("fido/system/DelayedCalls")),s=function(){var e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/flatcolor.png");e.anchor.x=e.anchor.y=.5,n.call(this,0,0,e),this.view.layer="transitionsFlat",this.view.tint=0,this.view.scale.x=this.view.scale.y=200,this.view.alpha=.01,this.delay=2,this.delayBeforeWave=6,this.delayFadeOut=60,this.isStopped=!1,this.animate=!1,this.delayedCalls=new r};s.prototype=Object.create(n.prototype),s.prototype.reset=function(){this.isStopped=!1,this.animate=!0,this.delayFadeOut=60;var e=this.world.game.player;this.world.view.setLayer(e,"tempLayerForPlayerTopTransition"),e.invincible=!0,e.playTransitionTrench(),EasingsGame.to(this.view,2,{alpha:1,onComplete:function(){this.world.game.bulletsManager.reset()}.bind(this)}),EasingsGame.to(this.view,2,{delay:3,alpha:0,onComplete:function(){this.world&&(this.world.view.setLayer(e,"ships"),this.destroy(),e.invincible=!1)}.bind(this)}),this.world.game.game.endless||this.delayedCalls.add(function(){this.world.game.bannerText.run(translations.STR_TAKEDOWN_STARKILLER_BASE,null,3)}.bind(this),.8)},s.prototype.update=function(){},s.prototype.resize=function(e,t){this.view.position.x=e/2,this.view.position.y=t/2},i.exports=s}),define("com/fighter/game/engine_shooter/backgrounds/TransitionManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionToIsland","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionForestToLake","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionFlatColor","com/fighter/game/engine_shooter/backgrounds/transitions/TransitionInsideTrench"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionToIsland"),r=e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionForestToLake"),s=e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionFlatColor"),a=e("com/fighter/game/engine_shooter/backgrounds/transitions/TransitionInsideTrench"),h=function(e){this.engine=e,this.ref={TransitionToIsland:n,TransitionForestToLake:r,TransitionFlatColor:s,TransitionInsideTrench:a},this.currentTransition=null};h.prototype.reset=function(){this.currentTransition&&this.currentTransition.destroy()},h.prototype.load=function(e){var t=o.getObject(this.ref[e]);this.engine.world.add(t),t.reset(),this.currentTransition=t},h.prototype.resize=function(e,t){this.currentTransition.resize(e,t)},i.exports=h}),define("com/fighter/game/engine_shooter/backgrounds/AssetsManager",["require","exports","module","PIXI","com/fighter/game/engine_shooter/backgrounds/BackgroundManager","com/fighter/game/engine_shooter/backgrounds/MidgroundManager","com/fighter/game/engine_shooter/backgrounds/ForegroundManager","com/fighter/game/engine_shooter/backgrounds/TransitionManager","fido/system/DelayedCalls","fido/loader/Cache"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/backgrounds/BackgroundManager")),n=e("com/fighter/game/engine_shooter/backgrounds/MidgroundManager"),r=e("com/fighter/game/engine_shooter/backgrounds/ForegroundManager"),s=e("com/fighter/game/engine_shooter/backgrounds/TransitionManager"),a=e("fido/system/DelayedCalls"),h=e("fido/loader/Cache"),c=function(e){this.h=0,this.w=0,this.worlds_data=h.getJson("worldsStructure"),this.engine=e,this.levelIndex=-1,this.firstLoad=!0,this.backgroundManager=new o(this.engine),this.midgroundManager=new n(this.engine),this.foregroundManager=new r(this.engine),this.transitionManager=new s(this.engine),this.delayedCalls=new a,this.currentWorld=null,this.currentStepWorld=null,this.currentLevel=null,this.endlessCurrentWorld=null,this.endlessNextWorld=null,this.isTransitioningToAnOtherWorld=!1};c.prototype.reset=function(){this.firstLoad=!0,this.currentLevel=null,this.levelIndex=-1,this.delayedCalls.clear(),this.backgroundManager.reset(),this.midgroundManager.reset(),this.foregroundManager.reset(),this.transitionManager.reset()},c.prototype.start=function(e){if(this.levelIndex=0,this.delayedCalls.clear(),e){var t=Math.random()>.5?"first":"second";this.currentWorld=t,this.endlessNextWorld=t;var i=Math.floor(Math.random()*this.worlds_data.endless[t].levels.length);this.currentStepWorld=i,this.prepareLevel(this.worlds_data.endless[t].levels[i],e)}else this.prepareLevel(this.worlds_data.mission[this.engine.game.missionId].levels[this.levelIndex])},c.prototype.manageLevel=function(e,t){if(this.levelIndex++,!e)return this.delayedCalls.clear(),this.levelIndex<this.worlds_data.mission[this.engine.game.missionId].levels.length?(this.prepareLevel(this.worlds_data.mission[this.engine.game.missionId].levels[this.levelIndex]),!0):(this.engine.game.completeMission(),!1);var i;i=this.isTransitioningToAnOtherWorld?this.endlessCurrentWorld:t?"first"===this.endlessCurrentWorld?"second":"first":this.endlessCurrentWorld;var o=!1;this.currentWorld=i,this.endlessNextWorld=i;var n;if(o){for(var r=[],s=0;s<this.worlds_data.endless[i].levels.length;s++)this.currentStepWorld!==s&&r.push(s);n=r[Math.floor(Math.random()*r.length)]}else n=Math.floor(Math.random()*this.worlds_data.endless[i].levels.length);this.currentStepWorld=n,this.currentLevel!==this.worlds_data.endless[i].levels[n]&&this.prepareLevel(this.worlds_data.endless[i].levels[n],e)},c.prototype.prepareLevel=function(e,t){if(t)if(this.endlessCurrentWorld){this.isTransitioningToAnOtherWorld=!0;var i=window.canGlitch;i&&this.engine.glitch(this.endlessNextWorld||this.endlessCurrentWorld,2),this.delayedCalls.add(function(){this.loadTransitionBegin(e,t,i),this.engine.changeWorldAssets(this.endlessNextWorld||this.endlessCurrentWorld),this.engine.setEnvironment(e)}.bind(this),2)}else this.loadLevel(e),this.engine.changeWorldAssets(this.endlessCurrentWorld),this.engine.setEnvironment(e);else this.currentLevel&&this.currentLevel.transitionEnd?(this.transitionManager.load(this.currentLevel.transitionEnd),this.transitionManager.resize(this.w,this.h),this.delayedCalls.add(this.loadTransitionBegin.bind(this),this.transitionManager.currentTransition.delay,e)):(this.loadTransitionBegin(e),this.engine.setEnvironment(e));this.currentLevel=e},c.prototype.loadTransitionBegin=function(e,t,i){t?i?this.loadLevel(e):(this.transitionManager.load("TransitionFlatColor"),this.transitionManager.resize(this.w,this.h),this.delayedCalls.add(this.loadLevel.bind(this),this.transitionManager.currentTransition.delay,e)):e.transitionBegin?(this.transitionManager.load(e.transitionBegin),this.transitionManager.resize(this.w,this.h),this.delayedCalls.add(this.loadLevel.bind(this),this.transitionManager.currentTransition.delay,e)):this.loadLevel(e)},c.prototype.loadLevel=function(e){if(this.engine.game.endless){this.endlessCurrentWorld!==this.endlessNextWorld;this.backgroundManager.load(e.backgrounds,!0),this.midgroundManager.load(e.midgrounds,!0),this.foregroundManager.load(e.foregrounds,!0),this.endlessCurrentWorld=this.endlessNextWorld,this.isTransitioningToAnOtherWorld=!1}else this.backgroundManager.load(e.backgrounds,this.firstLoad||e.firstLoad,e.cleanScene),this.midgroundManager.load(e.midgrounds,this.firstLoad||e.firstLoad,e.cleanScene),this.foregroundManager.load(e.foregrounds,this.firstLoad||e.firstLoad,e.cleanScene);e.reverseSpeed?this.backgroundManager.reverseSpeed(e.reverseSpeedValue):this.backgroundManager.speedDefault(),this.firstLoad=!1,this.resizeManagers(this.w,this.h)},c.prototype.update=function(){},c.prototype.resizeManagers=function(e,t){this.backgroundManager.resize(e,t),this.midgroundManager.resize(e,t),this.foregroundManager.resize(e,t)},c.prototype.resize=function(e,t){this.h=t,this.w=e,this.backgroundManager.resize(e,t),this.midgroundManager.resize(e,t),this.foregroundManager.resize(e,t)},i.exports=c}),define("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","fido/sound/SoundBridge","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=(new r,function(e){e=e||o.Container,n.call(this,0,0,e),this.view.layer="lasers",this.soundsMuted=!1,this.defaultWidth=this.view.laser.width,this.animating=!1,this.ratio=0,this.canKill=!1,this.defaultPower=1,this.power=1,this.soundIsPlaying=!1,this.maxHeight=1,this.currentHeight=0,this.maxX=2e3,this.groups=["secondary_weapon"]});s.prototype=Object.create(n.prototype),s.prototype.muteSounds=function(){this.soundsMuted=!0,e("fido/sound/SoundBridge").sfx.stop("laser_release")},s.prototype.playSounds=function(){this.soundsMuted=!1,this.soundIsPlaying},s.prototype.reset=function(t){this.power=this.defaultPower,this.view.leftLaser.alpha=1,this.soundIsPlaying||(e("fido/sound/SoundBridge").sfx.play("laser_release"),this.soundIsPlaying=!0),this.soundsMuted=!1,this.canKill=!0,this.view.reset(),this.ratio=t,this.power*=this.ratio,this.view.laser.scale.x=5,this.view.laser.scale.y=this.maxHeight,this.animating=!0,EasingsGame.to(this.view.leftLaser,1,{alpha:0})},s.prototype.update=function(){this.view.scale.x*this.defaultWidth+this.position.x;this.view.laser.scale.x=(this.maxX-this.position.x)/this.defaultWidth,this.ratio<.01&&(this.ratio=.01,this.canKill=!1,this.view.laser.scale.x=this.view.laser.scale.y=0,this.animating=!1,e("fido/sound/SoundBridge").sfx.stop("laser_release"),this.soundIsPlaying=!1,this.destroy(),this.view.laser.scale.y=0)},i.exports=s}),define("com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("fido/utils/Utils"),s=function(){o.Container.call(this),this.laser=new o.Sprite.fromFrame("laser.png"),this.laser.anchor.set(0,.5),this.laser_add=new o.Sprite.fromFrame("laser_add.png"),this.laser_add.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.laser_add.anchor.set(0,.5),this.leftLaser=new o.Sprite.fromFrame("laser_extremit_flash.png"),this.leftLaser.anchor.set(.5,.5),this.leftLaser.position.x=160;var e=r.getTexturesFromFramesWithPrefix("impact_laser_000%%.png",6,0);this.rightLaser=new o.Sprite,this.rightLaser.anchor.x=.5,this.rightLaser.anchor.y=.5,this.rightLaser.textures=e,this.rightLaser.counter=0,this.rightLaser.speed=.4,this.addChild(this.laser),this.laser.addChild(this.laser_add),this.addChild(this.leftLaser),this.addChild(this.rightLaser)};s.prototype=Object.create(o.Container.prototype),s.prototype.reset=function(){},s.prototype.update=function(){this.laser.position.y=-this.laser.height/4+10*Math.random()-5,this.rightLaser.position.x=this.laser.width,this.rightLaser.position.y=this.laser.position.y,this.rightLaser.scale.x=this.rightLaser.scale.y=1+.4*Math.random()-.2,this.rightLaser.rotation+=.02,this.rightLaser.counter+=this.rightLaser.speed*n.game.deltaTime,this.rightLaser.texture=this.rightLaser.textures[Math.floor(this.rightLaser.counter%this.rightLaser.textures.length)]},i.exports=s}),define("com/fighter/game/engine_shooter/secondaryWeapon/LowEnergyWeapon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon","com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon")),n=e("com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"),r=function(){var e=new n;o.call(this,e),this.defaultWidth=this.view.laser.width,this.defaultPower=2};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){o.prototype.reset.call(this,e)},r.prototype.update=function(){o.prototype.update.call(this),this.animating&&(this.ratio*=.96,this.currentHeight=this.maxHeight*this.ratio,this.view.update())},i.exports=r}),define("com/fighter/game/engine_shooter/secondaryWeapon/HighEnergyWeapon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon","com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon")),n=e("com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"),r=function(){var e=new n;o.call(this,e),this.defaultWidth=this.view.laser.width,this.defaultPower=6};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){o.prototype.reset.call(this,e)},r.prototype.update=function(){o.prototype.update.call(this),this.animating&&(this.ratio*=.96,this.currentHeight=this.maxHeight*this.ratio,this.view.update())},i.exports=r}),define("com/fighter/game/engine_shooter/secondaryWeapon/LongDurationPowerfulWeapon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon","com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon")),n=e("com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"),r=function(){var e=new n;o.call(this,e),this.defaultWidth=this.view.laser.width,this.defaultPower=8};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){o.prototype.reset.call(this,e)},r.prototype.update=function(){if(o.prototype.update.call(this),this.animating){this.ratio*=.96;this.view.laser.scale.x*this.defaultWidth+this.position.x;this.view.laser.scale.x=(this.maxX-this.position.x)/this.defaultWidth,this.currentHeight=this.maxHeight*this.ratio,this.view.update()}},i.exports=r}),define("com/fighter/game/engine_shooter/secondaryWeapon/SuperHighEnergyWeapon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon","com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeapon")),n=e("com/fighter/game/engine_shooter/secondaryWeapon/views/HighEnergyWeaponView"),r=function(){var e=new n;o.call(this,e),this.defaultWidth=this.view.laser.width,this.defaultPower=11};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){o.prototype.reset.call(this,e)},r.prototype.update=function(){if(o.prototype.update.call(this),this.animating){this.ratio*=.96;this.view.laser.scale.x*this.defaultWidth+this.position.x;this.view.laser.scale.x=(this.maxX-this.position.x)/this.defaultWidth,this.currentHeight=this.maxHeight*this.ratio,this.view.update()}},i.exports=r}),define("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeaponManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/secondaryWeapon/LowEnergyWeapon","com/fighter/game/engine_shooter/secondaryWeapon/HighEnergyWeapon","com/fighter/game/engine_shooter/secondaryWeapon/LongDurationPowerfulWeapon","com/fighter/game/engine_shooter/secondaryWeapon/SuperHighEnergyWeapon"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=(e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/secondaryWeapon/LowEnergyWeapon")),r=e("com/fighter/game/engine_shooter/secondaryWeapon/HighEnergyWeapon"),s=e("com/fighter/game/engine_shooter/secondaryWeapon/LongDurationPowerfulWeapon"),a=e("com/fighter/game/engine_shooter/secondaryWeapon/SuperHighEnergyWeapon"),h=function(e){this.engine=e};h.prototype.muteSounds=function(){for(var e=this.engine.world.groups.secondary_weapon.children,t=0;t<e.length;t++)e[t].muteSounds()},h.prototype.playSounds=function(){for(var e=this.engine.world.groups.secondary_weapon.children,t=0;t<e.length;t++)e[t].playSounds()},h.prototype.fire=function(e,t){if(!(.1>e||this.engine.world.groups.secondary_weapon.children.length>0)){var i=this.engine.game.app.getShopStates(),h=n;2===i.biglaser?h=r:3===i.biglaser?h=s:4===i.biglaser&&(h=a);var h=o.getObject(h);h.reset(e),h.owner=t,h.position.x=t.positionVec.x-50,h.position.y=t.view.position.y,this.engine.world.add(h)}},h.prototype.update=function(){for(var e=this.engine.world.groups.secondary_weapon.children,t=0;t<e.length;t++){var i=e[t];if(i&&i.world){var o=i.owner.contactZoneDefault?i.owner.contactZoneDefault:i.owner.contactZone;i.position.x=i.owner.positionVec.x-50,i.position.y=i.owner.view.position.y+o.height/4*3}}},h.prototype.destroyWeapon=function(e){e.destroy()},h.prototype.reset=function(){for(var e=this.engine.world.groups.secondary_weapon.children,t=0;t<e.length;t++){var i=e[t];i&&i.world&&i.destroy()}},i.exports=h}),define("com/fighter/game/engine_shooter/powerUpWeapon/Rocket",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon","com/fighter/game/engine_shooter/powerUpWeapon/SmokeTrail","fido/bob/crash/Vector","fido/utils/Math2","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/GameObjectPool"),r=e("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon"),s=e("com/fighter/game/engine_shooter/powerUpWeapon/SmokeTrail"),a=e("fido/bob/crash/Vector"),h=e("fido/utils/Math2"),c=new a,l=function(e){var e=new o.Sprite.fromFrame("missile.png");e.anchor.x=e.anchor.y=.5,r.call(this,e),this.rocket=!0,this.tick=0,this.damage=4,this.contactZone=new o.Rectangle(0,0,60,40),this.groups.push("rockets")};l.prototype=Object.create(r.prototype),l.prototype.reset=function(){r.prototype.reset.call(this),this.ready=!1,this.distY=0,this.speedY=1,this.hasBeenReprogrammed=!1,EasingsGame.to(this.positionVec,.6,{y:this.positionVec.y+100,onComplete:function(){e("fido/sound/SoundBridge").sfx.play("missiles_02"),this.isReady=!0,this.trail.isReady=!0}.bind(this)}),EasingsGame.to(this.view,.6,{rotation:Math.PI/8})},l.prototype.follow=function(){var e=this.enemy,t=c;t.x=e.positionVec.x,t.y=e.positionVec.y;var i=t.minus(this.positionVec);i.normalize(),i.multiply(.5),this.acceleration=i,this.velocity.plus(this.acceleration),this.velocity.x>5&&(this.velocity.x=5),this.velocity.y>5&&(this.velocity.y=5),this.positionVec.plus(this.velocity)},l.prototype.addedToWorld=function(){r.prototype.addedToWorld.call(this),this.trail=n.getObject(s),this.trail.reset(this),this.trail.isReady=!1,this.world.add(this.trail)},l.prototype.removedFromWorld=function(){this.trail&&this.trail.world&&this.trail.destroy()},l.prototype.update=function(){r.prototype.update.call(this)},l.prototype.seekAndKill=function(){var e=this.enemy,t=c;t.x=e.positionVec.x,t.y=e.positionVec.y;var i=t.minus(this.positionVec),o=i.length();if(300>o){this.hasBeenReprogrammed&&5>o&&this.destroy();var n=h.map(o,0,300,12,10);i.setLength(n)}else i.setLength(10);var r=i.minus(this.velocity);this.applyForce(r);Math.atan2(this.velocity.y,this.velocity.x)},i.exports=l}),define("com/fighter/game/engine_shooter/powerUpWeapon/SpreadFire",["require","exports","module","PIXI","com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon","fido/bob/crash/Vector","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeapon"),r=e("fido/bob/crash/Vector"),s=(e("fido/utils/Math2"),new r,function(e){var e=new o.Sprite.fromFrame("bullet_red.png");e.scale.y=.5,e.scale.x=.5,e.anchor.x=e.anchor.y=.5,n.call(this,e),this.isReady=!0,this.isSpreadFire=!0,this.contactZone=new o.Rectangle(0,0,20,10),this.groups.push("player_bullets"),this.groups.push("spread_fire")});s.prototype=Object.create(n.prototype),i.exports=s}),define("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeaponManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/DelayedCallsGame","com/fighter/game/engine_shooter/powerUpWeapon/Rocket","com/fighter/game/engine_shooter/powerUpWeapon/SpreadFire","fido/bob/crash/Vector","fido/system/Ticker","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine_shooter/DelayedCallsGame"),r=e("com/fighter/game/engine_shooter/powerUpWeapon/Rocket"),s=e("com/fighter/game/engine_shooter/powerUpWeapon/SpreadFire"),a=e("fido/bob/crash/Vector"),h=e("fido/system/Ticker"),c=(new a,function(e){this.engine=e,this.player=this.engine.player,this.tick=0,this.spreadFireTick=0,this.active=!1,this.weaponTypes=[{"class":r,type:"rocket",delay:80,duration:20},{"class":s,type:"spreadFire",delay:0,duration:10}],this.activeWeapon=null,this.delayedCalls=new n});c.prototype.getRemainingTime=function(){if(null!==this.idDelayed){var e=this.delayedCalls.getRemainingTime(this.idDelayed)/60;return e}return 0},c.prototype.addWeapon=function(e){this.bulletShot=0,this.delayedCalls.clear(),this.active=!0,"rocket"===e?(this.activeWeapon=this.weaponTypes[0],this.idDelayed=this.delayedCalls.add(this.removeWeapon.bind(this),this.activeWeapon.duration),this.engine.game.hud.addPickupToHUD("icon_missile","Rocket")):(this.activeWeapon=this.weaponTypes[1],this.idDelayed=this.delayedCalls.add(this.removeWeapon.bind(this),this.activeWeapon.duration),this.engine.game.hud.addPickupToHUD("icon_multishot","SpreadFire"))},c.prototype.removeWeapon=function(){e("fido/sound/SoundBridge").sfx.stop("gun_turret"),this.active=!1},c.prototype.fire=function(){var t=o.getObject(this.activeWeapon["class"]),i=this.engine.world.groups.enemies.children;if("rocket"===this.activeWeapon.type){var n;n=i.length>0?i[Math.floor(Math.random()*i.length)]:{positionVec:{x:2e3,y:600*Math.random()}},t.enemy=n,t.position.x=this.player.position.x,t.position.y=this.player.position.y,t.reset(),this.engine.world.add(t)}else if("spreadFire"===this.activeWeapon.type&&(this.spreadFireTick++,this.spreadFireTick%100===0||this.shoot===!0)){if(this.shoot=!0,0===this.bulletShot&&e("fido/sound/SoundBridge").sfx.play("gun_turret"),this.bulletShot<=20)var r=Math.PI/20*this.bulletShot;else var r=-Math.PI/20*this.bulletShot;t.position.x=this.player.position.x,t.position.y=this.player.position.y,t.reset(),t.velocity.y=10*Math.sin(r),t.velocity.x=10*Math.cos(r),this.bulletShot++,this.bulletShot>40&&(this.shoot=!1,this.bulletShot=0),this.engine.world.add(t)}},c.prototype.manageRockets=function(){for(var e=this.engine.world.groups.rockets.children,t=0;t<e.length;t++){var i=e[t];i.isReady&&(i.seekAndKill(),i.enemy.world||i.hasBeenReprogrammed||(i.enemy={positionVec:{x:i.positionVec.x+1e3*Math.cos(i.view.rotation),y:i.positionVec.y+1e3*Math.sin(i.view.rotation)}},i.hasBeenReprogrammed=!0),(i.readyForDestroy||i.positionVec.x>this.engine.w+300||i.positionVec.x<-10)&&this.destroyWeapon(i))}},c.prototype.manageSpreadFire=function(){for(var e=this.engine.world.groups.spread_fire.children,t=0;t<e.length;t++){var i=e[t];(i.readyForDestroy||i.positionVec.x>this.engine.w+10||i.positionVec.x<-10||i.positionVec.y<-200||i.positionVec.y>800)&&this.destroyWeapon(i)}},c.prototype.update=function(){this.manageRockets(),this.manageSpreadFire(),this.active&&(this.tick+=h.game.deltaTime,this.tick>this.activeWeapon.delay&&(this.tick=0,this.fire()))},c.prototype.destroyWeapon=function(e){e.destroy()},c.prototype.reset=function(){this.idDelayed=null,this.active=null;for(var e=this.engine.world.groups.powerup_weapons.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=c}),define("com/fighter/game/engine_shooter/pickups/Pickup",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=function(e){var e=e||new o.Container;n.call(this,0,0,e),this.view.anchor&&(this.view.anchor.x=this.view.anchor.y=.5),this.debug=!1,this.view.layer="pickups",this.tick=0,this.contactZone=new o.Rectangle(0,0,40,40),this.life=1,this.mass=0,this.positionVec=new r(this.position.x,this.position.y),this.velocity=new r(0,0),this.acceleration=new r(0,0),this.groups=["pickups"]};s.prototype=Object.create(n.prototype),s.prototype.reset=function(){if(this.debug){var e=new o.Graphics;e.beginFill(16711680).drawRect(this.contactZone.x-this.contactZone.width/2,this.contactZone.y-this.contactZone.height/2,this.contactZone.width,this.contactZone.height),this.view.addChild(e)}},s.prototype.update=function(){this.velocity.plus(this.acceleration),this.positionVec.plus(this.velocity),this.acceleration.multiply(0),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.tick++,this.acceleration.y+=.08*Math.cos(this.tick/20)},i.exports=s}),define("com/fighter/game/engine_shooter/pickups/Coin",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/Pickup","fido/bob/crash/Vector","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/pickups/Pickup"),r=e("fido/bob/crash/Vector"),s=e("fido/utils/Utils"),a=e("fido/system/Ticker"),h=new r,c=new r,l=function(){n.call(this),this.tweening=!1;
var e=s.getTexturesFromFramesWithPrefix("coin%%.png",10,1,!0);this._ratio=0,this.coin=new o.Sprite,this.coin.anchor.x=this.coin.anchor.y=.5,this.coin.coinTexture=e,this.coin.counter=0,this.coin.speed=.5,this.view.addChild(this.coin),this.type="coin",this.groups.push("coins"),this.mass=15};l.prototype=Object.create(n.prototype),l.prototype.reset=function(){this.tweening=!1,this.velocity.x=-(2*Math.random()+1),this.velocity.y=.3*Math.random()+.1,this.velocity.y*=Math.random()>.5?-1:1,this._ratio=0,this.tweening=!1,this.home=new o.Point},l.prototype.calculateAttraction=function(e){},l.prototype.calculateAttractionToPlayer=function(){h.x=this.world.game.player.positionVec.x,h.y=this.world.game.player.positionVec.y;var e=h.minus(this.positionVec),t=e.length();100>t&&(this.tweening=!0,this.home.x=this.positionVec.x,this.home.y=this.positionVec.y,EasingsGame.to(this,.3,{_ratio:1,onComplete:function(){this.tweening=!1}.bind(this)}))},l.prototype.applyForce=function(e){var t=c;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);this.acceleration.plus(i)},l.prototype.update=function(){this.coin.counter+=this.coin.speed*a.game.deltaTime,this.coin.texture=this.coin.coinTexture[Math.floor(this.coin.counter%this.coin.coinTexture.length)],this.tweening?(this.positionVec.x=this.home.x+(this.world.game.player.positionVec.x-this.home.x)*this._ratio,this.positionVec.y=this.home.y+(this.world.game.player.positionVec.y-this.home.y)*this._ratio):(this.velocity.plus(this.acceleration),this.positionVec.plus(this.velocity),this.acceleration.multiply(0),this.calculateAttractionToPlayer()),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.tick++},i.exports=l}),define("com/fighter/game/engine_shooter/pickups/HangerCoin",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/Pickup","fido/bob/crash/Vector","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/pickups/Pickup"),r=e("fido/bob/crash/Vector"),s=new r,a=e("fido/utils/Utils"),h=e("fido/system/Ticker"),c=function(){n.call(this);var e=a.getTexturesFromFramesWithPrefix("hangar_token_3D_%%.png",20,1);this.coin=new o.Sprite,this.coin.anchor.x=this.coin.anchor.y=.5,this.coin.coinTexture=e,this.coin.counter=0,this.coin.speed=.35,this.view.addChild(this.coin),this.groups.push("hanger_coins"),this.mass=15};c.prototype=Object.create(n.prototype),c.prototype.reset=function(){this.velocity.x=-(2*Math.random()+1),this.velocity.y=.3*Math.random()+.1,this.velocity.y*=Math.random()>.5?-1:1},c.prototype.calculateAttraction=function(e){return e.coinAttractor.calculateAttraction(this,this.position.x,this.position.y)},c.prototype.applyForce=function(e){var t=s;t.x=e.x,t.y=e.y;var i=t.divideScalar(this.mass);this.acceleration.plus(i)},c.prototype.update=function(){this.coin.counter+=this.coin.speed*h.game.deltaTime,this.coin.texture=this.coin.coinTexture[Math.floor(this.coin.counter%this.coin.coinTexture.length)],this.velocity.plus(this.acceleration),this.positionVec.plus(this.velocity),this.acceleration.multiply(0),this.position.x=this.positionVec.x,this.position.y=this.positionVec.y,this.tick++},i.exports=c}),define("com/fighter/game/engine_shooter/pickups/PickupClassic",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/Pickup"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine_shooter/pickups/Pickup"),r=function(e,t,i){n.call(this),this.view.anchor&&(this.view.anchor.x=this.view.anchor.y=.5),e&&(this.frame=new o.Sprite.fromFrame(e),this.frame.anchor.x=this.frame.anchor.y=.5,this.view.addChild(this.frame)),t&&(this.icon=new o.Sprite.fromFrame(t),this.icon.anchor.x=this.icon.anchor.y=.5,this.view.addChild(this.icon)),this.reflect=new o.Sprite.fromFrame(i||"reflect.png"),this.reflect.anchor.x=this.reflect.anchor.y=.5,this.view.addChild(this.reflect),this.groups=["pickups"]};r.prototype=Object.create(n.prototype),i.exports=r}),define("com/fighter/game/engine_shooter/pickups/BroWings",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_bros.png","icon_bros.png"),this.groups.push("bros")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/Heart",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_life.png","icon_life.png"),this.groups.push("health")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/RocketIcon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_missile.png","icon_missile.png")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/SpreadFireIcon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_multishot.png","icon_multishot.png")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/SlowmoIcon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_slowmo.png","icon_slowmo.png"),this.groups.push("slowmo")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/GlitchIcon",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_dimension.png","icon_dimension2.png"),this.groups.push("dimensions")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/Shield",["require","exports","module","PIXI","com/fighter/game/engine_shooter/pickups/PickupClassic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/pickups/PickupClassic")),n=function(){o.call(this,"back_icon_shield.png","icon_shield.png"),this.groups.push("shields")};n.prototype=Object.create(o.prototype),i.exports=n}),define("com/fighter/game/engine_shooter/pickups/PickupManager",["require","exports","module","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/pickups/Coin","com/fighter/game/engine_shooter/pickups/HangerCoin","com/fighter/game/engine_shooter/pickups/BroWings","com/fighter/game/engine_shooter/pickups/Heart","com/fighter/game/engine_shooter/pickups/RocketIcon","com/fighter/game/engine_shooter/pickups/SpreadFireIcon","com/fighter/game/engine_shooter/pickups/SlowmoIcon","com/fighter/game/engine_shooter/pickups/GlitchIcon","com/fighter/game/engine_shooter/pickups/Shield","com/fighter/game/engine_shooter/DelayedCallsGame","fido/goals/Goals","fido/bob/crash/Vector","fido/sound/SoundBridge","tracker","tracker","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=e("com/fighter/game/engine/GameObjectPool"),n=e("com/fighter/game/engine_shooter/pickups/Coin"),r=e("com/fighter/game/engine_shooter/pickups/HangerCoin"),s=e("com/fighter/game/engine_shooter/pickups/BroWings"),a=e("com/fighter/game/engine_shooter/pickups/Heart"),h=e("com/fighter/game/engine_shooter/pickups/RocketIcon"),c=e("com/fighter/game/engine_shooter/pickups/SpreadFireIcon"),l=e("com/fighter/game/engine_shooter/pickups/SlowmoIcon"),p=e("com/fighter/game/engine_shooter/pickups/GlitchIcon"),u=e("com/fighter/game/engine_shooter/pickups/Shield"),d=e("com/fighter/game/engine_shooter/DelayedCallsGame"),g=e("fido/goals/Goals"),f=(e("fido/bob/crash/Vector"),function(e){this.tick=0,this.engine=e,this.player=this.engine.player,this.nbPickupDelivered=0,this.types=[a,u,r,c,h,s],this.pickupsDiscovered={Heart:!1,RocketIcon:!1,Shield:!1,BroWings:!1,HangerCoin:!1,SpreadFireIcon:!1,Slowmo:!1,Glitch:!1},this.pickupsTexts={Heart:translations.STR_PICKUPS_INFO_HEART,RocketIcon:translations.STR_PICKUPS_INFO_ROCKET,Shield:translations.STR_PICKUPS_INFO_SHIELD,BroWings:translations.STR_PICKUPS_INFO_BROWINGS,HangerCoin:translations.STR_PICKUPS_INFO_HHANGERCOIN,SpreadFireIcon:translations.STR_PICKUPS_INFO_SPREADFIRE,Slowmo:translations.STR_PICKUPS_INFO_SLOWMO,Glitch:translations.STR_PICKUPS_INFO_GLITCH},this.pickupsIcons={Heart:"big_icon_heart.png",RocketIcon:"big_icon_missile.png",Shield:"big_icon_shield.png",BroWings:"big_icon_bros.png",HangerCoin:"hangar_token_3D_01.png",SpreadFireIcon:"big_icon_multishot.png",Slowmo:"big_icon_slowmo.png",Glitch:"big_icon_slowmo.png"},this.delayedCalls=new d});f.prototype.hitPickup=function(t){var i="",o=!1;t instanceof n?(this.engine.earnCoins(1),i="",e("fido/sound/SoundBridge").sfx.playGroup("coins")):t instanceof a?(i="Heart",this.engine.increaseHealth(),this.engine.game.hadPowerUp=!0):t instanceof h?(i="RocketIcon",this.engine.addPowerUpWeapon("rocket"),o=!0,this.engine.game.hadPowerUp=!0):t instanceof c?(i="SpreadFireIcon",this.engine.addPowerUpWeapon("spread"),o=!0,this.engine.game.hadPowerUp=!0):t instanceof u?(i="Shield",this.engine.addShield(),o=!0,this.engine.game.hadPowerUp=!0):t instanceof s?(i="BroWings",this.engine.addXWings(),this.engine.game.hadPowerUp=!0):t instanceof r?(i="HangerCoin",this.engine.earnHangerCoins()):t instanceof l?(i="Slowmo",this.engine.goSlowmo(),o=!0):t instanceof p&&(i="Glitch",this.engine.newLevelStep(!0),this.engine.explodeEveryone(),g.instance.increment("endless_change_location",1)),this.pickupsDiscovered[i]||""===i?""!==i&&this.engine.game.app.flash():("arcadetoken"===i?e("tracker").track("game_action","arcadetoken",null):e("tracker").track("game_action","powerup",null,{game_tier2:i.toLowerCase()}),this.pickupsDiscovered[i]=!0,this.engine.bannerText.run(this.pickupsTexts[i],this.pickupsIcons[i],1)),""!==i&&(e("fido/sound/SoundBridge").sfx.playGroup("bb8_happy"),e("fido/sound/SoundBridge").sfx.play("xwing_powerup")),this.destroyPickup(t,i)},f.prototype.destroyPickup=function(e){e.destroy()},f.prototype.addPickupHealth=function(){var e=o.getObject(a);e.reset(),e.positionVec.x=e.position.x=1500,e.positionVec.y=e.position.y=300*Math.random(),this.engine.world.add(e)},f.prototype.addPickupGlitch=function(e){var t=o.getObject(p);t.reset(),t.positionVec.x=t.position.x=1500,t.positionVec.y=t.position.y=300*Math.random(),this.engine.world.add(t)},f.prototype.addPickup=function(e){this.nbPickupDelivered++;var t=this.engine.world.groups.xwings.children,i=this.types.slice();if(t.length>0){var n=i.indexOf(s);n>-1&&i.splice(n,1)}var h=this.engine.player;if(h.life===h.defaultNumberLife||this.engine.game.endless){var n=i.indexOf(a);n>-1&&i.splice(n,1)}if(this.nbPickupDelivered%2===0){var n=i.indexOf(r);n>-1&&i.splice(n,1)}if(i.length>0){var c=o.getObject(i[Math.floor(Math.random()*i.length)]);c.reset(),c.positionVec.x=c.position.x=e.x,c.positionVec.y=c.position.y=e.y,this.engine.world.add(c)}},f.prototype.addCoin=function(e){var t=o.getObject(n);t.reset(),t.positionVec.x=t.position.x=e.x,t.positionVec.y=t.position.y=e.y,this.engine.world.add(t)},f.prototype.update=function(){for(var e=this.engine.world.groups.pickups.children,t=0;t<e.length;t++){var i=e[t];"coin"===i.type&&this.player.coinAttractor&&(attraction=i.calculateAttraction(this.player)),i.positionVec.x-=3,i.positionVec.x<-20&&i.destroy()}},f.prototype.reset=function(){this.nbPickupDelivered=0;for(var e=this.engine.world.groups.pickups.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=f}),define("com/fighter/game/engine_shooter/attractors/Attractor",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine/Item"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/game/engine/GameObjectPool"),e("fido/bob/crash/Vector")),r=e("com/fighter/game/engine/Item"),s=new n,a=new n,h=function(e){r.call(this,0,0,e||new o.Container),this.level=0,this.options=[{mass:100,minDistance:200,radius:500,forceK:-25},{mass:100,minDistance:100,radius:500,forceK:-12},{mass:100,minDistance:100,radius:500,forceK:-20}],this.offset=new o.Point,this.positionVec=new n,this.mass=this.options[this.level].mass,this.G=10,this.groups=["attractors"]};h.prototype=Object.create(r.prototype),h.prototype.reset=function(){this.view.reset&&this.view.reset()},h.prototype.start=function(){},h.prototype.end=function(){this.destroy()},h.prototype.calculateAttraction=function(e,t,i){var o=a;o.x=t,o.y=i;var n=s;n.x=this.positionVec.x,n.y=this.positionVec.y;var r=n.minus(o),h=r.length();15>h?h=15:h>150&&(h*=10),r.normalize();var c=20*(this.mass*e.mass)/(h*h);return r.multiply(c),r},h.prototype.calculateRepulsion=function(e,t,i){var o=a;o.x=t,o.y=i;var n=s;n.x=this.positionVec.x,n.y=this.positionVec.y;var r=n.minus(o),h=r.length();r.x=r.x>r.y?r.x:r.y,r.y=r.x>r.y?r.x:r.y,5>h?h=5:h>this.options[this.level].radius&&(h*=10),r.normalize();var c=this.options[this.level].forceK*(this.mass*e.mass)/(h*h);return r.multiply(c),r},h.prototype.update=function(){this.positionVec.x=this.owner.positionVec.x+this.offset.x,this.positionVec.y=this.owner.positionVec.y+this.offset.y,this.view.position.x=this.positionVec.x,this.view.position.y=this.positionVec.y,this.view.update&&this.view.update()},i.exports=h}),define("com/fighter/game/engine_shooter/attractors/views/AttractorShieldView",["require","exports","module","PIXI","fido/utils/Utils","fido/system/Ticker","fido/bob/crash/Vector","fido/system/DelayedCalls","signals","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("fido/utils/Utils"),r=e("fido/system/Ticker"),s=e("fido/bob/crash/Vector"),a=e("fido/system/DelayedCalls"),h=e("signals"),c=new s,l=new s,p=function(){o.Container.call(this),this.tick=0,this.onDisappear=new h,this.containerAnimation=new o.Container,this.containerAnimation.position.x=-20,this.addChild(this.containerAnimation);var e=n.getTexturesFromFramesWithPrefix("shield_appear_000%%.png",14,0);this.apparition=new o.Sprite(e[0]),this.apparition.anchor.x=this.apparition.anchor.y=.5,this.apparition.textures=e,this.apparition.counter=0,this.apparition.speed=.4;var t=n.getTexturesFromFramesWithPrefix("shield_appear_000%%.png",14,0);this.disapparition=new o.Sprite(t[0]),this.disapparition.anchor.x=this.disapparition.anchor.y=.5,this.disapparition.textures=t,this.disapparition.counter=t.length-1,this.disapparition.speed=.4;var i=n.getTexturesFromFramesWithPrefix("shield_electric_000%%.png",19,0);this.electricity=new o.Sprite(i[0]),this.electricity.visible=!1,this.electricity.anchor.x=this.electricity.anchor.y=.5,this.electricity.textures=i,this.electricity.counter=t.length-1,this.electricity.speed=.3,this.containerAnimation.addChild(this.apparition),this.containerAnimation.addChild(this.disapparition),this.containerAnimation.addChild(this.electricity),this.containerShield=new o.Container,this.addChild(this.containerShield),this.shield=new o.Sprite.fromFrame("shield.png"),this.shield.anchor.x=this.shield.anchor.y=.5,this.containerShield.addChild(this.shield),this.shieldImpact=new o.Sprite.fromFrame("shield_impact.png"),this.shieldImpact.alpha=0,this.shieldImpact.anchor.x=this.shieldImpact.anchor.y=.5,this.containerShield.addChild(this.shieldImpact),this.impacts=[],this.pool=[],this.delayElectricity=120,this.appearing=!1,this.disappearing=!1,this.electricityPlaying=!1,this.delayedCalls=new a};p.prototype=Object.create(o.Container.prototype),p.prototype.start=function(){this.appearing=!0,this.apparition.visible=!0,this.containerShield.visible=!0,EasingsGame.to(this.containerShield,.2,{alpha:1}),this.delayedCalls.add(this.playElectricity.bind(this),.4)},p.prototype.end=function(){this.disappearing=!0,this.disapparition.visible=!0,EasingsGame.to(this.containerShield,.2,{alpha:0,onComplete:function(){this.containerShield.visible=!1,this.onDisappear.dispatch()}.bind(this)})},p.prototype.playElectricity=function(){this.electricityPlaying||(this.electricityPlaying=!0,this.electricity.counter=0,this.electricity.visible=!0,this.electricity.rotation=Math.random()*Math.PI*2)},p.prototype.hit=function(t){if(!this.impacting&&t){e("fido/sound/SoundBridge").sfx.play("shield_hit"),c.x=this.position.x,c.y=this.position.y,l.x=t.position.x,l.y=t.position.y,this.shieldImpact.alpha=1;var i=l.minus(c);i.normalize(),EasingsGame.to(this.shieldImpact,.1,{alpha:0}),this.shieldImpact.rotation=Math.atan2(i.y,i.x);var o={x:80*Math.cos(i.x),y:80*Math.sin(i.y)};this.showImpact(o)}},p.prototype.showImpact=function(e){var t=this.pool.pop();if(!t){var i=n.getTexturesFromFramesWithPrefix("shield_impact_000%%.png",5,0),t=new o.Sprite(i[0]);t.anchor.x=t.anchor.y=.5,t.textures=i,t.speed=.2}t.visible=!0,t.position.x=e.x,t.position.y=e.y,t.counter=0,this.addChild(t),this.impacts.push(t)},p.prototype.update=function(){this.appearing?(this.apparition.counter+=this.apparition.speed*r.game.deltaTime,this.apparition.texture=this.apparition.textures[Math.floor(this.apparition.counter%this.apparition.textures.length)],Math.floor(this.apparition.counter%this.apparition.textures.length)>=this.apparition.textures.length-1&&(this.apparition.visible=!1,this.appearing=!1)):this.disappearing&&(this.disapparition.counter-=this.disapparition.speed*r.game.deltaTime,this.disapparition.texture=this.disapparition.textures[Math.floor(this.disapparition.counter%this.disapparition.textures.length)],Math.floor(this.disapparition.counter%this.disapparition.textures.length)<=0&&(this.disapparition.visible=!1,this.disappearing=!1)),this.electricityPlaying&&(this.electricity.counter+=this.electricity.speed*r.game.deltaTime,this.electricity.texture=this.electricity.textures[Math.floor(this.electricity.counter%this.electricity.textures.length)],Math.floor(this.electricity.counter%this.electricity.textures.length)>=this.electricity.textures.length-1&&(this.electricity.visible=!1,this.electricityPlaying=!1)),this.delayElectricity--,this.delayElectricity<=0&&!this.electricityPlaying&&(this.playElectricity(),this.delayElectricity=120*Math.random()+10);for(var e=0;e<this.impacts.length;e++){var t=this.impacts[e];t.counter+=t.speed*r.game.deltaTime,t.texture=t.textures[Math.floor(t.counter%t.textures.length)],Math.floor(t.counter%t.textures.length)>=t.textures.length-1&&(this.pool.push(t),this.removeChild(t),this.impacts.slice(e,1),e--)}this.tick++,this.shield.alpha=.2*Math.cos(this.tick/40)+.799},p.prototype.reset=function(){this.appearing=!1,this.disappearing=!1,this.apparition.visible=!1,this.disapparition.visible=!1,this.apparition.counter=0,this.disapparition.counter=this.disapparition.textures.length-1},i.exports=p}),define("com/fighter/game/engine_shooter/attractors/AttractorShield",["require","exports","module","PIXI","com/fighter/game/engine_shooter/attractors/Attractor","com/fighter/game/engine_shooter/attractors/views/AttractorShieldView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/attractors/Attractor")),n=e("com/fighter/game/engine_shooter/attractors/views/AttractorShieldView"),r=function(){var e=new n;o.call(this,e),this.view.layer="shields",this.view.onDisappear.add(this.destroy,this)};r.prototype=Object.create(o.prototype),r.prototype.start=function(){this.view.start()},r.prototype.end=function(){o.prototype.end.call(this),this.view.end()},r.prototype.hit=function(e){this.view.hit(e)},r.prototype.update=function(){o.prototype.update.call(this),this.view.scale.x=this.view.scale.y=this.owner.view.scale.x},i.exports=r}),define("com/fighter/game/engine_shooter/attractors/AttractorManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/attractors/Attractor","com/fighter/game/engine_shooter/attractors/AttractorShield"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=(e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/attractors/Attractor")),r=e("com/fighter/game/engine_shooter/attractors/AttractorShield"),s=function(e){this.engine=e};s.prototype.addShield=function(e){var t=this.addAttractor(e,r);return t},s.prototype.addAttractor=function(e,t){var i=o.getObject(t||n);return i.owner=e,this.engine.world.add(i),i.reset(),i},s.prototype.reset=function(){for(var e=this.engine.world.groups.attractors.children,t=0;t<e.length;t++)e[t].owner&&e[t].owner.removeAttractors(),e[t].destroy()},i.exports=s}),define("com/fighter/game/engine_shooter/enemiesLaser/Laser",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=(new r,function(e){e=e||o.Container,n.call(this,0,0,e),this.animating=!1,this.ratio=0,this.canKill=!1,this.defaultPower=1,this.power=1,this.maxHeight=200,this.groups=["enemies_lasers"]});s.prototype=Object.create(n.prototype),s.prototype.reset=function(e){this.power=this.defaultPower,this.ship=e},s.prototype.update=function(){this.ship.world&&(this.view.position.x=this.ship.view.position.x-this.ship.contactZone.width/2,this.view.position.y=this.ship.view.position.y),this.ship.world||this.destroy()},i.exports=s}),define("com/fighter/game/engine_shooter/secondaryWeapon/views/LowEnergyWeaponView",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(){o.Container.call(this),this.laser=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/laserLowEnergy.png"),this.laser.anchor.set(0,.5),this.addChild(this.laser)};n.prototype=Object.create(o.Container.prototype),n.prototype.reset=function(){},n.prototype.update=function(){this.laser.position.y=50*Math.random()-25},i.exports=n}),define("com/fighter/game/engine_shooter/enemiesLaser/LaserBasic",["require","exports","module","PIXI","com/fighter/game/engine_shooter/enemiesLaser/Laser","com/fighter/game/engine_shooter/secondaryWeapon/views/LowEnergyWeaponView"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine_shooter/enemiesLaser/Laser")),n=e("com/fighter/game/engine_shooter/secondaryWeapon/views/LowEnergyWeaponView"),r=function(){var e=new n;o.call(this,e),this.view.laser.anchor.x=1,this.defaultWidth=this.view.width,this.maxHeight=20,this.currentHeight=0,this.defaultPower=.5,this.maxX=-2e3};r.prototype=Object.create(o.prototype),r.prototype.reset=function(e){ratio=1,o.prototype.reset.call(this,e),this.canKill=!0,this.view.reset(),this.ratio=ratio,this.power*=this.ratio,this.view.scale.x=5,this.view.scale.y=this.maxHeight*this.ratio,this.animating=!0},r.prototype.update=function(){if(o.prototype.update.call(this),this.animating){this.ratio*=.98,this.power*=.995;this.view.scale.x*this.defaultWidth+this.position.x;this.view.scale.x=-(this.maxX-this.position.x)/this.defaultWidth,this.view.scale.y=this.ratio,this.currentHeight=this.maxHeight*this.ratio,this.view.update(),this.ratio<.1&&(this.ratio=.01,this.canKill=!1,this.view.scale.x=this.view.scale.y=0,this.animating=!1,this.destroy())}},i.exports=r}),define("com/fighter/game/engine_shooter/enemiesLaser/EnemiesLaserManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/enemiesLaser/LaserBasic"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=(e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/enemiesLaser/LaserBasic")),r=function(e){this.engine=e,this.player=this.engine.player,this.TYPES={enemy:0,player:1}};r.prototype.fire=function(e){var t=o.getObject(n);this.engine.world.add(t),t.reset(e)},r.prototype.update=function(){for(var e,t,i=this.engine.world.groups.bullets.children,o=0;o<this.engine.world.groups.bullets.children.length;o++)t=i[o],t.type===this.TYPES.enemy&&this.player.repulsors.length>0&&(e=t.calculateRepulsion(this.player),e.x=0,t.applyForce(e)),(t.readyForDestroy||t.positionVec.x>this.engine.w+200||t.positionVec.x<-10)&&t.destroy()},r.prototype.reset=function(){for(var e=this.engine.world.groups.enemies_lasers.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=r}),define("com/fighter/game/engine_shooter/damages/ExplosionManager",["require","exports","module","com/fighter/game/engine/GameObjectPool","fido/sound/SoundBridge"],function(e,t,i){var o=e("com/fighter/game/engine/GameObjectPool"),n=function(e){this.engine=e};n.prototype.addExplosion=function(t,i){var n=o.getObject(i);n.position.x=t.position.x,n.position.y=t.position.y,this.engine.world.add(n),n.reset(),e("fido/sound/SoundBridge").sfx.playGroup("explosion")},n.prototype.reset=function(){for(var e=this.engine.world.groups.explosions.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=n}),define("com/fighter/game/engine_shooter/damages/DamageManager",["require","exports","module","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/damages/damages/FlyOffDamages"],function(e,t,i){var o=(e("com/fighter/game/engine/GameObjectPool"),e("com/fighter/game/engine_shooter/damages/damages/FlyOffDamages"),function(e){this.engine=e});o.prototype.addDamages=function(e,t){},o.prototype.reset=function(){for(var e=this.engine.world.groups.damages.children,t=0;t<e.length;t++)e[t].destroy()},i.exports=o}),define("com/fighter/game/engine_shooter/blast/BlastRadius",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=new r,a=(new r,function(e){e=e||new o.Container,n.call(this,0,0,e),this.radius=1,this.damagesFromCenter=100,this.groups=["blasts"]});a.prototype=Object.create(n.prototype),a.prototype.calculateDamage=function(e){return s.x=e.x,s.y=e.y,dist=Math.abs(s.distanceTo(this.position)-this.radius/2),Math.abs((1-dist/(this.radius/2))*this.damagesFromCenter)},a.prototype.update=function(e){this.radius*=.95,this.radius<.01&&this.destroy()},a.prototype.reset=function(e){this.radius=e},i.exports=a}),define("com/fighter/game/engine_shooter/blast/BlastManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","fido/bob/crash/Vector","com/fighter/game/engine_shooter/blast/BlastRadius"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=(e("fido/bob/crash/Vector"),e("com/fighter/game/engine_shooter/blast/BlastRadius")),r=function(e){this.engine=e};r.prototype.addBlastRadius=function(e,t){var i=o.getObject(n);this.engine.world.add(i),i.reset(200),i.position.x=e.x,i.position.y=e.y},r.prototype.update=function(){},r.prototype.destroyWeapon=function(e){e.destroy()},r.prototype.reset=function(){for(var e=this.engine.world.groups.secondary_weapon.children,t=0;t<e.length;t++){var i=e[t];i&&i.world&&i.destroy()}},i.exports=r}),define("com/fighter/game/engine_shooter/tutorial/TutorialManager",["require","exports","module","com/fighter/game/engine_shooter/enemies/TieFighter","fido/bob/crash/Vector","fido/system/Ticker","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/WeakTieFighter","com/fighter/game/engine_shooter/enemies/TieFighter360","com/fighter/game/engine_shooter/enemies/HeavyTieFighter360","com/fighter/game/engine_shooter/enemies/LandingShip","com/fighter/app/system/GameSaveManager","fido/system/DelayedCalls","fido/loader/Cache","signals"],function(e,t,i){var o=(e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("fido/bob/crash/Vector"),e("fido/system/Ticker")),n=(e("com/fighter/game/engine_shooter/enemies/TieFighter"),e("com/fighter/game/engine_shooter/enemies/WeakTieFighter"),e("com/fighter/game/engine_shooter/enemies/TieFighter360"),e("com/fighter/game/engine_shooter/enemies/HeavyTieFighter360")),r=(e("com/fighter/game/engine_shooter/enemies/LandingShip"),e("com/fighter/app/system/GameSaveManager")),s=(e("fido/system/DelayedCalls"),e("fido/loader/Cache")),a=e("signals"),h=function(e,t){this.engine=e,this.enemyManager=t,this.functionsOnSignal={onShipMoveFast:this.displayLaser,onSuperLaserUsed:this.addEnemyWithoutPickup,onShipDestroyed:this.addEnemyWithPickup,onShipWithPickupDestroyed:this.finish},this.onShipMoveFast=new a,this.onSuperLaserUsed=new a,this.onShipDestroyed=new a,this.onShipWithPickupDestroyed=new a,this.engine.player.onShipMoveFast.add(this.onShipMoveFast.dispatch,this),this.engine.onSuperLaserUsed.add(this.onSuperLaserUsed.dispatch,this),this.defaulMaxDelay=6,this.minDelay=2,this.maxDelay=this.defaulMaxDelay,this.duration=0};h.prototype.finish=function(){r.instance.saveTuto(),this[this.currentStep.signal].removeAll(),this.currentEnemy&&this.currentEnemy.world&&this.engine.enemyManager.hitEnemy(this.currentEnemy,200),this.engine.view.hideTutorial(),this.engine.tutorialIsFinished(),o.game.remove(this.update,this,1)},h.prototype.next=function(){if(!(60*this.duration<this.minDelay)){if(this.duration=0,this.maxDelay=this.defaulMaxDelay,this[this.currentStep.signal].removeAll(),this.stepIndex++,!this.steps[this.stepIndex])return void this.finish();1===this.stepIndex&&(this.maxDelay=45),this.currentStep=this.steps[this.stepIndex],this[this.currentStep.signal].add(this.functionsOnSignal[this.currentStep.signal],this),this.engine.view.updateTuto(this.currentStep)}},h.prototype.displayLaser=function(){this.next(),this.engine.game.hud.gaugeWeapon.highlight()},h.prototype.addEnemyWithPickup=function(){this.next(),this.currentEnemy.world&&this.engine.enemyManager.hitEnemy(this.currentEnemy,200);var e=this.enemyManager.addEnemy(n);e.life=1e3,e.positionVec.x=1350,e.positionVec.y=250,e.setPickup(),e.onDestroyed.addOnce(this.onShipWithPickupDestroyed.dispatch,this),this.currentEnemy=e,TweenLite.to(e.positionVec,3,{delay:.1,x:800,onComplete:function(){e.life=10}})},h.prototype.addEnemyWithoutPickup=function(){this.next();var e=this.enemyManager.addEnemy(n);e.positionVec.x=1350,e.positionVec.y=250,e.life=1e3,e.onDestroyed.addOnce(this.onShipDestroyed.dispatch,this),this.currentEnemy=e,this.engine.game.hud.gaugeWeapon.unlight(),EasingsGame.to(e.positionVec,3,{x:800,onComplete:function(){e.life=4}})},h.prototype.destroy=function(){o.game.remove(this.update,this),this.engine.view.hideTutorial(),this.stepIndex=0},h.prototype.reset=function(){this.duration=0,this.maxDelay=this.defaulMaxDelay;var e=s.getJson("missions");this.stepIndex=0,this.steps=e.tuto.steps,this.currentStep=this.steps[this.stepIndex],this[this.currentStep.signal].add(this.functionsOnSignal[this.currentStep.signal],this),this.engine.view.updateTuto(this.currentStep),o.game.add(this.update,this,1)},h.prototype.update=function(){this.duration++,this.duration>60*this.maxDelay&&this.functionsOnSignal[this.currentStep.signal].call(this)},i.exports=h}),define("com/fighter/game/engine_shooter/targets/Chip",["require","exports","module","PIXI","./Chip"],function(e,t,i){var o=e("PIXI"),n=e("./Chip"),n=function(){o.Container.call(this),this.counter=0,this.dimensions={width:4e3,height:4e3},this.tl=new o.Sprite.fromFrame("corner_top_left.png"),this.tl.tint=16550425,this.addChild(this.tl),this.tr=new o.Sprite.fromFrame("corner_top_right.png"),this.tr.tint=16550425,this.addChild(this.tr),this.bl=new o.Sprite.fromFrame("corner_bottom_left.png"),this.bl.tint=16550425,this.addChild(this.bl),this.br=new o.Sprite.fromFrame("corner_bottom_right.png"),this.br.tint=16550425,this.addChild(this.br)};n.prototype=Object.create(o.Container.prototype),n.prototype.reset=function(){this.dimensions={width:20,height:20},this.isAnimating=!1},n.prototype.hide=function(e){},n.prototype.update=function(e){this.isAnimating?(this.tl.position.x=-this.dimensions.width,this.tl.position.y=-this.dimensions.height,this.tr.position.x=this.dimensions.width,this.tr.position.y=-this.dimensions.height,
this.bl.position.x=-this.dimensions.width,this.bl.position.y=this.dimensions.height,this.br.position.x=this.dimensions.width,this.br.position.y=this.dimensions.height):(this.tl.position.x=-this.dimensions.width-e/2,this.tl.position.y=-this.dimensions.height-e/2,this.tr.position.x=this.dimensions.width+e/2,this.tr.position.y=-this.dimensions.height-e/2,this.bl.position.x=-this.dimensions.width-e/2,this.bl.position.y=this.dimensions.height+e/2,this.br.position.x=this.dimensions.width+e/2,this.br.position.y=this.dimensions.height+e/2)},i.exports=n}),define("com/fighter/game/engine_shooter/targets/Target",["require","exports","module","PIXI","com/fighter/game/engine/Item","signals","com/fighter/game/engine_shooter/targets/Chip"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/Item")),n=e("signals"),r=e("com/fighter/game/engine_shooter/targets/Chip"),s=function(){o.call(this,0,0,new r(this)),this.view.layer="lasers",this.onDestroyed=new n,this.enemy=null,this.owner=null,this.groups=["targets"]};s.prototype=Object.create(o.prototype),s.prototype.hide=function(){this.view.hide(this.destroyTarget.bind(this)),this.destroyTarget()},s.prototype.destroyTarget=function(){this.onDestroyed.dispatch(this),this.destroy()},s.prototype.reset=function(){this.isAppearing=!0,this.view.reset(),this.position.x=this.owner.position.x,this.position.y=this.owner.position.y},s.prototype.update=function(){if(this.enemy&&this.enemy.world&&this.owner&&this.owner.world){this.position.x+=.06*(this.owner.enemy.position.x-this.position.x),this.position.y+=.06*(this.owner.enemy.position.y-this.position.y);var e=Math.abs(this.enemy.position.x-this.position.x);this.view.update(e)}else this.destroyTarget()},i.exports=s}),define("com/fighter/game/engine_shooter/targets/TargetsManager",["require","exports","module","PIXI","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/targets/Target"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/game/engine/GameObjectPool")),n=e("com/fighter/game/engine_shooter/targets/Target"),r=function(e){this.engine=e};r.prototype.hide=function(e){e.target&&e.target.hide()},r.prototype.addTarget=function(e,t){var i=e.target;i||(i=o.getObject(n),i.onDestroyed.add(this.onTargetDestroyed,this)),i.owner=e,i.enemy=t,e.target=i,this.engine.world.add(i),i.reset()},r.prototype.reset=function(){for(var e=this.engine.world.groups.targets,t=0;t<e.length;t++)e[t].destroy()},r.prototype.onTargetDestroyed=function(e){e.owner.target=null},r.prototype.update=function(){},i.exports=r}),define("fido/bob/Camera",["require","exports","module","PIXI"],function(e,t,i){var o=(e("PIXI"),function(){this.x=0,this.y=0,this.rotation=0,this.zoom=1,this.viewWidth=1130,this.viewHeight=640});o.prototype.update=function(){},o.prototype.resize=function(e,t){this.viewWidth=e,this.viewHeight=t},i.exports=o}),define("com/fighter/game/engine_shooter/TempCamera",["require","exports","module","PIXI","fido/bob/Camera","fido/system/Device","fido/physics/DoubleSpring"],function(e,t,i){var o=(e("PIXI"),e("fido/bob/Camera")),n=e("fido/system/Device"),r=e("fido/physics/DoubleSpring"),s=function(e){o.call(this),this.game=e,this.padding=(n.instance.isMobile,0),this.idleZoom=1,this.zoom=this.idleZoom,this.zoomWait=0,this.lockToFrame=!0,this.easeX=0,this.easeY=0,this.mobileMode=!1,this.spring=new r,this.canShake=!0};s.prototype=Object.create(o.prototype),s.prototype.reset=function(){this.x=this.easeX=this.viewWidth/2},s.prototype.shake=function(e,t){this.canShake&&(e=e||Math.random()*Math.PI*2,t=t||20,this.spring.dx=Math.sin(e)*t,this.spring.dy=Math.cos(e)*t)},s.prototype.update=function(){this.spring.update()},s.prototype.resize=function(e,t){this.viewWidth=e,this.viewHeight=t},i.exports=s}),define("com/fighter/game/engine_shooter/BobView",["require","exports","module","PIXI","fido/bob/PixiView"],function(e,t,i){var o=e("PIXI"),n=e("fido/bob/PixiView");o.DisplayObject.prototype.layer="default";var r=function(e){o.Container.call(this),this.innerContainer=new o.Container,this.activeItemsContainer=new o.Container,this.addChild(this.innerContainer),this.innerContainer.addChild(this.activeItemsContainer),this.filterArea=new o.Rectangle(0,0,1e6,1e6),this.interactiveChildren=!1,this.layers={},this.camera=e.camera||{x:0,y:0,zoom:1},this.addLayer("back"),this.addLayer("water"),this.addLayer("castle"),this.addLayer("waterTrail"),this.addLayer("islands"),this.addLayer("transitions"),this.addLayer("forest"),this.addLayer("shipsBack"),this.addLayer("turretsBack"),this.addLayer("pipes"),this.addLayer("snowMontainsClose"),this.addLayer("layerLastEnvironmentFilter"),this.addLayer("tutorials"),this.addLayer("sun"),this.addLayer("sunGlow"),this.addLayer("switch"),this.addLayer("default"),this.addLayer("filters"),this.addLayer("obstacles"),this.addLayer("ships"),this.addLayer("shipsFront"),this.addLayer("shields"),this.addLayer("pickups"),this.addLayer("lasers"),this.addLayer("steam"),this.addLayer("montainsFront"),this.addLayer("frontBattle"),this.addLayer("front"),this.addLayer("obstaclesInside"),this.addLayer("frontInside"),this.addLayer("transitionsFlat"),this.addLayer("tempLayerForPlayerTopTransition"),this.addLayer("vignets"),this.addLayer("bombLayer")};r.prototype=Object.create(n.prototype),r.prototype.setLayer=function(e,t){if(e.world){var i=e.view,o=this.layers[i.layer];o.removeChild(i),i.layer=t;var n=this.layers[i.layer];i.parent=n,n.children.push(e.view)}},i.exports=r}),define("starwars/HangerTokenUtils",["require","exports","module","PIXI","fido/loader/Cache","fido/system/LocalStorage"],function(e,t,i){var o=(e("PIXI"),e("fido/loader/Cache")),n=e("fido/system/LocalStorage"),r={};r.addToken=function(e){var t=o.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID,i=new n(t),r=i.getObject("tokensToAdd");r||(r=0),r+=e,i.storeObject("tokensToAdd",r)},r.getTokens=function(){var e=o.getJson("config").COOKIES_BUNDLE_ID,t=new n(e),i=t.getObject("tokensToAdd");return i||(i=0),t.storeObject("tokensToAdd",0),i},i.exports=r}),define("text!com/fighter/game/shaders/sky.glsl",[],function(){return"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float time;\n\nuniform vec4 dimensions;\n\nuniform vec3 colorBottom;\nuniform vec3 colorTop;\n\nvoid main(void) {\n\n  vec2 st = gl_FragCoord.xy/dimensions.xy;\n  vec3 color = vec3(0.0);\n\n  vec3 pct = vec3(pow(st.y, 6.));\n\n  color = mix(colorBottom, colorTop, pct);\n\n\n  gl_FragColor = vec4(color,1.0);\n\n  // vec3 color = vec3(0.0);\n  //\n  // float pct = abs(sin(time));\n  // color = mix(colorBottom, colorTop, pct);\n  //\n  // gl_FragColor = vec4(color,1.0);\n\n}\n"}),define("com/fighter/game/filters/SkyFilter",["require","exports","module","PIXI","fido/system/Ticker","text!com/fighter/game/shaders/sky.glsl"],function(e,t,i){function o(){this.speed=1,n.AbstractFilter.call(this,null,s,{dimensions:{type:"4fv",value:[0,0,0,0]},colorBottom:{type:"3fv",value:[.031,.949,.882]},colorTop:{type:"3fv",value:[.008,.357,.404]},time:{type:"f",value:0}}),this.start()}var n=e("PIXI"),r=e("fido/system/Ticker"),s=e("text!com/fighter/game/shaders/sky.glsl");o.prototype=Object.create(n.AbstractFilter.prototype),o.prototype.constructor=o,o.prototype.setColor=function(e,t){this.uniforms.colorBottom.value=e,this.uniforms.colorTop.value=t},o.prototype.easeTo=function(e,t,i,o){i=i||2,Easings.to(this.uniforms.colorTop.value,i,{values:e,delay:o||0}),Easings.to(this.uniforms.colorBottom.value,i,{values:t,delay:o||0})},o.prototype.goNight=function(){TweenLite.to(this.uniforms.colorTop.value,1,[.016,.102,.388]),TweenLite.to(this.uniforms.colorBottom.value,1,[.007,.466,.921])},o.prototype.start=function(){r.instance.add(this.update,this)},o.prototype.update=function(){this.uniforms.time.value+=.1},i.exports=o}),define("com/fighter/game/engine_shooter/backgrounds/items/Sky",["require","exports","module","PIXI","com/fighter/game/engine/Item","fido/bob/crash/Vector","com/fighter/game/filters/SkyFilter"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/engine/Item"),r=e("fido/bob/crash/Vector"),s=e("com/fighter/game/filters/SkyFilter"),a=(new r,new r,function(){var e=new o.Sprite.fromImage(ASSET_URL+"img/game/temp/canvas-bg.png");e.layer="back",n.call(this,0,0,e),o.isWebGL&&Device.instance.desktop?(this.skyFilter=new s,this.view.filters=[this.skyFilter]):(this.bg=new o.Sprite.fromFrame("background_gradient.png"),this.bg.anchor.y=0,this.bg.scale.x=40,this.view.addChild(this.bg),this.bgNight=new o.Sprite.fromFrame("env1_background_night.png"),this.bgNight.visible=!1,this.bgNight.alpha=0,this.bgNight.anchor.y=0,this.bgNight.scale.x=40,this.view.addChild(this.bgNight))});a.prototype=Object.create(n.prototype),a.prototype.update=function(){},a.prototype.resize=function(e,t){if(this.w=e||this.w,this.w=t||this.h,this.view.position.x=-400,o.isWebGL&&Device.instance.desktop)this.view.position.y=this.world.game.h-this.world.game.bounds.height,this.view.width=this.world.game.w+800,this.view.height=this.world.game.bounds.height;else{this.bg.position.y=this.world.game.h-this.world.game.bounds.height,this.bgNight.position.y=this.world.game.h-this.world.game.bounds.height;var i=this.world.game.bounds.height;this.bg.scale.y=1,this.bg.scale.y=i/this.bg.height,this.bgNight.scale.y=1,this.bgNight.scale.y=i/this.bgNight.height}},a.prototype.showSky1=function(){o.isWebGL&&Device.instance.desktop||(this.bgNight.visible=!1,this.bgNight.alpha=0,this.bg.texture=o.Texture.fromFrame("background_gradient.png"),this.resize())},a.prototype.showSky2=function(){o.isWebGL&&Device.instance.desktop||(this.bgNight.visible=!1,this.bgNight.alpha=0,this.bg.texture=o.Texture.fromFrame("env1_background_day.png"),this.resize())},a.prototype.showNight=function(e){o.isWebGL&&Device.instance.desktop||(this.bgNight.visible=!0,this.bgNight.alpha=0,this.bg.texture=o.Texture.fromFrame("env1_background_day.png"),this.resize(),EasingsGame.to(this.bgNight,e,{alpha:1}))},a.prototype.easeTo=function(e,t,i,n){o.isWebGL&&Device.instance.desktop&&this.skyFilter.easeTo(e,t,i,n)},a.prototype.setColor=function(e,t){o.isWebGL&&Device.instance.desktop&&this.skyFilter.setColor(e,t)},i.exports=a}),define("com/fighter/game/scripts/BustedScriptTitle",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e){o.Container.call(this),this.title=null,window.FONTS_EXTENDED?(this.title=new o.Text(e.toUpperCase(),{font:"70px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1,align:"center"}),this.title.anchor.x=this.title.anchor.y=.5,this.blurredTitle=new o.Text(e.toUpperCase(),{font:"70px "+window.MAIN_FONT,fill:"#ffbc29",align:"center"}),this.blurredTitle.anchor.x=this.blurredTitle.anchor.y=.5,this.blurredTitle.alpha=.8,this.blurredTitle.position=this.title.position,this.addChild(this.title),this.addChild(this.blurredTitle),o.isWebGL&&(this.blurFilter=new o.filters.BlurFilter,this.blurFilter.passes=5,this.blurFilter.blur=40)):(this.title=new o.extras.BitmapText(e,{font:"71px Star Jedi"}),this.title.pivot.y=60,this.title.position.x=-this.title.width/2,this.addChild(this.title))};n.prototype=Object.create(o.Container.prototype),n.prototype.onHide=function(){window.flipLanguage&&(this.blurredTitle.filters=null)},Object.defineProperties(n.prototype,{text:{get:function(){return this.title.text},set:function(e){this.title.text=e,window.flipLanguage?(this.blurredTitle.text=this.title.text,this.blurredTitle.filters=o.isWebGL?[this.blurFilter]:null):this.title.position.x=-this.title.width/2}}}),i.exports=n}),define("com/fighter/game/scripts/BannerText",["require","exports","module","PIXI","signals","fido/system/Ticker","com/fighter/game/scripts/BustedScriptTitle"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),e("fido/system/Ticker"),e("com/fighter/game/scripts/BustedScriptTitle"));o.DisplayObject.prototype.depthOffset=0;var r=function(e){this.engine=e,this.count=0,this.running=!1,this.banner=new o.Sprite.fromFrame("captured_swipe.png"),this.banner.hitArea=new o.Rectangle,this.banner.anchor.x=this.banner.anchor.y=.5,this.banner.scale.x=3;var t={fill:"white",font:"70px "+window.MAIN_FONT,align:"center",dropShadow:!1};this.icon=new o.Sprite,this.icon.anchor.x=.5,this.icon.anchor.y=.5,this.icon.hitArea=new o.Rectangle,this.text=new n("",t),this.text.hitArea=new o.Rectangle,this.banner.addChild(this.text),this.banner.addChild(this.icon)};r.constructor=r,r.prototype.run=function(e,t,i){if(!this.running){this.duration=i||2,this.text.title.scale.x=this.text.title.scale.y=1,this.text.title.text=e,this.text.title.scale.x=this.text.title.scale.y=Math.min(1,800/this.text.title.width),this.text.title.position.x=-this.text.title.width/2;var n=0;t?(this.icon.visible=!0,this.icon.alpha=0,this.icon.texture=o.Texture.fromFrame(t),n=this.icon.width):this.icon.visible=!1,this.icon.anchor.x=this.icon.anchor.y=.5,this.icon.position.x=-(this.text.title.width/2+40)/this.banner.scale.x,this.text.title.scale.x=this.text.title.scale.y=1,this.text.title.text=e,this.text.title.scale.x=this.text.title.scale.y=Math.min(1,800/(this.text.title.width+n)),this.text.title.position.x=-this.text.title.width/2,this.running=!0,this.count=0,this.engine.game.view.addChild(this.banner),t&&Easings.to(this.icon,.4,{alpha:1}),Easings.to(this.banner.scale,.2,{y:1,ease:Easings.easeOutCirc,onComplete:this.finish.bind(this)})}},r.prototype.finish=function(){Easings.to(this.banner.scale,.2,{delay:this.duration,y:0,onComplete:function(){this.running=!1,this.engine.game.view.removeChild(this.banner)}.bind(this)})},r.prototype.resize=function(e,t){this.w=e,this.h=t,this.banner.position.x=e/2,this.banner.position.y=t/2,this.banner.scale.x=1,this.banner.scale.x=e/this.banner.width,this.text.scale.x=1/this.banner.scale.x,this.icon.scale.x=1/this.banner.scale.x},r.prototype.reset=function(){this.banner.scale.y=0,this.running=!1},i.exports=r}),define("com/fighter/game/engine_shooter/KylorenSpaceship",["require","exports","module","PIXI","fido/utils/Math2","com/fighter/game/engine/Item","fido/utils/Utils","fido/system/Ticker","fido/system/DelayedCalls","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Math2"),e("com/fighter/game/engine/Item")),r=e("fido/utils/Utils"),s=e("fido/system/Ticker"),a=e("fido/system/DelayedCalls"),h=e("fido/sound/SoundBridge"),c=function(){n.call(this,0,0,new o.Container);var e=r.getTexturesFromFramesWithPrefix("kyloren_space_ship_000%%.png",20,0);this.kyloren=new o.Sprite(e[0]),this.kyloren.anchor.x=.5,this.kyloren.anchor.y=.5,this.kyloren.textures=e,this.kyloren.counter=0,this.kyloren.speed=.3,this.view.addChild(this.kyloren),this.delayedCalls=new a,this.isPlaying=!1};c.prototype=Object.create(n.prototype),c.prototype.animate=function(){this.isPlaying||h.sfx.play("kylo_loop"),this.delayedCalls.add(function(){this.animating=!0}.bind(this),2),EasingsGame.to(this.kyloren.position,10,{x:540,y:350,ease:EasingsGame.easeOutCirc,onComplete:function(){EasingsGame.to(this.kyloren,12,{rotation:-Math.PI/8,ease:EasingsGame.easeInCubic}),EasingsGame.to(this.kyloren.position,12,{x:1400,y:-100,ease:EasingsGame.easeInCubic,onComplete:function(){this.destroy(),h.sfx.stop("kylo_loop")}.bind(this)}),EasingsGame.to(this.kyloren.scale,12,{x:.6,y:.6,ease:EasingsGame.easeInCubic})}.bind(this)})},c.prototype.reset=function(e){this.kyloren.position.x=1200,this.kyloren.position.y=600,this.kyloren.rotation=0,this.kyloren.counter=0,this.kyloren.scale.x=this.kyloren.scale.y=1,this.animate()},c.prototype.removedFromWorld=function(){this.isPlaying&&h.sfx.stop("kylo_loop")},c.prototype.update=function(){this.animating&&(this.kyloren.counter+=this.kyloren.speed*s.game.deltaTime,this.kyloren.texture=this.kyloren.textures[Math.floor(this.kyloren.counter%this.kyloren.textures.length)],Math.floor(this.kyloren.counter%this.kyloren.textures.length)>=this.kyloren.textures.length-1&&(this.animating=!1))},i.exports=c}),define("com/fighter/game/engine_shooter/PoolToCheck",["require","exports","module"],function(e,t,i){var o=function(e){this.pool=e,this.name=this.pool.classType.name,this.firstLoop=!0,this.previousValue=null,this.valueChanged=!1,this.valueIncremented=!1,this.valueDecremented=!1,this.logs=[]};o.prototype.stop=function(){"Xwing"===this.name||"SpreadFire"===this.name},o.prototype.update=function(){return this.firstLoop?(this.firstValue=this.pool.pool.length,void(this.firstLoop=!1)):(this.currentValue=this.pool.pool.length,this.logs.push(this.currentValue),this.currentValue!==this.firstValue&&(this.valueChanged=!0),null!==this.previousValue&&this.currentValue>this.previousValue&&(this.valueIncremented=!0),null!==this.previousValue&&this.currentValue<this.previousValue&&(this.valueDecremented=!0),void(this.previousValue=this.currentValue))},i.exports=o}),define("com/fighter/game/engine_shooter/PoolCheck",["require","exports","module","com/fighter/game/engine/GameObjectPool","com/fighter/game/engine_shooter/PoolToCheck"],function(e,t,i){var o=e("com/fighter/game/engine/GameObjectPool"),n=e("com/fighter/game/engine_shooter/PoolToCheck"),r=function(){this.pools=[],this.currentNumberPool=0,this.isStopped=!1};r.prototype.reset=function(){for(var e=0;e<o.pools.length;e++)if(o.pools[e]){var t=new n(o.pools[e]);this.pools.push(t)}this.currentNumberPool=o.pools.length},r.prototype.stop=function(){for(var e=0;e<this.pools.length;e++)this.pools[e].stop()},r.prototype.update=function(){if(!this.isStopped){if(o.pools.length>this.pools.length)for(var e=0;e<o.pools.length;e++)if(e>=this.pools.length&&o.pools[e]){var t=new n(o.pools[e]);this.pools.push(t)}for(var e=0;e<this.pools.length;e++)this.pools[e]&&this.pools[e].update()}},i.exports=r}),define("com/fighter/game/engine_shooter/ShootyEngine",["require","exports","module","PIXI","com/fighter/game/GameConfig","fido/system/Ticker","com/fighter/game/engine/GameObjectPool","signals","com/fighter/app/system/GameSaveManager","com/fighter/game/engine_shooter/Player","com/fighter/game/engine_shooter/view/ShootyView","com/fighter/game/engine_shooter/enemies/EnemyManager","com/fighter/game/engine_shooter/xwingsManager/XwingManager","com/fighter/game/engine_shooter/CollisionManager","com/fighter/game/engine_shooter/bullets/BulletsManager","com/fighter/game/engine_shooter/backgrounds/AssetsManager","com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeaponManager","com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeaponManager","com/fighter/game/engine_shooter/pickups/PickupManager","com/fighter/game/engine_shooter/attractors/AttractorManager","com/fighter/game/engine_shooter/enemiesLaser/EnemiesLaserManager","com/fighter/game/engine_shooter/damages/ExplosionManager","com/fighter/game/engine_shooter/damages/DamageManager","com/fighter/game/engine_shooter/blast/BlastManager","com/fighter/game/engine_shooter/tutorial/TutorialManager","com/fighter/game/engine_shooter/targets/TargetsManager","fido/bob/index","com/fighter/game/engine_shooter/Camera","com/fighter/game/engine_shooter/TempCamera","com/fighter/game/engine_shooter/BobView","starwars/HangerTokenUtils","fido/sound/SoundBridge","fido/utils/Math2","com/fighter/game/engine_shooter/backgrounds/items/Sky","com/fighter/game/effects/GlitchEffect","com/fighter/game/scripts/BannerText","com/fighter/game/engine_shooter/DelayedCallsGame","fido/goals/Goals","com/fighter/game/engine_shooter/KylorenSpaceship","com/fighter/game/engine_shooter/PoolCheck"],function(e,t,i){function o(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t}var n=e("PIXI"),r=e("com/fighter/game/GameConfig"),s=(e("fido/system/Ticker"),e("com/fighter/game/engine/GameObjectPool")),a=e("signals"),h=e("com/fighter/app/system/GameSaveManager"),c=e("com/fighter/game/engine_shooter/Player"),l=e("com/fighter/game/engine_shooter/view/ShootyView"),p=e("com/fighter/game/engine_shooter/enemies/EnemyManager"),u=e("com/fighter/game/engine_shooter/xwingsManager/XwingManager"),d=e("com/fighter/game/engine_shooter/CollisionManager"),g=e("com/fighter/game/engine_shooter/bullets/BulletsManager"),f=e("com/fighter/game/engine_shooter/backgrounds/AssetsManager"),m=e("com/fighter/game/engine_shooter/secondaryWeapon/SecondaryWeaponManager"),v=e("com/fighter/game/engine_shooter/powerUpWeapon/PowerUpWeaponManager"),y=e("com/fighter/game/engine_shooter/pickups/PickupManager"),_=e("com/fighter/game/engine_shooter/attractors/AttractorManager"),x=e("com/fighter/game/engine_shooter/enemiesLaser/EnemiesLaserManager"),w=e("com/fighter/game/engine_shooter/damages/ExplosionManager"),b=e("com/fighter/game/engine_shooter/damages/DamageManager"),k=e("com/fighter/game/engine_shooter/blast/BlastManager"),S=e("com/fighter/game/engine_shooter/tutorial/TutorialManager"),T=e("com/fighter/game/engine_shooter/targets/TargetsManager"),C=e("fido/bob/index"),M=e("com/fighter/game/engine_shooter/Camera"),P=(e("com/fighter/game/engine_shooter/TempCamera"),e("com/fighter/game/engine_shooter/BobView")),E=e("starwars/HangerTokenUtils"),I=e("fido/sound/SoundBridge"),F=(e("fido/utils/Math2"),e("com/fighter/game/engine_shooter/backgrounds/items/Sky")),B=e("com/fighter/game/effects/GlitchEffect"),A=e("com/fighter/game/scripts/BannerText"),O=e("com/fighter/game/engine_shooter/DelayedCallsGame"),L=e("fido/goals/Goals"),D=e("com/fighter/game/engine_shooter/KylorenSpaceship"),R=(e("com/fighter/game/engine_shooter/PoolCheck"),function(e){this.onTrickBegin=new a,this.onTrickComplete=new a,this.onTrickFail=new a,this.onCoinsEarned=new a,this.onPlayerLoseLife=new a,this.onPlayerWinLife=new a,this.onPlayerDie=new a,this.onEnemySurvived=new a,this.onEnemyDied=new a,this.onSuperLaserUsed=new a,this.w=0,this.h=0,this.game=e,this.canShake=!0,this.canScale=!0,this.canSpawn=!1,this.tick=0,this.defaultBounds=new n.Rectangle(0,0,1130,840),this.bounds=this.defaultBounds.clone(),this.currentOffset=new n.Point,this.camera=new M(this);var t={camera:this.camera};this.world=new C.World,this.world.install(new P(t),"view"),this.world.game=this,this.glitchEffectContainer=new B,this.glitchEffectContainer.glitchScale1=[80,30,140],this.glitchEffectContainer.glitchScale2=[20,160,180],this.game.view.addChild(this.glitchEffectContainer),this.glitchEffectContainer.addChild(this.world.view),n.isWebGL&&Device.instance.desktop&&(this.colorMatrixFilter=new n.filters.ColorMatrixFilter,this.glitchEffectContainer.filters=null,this.displacementSprite=new n.Sprite.fromImage(ASSET_URL+"img/game/arcade/lightsaber-wave-map.jpg"),this.displacementSprite.hitArea=new n.Rectangle,this.displacementSprite.anchor.set(.5),this.displacementSprite.scale.set(0),this.colorSprite=new n.Sprite.fromImage(ASSET_URL+"img/game/arcade/ui_bg_lighten.png"),this.colorSprite.hitArea=new n.Rectangle,this.colorSprite.blendMode=n.BLEND_MODES.MULTIPLY,this.colorSprite.anchor.set(.5),this.colorSprite.scale.set(0),this.glitchEffectContainer.addChild(this.displacementSprite),this.glitchEffectContainer.addChild(this.colorSprite),this.displacementFilter=new n.filters.DisplacementFilter(this.displacementSprite),this.effectTimeline=new TimelineMax,this.effectTimeline.fromTo(this.displacementSprite.scale,2,{x:0,y:0},{x:30,y:30,onComplete:function(){this.world.view.filters=null},onCompleteScope:this,ease:Linear.easeOut}),this.effectTimeline.fromTo(this.colorSprite.scale,.4,{x:0,y:0},{x:20,y:20,ease:Expo.easeOut},.1),this.effectTimeline.fromTo(this.colorSprite,1,{alpha:1},{alpha:0},1)),this.enemyManager=new p(this),this.enemyManager.onEnemySurvived.add(this._onEnemySurvived,this),this.enemyManager.onEnemyDied.add(this._onEnemyDied,this),this.player=new c(this),this.player.onDying.add(this.onPlayerDie.dispatch,this),this.player.onLosingLife.add(this.playerLoseLife,this),this.player.onWinningLife.add(this.playerWinLife,this),this.world.add(this.player),this.world.addGroups(["enemies","attractors","player","enemies_bullets","player_bullets","bullets","secondary_weapon","powerup_weapons","xwings","shields","rockets","coins","health","bros","slowmo","dimensions","waves","spread_fire","enemies_lasers","pickups","hanger_coins","cloudy_trails","explosions","damages","blasts","surface_missile","enemies_back","smoke_trails","steams","targets"]),this.sky=new F,this.world.add(this.sky),this.blastManager=new k(this),this.assetsManager=new f(this),this.collisionManager=new d(this),this.enemiesLaserManager=new x(this),this.bulletsManager=new g(this),this.secondaryWeaponManager=new m(this),this.powerUpWeaponManager=new v(this),this.pickupManager=new y(this),this.attractorManager=new _(this),this.xwingManager=new u(this),this.explosionManager=new w(this),this.damageManager=new b(this),this.tutorialManager=new S(this,this.enemyManager),this.targetsManager=new T(this),this.view=new l(this),this.bannerText=new A(this),this.delayedCalls=new O,this.test=[],this.test.push(["enemies",this.world.groups.enemies]),this.test.push(["attractors",this.world.groups.attractors]),this.test.push(["player",this.world.groups.player]),this.test.push(["enemies_bullets",this.world.groups.enemies_bullets]),this.test.push(["player_bullets",this.world.groups.player_bullets]),this.test.push(["bullets",this.world.groups.bullets]),this.test.push(["secondary_weapon",this.world.groups.secondary_weapon]),this.test.push(["powerup_weapons",this.world.groups.powerup_weapons]),this.test.push(["xwings",this.world.groups.xwings]),this.test.push(["shields",this.world.groups.shields]),this.test.push(["rockets",this.world.groups.rockets]),this.test.push(["coins",this.world.groups.coins]),this.test.push(["health",this.world.groups.health]),this.test.push(["bros",this.world.groups.bros]),this.test.push(["slowmo",this.world.groups.slowmo]),this.test.push(["dimensions",this.world.groups.dimensions]),this.test.push(["waves",this.world.groups.waves]),this.test.push(["spread_fire",this.world.groups.spread_fire]),this.test.push(["enemies_lasers",this.world.groups.enemies_lasers]),this.test.push(["pickups",this.world.groups.pickups]),this.test.push(["hanger_coins",this.world.groups.hanger_coins]),this.test.push(["cloudy_trails",this.world.groups.cloudy_trails]),this.test.push(["explosions",this.world.groups.explosions]),this.test.push(["damages",this.world.groups.damages]),this.test.push(["blasts",this.world.groups.blasts]),this.test.push(["surface_missile",this.world.groups.surface_missile]),this.test.push(["enemies_back",this.world.groups.enemies_back]),this.test.push(["smoke_trails",this.world.groups.smoke_trails]),this.test.push(["steams",this.world.groups.steams]),this.test.push(["targets",this.world.groups.targets])});R.constructor=R,R.prototype.blastEffect=function(e){n.isWebGL&&Device.instance.desktop&&(this.displacementSprite.position.x=e.x,this.displacementSprite.position.y=e.y,this.world.view.filters=[this.displacementFilter],this.effectTimeline.restart())},R.prototype.explodeEveryone=function(){this.view.showBombEffect(),this.delayedCalls.add(function(){this.enemyManager.explodeEveryone()}.bind(this),.1)},R.prototype.getRemainingTimeSlowmo=function(){if(null!==this.idDelayedSlowmo){var e=this.delayedCalls.getRemainingTime(this.idDelayedSlowmo)/60;return e}return 0},R.prototype.goSlowmo=function(){this.game.timeManager.slowMoPickup(.2,2),this.game.hud.addPickupToHUD("icon_slowmo","Slowmo"),this.idDelayedSlowmo=this.delayedCalls.add(function(){this.game.timeManager.slowMoPickupStop(),this.idDelayedSlowmo=null}.bind(this),8)},R.prototype.moveCameraLeft=function(){TweenLite.to(this.camera.offset,.2,{x:-150})},R.prototype.moveCameraRight=function(){TweenLite.to(this.camera.offset,.2,{x:150})},R.prototype.start=function(){this.animateIntro(this.startGame)},R.prototype.startGame=function(){this.animatingIntro=!1,h.instance.save.tuto?this.delayedCalls.add(function(){this.enemyManager.reset(),this.enemyManager.waveManager.reset()}.bind(this),2):this.delayedCalls.add(function(){this.tutorialManager.reset()}.bind(this),2),this.player.start()},R.prototype.animateIntro=function(e){this.camera.ease.y=320,this.camera.offset.x=0,this.camera.target.x=200,this.camera.zoom=2,this.game.endless&&(h.instance.save.missions[2].localHighscore>0?this.bannerText.run(translations.STR_ENDLESS_INTRO+h.instance.save.missions[2].localHighscore,null,2):this.bannerText.run(translations.STR_FIRST_TIME_ENDLESS,null,2)),EasingsGame.to(this.camera.target,1.5,{delay:.2,x:this.camera.target.x-450,ease:Easings.easeOutSine,onComplete:function(){this.game.hideBorders(),EasingsGame.to(this.camera.target,1,{x:0,ease:Easings.easeInOutSine}),EasingsGame.to(this.camera,1,{zoom:1,ease:Easings.easeInOutSine,onComplete:function(){e.call(this)}.bind(this)})}.bind(this)})},R.prototype.reset=function(){"first"===this.game.missionId?(this.view.showWorld1Assets(),n.isWebGL&&Device.instance.desktop?this.sky.setColor([.031,.949,.882],[.008,.357,.404]):this.sky.showSky1()):(this.view.showWorld2Assets(),n.isWebGL&&Device.instance.desktop?(this.sky.setColor([97/255,240/255,254/255],[75/255,154/255,174/255]),this.sky.easeTo([0,29/255,47/255],[84/255,188/255,227/255],20,0)):(this.sky.showSky2(),this.sky.showNight(20))),this.nbEnemyKilledInRow=0,this.world.view.filters=null,this.animatingIntro=!0,this.bounds=this.defaultBounds,this.canShake=!0,this.canScale=!0,this.glitchEffectContainer.filters=null,this.bannerText.reset(),this.view.reset(),this.world.view.camera.reset(),this.player.reset(),this.canSpawn=!0,this.assetsManager.reset(),this.assetsManager.start(this.game.endless),this.game.timeManager.reset(),this.bulletsManager.reset(),this.secondaryWeaponManager.reset(),this.enemiesLaserManager.reset(),this.powerUpWeaponManager.reset(),this.pickupManager.reset(),this.attractorManager.reset(),this.xwingManager.reset(),this.explosionManager.reset(),this.damageManager.reset(),this.targetsManager.reset(),this.addCoinAttractor()},R.prototype.showKyloren=function(e){if(e)this.delayedCalls.add(function(){var e=s.getObject(D);this.world.add(e),e.reset()}.bind(this),e);else{var t=s.getObject(D);this.world.add(t),t.reset()}},R.prototype.fadeToGrey=function(e,t){if(n.isWebGL&&Device.instance.desktop){this.world.view.filters=[this.colorMatrixFilter];var i={sat:0};EasingsGame.to(i,e,{sat:-1,delay:t||0,ease:Easings.easeOutCirc,onUpdate:function(){this.colorMatrixFilter.saturate(i.sat)}.bind(this)})}},R.prototype.fadeGreyNormal=function(e,t){if(n.isWebGL&&Device.instance.desktop){this.world.view.filters=[this.colorMatrixFilter];var i={sat:-1};EasingsGame.to(i,e,{sat:0,delay:t||0,ease:Easings.easeInCubic,onUpdate:function(){this.colorMatrixFilter.saturate(i.sat)}.bind(this),onComplete:function(){this.world.view.filters=null}.bind(this)})}},R.prototype.tutorialIsFinished=function(){this.game.hud.progressBar.reset(),this.enemyManager.reset(),this.enemyManager.waveManager.reset()},R.prototype.glitch=function(e,t){this.glitchEffectContainer.glitch(t)},R.prototype.changeWorldAssets=function(e,t){t?this.delayedCalls.add(function(){"first"===e?(Device.instance.desktop?this.sky.setColor([.031,.949,.882],[.008,.357,.404]):this.sky.showSky1(),this.view.showWorld1Assets()):(Device.instance.desktop?this.sky.setColor([97/255,240/255,254/255],[75/255,154/255,174/255]):this.sky.showSky2(),this.view.showWorld2Assets())}.bind(this),t):"first"===e?(Device.instance.desktop?this.sky.setColor([.031,.949,.882],[.008,.357,.404]):this.sky.showSky1(),this.view.showWorld1Assets()):(Device.instance.desktop?this.sky.setColor([97/255,240/255,254/255],[75/255,154/255,174/255]):this.sky.showSky2(),this.view.showWorld2Assets())},R.prototype.destroy=function(){EasingsGame.killTweensOf(this.camera.target),EasingsGame.killTweensOf(this.camera),this.enemyManager.destroy(),this.secondaryWeaponManager.reset(),this.delayedCalls.clear(),this.tutorialManager.destroy()},R.prototype.setEnvironment=function(e){"world2env3"===e.name?(this.bounds.height=640,this.manageMoveArea(this.w,this.h),this.view.hideSunLight(),this.canShake=!1,this.canScale=!1):(this.bounds.height=840,this.canShake=!0,this.canScale=!0),"world2env2"===e.name?(this.view.animateSunApparitionWorld2Env2(),this.view.showSunWorld2()):this.view.hideSunEnv2(),"evian"===e.name&&this.view.showSunWorld2(),"castle"===e.name?this.view.hideSunEnv1():("lake"===e.name||"forest"===e.name)&&this.view.showSunEnv1();
},R.prototype.newLevelStep=function(e){return this.game.endless?(this.assetsManager.manageLevel(this.game.endless,e),!0):this.assetsManager.manageLevel()},R.prototype._onEnemyDied=function(e){e=e||1,this.onTrickBegin.dispatch(r.tricks.ENEMY_DIE),this.onTrickComplete.dispatch(r.tricks.ENEMY_DIE),this.onEnemyDied.dispatch(e),this.nbEnemyKilledInRow++,this.nbEnemyKilledInRow>=50?L.instance.increment("destroy_50_enemies_row",1):this.nbEnemyKilledInRow>=25?L.instance.increment("destroy_25_enemies_row",1):this.nbEnemyKilledInRow>=10?L.instance.increment("destroy_10_enemies_row",1):this.nbEnemyKilledInRow>=5&&L.instance.increment("destroy_5_enemies_row",1),Math.random()>.4&&this.camera.shake(15)},R.prototype._onEnemySurvived=function(e){e=e||1,this.onEnemySurvived.dispatch(e)},R.prototype.addXWings=function(){this.xwingManager.help()},R.prototype.addCoinAttractor=function(){var e=this.attractorManager.addAttractor(this.player);this.player.addCoinAttractor(e)},R.prototype.addShield=function(){var e;e=this.player.shield?null:this.attractorManager.addShield(this.player),this.game.hud.addPickupToHUD("icon_shield","Shield"),this.player.addShield(e)},R.prototype.stopPrimaryWeapon=function(){this.player.stopPrimaryWeapon()},R.prototype.playPrimaryWeapon=function(){this.player.playPrimaryWeapon();for(var e=this.world.groups.xwings.children,t=0;t<e.length;t++)e[t].playPrimaryWeapon()},R.prototype.fireSecondaryWeapon=function(e){this.secondaryWeaponManager.fire(this.game.hud.gaugeWeapon.ratio,this.player),e>.6?this.onSuperLaserUsed.dispatch():.3>e&&this.game.controller.displayLaserHelp()},R.prototype.stopSecondaryWeapon=function(){},R.prototype.addPowerUpWeapon=function(e){this.powerUpWeaponManager.addWeapon(e)},R.prototype.increaseHealth=function(){this.player.forceGetBackLife(),this.player.winLife()},R.prototype.playerWinLife=function(e){this.onPlayerWinLife.dispatch(e)},R.prototype.playerLoseLife=function(e){this.onPlayerLoseLife.dispatch(e),this.nbEnemyKilledInRow=0},R.prototype.earnCoins=function(e){this.onCoinsEarned.dispatch(e)},R.prototype.earnHangerCoins=function(e){I.sfx.play("hanger_token"),this.game.app.alertPanelManager.show("firstArcadeToken"),I.sfx.play("hanger_token"),window.tuesday?E.addToken(20):E.addToken(10)},R.prototype.movePlayer=function(e,t){var i=this.player.positionBeforeMoving.y+t,o=this.currentOffset.y;this.player.moveTo({x:this.player.positionBeforeMoving.x+e,y:i-o})},R.prototype.updateCamera=function(){var e=this.camera.zoom;this.world.view.scale.set(e);var t=0;if(this.player.positionVec.y<this.moveZone.ymin){var i=this.moveZone.ymin+Math.abs(this.moveZone.ymax);t=1-(Math.abs(this.moveZone.ymax)+this.player.positionVec.y)/i,t>1&&(t=1),0>t&&(t=0)}if(this.player.position.x>this.w/4){var o=(this.player.positionVec.x-this.w/4)/(this.w-this.w/4);o>1&&(o=1),this.camera.offset.x=200*o}this.camera.target.y=(this.targetC.ymin-this.targetC.ymax)*t,this.currentOffset.y=this.camera.target.y},R.prototype.managePlayersScales=function(){var e=0,t=-200,i=200;if(this.player.positionVec.y>t&&(e=(this.player.positionVec.y+Math.abs(t))/(this.h+2*Math.abs(t)),this.player.positionVec.y>i)){percentage2=(this.player.positionVec.y-Math.abs(t))/this.h*2;var n=o(percentage2,0,5,1);n>0&&this.canShake&&this.tick%5===0&&(this.animatingIntro&&(n*=5),n*=.5,this.camera.shake(null,n))}this.canScale&&(this.player.manageScale(e),this.xwingManager.manageScale(),this.enemyManager.manageScale())},R.prototype.displayWildElements=function(){for(var e=0;e<this.test.length;e++);},R.prototype.update=function(){this.updateCamera(),this.world.update(),this.camera.update(),this.collisionManager.update(),this.pickupManager.update(),this.managePlayersScales(),this.bulletsManager.update(),this.powerUpWeaponManager.update(),this.xwingManager.update(),this.enemyManager.update(),this.secondaryWeaponManager.update(),this.targetsManager.update(),this.tick++},R.prototype.manageMoveArea=function(e,t){this.moveZone={ymin:200,ymax:t-this.bounds.height},this.targetC={ymin:0,ymax:t-this.bounds.height}},R.prototype.resize=function(e,t){this.w=e,this.h=t,this.view.resize(e,t),this.manageMoveArea(e,t),this.assetsManager.resize(e,t),this.bannerText.resize(e,t),this.world.view.camera.defaultPoint.x=e/2,this.world.view.camera.defaultPoint.y=t/2,this.world.view.camera.resize(e,t),this.sky.resize(e,t),this.glitchEffectContainer.resize(e,t)},i.exports=R}),define("fido/input/Keyboard",["require","exports","module"],function(e,t,i){Keyboard=function(){this._states={up:0,down:1},this._keyCodes={37:{label:"left",state:0,preventBubble:!0},38:{label:"up",state:0,preventBubble:!0},39:{label:"right",state:0,preventBubble:!0},40:{label:"down",state:0,preventBubble:!0},49:{label:"1",state:0,preventBubble:!0},50:{label:"2",state:0,preventBubble:!0},51:{label:"3",state:0,preventBubble:!0},52:{label:"4",state:0,preventBubble:!0},53:{label:"5",state:0,preventBubble:!0},54:{label:"6",state:0,preventBubble:!0},55:{label:"7",state:0,preventBubble:!0},56:{label:"8",state:0,preventBubble:!0},57:{label:"9",state:0,preventBubble:!0},97:{label:"numpad1",state:0,preventBubble:!0},98:{label:"numpad2",state:0,preventBubble:!0},99:{label:"numpad3",state:0,preventBubble:!0},100:{label:"numpad4",state:0,preventBubble:!0},101:{label:"numpad5",state:0,preventBubble:!0},102:{label:"numpad6",state:0,preventBubble:!0},103:{label:"numpad7",state:0,preventBubble:!0},104:{label:"numpad8",state:0,preventBubble:!0},105:{label:"numpad9",state:0,preventBubble:!0},13:{label:"enter",state:0,preventBubble:!0},32:{label:"space",state:0,preventBubble:!0},65:{label:"a",state:0,preventBubble:!0},68:{label:"d",state:0,preventBubble:!0},80:{label:"p",state:0,preventBubble:!0},83:{label:"s",state:0,preventBubble:!0},87:{label:"w",state:0,preventBubble:!0},88:{label:"x",state:0,preventBubble:!0}},this.hash={},this.disabled=!1,this.start(),this.dirty=!1},Keyboard.prototype.start=function(){var e=this;this._onKeyDown=function(t){return e.processKeyDown(t)},this._onKeyUp=function(t){return e.processKeyUp(t)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1)},Keyboard.prototype.stop=function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp)},Keyboard.prototype.processKeyDown=function(e){if(this.disabled!==!0){var t=e.keyCode;if(this.keyCode=t,this._keyCodes.hasOwnProperty(t)){var i=this._keyCodes[t];i.preventBubble&&e.preventDefault(),i.state!=this._states.down&&(i.state=this._states.down,this.dirty=!0,this.hash[i.label]&&this.hash[i.label](i))}}},Keyboard.prototype.processKeyUp=function(e){if(this.disabled!==!0){var t=e.keyCode;if(this.keyCode=null,this._keyCodes.hasOwnProperty(t)){var i=this._keyCodes[t];i.preventBubble&&e.preventDefault(),i.state!=this._states.up&&(i.state=this._states.up,this.dirty=!0)}}},Keyboard.prototype.isPressed=function(e){var t=this.getCodeFromLabel(e);return t?this._keyCodes[t].state===this._states.down:!1},Keyboard.prototype.getCodeFromLabel=function(e){for(var t in this._keyCodes)if(this._keyCodes[t].label===e)return t;return!1},Keyboard.prototype.onKeyPress=function(e,t){this.hash[e]=t},i.exports=Keyboard}),define("com/fighter/game/control/Controller",["require","exports","module","fido/input/Keyboard","com/fighter/game/GameConfig","fido/bob/crash/Vector","fido/utils/CircleMask"],function(e,t,i){var o=e("fido/input/Keyboard"),n=e("com/fighter/game/GameConfig"),r=e("fido/bob/crash/Vector"),s=e("fido/utils/CircleMask"),a=new r,h=new r,c=function(e){this.type={nothing:0,move:1,shoot:2},this.desktop=Device.instance.desktop,this.touches=[],this.firstTouched=this.type.nothing,this.isDown=!1,this.game=e,this.view=this.game.view,this.keyboard=new o,this.keyboard.onKeyPress("p",this.onPausePressed.bind(this));({left:n.keyCodes.left,up:n.keyCodes.up,right:n.keyCodes.right,down:n.keyCodes.down});if(this.moveArea=new PIXI.Container,this.moveArea.hitArea=new PIXI.Rectangle(0,0,1700,6e3),this.moveArea.interactive=!0,this.moveArea.defaultCursor="none",this.moveArea.mousedown=this.moveArea.touchstart=this.touchStart.bind(this),this.moveArea.mousemove=this.moveArea.touchmove=this.touchMove.bind(this),this.moveArea.mouseupoutside=this.moveArea.touchendoutside=this.touchEnd.bind(this),this.moveArea.mouseup=this.moveArea.touchend=this.touchEnd.bind(this),this.view.addChild(this.moveArea),this.chargeWeaponArea=new PIXI.Container,this.chargeWeaponArea.hitArea=new PIXI.Rectangle(700,300,500,500),this.chargeWeaponArea.interactiveChildren=!1,this.chargeWeaponArea.interactive=!0,this.chargeWeaponArea.mousedown=this.chargeWeaponArea.touchstart=this.chargeWeapon.bind(this),this.chargeWeaponArea.mouseup=this.chargeWeaponArea.mouseupoutside=this.chargeWeaponArea.touchend=this.touchEnd.bind(this),!this.desktop){if(this.bgMobileButton=new PIXI.Sprite.fromFrame("buton_hold_background.png"),this.bgMobileButton.anchor.x=this.bgMobileButton.anchor.y=.5,this.bgMobileButton.scale.x=this.bgMobileButton.scale.y=1.2,this.bgMobileButton.position.x=1040,this.bgMobileButton.position.y=480,this.chargeWeaponArea.addChild(this.bgMobileButton),PIXI.isWebGL){this.circleMask=new s,this.circleMask.scale.x*=-1,this.bgMobileButton.addChild(this.circleMask),this.inlineCircle=new PIXI.Sprite.fromFrame("buton_hold_charge.png"),this.inlineCircle.anchor.x=.5,this.inlineCircle.anchor.y=.5,this.inlineCircle.mask=this.circleMask,this.inlineCircle.mask.cacheAsBitmap=!0,this.bgMobileButton.addChild(this.inlineCircle);var t=new PIXI.Sprite.fromFrame("buton_hold_icon.png");t.anchor.x=.5,t.anchor.y=.5,this.bgMobileButton.addChild(t)}this.view.addChild(this.chargeWeaponArea)}this.keyboardSpeed=new PIXI.Point,this.isMoving=!1,this.isDown=!1,this.captchaY=0,this.count=0,this.keyIsDown=!1,this.keyIsDown2=!1,this.radius=50,this.maxSpeed=12,this.speedKeyboard=new PIXI.Point,this.speed=new PIXI.Point,this.pos=new PIXI.Point,this.previousTime=!1,this.previousPos=new PIXI.Point};c.prototype.onPausePressed=function(){this.game.paused?this.game.app.overlayManager.hide():this.game.app.overlayManager.show("pause")},c.prototype.chargeWeapon=function(e){this.increaseGauge=!0},c.prototype.releaseWeapon=function(e){this.increaseGauge=!1},c.prototype.disable=function(){this.view.interactive=!1},c.prototype.showCursor=function(e){e?this.moveArea.buttonMode=!1:this.moveArea.buttonMode=!0},c.prototype.touchStart=function(e){this.isDown=!0;var t={id:e.data.identifier||0,pos:e.data.getLocalPosition(this.view),originalPos:e.data.getLocalPosition(this.view)};this.desktop?this.chargeWeapon():0===this.touches.length&&(this.game.engine.player.positionBeforeMoving.x=this.game.engine.player.positionVec.x,this.game.engine.player.positionBeforeMoving.y=this.game.engine.player.positionVec.y,this.touches.push(t))},c.prototype.touchMove=function(e){var t,i,o,n=e.data.getLocalPosition(this.view);if(h.x=n.x,h.y=n.y,this.game.engine.player.view.setSpeed(this.speed),this.game.engine.xwingManager.setSpeed(this.speed),this.desktop)this.pos=n,this.speed=this.calculateSpeed(),this.game.engine.movePlayer(n.x,n.y),this.previousPos.x=this.pos.x,this.previousPos.y=this.pos.y;else for(var r=this.touches.length-1;r>-1;r--)this.touches[r].id===(e.data.identifier||0)&&(a.x=this.touches[r].originalPos.x,a.y=this.touches[r].originalPos.y,t=h.minus(a),i=t.length(),t.normalize(),o=i/this.radius,i+=o*this.maxSpeed,t.multiply(i),this.game.engine.movePlayer(t.x,t.y+this.game.engine.currentOffset.y),0===r&&(this.pos=n,this.speed=this.calculateSpeed(),this.pos=n,this.previousPos.x=this.pos.x,this.previousPos.y=this.pos.y),this.isMoving=!0);this.previousTime=Date.now()},c.prototype.touchEnd=function(e){if(this.desktop)this.releaseWeapon(),this.isDown=!1;else{for(var t=!0,i=this.touches.length-1;i>-1;i--)this.touches[i].id===e.data.identifier&&(t=!1,this.touches.splice(i,1));t&&this.releaseWeapon(),0===this.touches.length&&(this.isDown=!1,this.isMoving=!1)}},c.prototype.calculateSpeed=function(e){var t,i,o,n,r,s,a,h,c,l,p,u=e?e.x:this.pos.x,d=e?e.y:this.pos.y;return this.previousTime===!1?0:(c=this.previousTime,t=this.previousPos.x,i=this.previousPos.y,o=Date.now(),n=t-u,r=i-d,s=o-c,l=0>n?1:-1,p=0>r?1:-1,u=t,d=i,a=l*Math.sqrt(n*n)/(s/10),h=p*Math.sqrt(r*r)/(s/10),isNaN(a)&&(a=0),isNaN(h)&&(h=0),{x:a,y:h})},c.prototype.pause=function(){this.touches=[],this.increaseGauge=!1,this.isDown=!1,this.isMoving=!1,this.isDown=!1},c.prototype.destroy=function(){this.touches=[],this.increaseGauge=!1,this.isDown=!1,this.isMoving=!1,this.isDown=!1,this.captchaY=0,this.count=0,this.keyIsDown=!1,this.keyIsDown2=!1,this.speedKeyboard=new PIXI.Point,this.speed=new PIXI.Point,this.pos=new PIXI.Point,this.previousTime=!1,this.previousPos=new PIXI.Point},c.prototype.displayLaserHelp=function(){},c.prototype.enable=function(){this.view.interactive=!0},c.prototype.update=function(e){if(Device.instance.desktop){this.keyIsDown=!1;var t=0,i=0;this.keyboard.isPressed("up")?(this.upPressed||(this.keyboardSpeed.y=.1),this.upPressed=!0,this.keyIsDown=!0,i-=30):this.keyboard.isPressed("down")&&(this.upPressed||(this.keyboardSpeed.y=.1),this.upPressed=!1,this.keyIsDown=!0,i+=30),this.keyboard.isPressed("left")?(this.leftPressed||(this.keyboardSpeed.x=.1),this.keyIsDown=!0,this.leftPressed=!0,t-=31):this.keyboard.isPressed("right")&&(this.leftPressed&&(this.keyboardSpeed.x=.1),this.leftPressed=!1,this.keyIsDown=!0,t+=31),this.keyIsDown,this.speedKeyboard.x+=.2*(t-this.speedKeyboard.x),this.speedKeyboard.y+=.2*(i-this.speedKeyboard.y),Math.abs(this.speedKeyboard.x)<.01&&(this.speedKeyboard.x=0),Math.abs(this.speedKeyboard.y)<.01&&(this.speedKeyboard.y=0),(Math.abs(this.speedKeyboard.x)>=.01||Math.abs(this.speedKeyboard.y)>=.01)&&(Math.abs(this.speedKeyboard.x)>=.01&&(this.pos.x=this.game.engine.player.position.x+this.speedKeyboard.x),Math.abs(this.speedKeyboard.y)>=.01&&(this.pos.y=this.game.engine.player.position.y+this.speedKeyboard.y+this.game.engine.currentOffset.y),this.speed=this.calculateSpeed(this.speedKeyboard),this.game.engine.player.view.setSpeed({x:this.speedKeyboard.x,y:.5*this.speedKeyboard.y}),this.game.engine.xwingManager.setSpeed(this.speedKeyboard),this.previousPos.x=this.speedKeyboard.x,this.previousPos.y=this.speedKeyboard.y,this.keyIsDown&&this.game.engine.movePlayer(this.pos.x,this.pos.y))}!this.keyboard.isPressed("space")&&!this.increaseGauge||this.game.hud.gaugeWeapon.isDecreasing?(this.keyIsDown2&&!this.game.hud.gaugeWeapon.isDecreasing&&(this.game.engine.fireSecondaryWeapon(this.game.hud.gaugeWeapon.ratio),this.game.engine.playPrimaryWeapon(),this.game.hud.gaugeWeapon.decrease(),this.keyIsDown2=!1),PIXI.isWebGL&&!Device.instance.desktop&&(this.circleMask.ratio>0?(this.inlineCircle.mask.cacheAsBitmap=!1,this.circleMask.ratio-=.02):this.inlineCircle.mask.cacheAsBitmap=!0)):(this.game.hud.gaugeWeapon.increase(),this.keyIsDown2||this.game.engine.stopPrimaryWeapon(),this.keyIsDown2=!0,PIXI.isWebGL&&!Device.instance.desktop&&(this.inlineCircle.mask.cacheAsBitmap=!1,this.circleMask.ratio<=1?this.circleMask.ratio+=.02:this.inlineCircle.mask.cacheAsBitmap=!0))},i.exports=c}),define("com/fighter/game/TimeManager",["require","exports","module","fido/system/Ticker"],function(e,t,i){var o=e("fido/system/Ticker");o.game=new o(1);var n=function(e){this.game=e,this.tick=0,this.tickBackground=1,this.tickSpeedEnemies=1,this.currentEnemiesSpeed=1,this.currentBackgroundsSpeed=1,this.currentSpeed=1,this.endless=!1};n.prototype.reset=function(){this.currentEnemiesSpeed=1,this.tickSpeedEnemies=1,this.currentBackgroundsSpeed=1,this.tickBackground=1},n.prototype.update=function(){this.tick++,this.tick%(Device.instance.desktop?5:40)===0&&(Device.instance.desktop?this.game.incrementDistance(o.game.speed*this.tickSpeedEnemies*this.game.speedShip):this.game.incrementDistance(o.game.speed*this.tickSpeedEnemies*this.game.speedShip*8))},n.prototype.startEndlessMode=function(){this.endless=!0},n.prototype.incrementSpeedEndlessMode=function(){this.endless=!0,this.tickSpeedEnemies<4&&(this.currentEnemiesSpeed+=.002,EasingsGame.to(this,1,{tickSpeedEnemies:this.currentEnemiesSpeed,ease:EasingsGame.easeOutCirc})),this.tickBackground<6&&(this.currentBackgroundsSpeed+=.004,EasingsGame.to(this,1,{tickBackground:this.currentBackgroundsSpeed,ease:EasingsGame.easeOutCirc}))},n.prototype.stopEndlessMode=function(){this.endless=!1,this.tickSpeedEnemies=1,this.tickBackground=1},n.prototype.slowMoPickupStop=function(){EasingsGame.to(this,2,{delay:0,tickSpeedEnemies:this.currentEnemiesSpeed,ease:EasingsGame.easeOutCirc}),EasingsGame.to(this,2,{delay:0,tickSpeedEnemies:this.currentBackgroundsSpeed,ease:EasingsGame.easeOutCirc})},n.prototype.slowMoPickup=function(e,t,i){EasingsGame.to(this,t,{delay:i||0,tickSpeedEnemies:e,ease:EasingsGame.easeOutCirc}),EasingsGame.to(this,t,{delay:i||0,tickSpeedEnemies:e,ease:EasingsGame.easeOutCirc})},n.prototype.easeEnemiesSpeed=function(e,t,i){EasingsGame.to(this,t,{delay:i||0,tickSpeedEnemies:e,ease:EasingsGame.easeOutCirc})},n.prototype.easeGameSpeed=function(e,t,i){EasingsGame.to(o.game,t,{delay:i||0,speed:e,ease:EasingsGame.easeOutCirc})},n.prototype.playbackBackground=function(){EasingsGame.to(o.game,2,{speed:1,ease:EasingsGame.easeInCubic})},n.prototype.start=function(){o.game.start()},n.prototype.stop=function(){o.game.stop()},n.prototype.slowMo=function(){EasingsGame.to(o.game,5,{speed:.1})},i.exports=n}),define("fido/MovieBorders",["require","exports","module","PIXI","signals"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),function(e,t,i){o.Container.call(this),this.w=e,this.h=t,this.ratio=i||.1;var n=(new o.Graphics).beginFill(0).drawRect(0,0,32,32).generateTexture();this.topBar=new o.Sprite(n),this.bottomBar=new o.Sprite(n),this.addChild(this.topBar),this.addChild(this.bottomBar),this.resize(e,t),this.shown=!1,this.topBar.anchor.y=1,this.bottomBar.anchor.y=-1});n.prototype=Object.create(o.Container.prototype),n.prototype.show=function(e){e?(this.topBar.anchor.y=0,this.bottomBar.anchor.y=0):(TweenLite.to(this.topBar.anchor,2,{y:0,ease:Ease.easeIn}),TweenLite.to(this.bottomBar.anchor,2,{y:0,ease:Ease.easeIn}))},n.prototype.hide=function(e){e?(this.topBar.anchor.y=1,this.bottomBar.anchor.y=-1):(TweenLite.to(this.topBar.anchor,2,{y:1,ease:Ease.easeOut}),TweenLite.to(this.bottomBar.anchor,2,{y:-1,ease:Ease.easeOut}))},n.prototype.resize=function(e,t){this.w=e,this.h=t,this.topBar.scale.x=e/32,this.bottomBar.scale.x=e/32;var i=t*this.ratio;this.topBar.scale.y=i/32,this.bottomBar.scale.y=i/32,this.bottomBar.position.y=t-i},i.exports=n}),define("com/fighter/game/SoundLoopManager",["require","exports","module","fido/sound/SoundBridge"],function(e,t,i){var o=e("fido/sound/SoundBridge"),n=function(e){this.game=e};n.prototype.pause=function(){this.game.engine.xwingManager.muteSounds(),this.game.engine.assetsManager.backgroundManager.muteSounds(),this.game.hud.redVignet.muteSounds(),this.game.engine.secondaryWeaponManager.muteSounds(),this.game.engine.player.muteSounds()},n.prototype.play=function(){this.game.engine.xwingManager.playSounds(),this.game.engine.assetsManager.backgroundManager.playSounds(),this.game.engine.secondaryWeaponManager.playSounds(),this.game.hud.redVignet.playSounds(),this.game.engine.player.playSounds(),o.sfx.stop("kylo_loop")},i.exports=n}),define("com/fighter/game/FighterGame",["require","exports","module","PIXI","signals","com/fighter/game/engine/World","fido/system/Ticker","com/fighter/game/engine/GameObject","com/fighter/game/hud/Hud","fido/sound/SoundBridge","com/fighter/app/system/GameSaveManager","com/fighter/game/ComboManager","fido/utils/Math2","fido/bob/index","com/fighter/game/engine_shooter/Camera","com/fighter/game/engine_shooter/ShootyEngine","com/fighter/game/control/Controller","com/fighter/game/TimeManager","fido/system/DelayedCalls","fido/MovieBorders","com/fighter/game/SoundLoopManager","com/fighter/game/engine_shooter/PoolCheck","fido/goals/Goals","tracker","tracker","tracker","tracker","tracker","tracker","tracker","tracker"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=(e("com/fighter/game/engine/World"),e("fido/system/Ticker")),s=(e("com/fighter/game/engine/GameObject"),e("com/fighter/game/hud/Hud")),a=e("fido/sound/SoundBridge"),h=(e("com/fighter/app/system/GameSaveManager"),e("com/fighter/game/ComboManager")),c=(e("fido/utils/Math2"),e("fido/bob/index"),e("com/fighter/game/engine_shooter/Camera"),e("com/fighter/game/engine_shooter/ShootyEngine")),l=e("com/fighter/game/control/Controller"),p=e("com/fighter/game/TimeManager"),u=e("fido/system/DelayedCalls"),d=e("fido/MovieBorders"),g=e("com/fighter/game/SoundLoopManager"),f=(e("com/fighter/game/engine_shooter/PoolCheck"),e("fido/goals/Goals"));o.DisplayObject.prototype.depthOffset=0;var m=function(e){this.app=e,this.tick=0,this.timeManager=new p(this),this.w=0,this.h=0,window.game=this,this.missionIndex=0,this.missionId="second",this.endless=!1,this.onGameover=new n,this.view=new o.Container,this.paused=!0,this.tempX=0,this.firstRun=!0,this.speedShip=1,this.totalCoins=0,this.totalScore=0,this.deadEnemies=0,this.survivedEnemies=0,this.engine=new c(this),this.engine.onCoinsEarned.add(this.addCoins,this),this.engine.onPlayerLoseLife.add(this.updateGauge,this),this.engine.onPlayerWinLife.add(this.updateGauge,this),this.engine.onPlayerDie.add(this.gameover,this),this.engine.onEnemyDied.add(this._onEnemyDied,this),this.engine.onEnemySurvived.add(this._onEnemySurvived,this),this.comboManager=new h(this),this.controller=new l(this),this.staticAssetsWorld1=[],this.staticAssetsWorld2=[],this.staticAssetsEndless=[],this.createWorld1Assets(),this.createWorld2Assets(),this.createEndlessAssets(),this.hud=new s(this),this.view.addChild(this.hud);var t=new o.Graphics;t.beginFill(0).drawRect(0,0,10,10),t.scale.x=150,t.scale.y=150,this.view.addChildAt(t,0),this.borders=new d(1136,626,.15),this.view.addChild(this.borders),this.delayedCalls=new u,this.soundLoopManager=new g(this)};m.constructor=m,m.prototype.createEndlessAssets=function(){this.vignetAddEndless=new o.Sprite.fromFrame("endless_filter_add.png"),this.vignetAddEndless.hitArea=new o.Rectangle,this.vignetAddEndless.visible=!1,this.vignetAddEndless.scale.x=1e3,this.vignetAddEndless.alpha=.5,this.vignetAddEndless.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.view.addChild(this.vignetAddEndless),this.staticAssetsEndless.push(this.vignetAddEndless),this.vignet_multiplyEndless=new o.Sprite.fromFrame("endless_filter_multiply.png"),this.vignet_multiplyEndless.hitArea=new o.Rectangle,this.vignet_multiplyEndless.visible=!1,this.vignet_multiplyEndless.alpha=.4,this.vignet_multiplyEndless.scale.x=1e3,this.vignet_multiplyEndless.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.view.addChild(this.vignet_multiplyEndless),this.staticAssetsEndless.push(this.vignet_multiplyEndless)},m.prototype.createWorld1Assets=function(){this.vignetAdd=new o.Sprite.fromImage(ASSET_URL+"img/game/vignet_add.png"),this.vignetAdd.hitArea=new o.Rectangle,this.vignetAdd.visible=!1,this.vignetAdd.alpha=.5,this.vignetAdd.blendMode=o.isWebGL?o.BLEND_MODES.ADD:0,this.view.addChild(this.vignetAdd),this.staticAssetsWorld1.push(this.vignetAdd),this.vignet_multiply=new o.Sprite.fromImage(ASSET_URL+"img/game/vignet_add.png"),this.vignet_multiply.hitArea=new o.Rectangle,this.vignet_multiply.visible=!1,this.vignet_multiply.alpha=.4,this.vignet_multiply.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.view.addChild(this.vignet_multiply),this.staticAssetsWorld1.push(this.vignet_multiply)},m.prototype.createWorld2Assets=function(){this.vignet_multiplyWorld2=new o.Sprite.fromImage(ASSET_URL+"img/game/env1_vignet.png"),this.vignet_multiplyWorld2.hitArea=new o.Rectangle,this.vignet_multiplyWorld2.visible=!1,this.vignet_multiplyWorld2.alpha=.8,this.vignet_multiplyWorld2.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.view.addChild(this.vignet_multiplyWorld2),this.staticAssetsWorld2.push(this.vignet_multiplyWorld2)},m.prototype.showEndlessAssets=function(){for(var e=0;e<this.staticAssetsEndless.length;e++)this.staticAssetsEndless[e].visible=!0},m.prototype.hideEndlessAssets=function(){for(var e=0;e<this.staticAssetsEndless.length;e++)this.staticAssetsEndless[e].visible=!1},m.prototype.showWorld1Assets=function(){for(var e=0;e<this.staticAssetsWorld1.length;e++)this.staticAssetsWorld1[e].visible=!0;for(var e=0;e<this.staticAssetsWorld2.length;e++)this.staticAssetsWorld2[e].visible=!1},m.prototype.showWorld2Assets=function(){for(var e=0;e<this.staticAssetsWorld1.length;e++)this.staticAssetsWorld1[e].visible=!1;for(var e=0;e<this.staticAssetsWorld2.length;e++)this.staticAssetsWorld2[e].visible=!0},m.prototype.reset=function(t){t=t||this.config,this.isGameover=!1,this.totalCoins=0,this.totalScore=0,this.deadEnemies=0,this.alivedEnemies=0,this.hadPowerUp=!1,this.hud.hide(),this.config=t,this.controller.destroy(),this.engine.destroy(!0),this.engine.reset(this.missionId),this.updateGauge(1),this.endless?(e("tracker").level="3",e("tracker").track("game_start","play_start"),this.showEndlessAssets()):(this.hideEndlessAssets(),"first"===this.missionId?(e("tracker").level="1",e("tracker").track("game_start","play_start"),this.showWorld1Assets()):(e("tracker").level="2",e("tracker").track("game_start","play_start"),this.showWorld2Assets())),this.borders.show(!0),this.hud.reset()},m.prototype.hideBorders=function(){this.borders.hide(),this.delayedCalls.add(function(){this.hud.show()}.bind(this),1)},m.prototype.setDatas=function(e){this.missionIndex=e.index,this.missionId=e.id,this.endless=e.endless},m.prototype.updateGauge=function(e){this.hud.updateHealth(e),this.engine.player.life<=0&&(this.engine.game.timeManager.easeGameSpeed(.5,2),this.engine.bannerText.run(translations.STR_CRITICAL_HIT),this.engine.game.timeManager.easeGameSpeed(1,2,2),this.engine.fadeToGrey(2),this.engine.fadeGreyNormal(2,2),this.engine.player.die())},m.prototype._onEnemyDied=function(e){this.deadEnemies+=e},m.prototype._onEnemySurvived=function(e){this.survivedEnemies+=e},m.prototype.addCoins=function(e){this.totalCoins+=e,this.hud.updateCoins(this.totalCoins)},m.prototype.cleanup=function(e){this.world.clear()},m.prototype.prepare=function(e){this.config=e,this.reset(e)},m.prototype.onHide=function(){this.delayedCalls.clear()},m.prototype.start=function(e){this.resume(),"second"===this.missionId&&this.engine.bannerText.run(translations.STR_MISSION_2_INTRO_STRAP,null,2),this.engine.start()},m.prototype.incrementDistance=function(e){this.engine.animatingIntro||this.engine.player.dying||(this.totalScore+=Math.ceil(e),this.hud.updateScore(this.totalScore),this.endless&&(this.hud.setProgress(Math.ceil(e*this.speedShip)),this.totalScore>=5e4?f.instance.increment("achieve_50000_simulation_mode",1):this.totalScore>=25e3?f.instance.increment("achieve_25000_simulation_mode",1):this.totalScore>=15e3?f.instance.increment("achieve_15000_simulation_mode",1):this.totalScore>=5e3&&f.instance.increment("achieve_5000_simulation_mode",1)))},m.prototype.pause=function(){this.paused||(this.soundLoopManager.pause(),this.paused=!0,this.view.interactive=!1,this.controller.pause(),this.timeManager.stop(),r.game.remove(this.update,this))},m.prototype.resume=function(){this.paused&&(this.soundLoopManager.play(),this.paused=!1,this.view.interactive=!0,this.timeManager.start(),r.game.add(this.update,this,1))},m.prototype.reorganisePickups=function(){this.hud.reorganisePickups()},m.prototype.removePickupfromHUD=function(e){this.hud.removePickupfromHUD()},m.prototype.addPickupToHUD=function(e,t){this.hud.addPickupToHUD()},m.prototype.checkPickupHUD=function(){this.hud.checkPickupHUD()},m.prototype.update=function(){this.timeManager.update(),this.controller.update(),this.engine.update(),this.comboManager.update(),this.hud.update()},m.prototype.completeMission=function(){this.isGameover||(this.engine.powerUpWeaponManager.removeWeapon(),e("tracker").track("game_action","play_end",null,{game_tier2:"distance_"+this.totalScore,game_tier3:"complete"}),this.engine.game.timeManager.easeGameSpeed(.5,2),this.engine.bannerText.run(translations.STR_MISSION_COMPLETE_CONGRATS,null,2),this.delayedCalls.add(function(){a.sfx.play("bb8_happy_01"),this.delayedCalls.add(function(){a.sfx.play("bb8_happy_02")}.bind(this),4),this.engine.bannerText.run(translations.STR_MISSION_COMPLETE,"bb8_move_head00086.png",7),this.engine.bannerText.text.title.position.x+=this.engine.bannerText.icon.width/4,this.engine.bannerText.icon.anchor.x=.6,this.engine.bannerText.icon.anchor.y=.7}.bind(this),3),this.engine.game.timeManager.easeGameSpeed(1,2,2),this.engine.fadeToGrey(2),this.engine.fadeGreyNormal(2,1),this.engine.player.celebrate(),this.engine.player.stopPrimaryWeapon(),this.engine.player.canFire=!1,this.delayedCalls.add(function(){this.hud.completeMission(),this.isGameover=!0,this.pause(),this.engine.destroy(),this.onGameover.dispatch(!0),this.controller.destroy()}.bind(this),12))},m.prototype.gameover=function(){if(!this.isGameover){var t=this.engine.assetsManager.levelIndex+1;e("tracker").track("game_action","play_end",null,{game_tier2:"distance_"+this.totalScore,game_tier3:t}),this.pause(),this.onGameover.dispatch(),this.hud.redVignet.reset(),this.isGameover=!0,this.controller.destroy()}},m.prototype.resize=function(e,t){this.engine.resize(e,t),this.w=e,this.h=t,this.borders.resize(e,t),this.hud.resize(e,t)},i.exports=m}),define("fido/app/transitions/CartoonTransition",["require","exports","module"],function(e,t,i){CartoonTransition=function(){this.circle=(new PIXI.Graphics).beginFill(1044480).drawCircle(0,0,100)},CartoonTransition.constructor=CartoonTransition,CartoonTransition.prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,e.container.addChild(this.circle),e.container.mask=this.circle,this.circle.scale.set(this.targetScale),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.circle.scale,1,{x:.001,y:.001,ease:Sine.easeOut,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},CartoonTransition.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen)),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),TweenLite.to(this.circle.scale,1.2,{delay:.2,x:this.targetScale,y:this.targetScale,ease:Cubic.easeIn,onComplete:this.onFadein.bind(this)})},CartoonTransition.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.container.removeChild(this.circle),this.screenManager.container.mask=null,this.screenManager.onTransitionComplete()},CartoonTransition.prototype.onResize=function(e,t){this.w=e,this.h=t,this.targetScale=e/100*1.2,this.circle.x=e/2,this.circle.y=t/2},i.exports=CartoonTransition});var Aes={};Aes.cipher=function(e,t){for(var i=4,o=t.length/i-1,n=[[],[],[],[]],r=0;4*i>r;r++)n[r%4][Math.floor(r/4)]=e[r];n=Aes.addRoundKey(n,t,0,i);for(var s=1;o>s;s++)n=Aes.subBytes(n,i),n=Aes.shiftRows(n,i),n=Aes.mixColumns(n,i),n=Aes.addRoundKey(n,t,s,i);n=Aes.subBytes(n,i),n=Aes.shiftRows(n,i),n=Aes.addRoundKey(n,t,o,i);for(var a=new Array(4*i),r=0;4*i>r;r++)a[r]=n[r%4][Math.floor(r/4)];return a},Aes.keyExpansion=function(e){for(var t=4,i=e.length/4,o=i+6,n=new Array(t*(o+1)),r=new Array(4),s=0;i>s;s++){var a=[e[4*s],e[4*s+1],e[4*s+2],e[4*s+3]];n[s]=a}for(var s=i;t*(o+1)>s;s++){n[s]=new Array(4);for(var h=0;4>h;h++)r[h]=n[s-1][h];if(s%i==0){r=Aes.subWord(Aes.rotWord(r));for(var h=0;4>h;h++)r[h]^=Aes.rCon[s/i][h]}else i>6&&s%i==4&&(r=Aes.subWord(r));for(var h=0;4>h;h++)n[s][h]=n[s-i][h]^r[h]}return n},Aes.subBytes=function(e,t){for(var i=0;4>i;i++)for(var o=0;t>o;o++)e[i][o]=Aes.sBox[e[i][o]];return e},Aes.shiftRows=function(e,t){for(var i=new Array(4),o=1;4>o;o++){for(var n=0;4>n;n++)i[n]=e[o][(n+o)%t];for(var n=0;4>n;n++)e[o][n]=i[n]}return e},Aes.mixColumns=function(e,t){for(var i=0;4>i;i++){for(var o=new Array(4),n=new Array(4),r=0;4>r;r++)o[r]=e[r][i],
n[r]=128&e[r][i]?e[r][i]<<1^283:e[r][i]<<1;e[0][i]=n[0]^o[1]^n[1]^o[2]^o[3],e[1][i]=o[0]^n[1]^o[2]^n[2]^o[3],e[2][i]=o[0]^o[1]^n[2]^o[3]^n[3],e[3][i]=o[0]^n[0]^o[1]^o[2]^n[3]}return e},Aes.addRoundKey=function(e,t,i,o){for(var n=0;4>n;n++)for(var r=0;o>r;r++)e[n][r]^=t[4*i+r][n];return e},Aes.subWord=function(e){for(var t=0;4>t;t++)e[t]=Aes.sBox[e[t]];return e},Aes.rotWord=function(e){for(var t=e[0],i=0;3>i;i++)e[i]=e[i+1];return e[3]=t,e},Aes.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Aes.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Aes.Ctr={},Aes.Ctr.encrypt=function(e,t,i){var o=16;if(128!=i&&192!=i&&256!=i)return"";e=Utf8.encode(e),t=Utf8.encode(t);for(var n=i/8,r=new Array(n),s=0;n>s;s++)r[s]=isNaN(t.charCodeAt(s))?0:t.charCodeAt(s);var a=Aes.cipher(r,Aes.keyExpansion(r));a=a.concat(a.slice(0,n-16));for(var h=new Array(o),c=(new Date).getTime(),l=c%1e3,p=Math.floor(c/1e3),u=Math.floor(65535*Math.random()),s=0;2>s;s++)h[s]=l>>>8*s&255;for(var s=0;2>s;s++)h[s+2]=u>>>8*s&255;for(var s=0;4>s;s++)h[s+4]=p>>>8*s&255;for(var d="",s=0;8>s;s++)d+=String.fromCharCode(h[s]);for(var g=Aes.keyExpansion(a),f=Math.ceil(e.length/o),m=new Array(f),v=0;f>v;v++){for(var y=0;4>y;y++)h[15-y]=v>>>8*y&255;for(var y=0;4>y;y++)h[15-y-4]=v/4294967296>>>8*y;for(var _=Aes.cipher(h,g),x=f-1>v?o:(e.length-1)%o+1,w=new Array(x),s=0;x>s;s++)w[s]=_[s]^e.charCodeAt(v*o+s),w[s]=String.fromCharCode(w[s]);m[v]=w.join("")}var b=d+m.join("");return b=Base64.encode(b)},Aes.Ctr.decrypt=function(e,t,i){var o=16;if(128!=i&&192!=i&&256!=i)return"";e=Base64.decode(e),t=Utf8.encode(t);for(var n=i/8,r=new Array(n),s=0;n>s;s++)r[s]=isNaN(t.charCodeAt(s))?0:t.charCodeAt(s);var a=Aes.cipher(r,Aes.keyExpansion(r));a=a.concat(a.slice(0,n-16));var h=new Array(8);ctrTxt=e.slice(0,8);for(var s=0;8>s;s++)h[s]=ctrTxt.charCodeAt(s);for(var c=Aes.keyExpansion(a),l=Math.ceil((e.length-8)/o),p=new Array(l),u=0;l>u;u++)p[u]=e.slice(8+u*o,8+u*o+o);e=p;for(var d=new Array(e.length),u=0;l>u;u++){for(var g=0;4>g;g++)h[15-g]=u>>>8*g&255;for(var g=0;4>g;g++)h[15-g-4]=(u+1)/4294967296-1>>>8*g&255;for(var f=Aes.cipher(h,c),m=new Array(e[u].length),s=0;s<e[u].length;s++)m[s]=f[s]^e[u].charCodeAt(s),m[s]=String.fromCharCode(m[s]);d[u]=m.join("")}var v=d.join("");return v=Utf8.decode(v)};var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.encode=function(e,t){t="undefined"==typeof t?!1:t;var i,o,n,r,s,a,h,c,l,p,u,d=[],g="",f=Base64.code;if(p=t?e.encodeUTF8():e,l=p.length%3,l>0)for(;l++<3;)g+="=",p+="\x00";for(l=0;l<p.length;l+=3)i=p.charCodeAt(l),o=p.charCodeAt(l+1),n=p.charCodeAt(l+2),r=i<<16|o<<8|n,s=r>>18&63,a=r>>12&63,h=r>>6&63,c=63&r,d[l/3]=f.charAt(s)+f.charAt(a)+f.charAt(h)+f.charAt(c);return u=d.join(""),u=u.slice(0,u.length-g.length)+g},Base64.decode=function(e,t){t="undefined"==typeof t?!1:t;var i,o,n,r,s,a,h,c,l,p,u=[],d=Base64.code;p=t?e.decodeUTF8():e;for(var g=0;g<p.length;g+=4)r=d.indexOf(p.charAt(g)),s=d.indexOf(p.charAt(g+1)),a=d.indexOf(p.charAt(g+2)),h=d.indexOf(p.charAt(g+3)),c=r<<18|s<<12|a<<6|h,i=c>>>16&255,o=c>>>8&255,n=255&c,u[g/4]=String.fromCharCode(i,o,n),64==h&&(u[g/4]=String.fromCharCode(i,o)),64==a&&(u[g/4]=String.fromCharCode(i));return l=u.join(""),t?l.decodeUTF8():l};var Utf8={};Utf8.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},Utf8.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})},define("libs/AES",function(){}),function(e){"function"==typeof define?define("libs/qwest",e):"undefined"!=typeof module?module.exports=e:this.qwest=e}(function(){var win=window,limit=null,requests=0,request_stack=[],getXHR=function(){return win.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},version2=""===getXHR().responseType,qwest=function(method,url,data,options,before){data=data||null,options=options||{};var typeSupported=!1,xhr=getXHR(),async=void 0===options.async?!0:!!options.async,cache=options.cache,type=options.type?options.type.toLowerCase():"json",user=options.user||"",password=options.password||"",headers={"X-Requested-With":"XMLHttpRequest"},accepts={xml:"application/xml, text/xml",html:"text/html",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},toUpper=function(e,t,i){return t+i.toUpperCase()},vars="",i,j,parseError="parseError",serialized,success_stack=[],error_stack=[],complete_stack=[],response,success,error,func,promises={success:function(e){return async?success_stack.push(e):success&&e.apply(xhr,[response]),promises},error:function(e){return async?error_stack.push(e):error&&e.apply(xhr,[response]),promises},complete:function(e){return async?complete_stack.push(e):e.apply(xhr),promises}},promises_limit={success:function(e){return request_stack[request_stack.length-1].success.push(e),promises_limit},error:function(e){return request_stack[request_stack.length-1].error.push(e),promises_limit},complete:function(e){return request_stack[request_stack.length-1].complete.push(e),promises_limit}},handleResponse=function(){var i,req,p;if(--requests,request_stack.length){for(req=request_stack.shift(),p=qwest(req.method,req.url,req.data,req.options,req.before),i=0;func=req.success[i];++i)p.success(func);for(i=0;func=req.error[i];++i)p.error(func);for(i=0;func=req.complete[i];++i)p.complete(func)}try{if(!/^2/.test(xhr.status))throw xhr.status+" ("+xhr.statusText+")";var responseText="responseText",responseXML="responseXML";if(typeSupported&&void 0!==xhr.response)response=xhr.response;else switch(type){case"json":try{response=win.JSON?win.JSON.parse(xhr[responseText]):eval("("+xhr[responseText]+")")}catch(e){throw"Error while parsing JSON body"}break;case"js":response=eval(xhr[responseText]);break;case"xml":if(!xhr[responseXML]||xhr[responseXML][parseError]&&xhr[responseXML][parseError].errorCode&&xhr[responseXML][parseError].reason)throw"Error while parsing XML body";response=xhr[responseXML];break;default:response=xhr[responseText]}if(success=!0,async)for(i=0;func=success_stack[i];++i)func.apply(xhr,[response])}catch(e){if(error=!0,response="Request to '"+url+"' aborted: "+e,async)for(i=0;func=error_stack[i];++i)func.apply(xhr,[response])}if(async)for(i=0;func=complete_stack[i];++i)func.apply(xhr)};if(limit&&requests==limit)return request_stack.push({method:method,url:url,data:data,options:options,before:before,success:[],error:[],complete:[]}),promises_limit;if(++requests,win.ArrayBuffer&&(data instanceof ArrayBuffer||data instanceof Blob||data instanceof Document||data instanceof FormData))"GET"==method&&(data=null);else{var values=[],enc=encodeURIComponent;for(i in data)void 0!==data[i]&&values.push(enc(i)+(data[i].pop?"[]":"")+"="+enc(data[i]));data=values.join("&"),serialized=!0}if("GET"==method&&(vars+=data),null==cache&&(cache="POST"==method),cache||(vars&&(vars+="&"),vars+="__t="+Date.now()),vars&&(url+=(/\?/.test(url)?"&":"?")+vars),xhr.open(method,url,async,user,password),type&&version2)try{xhr.responseType=type,typeSupported=xhr.responseType==type}catch(e){}version2?xhr.onload=handleResponse:xhr.onreadystatechange=function(){4==xhr.readyState&&handleResponse()};for(i in headers)j=i.replace(/(^|-)([^-])/g,toUpper),headers[j]=headers[i],delete headers[i],xhr.setRequestHeader(j,headers[j]);return!headers["Content-Type"]&&serialized&&"POST"==method&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),headers.Accept||xhr.setRequestHeader("Accept",accepts[type]),before&&before.apply(xhr),xhr.send("POST"==method?data:null),promises};return{get:function(e,t,i,o){return qwest("GET",e,t,i,o)},post:function(e,t,i,o){return qwest("POST",e,t,i,o)},xhr2:version2,limit:function(e){limit=e}}}()),define("libs/GBAPI",["require","exports","module","./AES","./qwest"],function(e,t,i){var o=(e("./AES"),e("./qwest")),n=function(){this.targetFile="xxx",this.sharedKey=null,this.lastEncryption=!1,this.defaultGame=0,this.defaultPerPage=20,this.defaultPageNumber=1,this.highestScore=-1};n.prototype.setTargetFile=function(e){this.targetFile=e},n.prototype.setSharedKey=function(e){this.sharedKey=e},n.prototype.checkCanSubmitScore=function(e,t,i){-1===this.highestScore?this.getScores({game:t||this.defaultGame,perPage:1,pageNumber:20,date:0},function(t){t.results.length?this.highestScore=parseInt(t.results[0].score_int):this.highestScore=0,i(e>this.highestScore)}.bind(this)):i(e>this.highestScore)},n.prototype.sendScore=function(e,t){if(this._keyIsValid()){var i=" .|:=-=:|. ",o=Aes.Ctr.encrypt(e.game||"",this.sharedKey,256),n=Aes.Ctr.encrypt(e.name,this.sharedKey,256),r=Aes.Ctr.encrypt(e.score,this.sharedKey,256),s=Aes.Ctr.encrypt(o+i+n+i+r,this.sharedKey,256),e={val:s};this.lastEncryption=e,this._makeCall("add",e,t)}},n.prototype.getScores=function(e,t){var i=new Date,o=0;if(e.date===n.TODAY){var r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);o=r.getTime()/1e3}else if(e.date===n.WEEK){var s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0),a=s.getDay()||7;1!==a&&s.setHours(-24*(a-1)),o=Math.floor(s.getTime()/1e3)}e.game=e.game||this.defaultGame,e.perPage=e.perPage||this.defaultPerPage,e.pageNumber=e.pageNumber||this.defaultPageNumber,e.startTimestamp=o,e.endTimestamp=0,this._makeCall("get",e,t)},n.prototype._makeCall=function(e,t,i){o.post(this.targetFile,{f:e,params:JSON.stringify(t)},{type:"json"}).success(function(e){"function"==typeof i&&i(e)}).error(function(e){})},n.prototype._keyIsValid=function(){return null===this.sharedKey||""===this.sharedKey||"undefined"==typeof this.sharedKey?!1:!0},n.instance=new n,n.TODAY=0,n.WEEK=1,n.ALL=2,i.exports=n}),define("com/fighter/app/MediaScreen",["require","exports","module","PIXI","starwars/buttons/GoldenButton","com/fighter/game/effects/GlitchEffect","starwars/filters/GlitchCathodic","fido/system/DelayedCalls","signals"],function(e,t,i){var o=e("PIXI"),n=e("starwars/buttons/GoldenButton"),r=e("com/fighter/game/effects/GlitchEffect"),s=e("starwars/filters/GlitchCathodic"),a=e("fido/system/DelayedCalls"),h=e("signals"),c=function(e){o.Container.call(this),this.app=e,this.tick=0,this.onFinished=new h;var t=new o.Graphics;t.beginFill(0).drawRect(-100,-100,2e3,2e3),this.addChild(t),this.glitchEffectContainer=new r,this.addChild(this.glitchEffectContainer),this.mainImage=new o.Sprite,this.mainImage.anchor.x=this.mainImage.anchor.y=.5,this.mainImage2=new o.Sprite,this.mainImage2.anchor=this.mainImage.anchor,this.mainImage2.position=this.mainImage.position,this.glitchEffectContainer.addChild(this.mainImage),this.glitchEffectContainer.addChild(this.mainImage2),this.nextButton=new n("icon_next.png"),this.nextButton.setSize("small"),this.addChild(this.nextButton.view),this.nextButton.onPress.add(this.onFinish,this),this.finishButton=new n("icon_play.png"),this.finishButton.setSize("small"),this.finishButton.view.visible=!1,this.finishButton.view.position=this.nextButton.view.position,this.finishButton.onPress.add(this.onFinish,this),o.isWebGL&&Device.instance.desktop&&(this.glitchFilter=new s,this.mainImage.filters=[this.glitchFilter]),this.delayedCalls=new a};c.prototype=Object.create(o.Container.prototype),c.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.mainImage.alpha=.95+.05*Math.random(),o.isWebGL&&Device.instance.desktop&&!this.disableFilters&&(this.tick-=.04,this.glitchFilter.uniforms.time.value=this.tick)},c.prototype.onFinish=function(){this.glitchEffectContainer.glitch(null,!0),this.delayedCalls.add(function(){this.delayedCalls.clear(),this.onFinished.dispatch()}.bind(this),.4)},c.prototype.onNext=function(){if(this.indexImage===this.images.length)return void this.onFinish();var e=this.mainImage;this.mainImage=this.mainImage2,this.mainImage2=e,this.glitchEffectContainer.glitch(null),this.glitchEffectContainer.delayBeforeNextGlitch=30,this.mainImage.texture=o.Texture.fromImage(ASSET_URL+"img/game/intro_outro/"+this.images[this.indexImage].texture),this.glitchEffectContainer.addChild(this.mainImage),this.mainImage.alpha=0,this.mainImage.scale.set(1.05),TweenLite.to(this.mainImage,.3,{alpha:1}),TweenLite.to(this.mainImage2,.3,{alpha:0,delay:.3}),TweenLite.to(this.mainImage.scale,3,{x:1,y:1,overwite:!0}),this.delayedCalls.add(function(){this.onNext()}.bind(this),0===this.indexImage?3:2),this.indexImage++},c.prototype.scaleImage=function(){Easings.killTweensOf(this.mainImage.scale),this.mainImage.scale.x=this.mainImage.scale.y=1.02,Easings.to(this.mainImage.scale,3,{x:1,y:1,forceTween:!0,ease:Easings.easeInOutSine,onComplete:function(){this.onNext()}.bind(this)})},c.prototype.loadImages=function(e,t){this.app.topMenu.setMode("nothing"),this.images=e,1===this.images.length?(this.finishButton.view.visible=!0,this.nextButton.view.visible=!1):this.finishButton.view.visible=!1,this.nextButton.view.visible=!0,this.indexImage=0,this.mainImage.alpha=0,this.mainImage2.alpha=0,this.onNext()},c.prototype.resize=function(e,t){this.w=e,this.h=t,this.mainImage.position.x=e/2,this.mainImage.position.y=t/2,this.nextButton.view.position.x=this.w-100,this.nextButton.view.position.y=this.h-100},i.exports=c}),define("com/fighter/app/screens/GameScreen",["require","exports","module","PIXI","../../game/FighterGame","../system/GameSaveManager","fido/app/transitions/CartoonTransition","com/fighter/game/GameConfig","fido/app/transitions/AlphaTransition","fido/sound/SoundBridge","fido/sound/MusicManager","fido/goals/Goals","libs/GBAPI","fido/loader/Cache","com/fighter/app/MediaScreen","fido/goals/Goals","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("../../game/FighterGame"),r=e("../system/GameSaveManager"),s=(e("fido/app/transitions/CartoonTransition"),e("com/fighter/game/GameConfig")),a=(e("fido/app/transitions/AlphaTransition"),e("fido/sound/SoundBridge")),h=e("fido/sound/MusicManager"),c=e("fido/goals/Goals"),l=e("libs/GBAPI"),p=e("fido/loader/Cache"),u=e("com/fighter/app/MediaScreen"),c=e("fido/goals/Goals"),a=e("fido/sound/SoundBridge"),d=function(e){this.app=e,o.isWebGL;o.isWebGL?"":"@0.5x";o.Container.call(this),this.game=new n(this.app),this.mediaScreen=new u(this.app),this._firstRun=!0,this.gameover=!1,this.gameDetail={score:0},c.instance.achievementUnlocked.add(this.switchNextScren,this)};d.prototype=Object.create(o.Container.prototype),d.prototype.init=function(){this.game.onGameover.add(this.onGameover,this),this.addChild(this.game.view)},d.prototype.onShow=function(){this._firstRun&&(this.init(),this._firstRun=!1),this.gameover=!1,this.game.prepare(s);var e=[];"first"===this.game.missionId?(e=[{texture:"intro_takodana2.jpg"},{texture:"intro_takodana3.jpg"},{texture:"intro_takodana4.jpg"}],h.play("mission_01_intro")):"second"===this.game.missionId&&(e=[{texture:"outro_starkiller2.jpg"},{texture:"intro_starkiller_2.jpg"},{texture:"intro_starkiller_3.jpg"}],h.play("mission_02_intro")),e.length>0&&!window.fastplay?(this.mediaScreen.loadImages(e),this.mediaScreen.onFinished.addOnce(this.startGame,this),this.addChild(this.mediaScreen),this.game.controller.showCursor(!0)):this.startGame(),this.app.overlayManager.onShow.add(this.onOverlayShow,this),this.app.overlayManager.onHide.add(this.onOverlayHide,this),this.app.alertPanelManager.onShow.add(this.onPopupShow,this),this.app.alertPanelManager.onHide.add(this.onPopupHide,this)},d.prototype.startGame=function(){h.play("mainLoop"),this.game.controller.showCursor(!1),this.removeChild(this.mediaScreen),this.game.start(),TweenLite.delayedCall(1,function(){this.app.topMenu.setMode("game")}.bind(this))},d.prototype.onShown=function(){},d.prototype.switchNextScren=function(){this.unlockedAchievement=!0},d.prototype.putBackMusic=function(){},d.prototype.onGameover=function(e){this.game.controller.showCursor(!0),window.wednesday&&(this.game.totalCoins*=2);var t=this.game.engine.world.groups.enemies.children.length,i=t+this.game.survivedEnemies,o=this.game.deadEnemies+i,n=0,s=Math.floor(this.game.deadEnemies/o*100);this.musicPlaying=!0,e&&(h.play("level_complete"),this.game.hadPowerUp||c.instance.increment("complete_mission_without_powerup",1),n=s>69?3:s>49?2:1);var a=Math.floor(this.game.totalScore+this.game.deadEnemies+s/100*o*10);this.gameDetail={coins:this.game.totalCoins,deadEnemies:this.game.deadEnemies,survivedEnemies:i,starRating:n,score:a,percentage:s},r.instance.setHighscore(this.game.missionIndex,a),this.game.endless||r.instance.setDeathScore(this.game.missionIndex,this.game.hud.progressBar.currentStep),this.game.endless||r.instance.setStars(this.game.missionIndex,n),this.app.shopSystem.earnMoney(this.game.totalCoins);var l=[];this.game.endless||("first"===this.game.missionId?(e&&(c.instance.increment("complete_mission_1",1),3===n&&c.instance.increment("complete_mission_1_perfect",1)),l=[{texture:"outro_takodana1.jpg"},{texture:"outro_takodana2.jpg"},{texture:"outro_takodana3.jpg"}]):"second"===this.game.missionId&&(e&&(c.instance.increment("complete_mission_2",1),3===n&&c.instance.increment("complete_mission_2_perfect",1)),l=[{texture:"outro_starkiller1.jpg"},{texture:"outro_starkiller2.jpg"},{texture:"outro_starkiller3.jpg"},{texture:"outro_starkiller4.jpg"},{texture:"outro_starkiller5.jpg"},{texture:"outro_starkiller6.jpg"}])),l.length>0&&e?(this.addChild(this.mediaScreen),this.mediaScreen.loadImages(l,!0),this.mediaScreen.onFinished.addOnce(function(){this.displayOverlay(e)}.bind(this))):this.displayOverlay(e)},d.prototype.displayOverlay=function(e){this.removeChild(this.mediaScreen);var t=!this.game.endless;this.gameDetail.mission=t;var i=this.gameDetail.score;t&&e&&r.instance.unlock(this.game.missionIndex+1),l.instance.checkCanSubmitScore(i,p.getJson("config").config.SCORE_ID,function(i){i?t?(this.app.overlayManager.show("highscore"),e?(this.app.overlayManager.leaderboardScreen.backToGameoverScreen=!1,this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!0):(this.app.overlayManager.leaderboardScreen.backToGameoverScreen=!0,this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!0)):this.app.overlayManager.show("endlessHighScore"):t?e?this.app.overlayManager.show("completion"):this.app.overlayManager.show("gameover"):this.app.overlayManager.show("endless")}.bind(this))},d.prototype.forceSaveHighscoreBeforeEnd=function(e){var t=this.game.engine.world.groups.enemies.children.length,i=t+this.game.survivedEnemies,o=this.game.deadEnemies+i,n=Math.floor(this.game.deadEnemies/o*100);isNaN(n)&&(n=0);var s=Math.floor(this.game.totalScore+this.game.deadEnemies+n/100*o*10),a=0;a=n>69?3:n>49?2:1,this.gameDetail={coins:this.game.totalCoins,deadEnemies:this.game.deadEnemies,survivedEnemies:i,starRating:a,score:s,percentage:n},r.instance.setHighscore(this.game.missionIndex,s),l.instance.checkCanSubmitScore(s,p.getJson("config").config.SCORE_ID,function(t){e(t?!0:!1)}.bind(this))},d.prototype.saveEndlessScore=function(){if(this.game.endless){var e=this.game.engine.world.groups.enemies.children.length,t=e+this.game.survivedEnemies,i=this.game.deadEnemies+t,o=Math.floor(this.game.deadEnemies/i*100),n=Math.floor(this.game.totalScore+this.game.deadEnemies+o/100*i*10);r.instance.setHighscore(2,n)}},d.prototype.onHide=function(){this.game.onHide(),this.game.engine.destroy(),this.app.overlayManager.onShow.remove(this.onOverlayShow,this),this.app.overlayManager.onHide.remove(this.onOverlayHide,this),this.app.alertPanelManager.onShow.remove(this.onPopupShow,this),this.app.alertPanelManager.onHide.remove(this.onPopupHide,this)},d.prototype.onHidden=function(){this.game.engine.destroy(),this.game.pause(),this.app.topMenu.setMode("normal")},d.prototype.onOverlayShow=function(){this.game.pause()},d.prototype.onPopupShow=function(){this._pauseCache=this.game.paused,this.game.pause()},d.prototype.onPopupHide=function(){this._pauseCache||this.game.isGameover||this.game.resume()},d.prototype.onOverlayHide=function(){this.musicPlaying&&(a.sfx.fadeTo("game_over_music",0,1),this.musicPlaying=!1),this.game.isGameover||this.game.resume()},d.prototype.resize=function(e,t){this.game&&(this.game.resize(e,t),this.mediaScreen.resize(e,t))},i.exports=d}),define("com/fighter/app/Consts",["require","exports","module"],function(e,t,i){var o={IdleAssets:{Mal:"mal_select.png",Jay:"jay_select.png",Evie:"evie_select.png",Carlos:"carlos_select.png"},CharacterNames:["Mal","Jay","Evie","Carlos"],UnlockedIcons:{Jay:"char_unlocked_jay.png",Evie:"char_unlocked_evie.png",Carlos:"char_unlocked_carlos.png"}};i.exports=o}),define("fido/app/AssetManager",["require","exports","module","PIXI","signals"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=function(){this.groupHash={},this.onAssetsLoaded=new n,this.onAssetsLoadBegin=new n,this.displayLoader=!0,this.loadCount=0};r.prototype.registerGroup=function(e,t){var i={assets:t,id:e,loaded:!1};this.groupHash[e]=i},r.prototype.activateGroups=function(e){for(var t=[],i=0;i<e.length;i++){var n=this.groupHash[e[i]];n&&!n.loaded?t.push(n):t.push(n)}for(var r=[],i=0;i<t.length;i++){var n=t[i];n.loaded=!0,r=r.concat(n.assets)}if(0===r.length)return void this.onAssetsLoaded.dispatch();var s=new o.loaders.Loader;s.add(r),s.once("complete",this._onComplete.bind(this)),s.on("progress",this._onProgress.bind(this)),s.load(),this.displayLoader&&this.onAssetsLoadBegin.dispatch(),s.load()},r.prototype.doesGroupExist=function(e){return!!this.groupHash[e]},r.prototype.unloadGroup=function(e){},r.prototype.unloadGroup=function(e){},r.prototype.freeGroup=function(e){},r.prototype._onProgress=function(e){},r.prototype._onComplete=function(e){this.onAssetsLoaded.dispatch()},i.exports=new r}),define("com/fighter/game/engine/WorldData",["require","exports","module","signals","./crash/Crash"],function(e,t,i){var o=(e("signals"),e("./crash/Crash")),n=function(){this.blocks=new o.CrashGroup};i.exports=n}),define("com/fighter/game/engine/PixiSpatialHash",["require","exports","module","signals"],function(e,t,i){function o(e,t){return e.index-t.index}var n=(e("signals"),function(e,t,i){this.hash=[],this.width=e||100,this.height=t||100,this.size=i||new PIXI.Point(256,256),this.halfHeight=this.height/2*this.size.y,this.buildHash(),this.IDGENERATOR=0});n.prototype.buildHash=function(){for(var e=this.width,t=this.height,i=e*t,o=0;i>o;o++)this.hash[o]=[]},n.prototype.add=function(e){var t=e.getBounds();t.width<0||t.height<0,e.UID=this.IDGENERATOR++;var i,o,n=(t.x+5e3)/this.size.x|0,r=(t.y+this.halfHeight)/this.size.y|0,s=(t.x+t.width+5e3)/this.size.x|0,a=(t.y+t.height+this.halfHeight)/this.size.y|0;for(o=r;a>=o;o++)for(i=n;s>=i;i++){var h=o*this.width+i;this.hash[h]&&this.hash[h].push(e)}},n.prototype.retrieveContainer=function(e,t){var i=t*this.width+e;return this.hash[i]},n.prototype.retrieve=function(e){var t,i,n=(e.x+5e3)/this.size.x|0,r=(e.y+this.halfHeight)/this.size.y|0,s=(e.x+e.width+5e3)/this.size.x|0,a=(e.y+e.height+this.halfHeight)/this.size.y|0,h=[];for(i=r;a>=i;i++)for(t=n;s>=t;t++){var c=i*this.width+t;this.hash[c]&&(h=h.concat(this.hash[c]))}var l=this.removeDuplicates(h);return l.sort(o),l},n.prototype.removeDuplicates=function(e){if(e.length<2)return e;for(var t={},i=[],o=e.length,n=0,r=0;o>r;r++){var s=e[r];1!==t[s.UID]&&(t[s.UID]=1,i[n++]=s)}return i},n.prototype.remove=function(e,t){var i,o,n=(e.position.x+t.x)/this.size.x|0,r=(e.position.y+t.y)/this.size.y|0,s=(e.position.x+t.x+t.width)/this.size.x|0,a=(e.position.y+t.y+t.height)/this.size.y|0;for(o=r;a>=o;o++)for(i=n;s>=i;i++){var h=o*this.width+i,c=this.hash[h].indexOf(e);-1!==c&&this.hash[h].splice(c)}},n.prototype.clear=function(){this.buildHash()},i.exports=n}),define("com/fighter/game/engine/WorldChunk",["require","exports","module","signals","./crash/Crash","fido/utils/Utils","./PixiSpatialHash"],function(e,t,i){var o=(e("signals"),e("./crash/Crash")),n=(e("fido/utils/Utils"),e("./PixiSpatialHash")),r=0,s=function(e,t,i,s){this.position=new o.Vector,this.bounds=null,this.segType=null,this.baseLine=0,this.id=r++,this.dynamicObjects=s||[],this.dynamicObjectsMap=this.dynamicObjects.slice(),this.staticObjects=e||new o.CrashGroup,this.staticImages=t||[],this.viewHash=i||new n,this.view=new PIXI.Container};s.prototype.init=function(){window.debug&&this.generateDebugLayer(),this.bounds||this.calculateBounds()},s.prototype.calculateBounds=function(){this.generateDebugLayer();var e=this.view;this.bounds=e.getLocalBounds().clone();(new PIXI.Graphics).beginFill(255,.2).drawRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height)},s.prototype.generateDebugLayer=function(e){this.view=new PIXI.Container;for(var t=0;t<this.staticObjects.children.length;t++){var i=this.staticObjects.children[t];if(7===i.floorType||8===i.floorType){var o=i.hitArea.getView(16711680);o.alpha=.3}else{var o=i.hitArea.getView();o.alpha=.8}o.position.x=i.position.x,o.position.y=i.position.y,this.view.addChild(o)}for(var t=0;t<this.dynamicObjects.length;t++)var i=this.dynamicObjects[t]},s.prototype.containsRectangle=function(e){e.x-=this.position.x,e.y-=this.position.y;var t=!(this.bounds.x>e.x+e.width/2||this.bounds.width+this.bounds.x<e.x-e.width/2||this.bounds.y>e.y+e.height/2||this.bounds.height+this.bounds.y<e.y-e.height/2);return e.x+=this.position.x,e.y+=this.position.y,t},s.prototype.collideStaticObjects=function(e){var t=e.position;t.x-=this.position.x,t.y-=this.position.y;var i=e.hitArea.boundingBox,o=!(this.bounds.x>t.x+i.width/2||this.bounds.width+this.bounds.x<t.x-i.width/2||this.bounds.y>t.y+i.height/2||this.bounds.height+this.bounds.y<t.y-i.height/2);o&&this.staticObjects.collide(e),t.x+=this.position.x,t.y+=this.position.y},s.prototype.collideObject=function(e){var t=e.position;t.x-=this.position.x,t.y-=this.position.y;var i=e.hitArea.boundingBox,o=!(this.bounds.x>t.x+i.width/2||this.bounds.width+this.bounds.x<t.x-i.width/2);return t.x+=this.position.x,t.y+=this.position.y,o},s.prototype.render=function(){},i.exports=s}),define("com/fighter/game/engine/WorldParser",["require","exports","module","signals","./WorldData","./GameObject","./WorldChunk","./crash/Crash","./PixiSpatialHash","signals","fido/system/Ticker","./GameObjectPool"],function(e,t,i){var o=e("signals"),n=(e("./WorldData"),e("./GameObject")),r=e("./WorldChunk"),s=e("./crash/Crash"),o=(e("./PixiSpatialHash"),e("signals")),a=e("fido/system/Ticker"),h=e("./GameObjectPool"),c=function(){this.tick=0,this.onComplete=new o,this.data=null,this.map=null,this.chunks=[]};c.prototype.parse=function(e,t){this.data=e,this.chunks=[],this.map=t,a.instance.add(this.update,this)};var l=[0,1,0,0,0];c.prototype.update=function(){var e=this.data,t=this.chunks,i=this.tick,o=new r,n=e[i].floor,s=e[i].detail,h=e[i].active;o.segType=e[i].type,o.level=e[i].level,o.levelHeight=l[e[i].level],this.parseFloor(o,n),this.parseDetail(o,s),this.parseActive(o,h),o.init(),t.push(o),this.tick++,this.tick===this.data.length&&(a.instance.remove(this.update,this),this.onComplete.dispatch(t))},c.prototype.parseFloor=function(e,t){for(var i=6,o=0;o<t.length;o+=i){var r=t[o],a=t[o+1],h=t[o+2],c=t[o+3],l=t[o+4]*Math.PI/180,p=t[o+5];if(0===p||6===p||7===p||8===p)var u=100*h,d=100*c,g=new s.Rectangle(u,d,l),f=new n(g,!0);else{var u=(Math.cos(l),Math.sin(l),Math.abs(100*h)),g=new s.Line(u,l),f=new n(g,!0);f=new n(g,!0)}f.floorType=p,f.position.x=r,f.position.y=a,e.staticObjects.add(f)}},c.prototype.parseDetail=function(e,t){for(var i=7,o=new PIXI.Container,n=0;n<t.length;n+=i){var r=t[n],s=t[n+1],a=t[n+2],h=t[n+3],c=t[n+4],l=t[n+5],u=t[n+6],d=PIXI.utils.TextureCache[u]||PIXI.Texture.fromFrame("powerup_get.png"),g=new PIXI.Sprite(d);g.updateTransform=p,g.localTransform=new PIXI.Matrix,g.worldTransform.a=r,g.worldTransform.b=s,g.worldTransform.c=a,g.worldTransform.d=h,g.worldTransform.tx=c,g.worldTransform.ty=l,o.addChild(g),g.updateTransform(),g.index=n,e.staticImages.push(g),e.viewHash.add(g)}};var p=function(){},u=new PIXI.Matrix;c.prototype.parseActive=function(e,t){for(var i=3,o=8,n=(new PIXI.Container,0);n<t.length;){if("m"==t[n]){var r=t[n+7],s=h.getObject(this.map[r.type]);if(u.set(t[n+1],t[n+2],t[n+3],t[n+4],0,0),s.sprite){d(s.sprite,u),s.position.x=s.origin.x=t[n+5],s.position.y=s.origin.y=t[n+6];var a=s.sprite.getLocalBounds();s.hitArea.width=a.width-20,s.hitArea.height=a.height-20}else d(s.view,u),s.position.x=s.origin.x=t[n+5],s.position.y=s.origin.y=t[n+6],s.init&&s.init(r);n+=o}else{var c=t[n],l=t[n+1],p=t[n+2],s=h.getObject(this.map[p]);s.position.x=s.origin.x=c,s.position.y=s.origin.y=l,n+=i}e.dynamicObjectsMap.push(s)}};var d=function(e,t){e.x=t.tx,e.y=t.ty,e.scale.x=Math.sqrt(t.a*t.a+t.b*t.b),e.scale.y=Math.sqrt(t.c*t.c+t.d*t.d);var i=Math.atan2(-t.c,t.d),o=Math.atan2(t.b,t.a);Math.abs(1-i/o);return e.rotation=o,t.a<0&&t.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=e.skewY=0,e};i.exports=c}),define("text!starwars/shaders/swipe.glsl",[],function(){return"precision highp float;\n\n#define PI 3.141592653589\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform float progress;\nuniform vec4 dimensions;\n\nvoid main() {\n  vec2 position = vTextureCoord * 2. - 1.;\n  float angle   = atan(position.y, position.x);\n  float progressAngle = progress * PI * 2.5 - PI * 1.25;\n\n  vec4 color = vec4(0.);\n\n  if(angle > progressAngle) {\n    color = mix(vec4(0.), texture2D(uSampler, vTextureCoord), smoothstep(0., 1., (angle - progressAngle)));\n  }\n\n  gl_FragColor = color;\n}\n"}),define("starwars/filters/SwipeFilter",["require","exports","module","PIXI","text!../shaders/swipe.glsl"],function(e,t,i){function o(){n.AbstractFilter.call(this,null,r,{progress:{type:"f",value:0},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=e("PIXI"),r=e("text!../shaders/swipe.glsl");o.prototype=Object.create(n.filters.AbstractFilter.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{progress:{get:function(){return this.uniforms.progress.value},set:function(e){this.uniforms.progress.value=e}}}),i.exports=o}),define("starwars/transitions/SwipeTransition",["require","exports","module","starwars/filters/SwipeFilter"],function(e,t,i){var o=e("starwars/filters/SwipeFilter"),n=new e("fido/utils/FrameWait"),r=new o,s=new PIXI.Rectangle(0,0,1e4,1e4);SwipeTransition=function(){},SwipeTransition.constructor=SwipeTransition,SwipeTransition.prototype.begin=function(e,t,i){t.onHide&&t.onHide(),t.filterArea=s,t.filters=[r],e.container.addChildAt(i,0),i.onShow&&i.onShow(),r.progress=0,n.wait(function(){TweenLite.fromTo(r,2,{progress:0},{progress:1,onComplete:function(){e.container.removeChild(t),t.onHidden&&t.onHidden(),i.onShown&&i.onShown(),t.filters=null,e.onTransitionComplete()}})})},SwipeTransition.prototype.resize=function(e,t){this.width=e,this.height=t},i.exports=SwipeTransition}),define("com/fighter/app/screens/GamePrepScreen",["require","exports","module","PIXI","signals","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","com/fighter/app/Consts","fido/system/Ticker","fido/app/transitions/AlphaTransition","libs/gameConfig/gameTracking","fido/sound/SoundBridge","fido/sound/MusicManager","fido/app/AssetManager","com/fighter/game/engine/WorldParser","fido/utils/FrameWait","com/fighter/game/engine/GameObjectPool","starwars/transitions/SwipeTransition","starwars/buttons/GoldenButton","com/fighter/game/engine_shooter/enemies/TieFighter","com/fighter/game/engine_shooter/enemies/TieFighter360","com/fighter/game/engine_shooter/enemies/TieFighter360","com/fighter/game/engine_shooter/enemies/HeavyTieFighter360","com/fighter/game/engine_shooter/enemies/WeakTieFighter","com/fighter/game/engine_shooter/pickups/Coin","com/fighter/game/engine_shooter/bullets/FighterBullet","com/fighter/game/engine_shooter/bullets/TieBullet","com/fighter/game/engine_shooter/bullets/TieBullet360","com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear","com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic","com/fighter/game/engine_shooter/damages/explosions/ExplosionFallApart","com/fighter/game/engine_shooter/damages/explosions/TieFighterCrash"],function(e,t,i){
var o=e("PIXI"),n=(e("signals"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("com/fighter/app/Consts"),e("fido/system/Ticker")),r=(e("fido/app/transitions/AlphaTransition"),e("libs/gameConfig/gameTracking"),e("fido/sound/SoundBridge"),e("fido/sound/MusicManager"),e("fido/app/AssetManager")),s=e("com/fighter/game/engine/WorldParser"),a=e("fido/utils/FrameWait"),h=e("com/fighter/game/engine/GameObjectPool"),c=e("starwars/transitions/SwipeTransition"),l=e("starwars/buttons/GoldenButton"),p=e("com/fighter/game/engine_shooter/enemies/TieFighter"),u=e("com/fighter/game/engine_shooter/enemies/TieFighter360"),d=e("com/fighter/game/engine_shooter/enemies/TieFighter360"),u=e("com/fighter/game/engine_shooter/enemies/HeavyTieFighter360"),g=e("com/fighter/game/engine_shooter/enemies/WeakTieFighter"),f=e("com/fighter/game/engine_shooter/pickups/Coin"),m=e("com/fighter/game/engine_shooter/bullets/FighterBullet"),v=e("com/fighter/game/engine_shooter/bullets/TieBullet"),y=e("com/fighter/game/engine_shooter/bullets/TieBullet360"),_=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionDisappear"),x=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionClassic"),w=e("com/fighter/game/engine_shooter/damages/explosions/ExplosionFallApart"),b=e("com/fighter/game/engine_shooter/damages/explosions/TieFighterCrash"),k=function(e){this.app=e,o.isWebGL&&(this.transition=new c),o.Container.call(this),this.halfWidth=200,this.isFirstRun=!0,this.pollerView=new o.Container,this.addChild(this.pollerView),this.background=new l,this.background.disable(),this.spin=new o.Sprite.fromFrame("poller_spin.png"),this.spin.anchor.set(.5),this.spin.scale.set(.9),this.spin.position=this.background.position,this.pollerView.addChild(this.background),this.pollerView.addChild(this.spin),window.FONTS_EXTENDED?this.title=new o.Text(translations.STR_LOADING.toUpperCase(),{font:"30px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}):this.title=new o.extras.BitmapText(translations.STR_LOADING.toLowerCase(),{font:"30px Star Jedi",align:"right"}),this.title.pivot.y=68,this.title.pivot.x=.5*this.title.width,this.title.y=140,this.pollerView.addChild(this.title),this.count=0,this.addChild(this.pollerView),this.percentageText=new o.Text("0",{font:"36px "+window.MAIN_FONT,fill:"#FAC943",dropShadow:!0,dropShadowAngle:Math.PI/2,dropShadowDistance:3,dropShadowColor:"rgba(0, 0, 0, .4)"}),this.percentageText.anchor.set(.5),this.pollerView.addChild(this.percentageText),this.easeLoad=0,this.targetLoad=0};k.prototype=Object.create(o.Container.prototype),k.prototype.onShow=function(){this.easeLoad=0,n.instance.add(this.update,this),this.app.topMenu.setMode("nothing")},k.prototype.onShown=function(){if(this.app.updateGameConfig(),this.app.frontLayer.fadeLogo(0),this.app.frontLayer.fade(0),this.isFirstRun){var e=new o.loaders.Loader;e.add(r.groupHash.gameAssets.assets),e.once("complete",this._onComplete.bind(this)),e.on("progress",this._onProgress.bind(this)),e.load(),this.isFirstRun=!1}else this.percentageText.visible=!1,a.wait(function(){this.screenManager.gotoScreenByID("game")}.bind(this),10)},k.prototype.onHidden=function(){n.instance.remove(this.update,this)},k.prototype.update=function(){if(this.spin.rotation+=.1,this.title.alpha=.5*Math.abs(Math.cos(this.count))+.5,this.count+=.05,this.easeLoad+=.3*(this.targetLoad-this.easeLoad),this.percentageText.text=Math.floor(this.easeLoad),this.count>30){this.count=0,this.title.text+=".";var e=this.title.text.match(/[.]/g).length;e>4&&(this.title.text=this.title.text.replace(/[.]+/g,""))}},k.prototype._onComplete=function(){if(window.renderer.updateTexture)for(var e=r.groupHash.gameAssets.assets,t=e.length-1;t>=0;t--)window.renderer.updateTexture(o.Texture.fromImage(e[t]).baseTexture);this.worldParser=new s,this.worldParser.onComplete.addOnce(this.onWorldParsed,this),this.screenManager.gotoScreenByID("game"),h.prepopulate(p,25),h.prepopulate(u,25),h.prepopulate(d,20),h.prepopulate(g,20),h.prepopulate(f,60),h.prepopulate(v,120),h.prepopulate(m,120),h.prepopulate(y,120),h.prepopulate(_,12),h.prepopulate(x,12),h.prepopulate(w,12),h.prepopulate(b,12)},k.prototype.onWorldParsed=function(e){window.worldData=e,this.screenManager.gotoScreenByID("game")},k.prototype._onProgress=function(e,t){this.targetLoad=Math.floor(e.progress)},k.prototype.resize=function(e,t){this.pollerView.x=e/2,this.pollerView.y=t/2},i.exports=k}),define("com/fighter/app/screens/PathMaker",["require","exports","module","PIXI","signals","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","com/fighter/app/Consts","fido/system/Ticker","fido/app/transitions/AlphaTransition","libs/gameConfig/gameTracking","fido/sound/SoundBridge","fido/sound/MusicManager","fido/app/AssetManager","com/fighter/game/engine/WorldParser","fido/utils/FrameWait","com/fighter/game/engine/GameObjectPool","starwars/transitions/SwipeTransition","starwars/buttons/GoldenButton","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("signals"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("com/fighter/app/Consts"),e("fido/system/Ticker"),e("fido/app/transitions/AlphaTransition"),e("libs/gameConfig/gameTracking"),e("fido/sound/SoundBridge"),e("fido/sound/MusicManager"),e("fido/app/AssetManager"),e("com/fighter/game/engine/WorldParser"),e("fido/utils/FrameWait"),e("com/fighter/game/engine/GameObjectPool"),e("starwars/transitions/SwipeTransition"),e("starwars/buttons/GoldenButton")),r=e("fido/utils/Math2"),s=function(e){this.app=e,o.Container.call(this),this.background=new o.Graphics,this.background.beginFill(16579839).drawRect(-100,-100,2e3,2e3),this.addChild(this.background),this.w=1136,this.h=640,this.paddingH=60,this.paddingW=60,this.screenBounds=new o.Graphics,this.screenBounds.lineStyle(1,0,.2).drawRect(this.paddingW,this.paddingH,this.w-120,this.h-120),this.addChild(this.screenBounds),this.button=new n("icon_play.png"),this.button.setSize("small"),this.addChild(this.button),this.button.position.x=900,this.button.position.y=500,this.button.onPress.add(this._onButtonPressed,this),this.background.interactive=!0,this.background.buttonMode=!0,this.background.click=this._mouseDown.bind(this),this.path=new o.Graphics,this.pointsG=new o.Graphics,this.addChild(this.path),this.addChild(this.pointsG),this.points=[],this.pointsToDraw=[]};s.prototype=Object.create(o.Container.prototype),s.prototype.onShow=function(){this.app.topMenu.hide(),this.app.frontLayer.fadeLogo(0)},s.prototype._mouseDown=function(e){var t=e.data.getLocalPosition(this),i=new o.Point(this.w/2,this.h/2),n=new o.Point(t.x-i.x,t.y-i.y),s=new o.Point;s.x=r.map(Math.abs(n.x),0,(this.w-120)/2,0,568)*(n.x<0?-1:1)+this.w/2,s.y=r.map(Math.abs(n.y),0,(this.h-120)/2,0,320)*(n.y<0?-1:1)+this.h/2,this.points.push(s),this.pointsToDraw.push(t),this.path.clear().lineStyle(2,0),this.pointsG.clear().beginFill(0);for(var a=0;a<this.points.length;a++)this.pointsG.drawCircle(this.pointsToDraw[a].x,this.pointsToDraw[a].y,10),0===a?this.path.moveTo(this.pointsToDraw[a].x,this.pointsToDraw[a].y):this.path.lineTo(this.pointsToDraw[a].x,this.pointsToDraw[a].y)},s.prototype._onButtonPressed=function(e){for(var t="[",i=0;i<this.points.length;i++)t+=i===this.points.length-1?'{ "x":-100, "y":'+parseInt(this.points[i].y)+"}":'{ "x":'+parseInt(this.points[i].x)+', "y":'+parseInt(this.points[i].y)+"}",i!==this.points.length-1&&(t+=",");t+="]"},i.exports=s}),define("com/fighter/app/screens/SimplifyPoints",["require","exports","module","PIXI","fido/utils/Utils","fido/utils/Math2","starwars/buttons/GoldenButton","com/fighter/app/RDPAlgorithm"],function(e,t,i){var o=e("PIXI"),r=(e("fido/utils/Utils"),e("fido/utils/Math2"),e("starwars/buttons/GoldenButton")),s=e("com/fighter/app/RDPAlgorithm"),a=function(e){this.app=e,o.Container.call(this),this.background=new o.Graphics,this.background.beginFill(16579839).drawRect(-100,-100,2e3,2e3),this.addChild(this.background),this.w=1136,this.h=640,this.paddingH=60,this.paddingW=60,this.screenBounds=new o.Graphics,this.screenBounds.lineStyle(1,0,.2).drawRect(this.paddingW,this.paddingH,this.w-120,this.h-120),this.addChild(this.screenBounds),this.button=new r("icon_play.png"),this.button.setSize("small"),this.button.position.x=900,this.button.position.y=500,this.button.onPress.add(this._onButtonPressed,this),this.background.interactive=!0,this.background.buttonMode=!0,this.path=new o.Graphics,this.pointsG=new o.Graphics,this.pointsPerp=new o.Graphics,this.pointsPerp.alpha=.4,this.addChild(this.path),this.addChild(this.pointsPerp),this.addChild(this.pointsG),this.points=[],this.pointsToDraw=[{x:814,y:-45},{x:847,y:64},{x:936,y:121},{x:1041,y:172},{x:1094,y:251},{x:1100,y:357},{x:1063,y:452},{x:997,y:483},{x:877,y:483},{x:761,y:441},{x:679,y:360},{x:546,y:296},{x:334,y:266},{x:-100,y:259}],this.drawPoints(this.pointsToDraw),this.newPoints=this.simplify(this.pointsToDraw,40);for(var t=0;t<this.newPoints.length;t++);this.drawPoints(this.newPoints,16711680)};a.prototype=Object.create(o.Container.prototype),a.prototype.drawPoints=function(e,t){t=t||0,this.pointsG.beginFill(t),this.path.lineStyle(2,t);for(var i=0;i<e.length;i++)this.pointsG.drawCircle(e[i].x,e[i].y,10),0===i?this.path.moveTo(e[i].x,e[i].y):this.path.lineTo(e[i].x,e[i].y)};a.prototype.perpendicularDistance=function(e,t,i){return this.pointsPerp.beginFill(16777215*Math.random()),k=((i.y-t.y)*(e.x-t.x)-(i.x-t.x)*(e.y-t.y))/(Math.pow(i.y-t.y,2)+Math.pow(i.x-t.x,2)),x4=e.x-k*(i.y-t.y),y4=e.y+k*(i.x-t.x),dx=e.x-x4,dy=e.y-y4,this.pointsPerp.drawCircle(e.x,e.y,15),this.pointsPerp.drawCircle(x4,y4,5),Math.sqrt(dx*dx+dy*dy)},a.prototype.uniq_fast=function(e){for(var t={},i=[],o=e.length,n=0,r=0;o>r;r++){var s=e[r];1!==t[s]&&(t[s]=1,i[n++]=s)}return i},a.prototype.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},a.prototype.point_line_distance=function(e,t,i){return t==i?this.distance(e,t):(n=Math.abs((i.x-t.x)*(t.y-e.y)-(t.x-e.x)*(i.y-t.y)),d=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),n/d)},a.prototype.simplify=function(e,t){return s.instance.simplify(e,40)},a.prototype.onShow=function(){this.app.topMenu.hide(),this.app.frontLayer.fadeLogo(0)},a.prototype._onButtonPressed=function(e){},i.exports=a}),define("com/fighter/app/screens/selectScreen/ScreenStars",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(){o.Container.call(this),this.slots=[];for(var e=0;3>e;e++){var t=new o.Sprite.fromFrame("stars_empty.png");t.position.x=30*e,this.addChild(t);var i=new o.Sprite.fromFrame("stars_full.png");i.position.x=30*e,i.visible=!1,this.addChild(i),this.slots.push(i)}};n.prototype=Object.create(o.Container.prototype),n.prototype.setStars=function(e){for(var t=0;t<this.slots.length;t++)e>t?this.slots[t].visible=!0:this.slots[t].visible=!1},i.exports=n}),define("com/fighter/app/screens/selectScreen/Screen",["require","exports","module","PIXI","starwars/buttons/GoldenButton","signals","fido/system/Ticker","com/fighter/game/effects/GlitchEffect","com/fighter/app/LinesUI","fido/utils/Utils","com/fighter/app/screens/selectScreen/ScreenStars","fido/utils/Math2"],function(e,t,i){var o=e("PIXI"),n=(e("starwars/buttons/GoldenButton"),e("signals")),r=e("fido/system/Ticker"),s=e("com/fighter/game/effects/GlitchEffect"),a=e("com/fighter/app/LinesUI"),h=e("fido/utils/Utils"),c=e("com/fighter/app/screens/selectScreen/ScreenStars"),l=e("fido/utils/Math2"),p=function(){o.Container.call(this),this.onPlayPressed=new n,this.datas={},this.delay=230*Math.random()+240,this.delayGlitch=120*Math.random()+120,this.ticker=0,this.bgImage=new o.Sprite.fromFrame("background_picture.png"),this.bgImage.originalPos=new o.Point(-30,-50),this.bgImage.amplitude=new o.Point(5,7.5),this.bgImage.position.x=-30,this.bgImage.position.y=-30,this.shadow=new o.Sprite,this.containerImage=new o.Container,this.containerImage.originalPos=new o.Point(0,0),this.containerImage.amplitude=new o.Point(20,30),this.containerImage.interactive=!0,this.containerImage.buttonMode=!0,this.containerImage.hitArea=new o.Rectangle(this.bgImage.width/2-200,this.bgImage.height/2-200,400,400),this.containerImage.click=this.containerImage.tap=this.onButtonPressed.bind(this),this.glitchEffectContainer=new s,this.containerImage.addChild(this.glitchEffectContainer),this.image=new o.Sprite,this.glitchEffectContainer.addChild(this.image),this.containerName=new o.Container,this.backgroundName=new o.Sprite.fromFrame("back_mission_name.png"),this.backgroundName.scale.y=.9,this.backgroundName.anchor.x=1,this.backgroundName.anchor.y=.5,this.containerName.addChild(this.backgroundName);var e={font:"28px "+window.SECONDARY_FONT,fill:"#1c8774"};this.name=new o.Text("",e),this.name.anchor.x=this.name.anchor.y=.5,this.containerName.addChild(this.name),this.infos=new o.Text(""),this.lockedImage=new o.Sprite.fromFrame("locker.png"),this.lockedImage.anchor.x=.5,this.lockedImage.anchor.y=.5,this.containerButton=new o.Container,this.playButtonBG=new o.Sprite.fromFrame("play_button_background5.png"),this.playButtonBG.anchor.x=this.playButtonBG.anchor.y=.5,this.containerButton.addChild(this.playButtonBG),this.playButton=new o.Sprite.fromFrame("play_button.png"),this.playButton.anchor.x=this.playButton.anchor.y=.5,this.containerButton.addChild(this.playButton),this.shadowBox=new o.Sprite.fromFrame("background_picture_shadow.png"),this.shadowBox.anchor.x=.5,this.shadowBox.position.y=350,this.containerImage.addChild(this.shadowBox),this.bgHighscore=new o.Sprite.fromFrame("background_highscore.png"),this.bgHighscore.anchor.x=1,this.bgHighscore.anchor.y=.5,this.bgHighscore.position.x=100,this.bgHighscore.position.y=60;var e={font:"22px "+window.SECONDARY_FONT,fill:"#ffffff"},t=new o.Text(translations.STR_SELECT_SCREEN_HIGHSCORE,e);t.position.x=-5,t.position.y=3,t.anchor.x=t.anchor.y=1,this.bgHighscore.addChild(t),this.highScore=new o.Text("10000",e),this.highScore.position.x=-5,this.highScore.position.y=1,this.highScore.anchor.x=1,this.highScore.anchor.y=0,this.bgHighscore.addChild(this.highScore),this.bgStars=new o.Sprite.fromFrame("background_stars.png"),this.bgStars.anchor.x=this.bgStars.anchor.y=.5,this.bgStars.position.x=506,this.bgStars.position.y=60,this.screenStars=new c,this.screenStars.position.x=-this.screenStars.width/2+2,this.screenStars.position.y=-this.screenStars.height/2,this.bgStars.addChild(this.screenStars);for(var i=["play_button_background1.png","play_button_background2.png","play_button_background3.png","play_button_background4.png"],r=0;r<i.length;r++){var h=i[r],l=new o.Sprite.fromFrame(h);l.anchor.x=l.anchor.y=.5,l.speed=r%2===0?.005*Math.random()+.005:.005*-Math.random()-.005,this.playButtonBG.addChild(l)}this.addChild(this.shadow),this.addChild(this.bgImage),this.addChild(this.containerImage),this.addChild(this.bgHighscore),this.containerImage.addChild(this.bgStars),this.containerImage.addChild(this.containerName),this.containerImage.addChild(this.containerButton),this.containerButton.addChild(this.lockedImage),this.linesUI=new a,this.addChild(this.linesUI),this.interactive=!0,this.mousemove=this.onMove.bind(this)};p.prototype=Object.create(o.Container.prototype),p.prototype.parallax=function(e,t){var i=20;e>i?e=i:-i>e&&(e=-i);var o=l.map(e,-i,i,-10,10);t>i?t=i:-i>t&&(t=-i);var n=l.map(t,-i,i,-10,10);(o>0&&this.bgImage.position.x<this.bgImage.originalPos.x+5*this.bgImage.amplitude.x||0>o&&this.bgImage.position.x>this.bgImage.originalPos.x-5*this.bgImage.amplitude.x)&&(this.bgImage.position.x+=.08*(this.bgImage.position.x+o-this.bgImage.position.x)),(n>0&&this.bgImage.position.y<this.bgImage.originalPos.y+5*this.bgImage.amplitude.y||0>n&&this.bgImage.position.y>this.bgImage.originalPos.y-5*this.bgImage.amplitude.y)&&(this.bgImage.position.y+=.08*(this.bgImage.position.y+n-this.bgImage.position.y)),(o>0&&this.containerImage.position.x<this.containerImage.originalPos.x+8*this.containerImage.amplitude.x||0>o&&this.containerImage.position.x>this.containerImage.originalPos.x-8*this.containerImage.amplitude.x)&&(this.containerImage.position.x+=.08*(this.containerImage.position.x+1.5*o-this.containerImage.position.x)),(n>0&&this.containerImage.position.y<this.containerImage.originalPos.y+8*this.containerImage.amplitude.y||0>n&&this.containerImage.position.y>this.containerImage.originalPos.y-8*this.containerImage.amplitude.y)&&(this.containerImage.position.y+=.08*(this.containerImage.position.y+1.5*n-this.containerImage.position.y))},p.prototype.onMove=function(e){var t=e.data.getLocalPosition(this);this.percentageParallaxX=(t.x-this.containerImage.width/2)/this.containerImage.width*2,this.percentageParallaxY=(t.y-this.containerImage.height/2)/this.containerImage.height*2,this.percentageParallaxX>1?this.percentageParallaxX=1:this.percentageParallaxX<-1&&(this.percentageParallaxX=-1),this.percentageParallaxY>1?this.percentageParallaxY=1:this.percentageParallaxY<-1&&(this.percentageParallaxY=-1),this.bgImage.position.x+=.08*(this.bgImage.originalPos.x+this.percentageParallaxX*this.bgImage.amplitude.x-this.bgImage.position.x),this.bgImage.position.y+=.08*(this.bgImage.originalPos.y+this.percentageParallaxY*this.bgImage.amplitude.y-this.bgImage.position.y),this.containerImage.position.x+=.08*(this.containerImage.originalPos.x+this.percentageParallaxX*this.containerImage.amplitude.x-this.containerImage.position.x),this.containerImage.position.y+=.08*(this.containerImage.originalPos.y+this.percentageParallaxY*this.containerImage.amplitude.y-this.containerImage.position.y)},p.prototype.show=function(){this.name.updateText(),this.reset(),r.instance.add(this.update,this),this.containerButton.cacheAsBitmap=!1,this.isOn=!0,this.name.alpha=0,this.backgroundName.scale.x=0,this.containerButton.alpha=0,this.containerButton.position.x=this.image.width/2*1.4,this.linesUI.addLines(this.containerName.position),Easings.to(this.containerButton.position,1,{x:this.image.width/2,ease:Easings.easeOutSine}),Easings.to(this.containerButton,.4,{alpha:1,ease:Easings.easeOutCirc}),Easings.to(this.backgroundName.scale,.5,{delay:.5,x:this.backgroundName.futureScale,ease:Easings.easeOutCirc,onComplete:function(){Easings.to(this.name,.5,{alpha:1,ease:Easings.easeOutCirc})}.bind(this)})},p.prototype.hide=function(){r.instance.remove(this.update,this),this.glitchEffectContainer.stop(),this.containerButton.cacheAsBitmap=!0,this.isOn=!1,this.backgroundName.anchor.x=0,this.backgroundName.position.x-=this.backgroundName.width,Easings.to(this.backgroundName.scale,.5,{x:0,ease:Easings.easeOutCirc}),Easings.to(this.name,.5,{alpha:0,ease:Easings.easeOutCirc})},p.prototype.hoverButton=function(){Easings.to(this.playButton.scale,.4,{x:1.2,y:1.2})},p.prototype.outButton=function(){Easings.to(this.playButton.scale,.4,{x:1,y:1})},p.prototype.onButtonPressed=function(){this.locked||this.onPlayPressed.dispatch(this)},p.prototype.lock=function(){this.containerButton.buttonMode=!1,this.locked=!0,this.playButton.visible=!1,this.lockedImage.visible=!0,this.bgHighscore.visible=!1,this.bgStars.visible=!1,this.image.texture=this.textureLocked},p.prototype.unlock=function(){this.containerButton.buttonMode=!0,this.locked=!1,this.playButton.visible=!0,this.lockedImage.visible=!1,this.bgHighscore.visible=!0,this.screenStars.visible&&(this.bgStars.visible=!0),this.image.texture=this.textureUnlocked},p.prototype.update=function(){if(this.isOn){if(this.delay--,this.delay<0){this.delay=220*Math.random()+20;var e=Math.random()>.5?{x:50,y:0}:{x:this.image.width-50,y:this.image.height-80};this.linesUI.addLines(e,Math.floor(10*Math.random()+5))}for(var t=0;t<this.playButtonBG.children.length;t++){var i=this.playButtonBG.children[t];i.rotation+=i.speed}this.ticker++,this.ticker>this.delayGlitch&&(window.mobiles||this.glitchEffectContainer.glitch(!1,!0),this.delayGlitch=240*Math.random()+60,this.ticker=0)}},p.prototype.setScore=function(e){this.highScore.text=h.formatScore(e||0)},p.prototype.setStars=function(e){null!==e?this.screenStars.setStars(e):(this.bgStars.visible=!1,this.screenStars.visible=!1)},p.prototype.reset=function(){this.delay=230*Math.random()+240,this.delayGlitch=120*Math.random()+120,this.ticker=0,this.backgroundName.anchor.x=1;var e=this.name.width+80;this.backgroundName.scale.x=1,this.backgroundName.futureScale=e/this.backgroundName.width,this.backgroundName.scale.x=this.backgroundName.futureScale,this.backgroundName.position.x=this.backgroundName.width/2-25,this.containerName.position.x=this.backgroundName.width/2+100-25,this.name.alpha=0,this.backgroundName.scale.x=0,this.containerButton.alpha=0},p.prototype.setData=function(e){this.datas=e,this.delay=230*Math.random()+240,this.delayGlitch=120*Math.random()+120,this.ticker=0,this.name.text=this.datas.name.toUpperCase(),this.backgroundName.anchor.x=1;var t=1.2*this.name.width+50;this.backgroundName.scale.x=1,this.backgroundName.futureScale=t/this.backgroundName.width,this.backgroundName.scale.x=this.backgroundName.futureScale,this.backgroundName.position.x=this.backgroundName.width/2-25,this.textureUnlocked=o.Texture.fromFrame(this.datas.imageUnlocked),this.textureLocked=o.Texture.fromFrame(this.datas.imageLocked),this.image.texture=this.textureLocked,this.shadowBox.position.x=this.image.width/2-20,this.containerName.position.x=this.backgroundName.width/2+100-25,this.containerName.position.y=this.image.height,this.containerName.scale.x=1,this.containerButton.position.x=this.image.width/2,this.containerButton.position.y=this.image.height/2,this.name.alpha=0,this.backgroundName.scale.x=0,this.containerButton.alpha=0},i.exports=p}),define("com/fighter/app/screens/SelectScreen",["require","exports","module","PIXI","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","fido/utils/Math2","starwars/buttons/GoldenButton","signals","./selectScreen/Screen","fido/loader/Cache","fido/system/DelayedCalls","fido/sound/SoundBridge","fido/app/OrientationManager","fido/app/DevicemotionManager","fido/sound/MusicManager"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/game/GameConfig"),r=e("com/fighter/app/system/GameSaveManager"),s=(e("fido/utils/Math2"),e("starwars/buttons/GoldenButton")),a=e("signals"),h=e("./selectScreen/Screen"),c=e("fido/loader/Cache"),l=e("fido/system/DelayedCalls"),p=e("fido/sound/SoundBridge"),u=e("fido/app/OrientationManager"),d=e("fido/app/DevicemotionManager"),g=function(e){this.app=e,o.Container.call(this),this.devicemotionManager=new d,this.orientationManager=new u,this.deviceOrientation=this.orientationManager.orientation>=0?1:-1,this.buttons=[],this.wentBackToTitle=!1,this.firstTime=!0,this.currentIndex=0,this.vignet=new o.Sprite.fromImage(ASSET_URL+"img/game/vignet_select_mission.png"),this.vignet.anchor.x=this.vignet.anchor.y=.5,this.vignet.hitArea=new o.Rectangle,this.fresco=new o.Sprite.fromImage(ASSET_URL+"img/game/fresque_select_mission.jpg"),this.fresco.alpha=0,this.fresco.hitArea=new o.Rectangle,this.addChild(this.fresco),this.frescoOffset=this.fresco.width/4,this.leftArrow=new f("icon_next.png"),this.leftArrow.scale.x=-1,this.leftArrow.onPress.add(this.onArrowPressed,this),this.rightArrow=new f("icon_next.png"),this.rightArrow.onPress.add(this.onArrowPressed,this);var t=568,i=390;this.leftArrow.x=t-450,this.leftArrow.y=320,this.rightArrow.x=t+450,this.rightArrow.y=this.leftArrow.y,this.positionScreen=new o.Point(t-285,i-170);this.index=0,this._firstShow=!0;var r=c.getJson("missions"),a=[],p=0;for(var g in r)a.push({id:g,imageUnlocked:r[g].imageUnlocked,imageLocked:r[g].imageLocked,name:translations[r[g].name],desc:translations[r[g].description],endless:r[g].endless,index:p}),p++;this.screenContainer=new o.Container,this.addChild(this.screenContainer),this.screens=[],n.missions=[];for(var p=0;p<a.length-1;p++){var m=a[p],v=new h;v.setData(m),v.onPlayPressed.add(this.onPress,this),n.missions.push(m),this.screenContainer.addChild(v),this.screens.push(v)}this.back=new s("icon_prev.png"),this.back.setSize("small"),this.back.position.x=190,this.back.position.y=65,this.addChild(this.back),this.back.onPress.add(function(){this.app.bg.moveBack(),this.app.frontLayer.fade(0),this.screenManager.gotoScreenByID("title"),this.wentBackToTitle=!0},this),window.FONTS_EXTENDED?this.title=new o.Text(translations.STR_SELECT_SCREEN.toUpperCase(),{font:"34px "+window.MAIN_FONT,fill:"#fed95c",stroke:"#fddd54",strokeThickness:1}):this.title=new o.extras.BitmapText(translations.STR_SELECT_SCREEN.toLowerCase(),{font:"34px Star Jedi Fighter",align:"right"}),this.title.updateText(),this.title.pivot.x=.5*this.title.width,this.title.y=160,this.frame=new o.Sprite.fromFrame("cadre.png"),this.frame.anchor.x=this.frame.anchor.y=.5,this.frame.position.y=this.title.position.y+this.title.height-5;var y=1.1*this.title.width;this.frame.scale.x=y/this.frame.width,this.addChild(this.frame),this.addChild(this.title),this.addChild(this.leftArrow.view),this.addChild(this.rightArrow.view),this.delayedCalls=new l};g.prototype=Object.create(o.Container.prototype),g.prototype.calculateSpeed=function(){var e,t,i,o,n,r,s,a,h,c,l,p=this.pos.x,u=this.pos.y;return this.previousTime===!1?0:(h=this.previousTime,e=this.previousPos.x,t=this.previousPos.y,i=Date.now(),o=e-p,n=t-u,r=i-h,c=0>o?1:-1,l=0>n?1:-1,p=e,u=t,s=c*Math.sqrt(o*o)/(r/10),a=l*Math.sqrt(n*n)/(r/10),isNaN(s)&&(s=0),isNaN(a)&&(a=0),{x:s,y:a})},g.prototype.onTouchUp=function(e){this.isDown=!1},g.prototype.onTouchDown=function(e){this.isDown=!0},g.prototype.onTouchMove=function(e){if(!this.isDown)return this.previousPos.x=this.pos.x,this.previousPos.y=this.pos.y,void(this.previousTime=Date.now());var t=e.data.getLocalPosition(this);this.pos=t,this.speed=this.calculateSpeed(),this.previousPos.x=this.pos.x,this.previousPos.y=this.pos.y,this.previousTime=Date.now(),Math.abs(this.speed.x)>15&&this.swipe(this.speed.x<0?1:-1)},g.prototype.onHide=function(){for(var e=0;e<this.screens.length;e++){var t=this.screens[e];t.isOn&&t.hide()}},g.prototype.onShow=function(){e("fido/sound/MusicManager").play("level_select"),this.app.topMenu.setMode("title"),this.app.frontLayer.fadeLogo(1),this.app.frontLayer.fade(1),this.fresco.position.x=-2*this.frescoOffset,this.fresco.position.y=-50,this.wentBackToTitle||this.firstTime?(this.firstTime=!1,this.wentBackToTitle=!1,this.index=0,this.prepareMissions(0),this.currentIndex=0,this.leftArrow.alpha=0,this.fresco.alpha=0,this.frescoAnimating=!0,Easings.to(this.fresco,.4,{alpha:.4,delay:2,ease:Easings.easeOutSine,onComplete:function(){this.frescoAnimating=!1}.bind(this)}),this.screenContainer.position.x=900,this.screenContainer.position.y=90,Easings.to(this.screenContainer.position,1,{x:0,ease:Easings.easeOutSine}),Easings.to(this.screenContainer.position,.5,{y:0,ease:Easings.easeOutCirc,onComplete:function(){}.bind(this)})):this.app.frontLayer.playHead(),this.delayedCalls.add(function(){this.showMission(this.currentIndex)}.bind(this),.4);for(var t=0;t<this.screens.length;t++){var i=this.screens[t];r.instance.save.missions[t].unlocked||window.cheat?(i.unlock(),2===t&&this.delayedCalls.add(function(){this.app.alertPanelManager.show("continue")}.bind(this),1)):i.lock(),i.setScore(r.instance.save.missions[t].localHighscore),i.setStars(r.instance.save.missions[t].stars)}this.screens[2].unlock()},g.prototype.onPress=function(e){n.mission=e.datas.index,this.app.gameScreen.game.setDatas(e.datas),this.app.frontLayer.fade(0),this.wentBackToTitle=!1,p.sfx.play("selectbeep"),this.screenManager.gotoScreenByID("prep")},g.prototype.swipe=function(e){if(!this.isTransitioning){this.isTransitioning=!0,this.delayedCalls.add(function(){this.isTransitioning=!1}.bind(this),1);var t=this.index;0>e?t--:t++,t>=this.screens.length-1?t=this.screens.length-1:0>t&&(t=0),t!==this.index&&(this.index=t,this.showMission(this.index))}},g.prototype.onArrowPressed=function(e){var t=this.index;e===this.leftArrow?t--:e===this.rightArrow&&t++,t>=this.screens.length-1?t=this.screens.length-1:0>t&&(t=0),t!==this.index&&(this.index=t,p.sfx.play("selectbeep"),this.showMission(this.index))},g.prototype.hideMissions=function(){for(var e=0;e<this.screens.length;e++){var t=this.screens[e];t.position.y=this.positionScreen.y,t.position.x=1200}},g.prototype.prepareMissions=function(e){for(var t=0;t<this.screens.length;t++){var i=this.screens[t];e>t?(i.position.x=this.positionScreen.x-1100,i.position.y=this.positionScreen.y):t>e?(i.position.x=this.positionScreen.x+1100,i.position.y=this.positionScreen.y):(i.position.x=this.positionScreen.x,i.position.y=this.positionScreen.y)}},g.prototype.showMission=function(e){var t=2.2;this.frescoAnimating||Easings.to(this.fresco.position,t,{x:-2*this.frescoOffset+e*this.frescoOffset,ease:Easings.easeInOutSine});for(var i=0;i<this.screens.length;i++){var o=this.screens[i];e>i?(o.isOn&&o.hide(),TweenLite.to(o.position,t,{x:this.positionScreen.x-1100,y:this.positionScreen.y})):i>e?(o.isOn&&o.hide(),TweenLite.to(o.position,t,{x:this.positionScreen.x+1100,y:this.positionScreen.y})):(o.show(),TweenLite.to(o.position,t,{x:this.positionScreen.x,y:this.positionScreen.y}))}this.currentIndex<e?this.app.frontLayer.moveRight():this.currentIndex>e&&this.app.frontLayer.moveLeft(),e>=this.screens.length-1?this.rightArrow.fade(0):this.rightArrow.fade(1),0===e?this.leftArrow.fade(0):this.leftArrow.fade(1),this.currentIndex=e},g.prototype.resize=function(e,t){this.frame.position.x=e/2,this.title.x=e/2,this.vignet.scale.x=this.vignet.scale.y=1,this.vignet.position.x=e/2,this.vignet.position.y=t/2,this.vignet.scale.x=Math.min(e/this.vignet.width,1),this.vignet.scale.y=Math.min(t/this.vignet.height,1)},g.prototype.deviceMotionUpdate=function(){if(!Device.instance.desktop){Device.instance.iOS?(x=Math.abs(this.devicemotionManager.rotation.alpha/2),y=Math.abs(this.devicemotionManager.rotation.beta/2)):Device.instance.chrome?(x=Math.abs(10*this.devicemotionManager.rotation.alpha),y=Math.abs(10*this.devicemotionManager.rotation.beta)):(x=Math.abs(this.devicemotionManager.rotation.alpha/2),y=Math.abs(this.devicemotionManager.rotation.beta/2)),x<1&&(x=0),y<1&&(y=0),this.devicemotionManager.rotation.alpha*this.deviceOrientation>0?x*=1:x*=-1,this.devicemotionManager.rotation.alpha*this.deviceOrientation>0?y*=1:y*=-1;for(var e=0;e<this.screens.length;e++){var t=this.screens[e];t.parallax(x,y)}}},g.prototype.updateTransform=function(){this.visible&&(this.containerUpdateTransform(),this.deviceMotionUpdate())};var f=function(e){o.Container.call(this),this.view=this,this.background=new o.Sprite.fromFrame("butotn_right.png"),this.background.anchor.set(.5),this.addChild(this.background),this.onPress=new a,this.onDown=new a,this.onUp=new a,this.onHover=new a,this.onOut=new a,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),this.onHover.add(this.hover,this),this.onOut.add(this.out,this),this._scale=new o.Point,this.interactive=!0,this.buttonMode=!0};f.prototype=Object.create(o.Container.prototype),f.prototype.constructor=f,f.prototype.fade=function(e){Easings.to(this,.2,{alpha:e})},f.prototype.down=function(e,t){this.out(e,t)},f.prototype.up=function(e,t){this.hover(e,t)},f.prototype.hover=function(e,t){var i=.8;TweenLite.to(this.background.scale,.5*i,{x:1.1,y:1.1,ease:Power4.easeOut})},f.prototype.out=function(e,t){var i=.2;TweenLite.to(this.background.scale,i,{x:1,y:1,ease:Power2.easeOut})},i.exports=g}),define("fido/app/transitions/DigitalTransition",["require","exports","module"],function(e,t,i){DigitalTransition=function(){},DigitalTransition.constructor=DigitalTransition,DigitalTransition.prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.currentScreen.scale,.1,{
x:1.5,y:0,ease:Sine.easeOut,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},DigitalTransition.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.scale.y=0,this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),TweenLite.to(this.nextScreen.scale,.4,{x:1,y:1,ease:Elastic.easeOut,onComplete:this.onFadein.bind(this)}),this.screenManager.container.addChild(this.nextScreen)},DigitalTransition.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},DigitalTransition.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=DigitalTransition}),define("starwars/overlays/AlertPanel",["require","exports","module","PIXI","signals","fido/app/ScreenManager","fido/app/transitions/DigitalTransition","starwars/buttons/GoldenButton","fido/app/Screen","starwars/filters/GlitchCathodic","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=(e("fido/app/ScreenManager"),e("fido/app/transitions/DigitalTransition"),e("starwars/buttons/GoldenButton")),s=(e("fido/app/Screen"),e("starwars/filters/GlitchCathodic"),e("fido/system/Ticker")),a=function(e,t){o.Container.call(this),this.app=e,this.blur=t,this.onShow=new n,this.onHide=new n,this.positionRatio=1,this.counter=0,this.container=new o.Sprite,this.container.anchor.set(.5),this.container.position.x=this.app.safeSize.width/2,this.container.position.y=this.app.safeSize.height/2,this.view=new o.Container,o.isWebGL&&this.blur?(this.black=(new o.Graphics).beginFill(6962028).drawRect(0,0,100,100),this.black.alpha=.7,this.black.interactive=!0,this.black.blendMode=o.BLEND_MODES.MULTIPLY,this.black.hitArea=new o.Rectangle(0,0,1e4,1e4)):(this.black=(new o.Graphics).beginFill(5592405).drawRect(0,0,100,100),this.black.alpha=0,this.black.interactive=!0,this.black.hitArea=new o.Rectangle(0,0,1e4,1e4)),this.view.visible=!1,!Device.instance.ie&&this.blur&&o.isWebGL&&(this.rt=new o.RenderTexture(this.app.renderer,1136,745,0,.25),this.bg=new o.Sprite(this.rt),this.view.addChild(this.bg),this.blurX=new o.filters.BlurXFilter,this.blurX.blur=30,this.blurY=new o.filters.BlurYFilter,this.blurY.blur=30,this.blurX.passes=8,this.blurY.passes=8),this.view.addChild(this.black),this.view.addChild(this.container),this.bg2=new o.Sprite.fromFrame("generic_comms_panel.png"),this.bg2.anchor.set(.5),this.container.addChild(this.bg2),this.nextButton=new r("icon_play.png"),this.nextButton.setSize("small"),this.nextButton.onPress.add(this.next,this),this.nextButton.x=this.bg2.width/2-10,this.nextButton.y=this.bg2.height/2-25,this.bg2.addChild(this.nextButton);var i={font:"40px "+window.MAIN_FONT,fill:"#eeffff",stroke:"#fddd54",strokeThickness:1};this.formatInfo={font:"20px "+window.MAIN_FONT,fill:"#eeffff",wordWrap:!0,lineHeight:28,wordWrapWidth:.8*this.bg2.width,align:"center"},this.formatInfoWithImage={font:"24px "+window.SECONDARY_FONT,fill:"#eeffff",wordWrap:!0,lineHeight:28,wordWrapWidth:.7*this.bg2.width,align:"left"},this.title=new o.Text("",i),this.title.anchor.x=this.title.anchor.y=.5,this.title.position.y=-this.bg2.height/2-25,this.sprite=new o.Sprite,this.sprite.anchor.y=.5,this.sprite.position.x=-this.bg2.width/2+20,this.sprite.position.y=0,this.info=new o.Text("",this.formatInfo),this.info.anchor.x=.5,this.info.anchor.y=.5,this.container.addChild(this.title),this.container.addChild(this.sprite),this.container.addChild(this.info)};a.prototype=Object.create(o.Container.prototype),a.prototype.setPosition=function(e){this.positionRatio=e||this.positionRatio,this.container.position.x=this.app.safeSize.width/2*this.positionRatio,this.container.position.y=this.app.safeSize.height/2*this.positionRatio},a.prototype.resize=function(e,t){this.black.scale.set(e/100,t/100)},a.prototype.update=function(){this.counter-=.04,o.isWebGL},a.prototype.next=function(){this.index+1>=this.data.length?this.hide():(this.index++,this.display(this.index))},a.prototype.display=function(e){var t=this.data[e];this.title.text=t.title||"",t.img?(this.info.style=this.formatInfoWithImage,this.info.position.x=30,this.sprite.visible=!0,this.sprite.texture=new o.Texture.fromFrame(t.img)):(this.info.style=this.formatInfo,this.info.position.x=0,this.sprite.visible=!1),this.info.text=translations[t.text]||t.text;var i=.75*this.bg2.height/this.info.height;this.info.scale.set(Math.min(i,1)),TweenLite.fromTo(this.info,.4,{alpha:0},{alpha:1}),TweenLite.fromTo(this.info,.4,{y:-10},{y:0,ease:Back.easeOut})},a.prototype.hide=function(){this.onHide.dispatch(),o.isWebGL?(TweenLite.to(this.container.scale,.1,{x:1.5,y:0,ease:Sine.easeOut}),TweenLite.to(this.view,.3,{alpha:0,onComplete:function(){this.view.visible=!1,s.instance.remove(this.update,this)}.bind(this)})):(this.container.scale.x=1.5,this.container.scale.y=0,this.view.visible=!1,s.instance.remove(this.update,this))},a.prototype.show=function(e,t){if(s.instance.add(this.update,this),t=t||{},this.nextButton.visible=t.hasNextButton!==!1,this.black.visible=this.nextButton.visible,this.setPosition(),this.container.position.x+=t.offsetX||0,this.container.position.y+=t.offsetY||0,this.onShow.dispatch(),!Device.instance.ie&&this.blur&&o.isWebGL){var i=this.app.stage;i.filters=[this.blurX,this.blurY],this.rt.render(i),this.bg.visible=!0,i.filters=null}this.view.visible=!0,this.view.alpha=0,this.container.scale.set(1.5,0),o.isWebGL?(TweenLite.to(this.view,.3,{alpha:1}),TweenLite.to(this.container.scale,.4,{delay:.2,x:1,y:1,ease:Elastic.easeOut})):(this.view.alpha=1,this.container.scale.x=this.container.scale.y=1),this.index=0,this.data=e,this.display(this.index)},i.exports=a}),define("starwars/app/AlertPanelManager",["require","exports","module","PIXI","starwars/overlays/AlertPanel","fido/system/LocalStorage","signals"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/AlertPanel"),r=e("fido/system/LocalStorage"),s=e("signals"),a=function(e,t,i){this.app=e,t||(t="com.disney.arcade.panels_"),this.currentPanelId="",this.onHide=new s,this.onShow=new s,this.view=new o.Container,this.canComeBack=!1,this.alertPanel=new n(e,i),this.alertPanel.onHide.add(this.onPanelHidden,this),this.view.addChild(this.alertPanel.view),this.localStorage=new r(t),this.save={alertPanels:{}}};a.prototype.constructor=a,a.prototype.load=function(e){var t=this.localStorage.getObject("savePanels");if(t)this.save=t;else{for(var i in e){var o=e[i];this.save.alertPanels[i]=o;for(var n=0;n<o.length;n++)this.save.alertPanels[i]=o[n]}this.localStorage.storeObject("savePanels",this.save)}for(var i in e)for(var r=e[i].slides,n=0;n<r.length;n++){var s=r[n];this.save.alertPanels[i].slides[n].text=s.text}},a.prototype.onPanelHidden=function(){this.setAlertPanelState(this.currentPanelId,!1),this.onHide.dispatch()},a.prototype.setAlertPanelState=function(e,t){var i=this.save.alertPanels[e];i&&(i.state=t),this.saveToStorage()},a.prototype.show=function(e,t){t=t||{},this.canComeBack=t.canComeBack,void 0===this.canComeBack&&(this.canComeBack=!1),this.currentPanelId=e;var i=this.save.alertPanels[this.currentPanelId];i&&i.state&&(this.onShow.dispatch(),this.alertPanel.show(i.slides,t))},a.prototype.showCustom=function(e,t){this.alertPanel.show([{text:e}],t)},a.prototype.hide=function(e){this.save.alertPanels[this.currentPanelId];this.alertPanel.hide()},a.prototype.getState=function(e){var t=this.save.alertPanels[e];return t?t.state:void 0},a.prototype.addEvents=function(e){var t=this.save.alertPanels.events;if(!t||""!==t.lastAccess&&t.lastAccess!==(new Date).toDateString()){for(var t={lastAccess:"",slides:[]},i=0;i<e.length;i++)t.slides.push({text:e[i]});this.save.alertPanels.events=t}},a.prototype.showEvents=function(){var e=this.save.alertPanels.events,t=(new Date).toDateString();e.lastAccess!==t&&(this.onShow.dispatch(),this.alertPanel.show(e.slides),e.lastAccess=t,this.saveToStorage())},a.prototype.resize=function(e,t){this.alertPanel.resize(e,t)},a.prototype.saveToStorage=function(){this.canComeBack||this.localStorage.storeObject("savePanels",this.save)},i.exports=a}),define("fido/shop/ItemGroup",["require","exports","module"],function(e,t,i){var o=function(e,t){"undefined"==typeof t&&(t=[]),"undefined"==typeof e&&(e=""),this._items=t,this.name=e};o.prototype={addItems:function(e){for(var t=0;t<e.length;t++)this.addItem(e[t])},addItem:function(e){this._items.push(e)},hasItem:function(e){var t=this._items.indexOf(e);return-1!==t?!0:void 0},getItem:function(e){return this.hasItem(e)?e:void 0},getNumItems:function(){return this._items.length},getItemAt:function(e){return 0>e||e>this._items.length-1?null:this._items[e]},getBoughtItems:function(){for(var e=[],t=0;t<this._items.length;t++)this._items[t].purchased&&e.push(this._items[t]);return e},unlockNext:function(e){var t=this._items.indexOf(e);t+1<this._items.length&&this._items[t+1].unlock()},lockItem:function(e){targetItem=this.getItem(e),targetItem.lock()},unlockItem:function(e){targetItem=this.getItem(e),targetItem.unlock()}},i.exports=o}),define("fido/physics/Spring",["require","exports","module"],function(e,t,i){var o=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.max=160,this.damp=.8,this.springiness=.1};o.prototype.update=function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx},o.prototype.reset=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0},i.exports=o}),define("com/fighter/app/shop/ItemButton",["require","exports","module","PIXI","signals","fido/physics/Spring"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=(e("fido/physics/Spring"),function(e){o.Container.call(this),this.item=e,this.onPress=new n,this.onDown=new n,this.onUp=new n,this.onHover=new n,this.onMouseOut=new n,this.interactive=!0,this.buttonMode=!0,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onMouseOut.dispatch.bind(this,this),this.description=null,this.image=null,this.currentScale=new o.Point,this.isLocked=!1,this.purchased=!1,this.activeBackgroundTexture=o.Texture.fromFrame(e.textureInactive||"shop_upgrade_node_add.png"),this.inactiveBackgroundTexture=o.Texture.fromFrame(e.textureInactive||"shop_upgrade_node_off.png"),this.lockedBackgroundTexture=o.Texture.fromFrame(e.textureInactive||"shop_upgrade_node_off.png"),this.boughtBackgroundTexture=o.Texture.fromFrame(e.textureActive||"shop_upgrade_node_on.png"),this.init()});r.prototype=Object.create(o.Container.prototype),r.prototype.constructor=r,r.prototype.init=function(){this.button=new o.Sprite(this.activeBackgroundTexture),this.button.anchor.set(.5),this.addChild(this.button),this.currentScale.set(1)},r.prototype.bought=function(){this.button.texture=this.boughtBackgroundTexture,this.purchased=!0,this.deselect(),this.purchased=!0},r.prototype.lock=function(){this.button.texture=this.lockedBackgroundTexture,this.setInteractive(!1),this.isLocked=!0},r.prototype.unlock=function(){this.button.texture=this.activeBackgroundTexture,this.isLocked=!1,this.setInteractive(!0)},r.prototype.select=function(){this.purchased?this.button.texture=this.boughtBackgroundTexture:this.button.texture=this.activeBackgroundTexture,this.selected=!0},r.prototype.deselect=function(){this.purchased?this.button.texture=this.boughtBackgroundTexture:this.button.texture=this.inactiveBackgroundTexture,this.selected=!1},r.prototype.setInteractive=function(e){e?(this.interactive=!0,this.buttonMode=!0):(this.interactive=!1,this.buttonMode=!1)},r.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this)},i.exports=r}),define("com/fighter/app/shop/Item",["require","exports","module","PIXI","com/fighter/app/shop/ItemButton"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/app/shop/ItemButton"),r=function(e){var t={currentLevel:1,price:100,thumbnail:new o.Text("IMAGE",{font:"6px Arial"}),image:new o.Text("IMAGE",{font:"10px Arial"}),name:"Magic box",textureActive:"",textureInactive:"",type:"",purchased:!1,active:!0,name:"Magic box",description:"Description of the super-magical awesome expensive thing"};if(e){for(var i in t)"undefined"==typeof e[i]&&(e[i]=t[i]);this.options=e}else this.options=t;this.thumbnail=this.options.thumbnail,this.description=this.options.description,this.imageUrl=this.options.imageUrl,this.name=this.options.name,this.id=this.options.id,this.type=this.options.type,this.purchased=this.options.purchased,this.active=this.options.active,this.locked=!1,this.price=100,this.textureActive=this.options.textureActive,this.textureInactive=this.options.textureInactive,this.init()};r.prototype.constructor=r,r.prototype.init=function(){this.price=this.options.price,this.view=new n(this)},r.prototype.bought=function(){this.purchased=!0,this.view.bought()},r.prototype.lock=function(){this.locked=!0,this.view.lock()},r.prototype.unlock=function(){this.locked=!1,this.view.unlock()},i.exports=r}),define("com/fighter/app/shop/ShopSystem",["require","exports","module","signals","fido/system/LocalStorage","fido/shop/ItemGroup","com/fighter/app/shop/Item","fido/loader/Cache"],function(e,t,i){var o=e("signals"),n=e("fido/system/LocalStorage"),r=e("fido/shop/ItemGroup"),s=e("com/fighter/app/shop/Item"),a=(e("fido/loader/Cache"),function(e){this.translate=!0;var t={startAmount:window.cheat?5e5:0};if(e){for(var i in t)"undefined"==typeof e[i]&&(e[i]=t[i]);this.options=e}else this.options=t;this._wallet=this.options.startAmount,this._items=[],this._groups=[],this.onChange=new o,this.onChange.add(this.saveToStorage,this),this.localStorage=new n(window.cheat?"com.starwars.fighter.cheat":"com.starwars.yoda.fighter"),this.onLoaded=new o,this.loadSaveData()});a.prototype={buyItem:function(e){if(-1!=this._items.indexOf(e)){if(this.canBuyItem(e)){this.spendMoney(e.price),e.bought();var t=this.findParentGroup(e);return t&&t.unlockNext(e),this.onChange.dispatch(),!0}return!1}return!1},toggleItemState:function(e,t){if(-1!=this._items.indexOf(e)){if(e.active===t)return;return e.active=t,this.onChange.dispatch(),!1}return!1},canBuyAnyItem:function(){for(var e=0;e<this._items.length;e++)if(this.canBuyItem(this._items[e]))return!0;return!1},canBuyItem:function(e){return e.purchased?!1:this._wallet>=e.price?!0:!1},spendMoney:function(e){this._wallet-=e,this.onChange.dispatch()},earnMoney:function(e){this._wallet+=e,this.onChange.dispatch()},_setMoney:function(e){this._wallet=e,this.onChange.dispatch()},getMoney:function(){return this._wallet},findParentGroup:function(e){for(var t=0;t<this._groups.length;t++)if(this._groups[t].hasItem(e))return this._groups[t];return!1},createGroup:function(e,t){var i=new r(e,t);return this._groups.push(i),i},getNumGroups:function(){return this._groups.length},getGroupAt:function(e){return 0>e||e>this._groups.length-1?null:this._groups[e]},addItems:function(e){for(var t=0;t<e.length;t++)this.addItem(e[t])},addItem:function(e){this._items.push(e)},getNumItems:function(){return this._items.length},getAtId:function(e){for(var t=0,i=this._items.length;i>t;t++)if(this._items[t].id===e)return this._items[t]},loadFromJson:function(e){for(var t=Object.keys(e.groups),i=t.length,o=0;i>o;o++)for(var n=this.createGroup(t[o]),r=0,a=0;a<e.groups[t[o]].length;a++){var h=e.groups[t[o]][a],c={id:h.id,currentLevel:1,price:h.price,thumbnail:h.thumbnail,imageUrl:h.imageUrl,description:this.translate?translations[h.description]:h.description,type:h.type,textureActive:h.textureActive,textureInactive:h.textureInactive,name:h.name,purchased:h.purchased,active:h.active},l=new s(c);l.group=n,this.addItem(l),n.addItem(l),c.purchased&&(l.bought(),r++),a>r&&!c.purchased&&n.lockItem(l)}},updateFromSave:function(){if(this.hasStoredData()){for(var e=this.loadSaveData(),t=0;t<e.items.length;t++){var i=e.items[t],o=this.getAtId(i.id);o&&(i.locked?o.lock():o.unlock(),i.purchased&&o.bought(),i.active?o.active=!0:o.active=!1)}e.amount&&e.amount!==this.getMoney()?this._setMoney(e.amount):this.onChange.dispatch()}},createSaveData:function(){for(var e={items:[],amount:this.getMoney()},t=0;t<this._items.length;t++){var i=this._items[t],o={id:i.id,purchased:i.purchased,active:i.active,locked:i.locked};e.items.push(o)}return e},loadSaveData:function(){var e=this.localStorage.getObject("saveData");return e?(this.onLoaded.dispatch(),e):null},hasStoredData:function(){return null!==this.loadSaveData()?!0:!1},saveToStorage:function(){var e=this.createSaveData();this.localStorage.storeObject("saveData",e)},removeStorage:function(){this.localStorage.remove("saveData")},parse:function(e,t){if("function"==typeof e){var i=e.call(t,this._items,this._groups,this);return i}}},i.exports=a}),define("starwars/hud/PopUp",["require","exports","module","PIXI","fido/goals/Goals","fido/sound/SoundManager","fido/utils/FrameWait"],function(e,t,i){var o=e("PIXI"),n=(e("fido/goals/Goals"),e("fido/sound/SoundManager")),r=e("fido/utils/FrameWait"),s=function(){o.Container.call(this),this.goalPanel=new o.Container,this.goalBkg=new o.Sprite.fromFrame("achieve_panel.png"),this.goalBkg.anchor.x=.5,this.goalPanel.addChild(this.goalBkg),this.achievementBullet=o.Texture.fromFrame("challenge_bullet_on.png"),this.goalStar=new o.Sprite(this.achievementBullet),this.goalStar.y=.5*this.goalBkg.height+5,this.goalStar.anchor.set(.5),this.goalPanel.addChild(this.goalStar),this.goalText=new o.Text("hi",{font:"24px "+window.MAIN_FONT,align:"center",fill:"#f3f3eb"}),this.goalText.anchor.set(.5),this.goalText.y=.5*this.goalBkg.height+5,this.goalPanel.addChild(this.goalText),this.addChild(this.goalPanel),this.goalPanel.pivot.y=-40,this.queue=[],this.processing=!1,this.current=null};s.prototype=Object.create(o.Container.prototype),s.prototype.receiveAchievement=function(e){e.type="achievement",this.queue.push(e),this.processQueue()},s.prototype.receiveTrophy=function(e){e.type="trophy",this.queue.push(e),this.processQueue()},s.prototype.processQueue=function(){if(!this.processing){var e=this.queue.pop();if(this.processing=!0,!e)return this.goalPanel.visible=!1,this.processing=!1,void(this.current=null);this.current=e,"achievement"===e.type?this.showAchievement(e):"trophy"===e.type&&this.showTrophy(e)}},s.prototype.showAchievement=function(e){this.goalText.text=e.desc,this.goalText.scale.set(1);var t=Math.min(.85*this.goalBkg.width/this.goalText.width,1);this.goalText.scale.set(t),this.goalStar.x=-(.5*this.goalText.width+5),this.goalText.x=10,this.goalStar.texture=this.achievementBullet,this.goalPanel.visible=!0,this.reveal()},s.prototype.showTrophy=function(e){var t={durasteel:"STR_TROPHY_DURASTEEL",bronze:"STR_TROPHY_BRONZE",silver:"STR_TROPHY_SILVER",gold:"STR_TROPHY_GOLD"};!window.translations[t[e.name]];var i=window.translations[t[e.name]];this.goalText.text=i?i:e.name,this.goalText.scale.set(1);var n=Math.min(.85*this.goalBkg.width/this.goalText.width,1);this.goalText.scale.set(n),this.goalStar.x=-(.5*this.goalText.width+20),this.goalStar.texture=o.Texture.fromFrame(e.image),this.goalPanel.visible=!0,this.reveal()},s.prototype.reveal=function(){o.isWebGL?TweenLite.to(this.goalPanel.pivot,.4,{y:18,easeOut:Expo.easeOut,delay:.2,onComplete:function(){n.sfx.play("earned_achievement"),TweenLite.to(this.goalPanel.pivot,.4,{y:-40,easeOut:Expo.easeIn,delay:6,onComplete:function(){this.processing=!1,this.processQueue()}.bind(this)})}.bind(this)}):(n.sfx.play("earned_achievement"),this.goalPanel.pivot.y=18,r.wait(function(){this.goalPanel.pivot.y=-40,this.processing=!1,this.processQueue()}.bind(this),360))},s.prototype.restart=function(){this.processing=!1,this.goalPanel.visible=!0,this.current&&this.queue.push(this.current),this.processQueue()},s.prototype.stop=function(){this.processing=!0,TweenLite.killTweensOf(this.goalPanel.pivot),o.isWebGL?TweenLite.to(this.goalPanel.pivot,.4,{y:-40,easeOut:Expo.easeIn,overwrite:!0}):this.goalPanel.pivot.y=-40},i.exports=s}),define("fido/goals/Trophies",["require","exports","module","signals","fido/loader/Cache","fido/system/LocalStorage","fido/utils/Utils","fido/goals/Goals"],function(e,t,i){var o=e("signals"),n=(e("fido/loader/Cache"),e("fido/system/LocalStorage"),e("fido/utils/Utils")),r=e("fido/goals/Goals"),s=function(e){var t={medals:{durasteel:10,bronze:20,silver:30,gold:40},images:{durasteel:"trophy_rebels_steel.png",bronze:"trophy_rebels_bronze.png",silver:"trophy_rebels_silver.png",gold:"trophy_rebels_gold.png"},names:{durasteel:translations.STR_TROPHY_DURASTEEL,bronze:translations.STR_TROPHY_BRONZE,silver:translations.STR_TROPHY_SILVER,gold:translations.STR_TROPHY_GOLD},goals_storage:null,goal_system:null,game_name:null};this.options=n.defaults(e,t),this.trophies=[],this.options.goal_system?this.goals=this.options.goal_system:(this.goals=new r(this.options.goals_storage),this.goals.load()),this.onTrophyEarned=new o};s.prototype.init=function(){var e=this.goals.goalsCompleted();for(var t in this.options.medals){var i=this.options.medals[t],o={name:this.options.names[t],earned:e>=i,target:i,image:this.options.images[t]};this.trophies.push(o)}this.goals.achievementUnlocked.add(this.onAchievement,this)},s.prototype.onAchievement=function(e){for(var t=this.goals.goalsCompleted(),i=0;i<this.trophies.length;i++){var o=this.trophies[i],n=o.target<=t;n!==o.earned&&(o.earned=!0,this.onTrophyEarned.dispatch(o))}},s.prototype.getTrophies=function(){return this.trophies.slice()},s.prototype.getEarned=function(){for(var e=[],t=0;t<this.trophies.length;t++)this.trophies[t].earned&&e.push(this.trophies[t]);return e},s.prototype.getTotal=function(){return this.trophies.length},s.prototype.getName=function(){return this.options.game_name?this.options.game_name:""},s.prototype.getGoalsCompleted=function(){return this.goals.goalsCompleted()},s.prototype.getTotalGoals=function(){return this.goals.getLastAchievements().length},s.prototype.trophiesEarned=function(){for(var e=0,t=0;t<this.trophies.length;t++)this.trophies[t].earned&&e++;return e},i.exports=s}),define("starwars/app/TopMenu",["require","exports","module","PIXI","starwars/buttons/GoldenButton","fido/sound/SoundBridge","fido/system/Device","starwars/hud/PopUp","fido/goals/Goals","fido/goals/Trophies"],function(e,t,i){var o=e("PIXI"),n=e("starwars/buttons/GoldenButton"),r=e("fido/sound/SoundBridge"),s=(e("fido/system/Device"),e("starwars/hud/PopUp")),a=e("fido/goals/Goals"),h=e("fido/goals/Trophies"),c=function(e){this.app=e,o.Container.call(this),this.mode="",this.alpha=0,this.muteButton=new n("icon_mute.png"),this.muteButton.cacheAsBitmap=!1,this.muteButton.visible=!1,this.muteButton.cacheAsBitmap=!0,this.muteButton.setSize("small"),this.addChild(this.muteButton.view),this.muteButton.onPress.add(this.onButtonPressed,this),this.pauseButton=new n("icon_pause.png"),this.pauseButton.cacheAsBitmap=!1,this.pauseButton.visible=!1,this.pauseButton.cacheAsBitmap=!0,this.pauseButton.setSize("small"),this.addChild(this.pauseButton.view),this.pauseButton.onPress.add(this.onButtonPressed,this),this.helpButton=new n("icon_help.png"),this.helpButton.cacheAsBitmap=!1,this.helpButton.visible=!1,this.helpButton.cacheAsBitmap=!0,this.helpButton.setSize("small"),this.addChild(this.helpButton.view),this.helpButton.onPress.add(this.onButtonPressed,this),this.backButton=new n("icon_next.png"),this.backButton.scale.x*=-1,this.backButton.cacheAsBitmap=!1,this.backButton.visible=!1,this.backButton.cacheAsBitmap=!0,this.backButton.setSize("small"),this.backButton.onPress.add(this.onButtonPressed,this),this.addChild(this.backButton.view),this.homeButton=new n("inner_disc_red_small.png"),this.homeButton.cacheAsBitmap=!1,this.homeButton.visible=!1,this.homeButton.cacheAsBitmap=!0,this.homeButton.setSize("small"),this.homeButton.view.x=82,this.homeButton.view.y=64,this.homeButton.onPress.add(this.onButtonPressed,this),this.addChild(this.homeButton.view),this.hamburgerButton=new n("icon_burger.png"),this.hamburgerButton.cacheAsBitmap=!1,this.hamburgerButton.visible=!1,this.hamburgerButton.cacheAsBitmap=!0,this.hamburgerButton.setSize("small"),this.hamburgerButton.view.x=80,this.hamburgerButton.view.y=64,this.hamburgerButton.onPress.add(this.onButtonPressed,this),this.addChild(this.hamburgerButton.view),this.coinContainer=new o.Container,this.coinContainer.visible=!1,this.coinContainer.x=175,this.coinContainer.y=60,this.addChild(this.coinContainer),this.coinsText=new o.extras.BitmapText(this.app.shopSystem.getMoney().toString(),{font:"38px Star Jedi"}),this.coinsText.pivot.y=.5*this.coinsText.height,this.coinsText.x=40,this.coinsText.y=-14,this.coinContainer.addChild(this.coinsText),this.coins=[];for(var t=0;10>t;t++){var i=new o.Sprite.fromFrame("hangar_token_3D_10.png");i.visible=!1,i.anchor.set(.5),this.coins.push(i),this.addChild(i)}this.coinIcon=new o.Sprite.fromFrame("coin_ui.png"),this.coinIcon.anchor.set(.5),this.coinContainer.addChild(this.coinIcon),this.goalPanel=new s,this.addChild(this.goalPanel),a.instance.achievementUnlocked.add(this.showCurrentGoal,this),h.instance.onTrophyEarned.add(this.showTrophy,this),this.app.shopSystem.onChange.add(this.onShopSystemChange,this),r.sfx.onMuteToggle.add(this.onMuteToggle,this),r.music.onMuteToggle.add(this.onMuteToggle,this),this.setMode("normal")};c.prototype=Object.create(o.Container.prototype),c.prototype.showCurrentGoal=function(e){this.goalPanel.receiveAchievement(e)},c.prototype.showTrophy=function(e){this.goalPanel.receiveTrophy(e)},c.prototype.onShopSystemChange=function(){this.coinsText.text=this.app.shopSystem.getMoney().toString()},c.prototype.show=function(e){e=void 0!==e?e:.4,this.interactive=!0,this.interactiveChildren=!0,TweenLite.to(this,e,{alpha:1})},c.prototype.hide=function(e){e=void 0!==e?e:.4,this.interactive=!1,this.interactiveChildren=!1,e?TweenLite.to(this,e,{alpha:0}):this.alpha=0},c.prototype.setMode=function(e){this.mode=e;var t="Rebels"===this.app.id||"Runner"===this.app.id||"Fighter"===this.app.id;/game/.test(e)?this.pauseButton.show():this.pauseButton.hide(),this.hamburgerButton.visible=/arcade/.test(e)||/title/.test(e)&&t?!0:!1,/pause|normal|arcade|title|levels|tutorial/.test(e)?this.muteButton.show():this.muteButton.hide(),/pause|normal|arcade|title|levels/.test(e)?this.helpButton.show():this.helpButton.hide(),/pause/.test(e)?this.backButton.show():this.backButton.hide(),/pause/.test(e)?this.homeButton.show():this.homeButton.hide(),/arcade|token/.test(e)?(this.coinContainer.visible=!0,TweenMax.to(this.coinContainer,.4,{alpha:1})):TweenMax.to(this.coinContainer,.4,{alpha:0,onComplete:function(){this.coinContainer.visible=!1},onCompleteScope:this})},c.prototype.getMode=function(){return this.mode},c.prototype.onButtonPressed=function(e){e===this.pauseButton?this.app.overlayManager.show("pause"):e===this.backButton?this.app.overlayManager.show("pause"):e===this.hamburgerButton?this.app.overlayManager.show("menu"):e===this.homeButton?(this.app.overlayManager.hide(),this.app.screenManager.show("title")):e===this.helpButton?this.app.overlayManager.show("tutorial"):e===this.muteButton&&this.toggleMute()},c.prototype.addCoin=function(e,t){function i(e){e.visible=!1,this.app.shopSystem.earnMoney(10),r.sfx.play("coin_count")}e=e||10,t||(t=new o.Sprite,t.x=.5*this.screenWidth,t.y=.5*this.screenHeight,t.scale.set(3),t.alpha=0);for(var n=this.coinIcon.scale.x,s=Math.floor(e/10),a=0;s>a;a++){var h=this.coins[a];h.x=t.x,h.y=t.y,h.alpha=t.alpha,h.scale.copy(t.scale),h.visible=!0;var c=.2+.1*Math.random(),l=.1*a+.1*Math.random();TweenLite.to(h,c,{bezier:[{x:h.x+.5*(this.coinContainer.x-h.x),y:h.y+.5*(this.coinContainer.y-h.y)-50},{x:this.coinContainer.x,y:this.coinContainer.y}],width:this.coinIcon.width,height:this.coinIcon.height,alpha:this.coinIcon.alpha,delay:l,onCompleteScope:this,onCompleteParams:[h],onComplete:i}),TweenLite.to(this.coinIcon.scale,.1,{x:2*n,y:2*n,delay:c+l}),TweenLite.to(this.coinIcon.scale,1,{x:n,y:n,ease:Elastic.easeOut,delay:c+l+.1})}},c.prototype.goBack=function(){this.app.overlayManager.hide(),this.app.screenManager.goBack()},c.prototype.toggleMute=function(){var e;return r.sfx.isMuted&&r.music.isMuted?(r.music.unmute(),r.sfx.unmute(),e=!1):(r.music.mute(),r.sfx.mute(),e=!0),this.onMuteToggle(),e},c.prototype.onMuteToggle=function(){r.sfx.isMuted&&r.music.isMuted?this.muteButton.setIcon("icon_mute_off.png"):this.muteButton.setIcon("icon_mute.png")},c.prototype.onShown=function(){},c.prototype.resize=function(e,t){if(this.screenWidth=e,this.screenHeight=t,this.backButton.view.x=82,this.backButton.view.y=64,this.goalPanel.x=e/2,this.goalPanel.y=t-35,this.isMobile){var i=100,o=20;this.muteButton.position.set(e-i-o,64),this.helpButton.view.position.set(e-i-o-110,64),this.pauseButton.view.x=this.muteButton.x,this.pauseButton.view.y=this.muteButton.y}else{var i=45,o=30;this.muteButton.position.set(e-i-o,64),this.helpButton.view.position.set(e-i-o-110,64),this.pauseButton.view.x=this.muteButton.x,this.pauseButton.view.y=this.muteButton.y}},i.exports=c}),define("com/fighter/app/ui/PopUp",["require","exports","module","PIXI","fido/goals/Goals","fido/sound/SoundBridge","fido/utils/FrameWait"],function(e,t,i){var o=e("PIXI"),n=(e("fido/goals/Goals"),e("fido/sound/SoundBridge")),r=e("fido/utils/FrameWait"),s=function(){o.Container.call(this),this.goalPanel=new o.Container,this.goalBkg=new o.Sprite.fromFrame("panel_achievement.png"),this.goalBkg.anchor.x=.5,this.goalPanel.addChild(this.goalBkg),this.achievementBullet=o.Texture.fromFrame("small-star.png"),this.goalStar=new o.Sprite(this.achievementBullet),this.goalStar.y=.5*this.goalBkg.height+5,this.goalStar.anchor.set(.5),this.goalPanel.addChild(this.goalStar),this.goalText=new o.Text("hi",{font:"24px "+window.MAIN_FONT,align:"center",fill:"#f3f3eb"}),this.goalText.anchor.set(.5),this.goalText.y=.5*this.goalBkg.height+5,this.goalPanel.addChild(this.goalText),this.addChild(this.goalPanel),this.goalPanel.pivot.y=-40,this.queue=[],this.visible=!1,this.processing=!1,this.current=null,this.hitArea=new o.Rectangle};s.prototype=Object.create(o.Container.prototype),s.prototype.receiveAchievement=function(e){e.type="achievement",this.queue.push(e),this.processQueue()},s.prototype.receiveTrophy=function(e){e.type="trophy",this.queue.push(e),this.processQueue()},s.prototype.processQueue=function(){if(!this.processing){var e=this.queue.pop();if(this.processing=!0,!e)return this.goalPanel.visible=!1,this.processing=!1,this.current=null,void(this.visible=!1);this.current=e,"achievement"===e.type?this.showAchievement(e):"trophy"===e.type&&this.showTrophy(e)}},s.prototype.showAchievement=function(e){n.sfx.play("achieve_get"),window.flipLanguage?this.goalText.text=e.desc:this.goalText.text=e.desc,this.visible=!0,this.goalText.scale.set(1);var t=Math.min(.85*this.goalBkg.width/this.goalText.width,1);this.goalText.scale.set(t),window.flipLanguage?this.goalStar.x=.5*this.goalText.width+35:this.goalStar.x=-(.5*this.goalText.width+10),this.goalText.x=10,this.goalStar.texture=this.achievementBullet,this.goalPanel.visible=!0,this.reveal()},s.prototype.showTrophy=function(e){this.visible=!0,this.goalText.text=e.name,this.goalText.scale.set(1);var t=Math.min(.85*this.goalBkg.width/this.goalText.width,1);this.goalText.scale.set(t),window.flipLanguage?this.goalStar.x=.5*this.goalText.width+20:this.goalStar.x=-(.5*this.goalText.width+20),this.goalStar.texture=o.Texture.fromFrame(e.image),this.goalPanel.visible=!0,this.reveal()},s.prototype.reveal=function(){o.isWebGL?TweenLite.to(this.goalPanel.pivot,.4,{y:40,easeOut:Expo.easeOut,delay:.2,onComplete:function(){n.sfx.play("earned_achievement"),TweenLite.to(this.goalPanel.pivot,.4,{y:-40,easeOut:Expo.easeIn,delay:6,onComplete:function(){this.processing=!1,this.processQueue()}.bind(this)})}.bind(this)}):(n.sfx.play("earned_achievement"),
this.goalPanel.pivot.y=18,r.wait(function(){this.goalPanel.pivot.y=-40,this.processing=!1,this.processQueue()}.bind(this),360))},s.prototype.restart=function(){this.processing=!1,this.goalPanel.visible=!0,this.current&&this.queue.push(this.current),this.processQueue()},s.prototype.stop=function(){this.processing=!0,TweenLite.killTweensOf(this.goalPanel.pivot),o.isWebGL?TweenLite.to(this.goalPanel.pivot,.4,{y:-40,easeOut:Expo.easeIn,overwrite:!0}):this.goalPanel.pivot.y=-40},i.exports=s}),define("com/fighter/app/ui/FighterMenu",["require","exports","module","PIXI","starwars/app/TopMenu","com/fighter/app/ui/PopUp"],function(e,t,i){var o=(e("PIXI"),e("starwars/app/TopMenu")),n=e("com/fighter/app/ui/PopUp"),r=function(e){o.call(this,e),this.removeChild(this.goalPanel),this.goalPanel=new n,this.addChild(this.goalPanel),this.goalPanel.x=1e4,this.goalPanel.y=1e4};r.prototype=Object.create(o.prototype),i.exports=r}),define("starwars/OverlayManager",["require","exports","module","PIXI","signals","fido/app/ScreenManager","fido/app/transitions/DigitalTransition","starwars/buttons/GoldenButton","fido/app/Screen"],function(e,t,i){var o=e("PIXI"),n=e("signals"),r=e("fido/app/ScreenManager"),s=e("fido/app/transitions/DigitalTransition"),a=e("starwars/buttons/GoldenButton"),h=e("fido/app/Screen"),c=function(e){this.app=e,this.view=new o.Container,r.call(this),this.defaultTransition=new s,this.addScreen(new h,"empty"),this.screens.empty.hasClose=!1,this.currentScreen=this.screens.empty,this.onShow=new n,this.onHide=new n,o.isWebGL?(this.black=(new o.Graphics).beginFill(6962028).drawRect(0,0,100,100),this.black.alpha=.7,this.black.interactive=!0,this.black.blendMode=o.isWebGL?o.BLEND_MODES.MULTIPLY:0,this.black.hitArea=new o.Rectangle(0,0,1e4,1e4)):(this.black=(new o.Graphics).beginFill(0).drawRect(0,0,100,100),this.black.alpha=.6,this.black.interactive=!0,this.black.hitArea=new o.Rectangle(0,0,1e4,1e4)),this.view.visible=!1,!Device.instance.ie&&o.isWebGL&&(this.rt=new o.RenderTexture(this.app.renderer,1136,745,0,.25),this.bg=new o.Sprite(this.rt),this.view.addChild(this.bg),this.blurX=new o.filters.BlurXFilter,this.blurX.blur=30,this.blurY=new o.filters.BlurYFilter,this.blurY.blur=30,this.blurX.passes=8,this.blurY.passes=8),this.closeButton=new a("icon_close.png"),this.closeButton.setSize("small"),this.closeButton.backgroundColor="red",this.closeButton.onPress.add(this.goBack,this),this.closeButton.hide(),this.closeButton.x=this.app.safeSize.width/2+240,this.closeButton.y=this.app.safeSize.height/2-190,this.view.addChild(this.black),this.view.addChild(this.container),this.view.addChild(this.closeButton),this.app.screenManager.container.filterArea=new o.Rectangle(0,0,1e4,1e4)};c.prototype=Object.create(r.prototype),c.prototype.goBack=function(){if(this.currentScreen.backToNormalScreen)this.hide();else if(this.currentScreen.backToCompletionScreen)this.currentScreen.backToGameoverScreen?this.gotoScreenByID("gameover"):(this.completionScreen.animateStars=!1,this.gotoScreenByID("completion"));else if(this.currentScreen.backToEndlessCompletionScreen)this.gotoScreenByID("endless");else if(this.app.wasSavingEndlessModeFromPauseMenu)this.app.callbackFromPauseMenu(),this.app.wasSavingEndlessModeFromPauseMenu=!1,this.app.callbackFromPauseMenu=null;else{this.history.pop();var e=this.history.pop();e?this.gotoScreen(e):this.hide()}},c.prototype.glitch=function(){},c.prototype.show=function(e){var t=this.app.screenManager.container;t.filters=[this.blurX,this.blurY],!Device.instance.ie&&o.isWebGL&&this.rt.render(t),t.filters=null,this.history=[],this.gotoScreenByID(e,!0),this.onShow.dispatch(),this.view.visible=!0,this.view.alpha=0,TweenLite.to(this.view,.3,{alpha:1})},c.prototype.gotoScreen=function(e){e===this.screens.empty&&(e.transition=this.currentScreen.transition);var t=(void 0===e.hasBackground||e.hasBackground===!0)&&e!==this.screens.empty;!Device.instance.ie&&o.isWebGL&&(this.bg.visible=t),this.black.visible=t,void 0===e.hasClose||e.hasClose===!0?this.closeButton.show():this.closeButton.hide(),r.prototype.gotoScreen.call(this,e)},c.prototype.hide=function(){this.history=[],this.closeButton.hide(),TweenLite.to(this.view,.3,{alpha:0,onComplete:function(){this.gotoScreenByID("empty"),this.view.visible=!1,this.onHide.dispatch()}.bind(this)})},c.prototype.resize=function(e,t){this.black.scale.set(e/100,t/100),r.prototype.resize.call(this,e,t)},c.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.container.removeChild(this.currentScreen)),this.currentScreen=this.nextScreen,this.currentScreen.alpha=0,this.currentScreen.onShow&&this.currentScreen.onShow(),this.currentScreen.resize&&this.currentScreen.resize(this.w,this.h),TweenLite.to(this.currentScreen,.4,{alpha:1,onComplete:this.onFadein.bind(this)}),this.container.addChild(this.currentScreen)},i.exports=c}),define("com/fighter/app/CompletionChecker",["require","exports","module","libs/gameConfig/gameTracking","com/fighter/app/system/GameSaveManager"],function(e,t,i){function o(){this.app=null,this.shop=null}var n=e("libs/gameConfig/gameTracking"),r=e("com/fighter/app/system/GameSaveManager");o.prototype.constructor=o,o.prototype.init=function(e){this.app=e,this.shop=this.app.shopSystem},o.prototype.check=function(){var e=(this.shop.getItemsLeft(),r.instance.charactersLeft());0===e&&n.trackAction("game_win")},i.exports=new o}),define("com/fighter/game/LevelManager",["require","exports","module","com/fighter/app/system/GameSaveManager","com/fighter/app/Consts","libs/gameConfig/gameTracking","com/fighter/app/CompletionChecker","fido/loader/Cache"],function(e,t,i){var o=(e("com/fighter/app/system/GameSaveManager"),e("com/fighter/app/Consts"),e("libs/gameConfig/gameTracking"),e("com/fighter/app/CompletionChecker"),e("fido/loader/Cache"),function(){this.goals=null,this.levelComplete=!1,this.completedLevel=[],this.completedGoals=[],this.goalComplete=!1,this.allComplete=!1,this.characterUnlocked=!1,this.unlockedCharacterID=0});o.prototype.init=function(e){this.goals=e,this.goals.achievementUnlocked.add(this.onSingleGoalComplete,this),this.goals.allAchievementsCollected.add(this.onLevelComplete,this),this.goals.allLevelsComplete.add(this.onAllComplete,this)},o.prototype.restart=function(){this.goals.active=!0,this.levelComplete=!1,this.completedLevel=[],this.characterUnlocked=!1,this.goalComplete=!1,this.completedGoals=[]},o.prototype.onSingleGoalComplete=function(e){this.completedGoals.push(e),this.goalComplete=!0},o.prototype.onAllComplete=function(){this.allComplete=!0},o.prototype.onLevelComplete=function(){this.completedLevel=this.goals.getLastAchievements(),this.goals.loadNextGroup(),this.goals.active=!1,this.levelComplete=!0},i.exports=new o}),define("fido/app/Brim",["require","exports","module","fido/system/Ticker","fido/system/Device","signals"],function(e,t,i){var o=e("fido/system/Ticker"),n=e("fido/system/Device"),r=(e("signals"),function(e){if(n.instance.isMobile&&n.instance.safari&&(!n.instance.iOS||!n.instance.chromeIOS)&&n.instance.webGL){var t=this.getSpec();t&&(this.activeCache=!1,this.height=t[0],window.addEventListener("resize",this.onResize.bind(this)),this.div=document.createElement("div"),this.div.style.backgroundColor="#000000",this.div.style.position="absolute",this.div.style.top="0",this.div.style.left="0",this.div.style.width="100%",this.div.style.height="9999999999999999px",this.image=new Image,this.image.src=ASSET_URL+"img/brim.png",this.image.style.position="absolute",this.image.style.top="-40px",this.image.width=500,this.div.appendChild(this.image),this.brimMode=!0,this.p=document.createElement("div"),this.p.innerHTML="oops! swipe up to keep playing!",this.p.style.position="absolute",this.p.style.top="100px",this.p.style.left=0,this.p.style.width="100%",this.p.style.fontSize="1.5rem",this.p.style.fontFamily="Exo2, sans-serif",this.p.style.color="white",this.p.style.textAlign="center",this.p.style.position="absolute",this.p.style.padding=0,document.body.appendChild(this.div),function(){var e;document.addEventListener("touchstart",function(t){this.brimMode&&(e=!0,t.preventDefault(),t.returnValue=!1)},!1),document.addEventListener("touchmove",function(t){this.brimMode&&(e&&(t.preventDefault(),t.returnValue=!1),e=!1)},!1)}(),this.onResize())}});r.prototype.getSpec=function(){for(var e=[[320,480,2,"iPhone 4"],[320,568,2,"iPhone 5 or 5s"],[375,667,2,"iPhone 6"],[414,736,3,"iPhone 6 plus"]],t=0;t<e.length;t++){var i=e[t],o=window.screen.height==i[0]&&window.screen.width==i[1]||window.screen.width==i[0]&&window.screen.height==i[1];if(o)return i}return null},r.prototype.showBrim=function(){this.div.style.visibility="visible",this.div.style.height="9999999999999999px",o.game&&(this.activeCache=o.game.active)},r.prototype.showGame=function(){this.div.style.visibility="hidden",o.game&&this.activeCache&&o.game.start(),this.div.style.height=this.height+1+"px",window.scrollTo(0,0)},r.prototype.onResize=function(){window.innerHeight>window.innerWidth||window.innerHeight===this.height?this.showGame():this.showBrim(),this.image.width=window.innerWidth,window.scrollTo(0,0)},i.exports=new r}),define("fido/Flash",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e,t){o.Graphics.call(this),this.beginFill(16777215).drawRect(0,0,100,100),this.cacheAsBitmap=!0,this.resize(e,t),this.alpha=0};n.prototype=Object.create(o.Graphics.prototype),n.prototype.flash=function(e,t){this.alpha=1,TweenLite.to(this,t||.5,{alpha:0,delay:e||0,ease:Expo.easeOut})},n.prototype.resize=function(e,t){this.scale.x=e,this.scale.y=e},i.exports=n}),define("com/fighter/app/overlay/screens/PauseScreen",["require","exports","module","starwars/overlays/Overlay","fido/sound/SoundBridge","starwars/buttons/GoldenButton","fido/sound/SoundBridge","tracker"],function(e,t,i){var o=e("starwars/overlays/Overlay"),n=e("fido/sound/SoundBridge"),r=e("starwars/buttons/GoldenButton"),n=e("fido/sound/SoundBridge"),s=function(e){o.call(this),this.app=e,this.title.text=translations.STR_OVERLAY_PAUSE,this.playButton=new r("icon_play_large.png"),this.playButton.onPress.add(this.onPress,this),this.playButton.position.x=this.bg.width/4-20,this.playButton.position.y=-70,this.addChild(this.playButton.view),this.restartButton=new r("icon_replay_large.png"),this.restartButton.onPress.add(this.onPress,this),this.restartButton.position.x=-this.bg.width/4+20,this.restartButton.view.y=-70,this.addChild(this.restartButton.view),this.containerBottomButton=new PIXI.Container,this.bg.addChild(this.containerBottomButton),n.music.onMuteToggle.add(this.onMuteToggle,this),n.music.onMuteToggle.add(this.onMuteToggle,this),this.buildBottomButtons()};s.prototype=Object.create(o.prototype),s.prototype.onShow=function(){o.prototype.onShow.call(this),this.stopClicks=!1},s.prototype.onMuteToggle=function(){n.music.isMuted?this.muteButton.icon.texture=new PIXI.Texture.fromFrame("icon_mute.png"):this.muteButton.icon.texture=new PIXI.Texture.fromFrame("icon_mute.png")},s.prototype.onHidden=function(){o.prototype.onHidden.call(this)},s.prototype.buildBottomButtons=function(){this.backbutton=new r("icon_next.png"),this.backbutton.scale.x*=-1,this.backbutton.setSize("small"),this.backbutton.view.x=-165,this.backbutton.y=95,this.backbutton.onPress.add(this.onPress,this),this.addChild(this.backbutton),this.helpButton=new r("icon_help.png"),this.helpButton.setSize("small"),this.helpButton.position.x=-55,this.helpButton.y=95,this.helpButton.onPress.add(this.onPress,this),this.addChild(this.helpButton),this.achievmentButton=new r("icon_medal.png"),this.achievmentButton.setSize("small"),this.achievmentButton.view.x=55,this.achievmentButton.y=95,this.achievmentButton.onPress.add(this.onPress,this),this.addChild(this.achievmentButton.view),this.muteButton=new r("icon_mute.png"),this.muteButton.setSize("small"),this.muteButton.view.x=165,this.muteButton.y=95,this.muteButton.onPress.add(this.onPress,this),this.addChild(this.muteButton)},s.prototype.onPress=function(t){if(!this.stopClicks)if(t===this.restartButton)this.checkWhereWeGo("restart");else if(t===this.helpButton)this.app.overlayManager.gotoScreenByID("tutorial");else if(t===this.playButton)this.app.overlayManager.hide(),this.app.gameScreen.game.resume(),this.app.topMenu.setMode("game");else if(t===this.muteButton){var i=this.app.topMenu.toggleMute();i?this.muteButton.icon.texture=new PIXI.Texture.fromFrame("icon_mute_off.png"):this.muteButton.icon.texture=new PIXI.Texture.fromFrame("icon_mute.png")}else t===this.backbutton?this.checkWhereWeGo("back"):t===this.achievmentButton&&(this.app.overlayManager.gotoScreenByID("achievements"),e("tracker").track("game_action","view_achievements"))},s.prototype.checkWhereWeGo=function(e){this.stopClicks=!0,this.app.gameScreen.forceSaveHighscoreBeforeEnd(function(t){t?(this.app.overlayManager.show("endlessHighScore"),this.app.wasSavingEndlessModeFromPauseMenu=!0,this.app.callbackFromPauseMenu=function(){"back"===e?this.app.screenManager.gotoScreenByID("select"):this.app.screenManager.gotoScreenByID("prep"),this.app.overlayManager.hide()}.bind(this)):("back"===e?this.app.screenManager.gotoScreenByID("select"):this.app.screenManager.gotoScreenByID("prep"),this.app.overlayManager.hide()),this.stopClicks=!1}.bind(this))},s.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=s}),define("fido/effects/ThreeStars",["require","exports","module","PIXI","fido/system/Ticker","fido/utils/Math2","fido/Flash","signals","fido/sound/SoundManager"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("fido/utils/Math2"),e("fido/Flash"),e("signals")),r=(e("fido/sound/SoundManager"),function(e,t){e=e||new o.Container,t=t||{},this.options={separateSlots:t.separateSlots||"true",textureSlot:t.textureSlot||"item_circle_1.png",textureStar1:t.textureStar1||"item_diamond_2.png",textureStar2:t.textureStar2||"item_diamond_2.png",textureStar3:t.textureStar3||"item_diamond_2.png"},o.Container.call(this),this.starsSlot=[],this.stars=[],this.starsContainer=new o.Container,this.starsContainer.position.set(0,50),this.addChild(this.starsContainer);for(var i=0,r=[i-130,i,i+130],s=0;3>s;s++){if("true"===this.options.separateSlots){var a=new o.Sprite.fromFrame(this.options.textureSlot);a.x=r[s],a.anchor.x=.5,a.anchor.y=.5,this.starsContainer.addChild(a),this.starsSlot.push(a)}var h=new o.Sprite;0===s?h.texture=new o.Texture.fromFrame(this.options.textureStar1):1===s?h.texture=new o.Texture.fromFrame(this.options.textureStar2):h.texture=new o.Texture.fromFrame(this.options.textureStar3),h.x=r[s],h.anchor.set(.5),this.starsContainer.addChild(h),this.stars.push(h)}this.container=e,this.gotThree=!1,this.onComplete=new n});r.prototype=Object.create(o.Container.prototype),r.prototype.constructor=r,r.prototype.show=function(e,t){t=void 0===t?!0:t;for(var i=0;i<this.stars.length;i++)this.stars[i].visible=!1;for(var e=null!==e&&void 0!==e?e:3,o=1,i=0;i<this.stars.length;i++){var n=this.stars[i];n.scale.set(5),n.alpha=0,n.rotation=Math.random()-.5,n.visible=!0;var r=o+.2*(i+1);t?e>i&&(TweenLite.to(n.scale,.4,{x:1,y:1,ease:Bounce.easeOut,delay:r}),TweenLite.to(n,.8,{rotation:0,ease:Bounce.easeOut,delay:r}),TweenLite.to(n,.1,{alpha:1,ease:Sine.easeOut,delay:r}),TweenLite.delayedCall(o+.2*(i+1)+.15,this.pushDown.bind(this))):e>i&&(n.scale.set(1),n.rotation=0,n.alpha=1)}3===e?(this.gotThree=!0,TweenLite.delayedCall(1.95,this.perfect.bind(this))):TweenLite.delayedCall(1.95,this.onComplete.dispatch,[],this)},r.prototype.updateTransform=function(){this.visible&&(this.container.scale.x+=.4*(1-this.container.scale.x),this.container.rotation+=.4*(0-this.container.rotation),this.container.scale.y=this.container.scale.x,o.Container.prototype.updateTransform.call(this))},r.prototype.pushDown=function(){this.container.scale.x-=.1,this.container.rotation+=.01},r.prototype.perfect=function(){this.gotThree&&this.onComplete.dispatch()},i.exports=r}),define("com/fighter/app/ThreeStarsStarwars",["require","exports","module","fido/effects/ThreeStars"],function(e,t,i){var o=e("fido/effects/ThreeStars"),n=function(e){o.call(this,e,{separateSlots:"false",textureSlot:"star_off.png",textureStar1:"star_01_on.png",textureStar2:"star_02_on.png",textureStar3:"star_03_on.png"}),this.stars[1].position.y-=36;var t=new PIXI.Sprite.fromFrame("stars_off.png");t.anchor.set(.5),t.position.y=32,this.addChild(t),this.addChild(this.starsContainer)};n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.show=function(e,t){this.disable||o.prototype.show.call(this,e,t)},i.exports=n}),define("starwars/buttons/TextButton",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton"],function(e,t,i){var o=e("PIXI"),n=e("fido/ui/buttons/AbstractButton"),r=function(e){n.call(this),this.background=new o.Sprite.fromFrame("ui_bottom_text_button_off.png"),this.background.anchor.set(.5),this.addChild(this.background),this.backgroundOn=new o.Sprite.fromFrame("ui_bottom_text_button_on.png"),this.backgroundOn.anchor.set(.5),this.backgroundOn.alpha=0,this.addChild(this.backgroundOn),this.text=new o.Text(e.toUpperCase(),{font:"30px "+window.MAIN_FONT,align:"center",fill:"#aae5ff"}),this.text.anchor.x=.5,this.text.anchor.y=.5,this.text.scale.set(Math.min(1,.8*this.background.width/this.text.width)),this.addChild(this.text)};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.down=function(){var e=.2;TweenLite.to(this.backgroundOn,e,{alpha:1,ease:Power2.easeOut})},r.prototype.up=function(){var e=.2;TweenLite.to(this.backgroundOn,e,{alpha:0,ease:Power2.easeOut})},r.prototype.hover=function(){var e=.2;TweenLite.to(this.backgroundOn,e,{alpha:.5,ease:Power2.easeOut})},r.prototype.out=function(){var e=.2;TweenLite.to(this.backgroundOn,e,{alpha:0,ease:Power2.easeOut})},i.exports=r}),define("com/fighter/app/overlay/screens/HighScoreScreen",["require","exports","module","PIXI","starwars/overlays/Overlay","fido/loader/Cache","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","com/fighter/app/ThreeStarsStarwars","starwars/buttons/GoldenButton","fido/utils/Utils","libs/GBAPI","starwars/buttons/TextButton","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=(e("fido/loader/Cache"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("com/fighter/app/ThreeStarsStarwars")),s=(e("starwars/buttons/GoldenButton"),e("fido/utils/Utils")),a=(e("libs/GBAPI"),e("starwars/buttons/TextButton")),h=e("fido/sound/SoundBridge"),c=function(e){n.call(this,e),this.title.text=translations.STR_OVERLAY_HIGHSCORE;var t="#ccffff";this.resultsContainer=new o.Container,this.buildResults(),this.highScoreButton=new a(translations.STR_OVERLAY_HIGHSCORE_INFO),this.highScoreButton.position.y=115,this.highScoreButton.onPress.add(this.onPress,this),this.coins=new o.Sprite.fromFrame("coins_pickup.png"),this.coins.anchor.x=0,this.coins.anchor.y=.5,this.coins.position.x=-40,this.coins.position.y=45,this.textCoin=new o.Text("",{font:"40px "+window.MAIN_FONT,align:"left",fill:t}),this.textCoin.anchor.x=0,this.textCoin.anchor.y=.5,this.textCoin.position.x=18,this.textCoin.position.y=45,this.textInfoBonus=new o.Text(translations.STR_COINS_X2,{font:"15px "+window.MAIN_FONT,align:"left",fill:t}),this.textInfoBonus.anchor.x=0,this.textInfoBonus.anchor.y=.5,this.textInfoBonus.position.x=10,this.textInfoBonus.position.y=45,this.textInfoBonus.visible=!1,this.addChild(this.textCoin),this.addChild(this.coins),this.scoreText=new o.Text(translations.STR_SCORE_OVERLAY,{font:"18px "+window.MAIN_FONT,align:"left",fill:t}),this.scoreText.anchor.x=1,this.scoreText.anchor.y=.5,this.scoreText.position.x=-75,this.scoreText.position.y=-160,this.addChild(this.scoreText),this.score=new o.Text("",{font:"35px "+window.MAIN_FONT,align:"left",fill:t}),this.score.anchor.x=1,this.score.anchor.y=.5,this.score.position.x=this.scoreText.position.x,this.score.position.y=-125,this.addChild(this.score),this.containerAccuracy=new o.Container,this.addChild(this.containerAccuracy),this.deadEnemies=new o.Text(translations.STR_HIT,{font:"18px "+window.MAIN_FONT,align:"left",fill:t}),this.deadEnemies.anchor.y=.5,this.deadEnemies.position.x=45,this.deadEnemies.position.y=-126,this.containerAccuracy.addChild(this.deadEnemies),this.deadEnemiesValue=new o.Text(translations.STR_HIT,{font:"38px "+window.MAIN_FONT,align:"left",fill:t}),this.deadEnemiesValue.anchor.y=.5,this.deadEnemiesValue.position.x=this.deadEnemies.position.x+this.deadEnemies.width,this.deadEnemiesValue.position.y=this.deadEnemies.position.y,this.containerAccuracy.addChild(this.deadEnemiesValue),this.missEnemies=new o.Text(translations.STR_MISS,{font:"18px "+window.MAIN_FONT,align:"left",fill:t}),this.missEnemies.anchor.x=1,this.missEnemies.anchor.y=.5,this.missEnemies.position.y=-118,this.missEnemies.position.x=2,this.missEnemiesValue=new o.Text(translations.STR_MISS,{font:"38px "+window.MAIN_FONT,align:"left",fill:t}),this.missEnemiesValue.anchor.x=1,this.missEnemiesValue.anchor.y=.5,this.missEnemiesValue.position.x=194,this.missEnemiesValue.position.y=this.missEnemies.position.y,this.containerSmallBar=new o.Container,this.containerSmallBar.position.x=30,this.containerSmallBar.position.y=-162,this.containerAccuracy.addChild(this.containerSmallBar),this.smallbarBG=new o.Sprite.fromFrame("hit_miss.png"),this.smallbarBG.anchor.y=.5,this.smallbarFill=new o.Sprite.fromFrame("hit_miss_fill.png"),this.smallbarFill.position.x=2,this.smallbarFill.anchor.y=.5,this.smallbarFill.scale.x=0,this.containerSmallBar.addChild(this.smallbarBG),this.containerSmallBar.addChild(this.smallbarFill)};c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.onUp=function(){},c.prototype.onDown=function(){},c.prototype.onShow=function(e){n.prototype.onShow.call(this),this.app.wasSavingEndlessModeFromPauseMenu&&(this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!1,this.app.overlayManager.leaderboardScreen.backToEndlessCompletionScreen=!1),e=e||!1,this.textInfoBonus.visible=!1,this.addChild(this.highScoreButton),this.addChild(this.textInfoBonus),this.app.topMenu.setMode("nothing");var t=this.app.gameScreen.gameDetail,i=t.starRating;this.smallbarFill.scale.x=t.percentage/100,window.FLIP_PERCENT?this.deadEnemiesValue.text="%"+t.percentage:this.deadEnemiesValue.text=t.percentage+"%",this.deadEnemiesValue.position.x=this.deadEnemies.position.x+this.deadEnemies.width+4+10,this.missEnemiesValue.text=t.survivedEnemies,this.missEnemies.position.x=this.missEnemiesValue.position.x-this.missEnemiesValue.width-2,this.textCoin.text=t.coins,this.score.text=s.formatScore(t.score),this.stamp(this.score,.4,.5),this.stamp(this.deadEnemiesValue,.4,.7),this.stamp(this.missEnemiesValue,.4,.9),this.stamp(this.textCoin,.4,1.2),this.stars.show(i,!0),this.containerAccuracy.visible=!0},c.prototype.buildResults=function(){this.stars=new r(this),this.stars.y=-65,this.addChild(this.stars),this.addChild(this.resultsContainer),this.resultsContainer.x=-180,this.resultsContainer.y=-90},c.prototype.onPress=function(e){this.app.overlayManager.gotoScreenByID("submit")},c.prototype.stamp=function(e,t,i){var o=e.scale.x;e.scale.set(3),e.alpha=0,TweenLite.to(e,t-.1||1,{alpha:1,delay:i||.1,ease:Sine.easeOut}),TweenLite.to(e.scale,t||1,{x:o,y:o,ease:Bounce.easeOut,delay:i||.1,onStart:function(){h.sfx.play("stars")}})},c.prototype.onScoreSaved=function(e,t){this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!0,this.app.overlayManager.gotoScreenByID("scores")},c.prototype.onHidden=function(){n.prototype.onHidden.call(this)},c.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=c}),define("com/fighter/app/overlay/screens/CompletionScreen",["require","exports","module","PIXI","com/fighter/app/overlay/screens/HighScoreScreen","fido/sound/MusicManager","starwars/buttons/GoldenButton","com/fighter/game/LevelManager","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","fido/effects/Sparkles","com/fighter/app/shop/ShopSystem","fido/utils/FrameWait","fido/sound/MusicManager","fido/sound/MusicManager","tracker","tracker","tracker"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/app/overlay/screens/HighScoreScreen"),r=(e("fido/sound/MusicManager"),e("starwars/buttons/GoldenButton")),s=(e("com/fighter/game/LevelManager"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("fido/effects/Sparkles")),a=e("com/fighter/app/shop/ShopSystem"),h=e("fido/utils/FrameWait"),c=function(e){n.call(this,e),this.title.text=translations.STR_MISSION_COMPLETE,this.animateStars=!0,this.highScoreButton.visible=!1,this.btnContainer=new o.Container,this.addChild(this.btnContainer),this.buildBottomButtons(),this.isGameOver=!1};c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.onShow=function(){this.isGameOver?e("fido/sound/MusicManager").play("game_over"):e("fido/sound/MusicManager").play("level_complete"),n.prototype.onShow.call(this,this.animateStars),a.instance.canBuyAnyItem()?(this.sparkles.visible=!0,h.wait(function(){this.app.alertPanelManager.show("firstTimeShopItemAvailable")}.bind(this),80)):this.sparkles.visible=!1},c.prototype.buildBottomButtons=function(){this.btnContainer.y=105,this.achievmentButton=new r("icon_medal.png"),this.achievmentButton.setSize("small"),this.achievmentButton.view.x=-190,this.achievmentButton.onPress.add(this.onPress,this),this.btnContainer.addChild(this.achievmentButton.view),this.scoreButton=new r("icon_leaderboard.png"),this.scoreButton.setSize("small"),this.scoreButton.view.x=95,this.scoreButton.onPress.add(this.onPress,this),this.btnContainer.addChild(this.scoreButton.view),this.exitButton=new r("icon_arcade.png"),this.exitButton.setSize("small"),this.exitButton.view.x=95,this.exitButton.onPress.add(this.onPress,this),this.shopButton=new r("icon_shop.png"),this.shopButton.setSize("small"),this.shopButton.view.x=-95,this.shopButton.onPress.add(this.onPress,this),this.btnContainer.addChild(this.shopButton.view),this.sparkles=new s(["star_01_on.png"],new o.Circle(0,0,50)),this.sparkles.x=-95,this.sparkles.scale.set(.5),this.btnContainer.addChild(this.sparkles),this.restartButton=new r("icon_replay.png"),this.restartButton.visible=!1,this.restartButton.setSize("small"),this.restartButton.view.x=190,this.restartButton.onPress.add(this.onPress,this),this.btnContainer.addChild(this.restartButton.view),this.nextButton=new r("icon_play.png"),this.nextButton.visible=!0,this.nextButton.setSize("small"),this.nextButton.view.x=190,this.nextButton.onPress.add(this.onPress,this),this.btnContainer.addChild(this.nextButton.view),this.backButton=new r("icon_next.png"),this.backButton.scale.x*=-1,this.backButton.cacheAsBitmap=!1,this.backButton.visible=!0,this.backButton.cacheAsBitmap=!0,this.backButton.onPress.add(this.onPress,this),this.backButton.setSize("small"),this.addChild(this.backButton.view)},c.prototype.onPress=function(t){t===this.restartButton?(this.app.gameScreen.saveEndlessScore(),this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID("prep")):t===this.exitButton?(this.app.overlayManager.gotoScreenByID("menu"),h.wait(function(){this.app.alertPanelManager.show("spendInArcade")}.bind(this),80)):t===this.shopButton?(this.isGameOver?(this.app.overlayManager.shopScreen.backToCompletionScreen=!1,this.app.overlayManager.shopScreen.backToEndlessCompletionScreen=!1):(this.app.overlayManager.shopScreen.backToCompletionScreen=!0,this.app.overlayManager.shopScreen.backToEndlessCompletionScreen=!1),this.app.overlayManager.gotoScreenByID("shop"),e("tracker").track("game_action","view_shop")):t===this.achievmentButton?(this.app.overlayManager.gotoScreenByID("achievements"),e("tracker").track("game_action","view_achievements")):t===this.scoreButton?(this.app.overlayManager.gotoScreenByID("scores"),e("tracker").track("game_action","view_leaderboards")):t===this.backButton?(this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID("select"),this.app.topMenu.setMode("game")):t===this.nextButton&&(this.app.overlayManager.hide(),"first"===this.app.gameScreen.game.missionId?(this.app.gameScreen.game.setDatas({id:"second",index:1,endless:!1}),this.app.screenManager.gotoScreenByID("prep")):"second"===this.app.gameScreen.game.missionId?(this.app.gameScreen.game.setDatas({id:"third",index:2,endless:!0}),this.app.screenManager.gotoScreenByID("prep")):(this.app.screenManager.gotoScreenByID("select"),this.app.topMenu.setMode("game")))},c.prototype.onHidden=function(e,t){n.prototype.onHidden.call(this),this.animateStars=!0},c.prototype.resize=function(e,t){this.w=e,this.h=t,this.backButton.view.position.x=-e/2+82,this.backButton.view.position.y=-t/2+64,this.x=e/2,this.y=t/2},i.exports=c}),define("com/fighter/app/overlay/screens/GameoverScreen",["require","exports","module","PIXI","com/fighter/app/overlay/screens/CompletionScreen","fido/sound/MusicManager","starwars/buttons/GoldenButton","com/fighter/game/LevelManager","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","fido/effects/Sparkles","com/fighter/app/shop/ShopSystem","fido/utils/FrameWait","starwars/buttons/GoldenButton"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/app/overlay/screens/CompletionScreen")),n=(e("fido/sound/MusicManager"),e("starwars/buttons/GoldenButton"),e("com/fighter/game/LevelManager"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("fido/effects/Sparkles"),e("com/fighter/app/shop/ShopSystem"),e("fido/utils/FrameWait"),e("starwars/buttons/GoldenButton"),function(e){o.call(this,e),this.title.text=translations.STR_OVERLAY_GAMEOVER,this.isGameOver=!0});n.prototype=Object.create(o.prototype),n.prototype.onShow=function(){o.prototype.onShow.call(this),this.restartButton.interactive=!0,this.restartButton.visible=!0,this.nextButton.visible=!1,this.nextButton.interactive=!1},n.prototype.onHide=function(){o.prototype.onHide.call(this)},n.prototype.constructor=n,i.exports=n}),define("com/fighter/app/overlay/screens/UnlockedScreen",["require","exports","module","PIXI","com/fighter/app/buttons/IconButton","fido/sound/SoundBridge","fido/utils/Utils","fido/loader/Cache","starwars/overlays/Overlay","starwars/buttons/GoldenButton","com/fighter/game/GameConfig","fido/goals/Goals","com/fighter/app/goals/GoalView","com/fighter/app/system/GameSaveManager","libs/GBAPI"],function(e,t,i){var o=e("PIXI"),n=(e("com/fighter/app/buttons/IconButton"),e("fido/sound/SoundBridge"),e("fido/utils/Utils")),r=e("fido/loader/Cache"),s=e("starwars/overlays/Overlay"),a=e("starwars/buttons/GoldenButton"),h=e("com/fighter/game/GameConfig"),c=e("fido/goals/Goals"),l=e("com/fighter/app/goals/GoalView"),p=e("com/fighter/app/system/GameSaveManager"),u=e("libs/GBAPI"),d=function(e){s.call(this),this.app=e,this.step=0,this.count=0,this.title.text=translations.STR_GAME_RESULTS,this.level=new o.Text("achievement unlocked !",{font:"48px "+window.MAIN_FONT,fill:"#a8e5ff"}),this.level.anchor.set(.5),this.level.position.x=0,this.level.position.y=-150,this.addChild(this.level),this.completedGoals=[],c.instance.achievementUnlocked.add(this.onSingleGoalComplete,this),c.instance.allLevelsComplete.add(this.onAllComplete,this),c.instance.allAchievementsCollected.add(this.onLevelComplete,this),this.allComplete=!1,this.levelComplete=!1,this.character=null,this.nextButton=new a("icon_next.png"),this.nextButton.setSize("small"),this.nextButton.onPress.add(this.onPress,this),this.nextButton.view.x=190,this.nextButton.view.y=105,this.addChild(this.nextButton.view),this.wdText=new o.Text("",{font:"48px "+window.MAIN_FONT,fill:"#a8e5ff"}),this.wdText.anchor.x=.5,this.lukeText=new o.Text("",{font:"28px "+window.MAIN_FONT,fill:"#a8e5ff"}),this.goalView=new l,this.goalView.scale.set(1.1),this.addChild(this.goalView),this.goalView.position.set(0,-120),this.spine=new o.spine.Spine(o.loadedResources[ASSET_URL+"img/game/characters/luke_and_yoda.json"].spineData),this.spine.skeleton.setSkinByName("luke_default"),
this.spine.state.setAnimationByName(0,"run",!0),this.spine.stateData.setMixByName("run","jump",.3),this.spine.stateData.setMixByName("jump","run",.1),this.spine.autoUpdate=!1,this.spine.visible=!1,this.spine.alpha=0,this.spine.y=45,this.addChild(this.spine),this.currentGroup="",this.winCopy=new o.Container;var t=new o.Text(translations.STR_CHARACTER_UNLOCKED,{font:"28px "+window.MAIN_FONT,fill:"#a8e5ff"}),i=new o.Text(">>",{font:"28px "+window.MAIN_FONT,fill:"#a8e5ff"});this.winCopy.visible=!1,this.winCopy.win=t,this.winCopy.win2=i,t.anchor.set(.5,0),i.anchor.set(.5,0),n.fitText(t,300),i.position.y=45,this.winCopy.addChild(t),this.winCopy.addChild(i),this.winCopy.win2=i,this.addChild(this.winCopy),this.winCopy.position.y=60};d.prototype=Object.create(s.prototype),d.prototype.constructor=d,d.prototype.onShow=function(){if(s.prototype.onShow.call(this),this.goalView.visible=!1,this.app.topMenu.setMode("nothing"),this.allComplete)return this.removeChild(this.level),this.removeChild(this.goalView),void this.wellDone();var e=c.instance.groupHash[this.currentGroup],t=translations[e.desc];this.level.text=t.toUpperCase(),n.fitText(this.level,400),this.goalView.setFromGroup(e),this.goalView.x=-(.5*this.goalView.width)},d.prototype.onShown=function(){this.goalView.visible=!0,this.goalView.alpha=0,TweenLite.to(this.goalView,.6,{alpha:1,onComplete:function(){TweenLite.delayedCall(.2,function(){this.goalView.tick()}.bind(this))}.bind(this)}),this.levelComplete&&this.groupIndex++},d.prototype.onPress=function(e){if(e===this.nextButton)if(this.step++,this.winCopy.visible=!1,this.step<=1&&this.character)this.level.text=translations.STR_CHARACTER_CONGRATS.toUpperCase(),TweenLite.to(this.goalView,.4,{alpha:0}),this.spine.visible=!0,this.spine.alpha=0,TweenLite.to(this.spine,.4,{alpha:1,delay:.3}),this.character=null,this.step--,this.winCopy.visible=!0,this.winCopy.alpha=0,TweenLite.to(this.winCopy,.3,{alpha:1});else if(this.step<=1&&this.levelComplete){TweenLite.to(this.spine,.4,{alpha:0}),this.goalView.visible=!0,this.goalView.reload();var t=translations[c.instance.groupHash[c.instance.currentGroup].desc];this.level.text=t.toUpperCase(),this.goalView.x=-(.5*this.goalView.width),this.levelComplete=!1}else{var i=this.app.gameScreen.gameDetail.finalScore;u.instance.checkCanSubmitScore(i,r.getJson("config").config.SCORE_ID,function(e){e?this.app.overlayManager.show("highscore"):this.app.overlayManager.show("completion")}.bind(this)),this.step=0}},d.prototype.onLevelComplete=function(){this.levelComplete=!0;var e=Object.keys(c.instance.config.groups);if(index=e.indexOf(this.currentGroup),4===index||9===index){this.character=p.instance.unlockCharacter();var t="luke_default",i=["luke_default","luke_xwing","luke_jedi"];[translations.STR_CHARACTER_XWING,translations.STR_CHARACTER_JEDI,translations.STR_CHARACTER_JEDI];4===index&&(t="luke_xwing"),9===index&&(t="luke_jedi"),4===index&&(this.winCopy.win2.text=translations.STR_CHARACTER_XWING),9===index&&(this.winCopy.win2.text=translations.STR_CHARACTER_JEDI),h.suitSkinId=i.indexOf(t),this.spine.skeleton.setSkinByName(t),this.spine.skeleton.setSlotsToSetupPose(),n.fitText(this.winCopy.win2,300)}},d.prototype.wellDone=function(){this.wdText.text="Well Done !",this.addChild(this.wdText)},d.prototype.onAllComplete=function(){this.allComplete=!0,this.levelComplete=!1},d.prototype.onSingleGoalComplete=function(e){this.currentGroup=e.group},d.prototype.update=function(e,t){s.prototype.update.call(this),this.count+=1,this.spine.update(1/60*1.4)},d.prototype.resetSpine=function(){this.spine.state.setAnimationByName(0,"run",!0),this.count=0},d.prototype.debounce=function(e,t,i){var o;return function(){var n=this,r=arguments,s=function(){o=null,i||e.apply(n,r)},a=i&&!o;clearTimeout(o),o=setTimeout(s,t),a&&e.apply(n,r)}},d.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=d}),define("fido/ui/buttons/ToggleButton",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton","fido/sound/SoundManager","signals"],function(e,t,i){var o=e("PIXI"),n=e("fido/ui/buttons/AbstractButton"),r=e("fido/sound/SoundManager"),s=e("signals"),a=function(e){n.call(this),this.state=0,this.onStateChanges=new s,this.textureOn=new o.Texture.fromFrame("switch_on.png"),this.textureOff=new o.Texture.fromFrame("switch_off.png"),this.icon=new o.Sprite,this.icon.interactive=!0,this.icon.mousedown=this.icon.tap=this.setIcon.bind(this,""),this.icon.anchor.set(.5),this.icon.position.x=50;var t={fill:"#ccffff",font:"20px naked_power_rgregular"},i=new o.Text(translations.STR_OVERLAY_SHOP_OFF,t);i.interactive=!0,i.position.x=-20,i.mousedown=i.tap=this.setIcon.bind(this,!1),i.anchor.set(.5),this.addChild(i);var r=new o.Text(translations.STR_OVERLAY_SHOP_ON,t);r.interactive=!0,r.mousedown=r.tap=this.setIcon.bind(this,!0),r.anchor.set(.5),r.position.x=110,this.addChild(r),this.addChild(this.icon)};a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.setIcon=function(e){""===e&&(e=!this.state),e?(this.icon.texture=this.textureOn,this.state=1):(this.icon.texture=this.textureOff,this.state=0),this.onStateChanges.dispatch(e)},a.prototype.down=function(){n.prototype.down.call(this),r.sfx.play("selectbeep")},i.exports=a}),define("fido/physics/SimpleBouncer",["require","exports","module"],function(e,t,i){var o=function(){this.x=-50,this.vx=0,this.floor=0,this.bounce=1,this.gravity=1,this.max=30};o.prototype.update=function(){return this.vx+=this.gravity,this.vx<-this.max&&(this.vx=-this.max),this.vx>this.max&&(this.vx=this.max),this.x+=this.vx,this.x>this.floor&&this.vx>0?(this.x=this.floor,this.vx*=-this.bounce,!0):!1},o.prototype.reset=function(){this.x=0,this.vx=-10,this.floor=0},i.exports=o}),define("com/fighter/app/shop/Shop",["require","exports","module","PIXI","starwars/buttons/GoldenButton","com/fighter/app/shop/Item","fido/ui/buttons/ToggleButton","fido/physics/SimpleBouncer","fido/loader/Cache","fido/goals/Goals","tracker"],function(e,t,i){var o=e("PIXI"),n=e("starwars/buttons/GoldenButton"),r=(e("com/fighter/app/shop/Item"),e("fido/ui/buttons/ToggleButton"),e("fido/physics/SimpleBouncer")),s=(e("fido/loader/Cache"),e("fido/goals/Goals")),a=function(e){this.app=e,o.Container.call(this),this.closed=!0,this.slotPanel=new o.Container,this.viewPanel=new o.Container,this.viewPanel.y=60,this.viewPanel.x=0,this.gridContainer=new o.Container,this.system=this.app.shopSystem,this.bouncer=new r,this.bouncer.max=5,this.currentItem=null,this.system.onChange.add(this.onNeedsUpdate,this),this.leftPanelWidth=466,this.leftPanelHeight=546,this.slotBg=new o.Container,this.slotPanel.addChild(this.slotBg),this.addChild(this.viewPanel),this.addChild(this.slotPanel),this.coin=new o.Sprite.fromFrame("coins_pickup.png"),this.coin.x=415,this.coin.y=this.leftPanelHeight-135,this.coin.anchor.set(.5),this.coin.scale.set(.7),this.bouncer.x=this.coin.y,this.bouncer.floor=this.coin.y,this.slotPanel.addChild(this.coin);var t={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:"left"};return this.wallet=new o.Text("",t),this.wallet.anchor.y=.5,this.wallet.anchor.x=0,this.wallet.y=this.leftPanelHeight-135,this.wallet.x=440,this.slotPanel.addChild(this.wallet),this.createItems(),this.createViewPanel(),this};a.prototype=Object.create(o.Container.prototype),a.prototype.createItems=function(){var e=new o.Container;e.position.x=118,e.position.y=25,this.gridContainer.addChild(e);var t=new o.Container;t.position.y=20,t.position.x=30,this.gridContainer.addChild(t);for(var i=["shop_small_icon3.png","shop_small_icon2.png","shop_small_icon1.png"],n=[translations.STR_SHOP_HEALTH,translations.STR_SHOP_LASER,translations.STR_SHOP_FREQUENCY],r={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:"left"},s=0;s<i.length;s++){var a=new o.Text(n[s],r);a.position.y=90*s,e.addChild(a);var h=new o.Sprite.fromFrame(i[s]);h.anchor.set(.5),h.position.y=90*s+h.height/2,h.position.x=h.width/2,t.addChild(h)}this.slotPanel.addChild(this.gridContainer),this.gridContainer.x=110,this.gridContainer.y=95;var c=new o.Container;c.position.x=140,c.position.y=64,this.gridContainer.addChild(c);for(var l=0;l<this.system.getNumGroups();l++)for(var p=this.system.getGroupAt(l),s=0;s<p.getNumItems();s++){var u=p.getItemAt(s);"helmet"!==u.type?(u.view.x=50*s,u.view.y=90*l):(u.view.x=240,u.view.y=90*l-270),u.view.onPress.add(this.onItemPressed,this),c.addChild(u.view)}this.updateFromSave()},a.prototype.updateFromSave=function(){this.system.updateFromSave(this.drawItems.bind(this))},a.prototype.drawItems=function(){},a.prototype.createViewPanel=function(){var e=new o.Graphics;e.beginFill(0).drawRect(540,50,500,400),this.addChild(e),this.viewBkg=new o.Sprite.fromFrame("inner_panel_blue_shop_B.png"),this.viewBkg.position.x=300,this.viewBkg.position.y=200,this.viewBkg.anchor.set(.5),this.viewPanel.mask=e,this.viewPanel.alpha=1;var t=new o.Sprite.fromFrame("panel_frame_shop_B.png");t.position.x=30,t.position.y=-10,t.anchor.set(.5),this.viewBkg.addChild(t),this.viewPanel.addChild(this.viewBkg),this.buyButton=new n("inner_disc_blue_small.png"),this.buyButton.setSize("small"),this.buyButton.x=1.2*this.viewBkg.width,this.buyButton.y=280,this.coinPrice=new o.Sprite.fromFrame("coins_pickup.png"),this.coinPrice.x=235,this.coinPrice.y=300,this.coinPrice.anchor.set(.5),this.coinPrice.scale.set(.7),this.viewPanel.addChild(this.coinPrice);var i={font:"24px "+window.MAIN_FONT,fill:"#ccffff",align:"left"};this.price=new o.Text("",i),this.price.anchor.y=.5,this.price.anchor.x=0,this.price.position.y=this.coinPrice.position.y,this.price.position.x=this.coinPrice.position.x+30,this.viewPanel.addChild(this.price),this.disableBuyButton(),this.previewImage=new o.Sprite,this.previewImage.x=this.viewBkg.width-8,this.previewImage.y=this.viewBkg.height/2+25,this.previewImage.scale.set(.7);var i={font:"21px "+window.MAIN_FONT,fill:"#ccffff",align:"center",wordWrap:!0,wordWrapWidth:225},r={font:"25px "+window.MAIN_FONT,fill:"#ccffff",align:"center",wordWrap:!0,wordWrapWidth:225};this.title=new o.Text("Title yeah",i),this.title.x=320,this.title.anchor.x=.5,this.title.y=50,this.description=new o.Text("Description yeah",i),this.description.x=320,this.description.anchor.x=.5,this.description.y=75,this.viewPanel.addChild(this.title),this.viewPanel.addChild(this.description),this.viewPanel.addChild(this.previewImage),this.viewPanel.addChild(this.buyButton.view),this.buyButton.onPress.add(this.onBuyButtonPressed,this),this.purchased=new o.Text(translations.STR_SHOP_OWNED,r),this.purchased.anchor.x=.5,this.purchased.x=275+this.purchased.width/2,this.purchased.y=270,this.viewPanel.addChild(this.purchased),this.toggleButton=new n("inner_disc_blue_small.png"),this.toggleButton.setSize("small"),this.toggleButton.position.x=280,this.toggleButton.onPress.add(this.onSuitPressed,this),this.toggleButton.position.y=300,this.toggleButton.visible=!1,this.toggleButton.x=1.2*this.viewBkg.width,this.toggleButton.y=280,this.viewPanel.addChild(this.toggleButton)},a.prototype.hideViewPanel=function(){TweenLite.to(this.viewPanel,.4,{x:0})},a.prototype.onItemPressed=function(e){for(var t=!0,i=0;i<e.item.group._items.length;i++){var o=e.item.group._items[i];if(!o.purchased){this.currentItem=o,t=!1;break}}t&&(this.currentItem=e.item),this.closed?this.updateViewPanel():TweenLite.to(this.viewPanel,.2,{x:0,ease:Sine.easeOut,onComplete:function(){this.updateViewPanel()},onCompleteScope:this}),TweenLite.to(this.viewPanel,.2,{x:350,delay:this.closed?0:.2,ease:Sine.easeIn,onComplete:function(){this.buyButton.interactive=!0,this.closed=!1},onCompleteScope:this})},a.prototype.onSuitPressed=function(e){if(e=!0){for(var t=this.currentItem,i=[this.system.getAtId("luke1"),this.system.getAtId("luke2"),this.system.getAtId("luke3")],o=i.length-1;o>=0;o--)t!==i[o]&&(i[o].active=!1);t.active=!0,this.toggleButton.alpha=1,this.system.saveToStorage()}},a.prototype.onShow=function(){for(var e=0;e<this.system.getNumGroups();e++)for(var t=this.system.getGroupAt(e),i=0;i<t.getNumItems();i++){var o=t.getItemAt(i);if(!o.purchased)return void this.onItemPressed(o.view)}},a.prototype.updateViewPanel=function(){this.buyButton.view.visible=!0,this.previewImage.texture=o.Texture.fromFrame(this.currentItem.imageUrl),this.previewImage.anchor.x=.5,this.previewImage.anchor.y=.5,this.title.text=translations[this.currentItem.name],this.description.scale.set(1),this.description.text=this.currentItem.description;var e=205/this.description.width;e=Math.min(1,e),this.description.scale.set(e),this.system.canBuyItem(this.currentItem)?this.enableBuyButton():this.disableBuyButton(),this.price.text=this.currentItem.price,this.buyButton.view.visible=!0,this.purchased.visible=!1,this.price.visible=!0,this.coinPrice.visible=!0,this.toggleButton.visible=!1,this.currentItem.purchased&&(this.buyButton.view.visible=!1,this.price.visible=!1,this.coinPrice.visible=!1,"helmet"!==this.currentItem.type?this.purchased.visible=!0:this.toggleButton.visible=!0,this.toggleButton.alpha=.5)},a.prototype.disableBuyButton=function(){this.buyButton.hitArea=new o.Rectangle(0,0,1,1),this.buyButton.setIcon("icon_locked_silver.png"),this.buyButton.backgroundColor="blue",this.buyButton.icon.blendMode=0},a.prototype.enableBuyButton=function(){this.buyButton.hitArea=new o.Rectangle(-this.buyButton.width/2,-this.buyButton.height/2,this.buyButton.width,this.buyButton.height),this.buyButton.setIcon("icon_tick.png"),this.buyButton.backgroundColor="green"},a.prototype.onBuyButtonPressed=function(t){var i=this.currentItem;if(e("tracker").track("game_action","fighter_upgrade","item_"+i.id),this.system.buyItem(i)){this.app.flash(),this.disableBuyButton(),this.buyButton.interactive=!1,this.updateViewPanel();var o=this.app.getShopStates(),n=!0;4===o.biglaser?s.instance.increment("complete_laser_shop",1):n=!1,4===o.health?s.instance.increment("complete_health_shop",1):n=!1,4===o.frequency_bullet?s.instance.increment("complete_frequency_shop",1):n=!1,n&&s.instance.increment("complete_all_shop",1)}else this.bouncer.bounce=.9,this.bouncer.x-=15},a.prototype.updateTransform=function(){this.bouncer.update(),this.coin.y=this.bouncer.x,o.Container.prototype.updateTransform.call(this)},a.prototype.onNeedsUpdate=function(){this.updateWallet()},a.prototype.updateWallet=function(){this.wallet.text=this.system.getMoney()},i.exports=a}),define("com/fighter/app/overlay/screens/ShopScreen",["require","exports","module","PIXI","starwars/buttons/GoldenButton","com/fighter/app/shop/Shop","fido/loader/Cache","starwars/overlays/Overlay","fido/utils/FrameWait"],function(e,t,i){var o=e("PIXI"),n=(e("starwars/buttons/GoldenButton"),e("com/fighter/app/shop/Shop")),r=(e("fido/loader/Cache"),e("starwars/overlays/Overlay")),s=e("fido/utils/FrameWait"),a=function(e){r.call(this,e),this.title.text=translations.STR_OVERLAY_SHOP,this.bg.texture=new o.Texture.fromFrame("panel_frame_shop_A.png"),this.screen.texture=new o.Texture.fromFrame("inner_panel_blue_shop_A.png"),this.shop=new n(e),this.shop.backToCompletionScreen=!1,this.addChild(this.shop),this.addChild(this.bg),this.shop.position.set(-300,-271),this.hasClose=!0};a.prototype=Object.create(r.prototype),a.prototype.onShow=function(){r.prototype.onShow.call(this),o.isWebGL&&(this.containerInterference.alpha=0),this.app.overlayManager.closeButton.position.x=675,this.shop.onNeedsUpdate(),this.shop.onShow()},a.prototype.close=function(){this.backToNormalScreen?this.app.overlayManager.hide():this.app.overlayManager.goBack(),this.backToNormalScreen=!1},a.prototype.onShown=function(){s.wait(function(){this.app.alertPanelManager.show("firstTimeShop")}.bind(this),20)},a.prototype.onHidden=function(){r.prototype.onHidden.call(this),this.shop.backToCompletionScreen=!1,this.shop.backToEndlessCompletionScreen=!1,this.backToNormalScreen=!1,this.app.overlayManager.closeButton.position.x=805,this.shop.hideViewPanel()},a.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2-130,this.y=t/2},i.exports=a}),define("fido/ui/PixiScrollbar",["require","exports","module","../physics/Spring","fido/system/Ticker","./PixiTrackpad"],function(e,t,i){var o=(e("../physics/Spring"),e("fido/system/Ticker"));e("./PixiTrackpad");PixiScrollBar=function(e){this.topMargin=15,this.bottomMargin=15,this.yTouchOffset=0,this.dragging=!1,this.trackpad=e.trackpad,this.targetPosition={x:0,y:0},this.container=e.target,this.guideLine=new PIXI.Sprite,this.guideLine.anchor.set(1,0),this.guideLine.position.x=630,this.guideLine.position.y=1,this.guideLine.height=229,this.guideLine.hitArea=new PIXI.Rectangle(-10,0,40,300),this.guideLine.interactive=!1,this.guideLine.buttonMode=!1,this.guideButton=new PIXI.Sprite,this.guideButton.anchor.set(1,.5),this.guideButton.position.x=642,this.guideButton.hitArea=new PIXI.Rectangle(-100,-100,400,300),this.guideButton.position.y=this.topMargin+.5*this.guideButton.height,this.guideButton.interactive=!0,this.guideButton.buttonMode=!0,this.container.addChild(this.guideLine),this.container.addChild(this.guideButton),this.guideButton.touchstart=this.guideButton.mousedown=this.onDown.bind(this),this.guideButton.touchend=this.guideButton.touchendoutside=this.guideButton.mouseup=this.guideButton.mouseupoutside=this.onUp.bind(this),this.guideButton.mousemove=this.guideButton.touchmove=this.onMove.bind(this),this.panelHeight=this.container.viewHeight,this.scrollHeight=this.container.scrollHeight-this.panelHeight,this.scrollableDistance=this.panelHeight-this.topMargin-this.bottomMargin-this.guideButton.height,this.scrollBarRatio=this.scrollHeight/this.scrollableDistance,o.instance.add(this.update,this)},PixiScrollBar.prototype.onDown=function(e){alert(2),this.dragging=!0,this.yTouchOffset=e.data.getLocalPosition(this.guideButton).y,this.onMove(e)},PixiScrollBar.prototype.onUp=function(){alert(2434),this.dragging=!1,this.yTouchOffset=0},PixiScrollBar.prototype.onMove=function(e){this.dragging===!0&&(this.targetPosition=e.data.getLocalPosition(this.container),this.targetPosition.y<this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.topMargin+.5*this.guideButton.height),this.targetPosition.y>this.scrollableDistance+this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.scrollableDistance+this.topMargin+.5*this.guideButton.height))},PixiScrollBar.prototype.update=function(){if(this.dragging){var e=-((this.guideButton.position.y-this.topMargin-.5*this.guideButton.height)*this.scrollBarRatio);this.trackpad.easeToPosition(0,e),this.guideButton.position.y=this.targetPosition.y}else this.guideButton.position.y=-1*this.trackpad.valueY/this.scrollBarRatio+this.topMargin+.5*this.guideButton.height},i.exports=PixiScrollBar}),define("fido/ui/PixiTrackpad",["require","exports","module","../physics/DoubleSpring","./PixiScrollbar","fido/system/Device","signals"],function(e,t,i){var o=e("../physics/DoubleSpring"),n=e("./PixiScrollbar"),r=e("fido/system/Device"),s=e("signals");PixiTrackpad=function(e){this.spring=new o,this.onScrollUpdate=new s;var t=e.scrollbarClass||n;this.target=e.target,this.value=0,this.easingValue=0,this.dragOffset=0,this.dragging=!1,this.speed=0,this.size=1024,this.maxSlots=1,this.capMovement=!0,this.prevPosition=0,this.valueY=0,this.easingValueY=0,this.dragOffsetY=0,this.speedY=0,this.prevPositionY=0,this.didMove=!1,this.didMoveY=!1,this.target.interactive=!0,this.scrollMin=-(1/0),this.scrollMax=0,this.scrollMinY=-(1/0),this.scrollMaxY=0,this.snapTo=!1,e.scrollbar===!0&&r.instance.mobile===!1&&r.instance.iPad===!1&&(this.scrollBar=new t({target:e.scrollTarget,trackpad:this})),this._onDownBinded=this.onDown.bind(this),this._onUpBinded=this.onUp.bind(this),this._onMoveBinded=this.onMove.bind(this),this.target.on("touchstart",this._onDownBinded).on("mousedown",this._onDownBinded)},PixiTrackpad.constructor=PixiTrackpad,PixiTrackpad.prototype.unlock=function(){this.locked=!1,this.speed=0,this.easingValue=this.value,this.easingValueY=this.valueY,this.speedY=0,this.speedX=0,window.onmousewheel=this.onMouseWheel.bind(this)},PixiTrackpad.prototype.lock=function(){this.locked=!0,window.onmousewheel=null},PixiTrackpad.prototype.update=function(){if(this.value+=.3*(this.easingValue-this.value),this.valueY+=.3*(this.easingValueY-this.valueY),!this.locked)if(this.dragging){var e=this.easingValue-this.prevPosition;e*=.7,this.speed+=.5*(e-this.speed),this.prevPosition=this.easingValue;var t=this.easingValueY-this.prevPositionY;t*=.7,this.speedY+=.5*(t-this.speedY),this.prevPositionY=this.easingValueY}else this.snapTo?(this.spring.update(),this.easingValue=this.spring.x,this.easingValueY=this.spring.y,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY)))):(this.speed*=.95,this.easingValue+=this.speed,this.speedY*=.95,this.easingValueY+=this.speedY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY))))},PixiTrackpad.prototype.stop=function(){this.speed=0,this.speedY=0,this.value=this.prevPosition=this.easingValue,this.valueY=this.prevPositionY=this.easingValueY},PixiTrackpad.prototype.setPosition=function(e,t){this.value=this.easingValue=e,this.valueY=this.easingValueY=t},PixiTrackpad.prototype.easeToPosition=function(e,t){this.easingValue=e,this.easingValueY=t},PixiTrackpad.prototype.onDown=function(e){this.locked||(this.speed=0,this.speedY=0,this.stop(),this.didMove=!1,this.didMoveY=!1,this.checkX=e.data.global.x,this.checkY=e.data.global.y,this.dragging=!0,this.dragOffset=e.data.global.x-this.value,this.dragOffsetY=e.data.global.y-this.valueY,this.target.on("touchend",this._onUpBinded).on("touchendoutside",this._onUpBinded).on("mouseup",this._onUpBinded).on("mouseupoutside",this._onUpBinded).on("touchmove",this._onMoveBinded).on("mousemove",this._onMoveBinded))},PixiTrackpad.prototype.onMouseWheel=function(e){this.target.interactive&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.locked||(this.speed=.15*e.wheelDeltaX,this.speedY=.15*e.wheelDeltaY))},PixiTrackpad.prototype.onUp=function(){if(!this.locked){if(this.dragging=!1,this.snapTo){if(this.didMove){this.spring.dx=this.speed;var e;e=this.speed<0?Math.floor(this.easingValue/this.size):Math.ceil(this.easingValue/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.tx=e*this.size,this.spring.dy=this.speedY,e=this.speedY<0?Math.floor(this.easingValueY/this.size):Math.ceil(this.easingValueY/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.ty=e*this.size}this.spring.x=this.easingValue,this.spring.y=this.easingValueY}this.cap(),this.target.off("touchend",this._onUpBinded).off("touchendoutside",this._onUpBinded).off("mouseup",this._onUpBinded).off("mouseupoutside",this._onUpBinded).off("touchmove",this._onMoveBinded).off("mousemove",this._onMoveBinded)}},PixiTrackpad.prototype.cap=function(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.scrollMax?this.spring.tx=this.scrollMax:this.spring.tx<this.scrollMin&&(this.spring.tx=this.scrollMin)),this.snapTo&&(this.spring.ty>this.scrollMaxY?this.spring.ty=this.scrollMaxY:this.spring.ty<this.scrollMinY&&(this.spring.ty=this.scrollMinY)))},PixiTrackpad.prototype.setSlot=function(e,t){this.spring.tx=e*-this.size,t&&(this.value=this.easingValue=this.spring.x=this.spring.tx),this.cap()},PixiTrackpad.prototype.setSlotY=function(e){this.spring.ty=e*-this.size,this.cap()},PixiTrackpad.prototype.nextSlot=function(){this.spring.tx-=this.size,this.spring.tx<-(this.maxSlots*this.size)&&(this.spring.tx=-(this.maxSlots*this.size)),this.cap()},PixiTrackpad.prototype.nextSlotY=function(){this.spring.ty-=this.size,this.spring.ty<-(this.maxSlots*this.size)&&(this.spring.ty=-(this.maxSlots*this.size)),this.cap()},PixiTrackpad.prototype.previousSlot=function(){this.spring.tx+=this.size,this.cap()},PixiTrackpad.prototype.previousSlotY=function(){this.spring.ty+=this.size,this.cap()},PixiTrackpad.prototype.setSize=function(e){this.size=e,this.scrollbar&&this.scrollBar.setSize(e)},PixiTrackpad.prototype.setSlots=function(e){this.maxSlots=e-1},PixiTrackpad.prototype.onMove=function(e){if(!this.locked){var t;t=Math.abs(this.checkX-e.data.global.x),t>10&&(this.didMove=!0),t=Math.abs(this.checkY-e.data.global.y),t>10&&(this.didMove=!0),this.easingValue=e.data.global.x-this.dragOffset,this.easingValueY=e.data.global.y-this.dragOffsetY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue=this.scrollMax+.3*(this.easingValue-this.scrollMax):this.easingValue<this.scrollMin&&(this.easingValue=this.scrollMin+.3*(this.easingValue-this.scrollMin)),this.easingValueY>this.scrollMaxY?this.easingValueY=this.scrollMaxY+.3*(this.easingValueY-this.scrollMaxY):this.easingValueY<this.scrollMinY&&(this.easingValueY=this.scrollMinY+.3*(this.easingValueY-this.scrollMinY)))}},i.exports=PixiTrackpad}),define("fido/ui/Dots",["require","exports","module","../physics/Spring","fido/system/Ticker","./PixiTrackpad","signals"],function(e,t,i){var o=(e("../physics/Spring"),e("fido/system/Ticker"),e("./PixiTrackpad"),e("signals"));Dots=function(e){PIXI.Container.call(this),this.deselectedAlpha=.5,this.dots=[],this.currentDot=null,this.build(e),this.onSelect=new o},Dots.prototype=Object.create(PIXI.Container.prototype),Dots.prototype.build=function(e){this.deselectedAlpha=e.alpha||.5;for(var t=0;t<this.dots.length;t++)this.removeChild(this.dots[t]);this.dots=[];for(var i=(e.size-1)*e.padding,t=0;t<e.size;t++){var o=new PIXI.Sprite(e.texture);o.id=t,o.alpha=this.deselectedAlpha,o.anchor.set(.5),this.addChild(o),o.x=t*e.padding-i/2,e.interactive&&(o.interactive=!0,o.buttonMode=!0,o.click=this.onDotSelected.bind(this)),this.dots.push(o)}this.select(0)},Dots.prototype.onDotSelected=function(e){this.onSelect.dispatch(e.target.id)},Dots.prototype.select=function(e){if(this.currentDot){if(this.currentDot.id===e)return;TweenLite.to(this.currentDot,.3,{alpha:this.deselectedAlpha,ease:Sine.easeOut})}this.currentDot=this.dots[e],TweenLite.to(this.currentDot,.3,{alpha:1,ease:Sine.easeOut})},i.exports=Dots}),define("fido/ui/Carousel",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton","fido/system/Device","fido/ui/PixiTrackpad","fido/ui/Dots","signals","fido/system/Ticker","fido/utils/Utils"],function(e,t,i){var o=e("PIXI"),n=(e("fido/ui/buttons/AbstractButton"),e("fido/system/Device"),e("fido/ui/PixiTrackpad"),e("fido/ui/Dots"),e("signals"),e("fido/system/Ticker"),e("fido/utils/Utils"),function(e,t){o.Container.call(this),this.itemWidth=t.itemWidth,this.offset=t.offset||0,this.padding=t.padding,this.useMask=t.useMask,this.bounds=t.bounds,this.edgePadding=30,this.hitArea=this.bounds,this.trackpad=new PixiTrackpad({target:this}),this.trackpad.snapTo=!0,this.trackpad.size=this.itemWidth+this.padding,this.trackpad.maxSlots=e.length-1,this.trackpad.spring.damp=.6,this.trackpad.capMovement=!0,t.fitBounds?(this.trackpad.scrollMin=-e.length*this.trackpad.size+this.bounds.width/2+this.itemWidth/2-this.edgePadding,this.trackpad.scrollMax=-this.bounds.width/2+this.itemWidth/2+this.edgePadding):(this.trackpad.scrollMin=-e.length*this.trackpad.size,this.trackpad.scrollMax=0),this.trackpad.cap(),this.lastIndex=0,this.items=e,this.itemContainer=new o.Container,this.addChild(this.itemContainer);for(var i=0;i<e.length;i++){var n=e[i];this.itemContainer.addChild(n)}if(this.useMask){var r=(new o.Graphics).beginFill(16711680).drawRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);this.addChildAt(r,0),this.itemContainer.mask=r}});n.prototype=Object.create(o.Container.prototype),Object.defineProperty(n.prototype,"scrollPosition",{get:function(){return this._scrollPosition},set:function(e){this._scrollPosition=e;for(var t=(this.itemWidth*this.items.length,this.itemWidth+this.padding),i=0;i<this.items.length;i++){var o=this.items[i];o.x=t*i-this._scrollPosition,o.x+=this.bounds.width/2-this.itemWidth/2+this.bounds.x,o.x+=this.offset}}}),n.prototype.updateTransform=function(){if(this.visible){this.trackpad.update(),this.scrollPosition=-this.trackpad.value;var e=0|-(this.trackpad.spring.tx/this.trackpad.size);this.dots&&this.lastIndex!=e&&(this.dots.select(e),this.lastIndex=e),this.trackpad.didMove&&(this.userActive=!0),o.Container.prototype.updateTransform.call(this)}},n.prototype.setDots=function(e){this.dots=e,this.dots.onSelect.add(this.onDotSelected,this)},n.prototype.setButtons=function(e,t){this.leftButton=e,this.rightButton=t,this.leftButton.onPress.add(this.onButtonPressed,this),this.rightButton.onPress.add(this.onButtonPressed,this)},n.prototype.onButtonPressed=function(e){e===this.leftButton?this.trackpad.previousSlot():e===this.rightButton&&this.trackpad.nextSlot()},n.prototype.onDotSelected=function(e){this.userActive=!0,this.trackpad.setSlot(e)},i.exports=n}),define("starwars/ui/Dots",["require","exports","module","fido/ui/Dots"],function(e,t,i){var o=e("fido/ui/Dots");Dots=function(e){this.textureUnselected=new PIXI.Texture.fromFrame("tutorial_bullet_off.png"),this.textureSelected=new PIXI.Texture.fromFrame("tutorial_bullet_on.png"),e.texture=this.textureUnselected,e.alpha=1,o.call(this,e)},Dots.prototype=Object.create(o.prototype),Dots.prototype.select=function(e){if(this.currentDot){if(this.currentDot.id===e)return;this.currentDot.texture=this.textureUnselected}this.currentDot=this.dots[e],this.currentDot.alpha=1,this.currentDot.texture=this.textureSelected},i.exports=Dots}),define("com/fighter/app/overlay/screens/TutorialScreen",["require","exports","module","PIXI","starwars/overlays/Overlay","fido/sound/SoundBridge","starwars/buttons/GoldenButton","fido/system/Ticker","fido/ui/Carousel","starwars/ui/Dots"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=(e("fido/sound/SoundBridge"),e("starwars/buttons/GoldenButton")),s=e("fido/system/Ticker"),a=e("fido/ui/Carousel"),h=e("starwars/ui/Dots"),c=function(e){n.call(this,e),this.title.text=translations.STR_OVERLAY_TUTORIAL,this.count=0,this.panels=[];for(var t=0;5>t;t++){var i=new o.Text("IMAGE : "+(t+1),{fill:"#ffffff"});i.anchor.set(0,.5),i.y=110;var s={fill:"#acdef7",font:"18px naked_power_rgregular",align:"center",lineHeight:21},c=new o.Text("INSTRUCTIONAL TEXT \n GOES IN HERE",s);c.height>83&&c.scale.set(83/c.height),c.anchor.set(.5),c.x=159,c.y=145,i.addChild(c),i.helpText=c,this.panels.push(i)}window.flipLanguage||this.panels.reverse();var l={itemWidth:348,padding:160,useMask:!0,bounds:new o.Rectangle(-240,0,500,352)};this.carousel=new a(this.panels,l),this.carousel.y=-130,this.addChild(this.carousel);var p=new o.Sprite.fromFrame("ui_instructions_text_panel.png");p.anchor.x=p.anchor.y=.5,p.position.y=120,this.screen.addChild(p);var u=o.Texture.fromFrame("overlay_page_current.png"),d={size:this.panels.length,step:50,padding:37,interactive:!0,alpha:.5,texture:u};this.dots=new h(d),this.addChild(this.dots),this.dots.x=0,this.dots.y=30,window.flipLanguage?this.dots.scale.x=.9:this.dots.scale.x=-.9,this.leftArrow=new r("icon_prev.png"),this.leftArrow.setSize("small"),this.addChild(this.leftArrow.view),this.rightArrow=new r("icon_next.png"),this.rightArrow.setSize("small"),this.addChild(this.rightArrow.view),this.leftArrow.x=-260,this.leftArrow.y=112,this.rightArrow.x=-this.leftArrow.x,this.rightArrow.y=this.leftArrow.y,this.carousel.setDots(this.dots),this.carousel.setButtons(this.leftArrow,this.rightArrow),this.imgHeroe=new o.Sprite,this.imgHeroe.position.y=-this.imgHeroe.height+20,this.imgHeroe.position.x=-this.bg.width/2+20,this.screen.addChild(this.imgHeroe),this.hasClose=!0;
};c.prototype=Object.create(n.prototype),c.prototype.update=function(){n.prototype.update.call(this),this.count+=1,this.imgHeroe.alpha=Math.abs(.3*Math.sin(.5*Math.tan(this.count)))+.7},c.prototype.onNextPressed=function(){return window.flipLanguage?(this.trackpad.nextSlot(),this.currentPage++,this.pageTwoTimeout=Math.round((new Date).getTime()/1e3),void s.instance.add(this.update,this)):void this.onPreviousPressed()},c.prototype.onPreviousPressed=function(){return window.flipLanguage?(this.trackpad.previousSlot(),this.currentPage--,void s.instance.remove(this.update,this)):void this.onNextPressed()},c.prototype.onShow=function(){n.prototype.onShow.call(this);this.count=0},c.prototype.onPress=function(e){},c.prototype.onHide=function(){n.prototype.onHide.call(this)},c.prototype.onHidden=function(){n.prototype.onHidden.call(this),s.instance.remove(this.update,this)},c.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=c}),define("starwars/overlays/TutorialOverlay",["require","exports","module","PIXI","starwars/overlays/Overlay","fido/sound/SoundManager","starwars/buttons/GoldenButton","fido/system/Ticker","fido/ui/Carousel","starwars/ui/Dots","fido/loader/Cache"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=(e("fido/sound/SoundManager"),e("starwars/buttons/GoldenButton")),s=e("fido/system/Ticker"),a=e("fido/ui/Carousel"),h=e("starwars/ui/Dots"),c=e("fido/loader/Cache"),l=function(e){n.call(this,e),this.title.text=translations.STR_OVERLAY_TUTORIAL,this.count=0,this.slides=c.getJson("howToPlay").slides,window.flipLanguage&&this.slides.reverse(),this.panels=[];var t=new o.Graphics;t.beginFill(0).drawRect(-250,-173,500,240),this.screen.addChild(t);for(var i=0;i<this.slides.length;i++){var s=this.slides[i],l=new o.Sprite.fromImage(ASSET_URL+s.img);l.anchor.set(0,.5),l.y=110;var p={fill:"#ccffff",font:"18px "+window.MAIN_FONT,align:"center",wordWrap:!0,lineHeight:24,wordWrapWidth:433.5},u="";u=Device.instance.desktop&&translations[s.text+"_DESKTOP"]?translations[s.text+"_DESKTOP"]:!Device.instance.desktop&&translations[s.text+"_MOBILE"]?translations[s.text+"_MOBILE"]:translations[s.text];var d=new o.Text(u,p);d.height>83&&d.scale.set(83/d.height),d.anchor.set(.5),d.x=255,d.y=190,l.addChild(d),l.helpText=d,this.panels.push(l)}var g={itemWidth:510,padding:0,useMask:!0,bounds:new o.Rectangle(-255,0,510,352)};this.carousel=new a(this.panels,g),this.carousel.y=-180,window.flipLanguage&&this.carousel.trackpad.setSlot(this.slides.length-1);var f=new o.Sprite.fromFrame("ui_instructions_text_panel.png");f.anchor.x=f.anchor.y=.5,f.position.y=120,this.screen.addChild(f),this.screen.addChild(this.carousel);var m={size:this.panels.length,step:10,padding:17,interactive:!0,alpha:1};this.dots=new h(m),this.addChild(this.dots),this.dots.x=0,this.dots.y=34,this.dots.scale.set(1.4),this.leftArrow=new r("icon_prev.png"),this.leftArrow.setSize("small"),this.addChild(this.leftArrow.view),this.rightArrow=new r("icon_next.png"),this.rightArrow.setSize("small"),this.addChild(this.rightArrow.view),this.leftArrow.x=-260,this.leftArrow.y=112,this.rightArrow.x=-this.leftArrow.x,this.rightArrow.y=this.leftArrow.y,this.carousel.setDots(this.dots),this.carousel.setButtons(this.leftArrow,this.rightArrow),this.imgHeroe=new o.Sprite,this.imgHeroe.position.y=-this.imgHeroe.height+20,this.imgHeroe.position.x=-this.bg.width/2+20,this.screen.addChild(this.imgHeroe),this.hasClose=!0};l.prototype=Object.create(n.prototype),l.prototype.update=function(){n.prototype.update.call(this),this.count+=1,this.imgHeroe.alpha=Math.abs(.3*Math.sin(.5*Math.tan(this.count)))+.7},l.prototype.onNextPressed=function(){this.trackpad.nextSlot(),this.currentPage++,this.pageTwoTimeout=Math.round((new Date).getTime()/1e3),s.instance.add(this.update,this)},l.prototype.onPreviousPressed=function(){this.trackpad.previousSlot(),this.currentPage--,s.instance.remove(this.update,this)},l.prototype.onShow=function(){n.prototype.onShow.call(this);this.count=0,this.containerInterference.alpha=.5},l.prototype.onPress=function(e){},l.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=l}),define("fido/app/transitions/NoTransition",["require","exports","module"],function(e,t,i){var o=function(){};o.constructor=o,o.prototype.begin=function(e,t,i){t.onHide&&t.onHide(),t.onHidden&&t.onHidden(),e.container.addChildAt(i,0),e.container.removeChild(t),i.onShow&&i.onShow(),i.onShown&&i.onShown(),e.onTransitionComplete()},o.prototype.resize=function(e,t){this.width=e,this.height=t},i.exports=o}),define("starwars/overlays/menu/MenuButton",["require","exports","module","PIXI","fido/ui/buttons/AbstractButton","fido/app/transitions/NoTransition","./MenuButton"],function(e,t,i){var o=e("PIXI"),n=e("fido/ui/buttons/AbstractButton"),r=(e("fido/app/transitions/NoTransition"),e("./MenuButton")),r=function(e,t){n.call(this),this.sprite=new o.Sprite.fromFrame(e),this.addChild(this.sprite),this.text=new o.Text(t.toUpperCase(),{font:"14px "+window.MAIN_FONT,fill:"#83DCF2",align:"center",wordWrap:!0,wordWrapWidth:this.sprite.width}),this.text.anchor.set(.5,0),this.text.x=.5*this.sprite.width,this.text.y=this.sprite.height,this.addChild(this.text),this.hitArea=new o.Rectangle(0,0,this.width,this.height)};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,i.exports=r}),define("text!starwars/shaders/glitch.glsl",[],function(){return"precision highp float;\n\n#define PI 3.141592653589793\n#define PI2 6.283185307179586\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\n\nuniform float time;\nuniform float seed;\nuniform float verticalLinesIntensity;\nuniform float horizontalLinesIntensity;\nuniform float flashIntensity;\nuniform float noiseIntensity;\nuniform float glitchOffset;\nuniform float glitchIntensity;\n\nvec3 rgb2hsv(vec3 c){\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n        float d = q.x - min(q.w, q.y);\n        float e = 1.0e-10;\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c){\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat rand(float n){return fract(sin(n) * 43758.5453123);}\n\nvec4 horizontalGlitch() {\n  vec4 color = vec4(0.);\n  vec2 uv = vTextureCoord;\n  float offset = (rand(uv.y + time) - .5) * (glitchOffset / dimensions.x);\n  uv.x += offset * glitchIntensity;\n  // @damien help !!\n  //uv.x = min(max(0.0,uv.x),1.0);\n  color = texture2D(uSampler, uv);\n  return color;\n}\n\nvec3 toStarWarsBlue(vec3 hsvColor) {\n  hsvColor.x = .59;\n  hsvColor.y = hsvColor.y * .7 + .15;\n  return hsvColor;\n}\n\nvoid main(void)\n{\n  vec4 color = horizontalGlitch();\n\n  float offsetedTime = time + seed;\n\n  vec2 fragCoord = vTextureCoord * dimensions.xy;\n  fragCoord.y *= -1.;\n\n  vec3 hsvColor = rgb2hsv(color.rgb);\n\n  // hsvColor = toStarWarsBlue(hsvColor);\n\n  // noise\n  float noise = rand(1. + fragCoord.y + fragCoord.x * offsetedTime);\n  hsvColor.z += noise * .2 * noiseIntensity;\n\n  // vertical lines\n  hsvColor.z += .2 * step(mod(fragCoord.x, 3.), 1.) * verticalLinesIntensity;\n\n  // horizontal lines\n  float offset = rand(fragCoord.y * fragCoord.x + fragCoord.x * offsetedTime) * 10.;\n  float ratio = step(rand(50. + fragCoord.y + fragCoord.x * offsetedTime), .2);\n  float timeShift = cos(offsetedTime) * 200.;\n  hsvColor.z += .4 * step(mod(fragCoord.y + offset + offsetedTime * 400. + timeShift, 200.), 10.) * ratio * horizontalLinesIntensity;\n\n  // horizontal rectangles\n  float offset3 = rand(ceil(fragCoord.y * 0.01));\n  hsvColor.z += .15 * step(mod(fragCoord.y + offsetedTime * 15000., 2000. + 10000. * offset3), 400. + 800. * offset3) * flashIntensity;\n\n  color.rgb = hsv2rgb(hsvColor);\n  color.rgb *= color.a;\n\n	gl_FragColor = color;\n\n\n}\n"}),define("starwars/filters/GlitchFilter",["require","exports","module","PIXI","fido/system/Ticker","text!../shaders/glitch.glsl"],function(e,t,i){var o=e("PIXI"),n=e("fido/system/Ticker"),r=e("text!../shaders/glitch.glsl"),s=function(){o.AbstractFilter.call(this,null,r,{time:{type:"f",value:0},dimensions:{type:"4fv",value:[0,0,0,0]},seed:{type:"f",value:100*Math.random()},glitchOffset:{type:"f",value:4},glitchIntensity:{type:"f",value:0},noiseIntensity:{type:"f",value:1},verticalLinesIntensity:{type:"f",value:1},horizontalLinesIntensity:{type:"f",value:1},flashIntensity:{type:"f",value:1}}),this.start()};s.prototype=Object.create(o.AbstractFilter.prototype),s.prototype.constructor=s,s.prototype.start=function(){function e(){var e=this.timeline.timeScale();e=e>1?.5+Math.random():4+4*Math.random(),this.timeline.timeScale(e)}this.timeline=new TimelineMax({repeat:-1,onRepeat:e,onRepeatScope:this}),e.call(this),this.timeline.to(this.uniforms.glitchIntensity,.4,{value:1,delay:4,ease:Power3.easeInOut}),this.timeline.to(this.uniforms.glitchIntensity,.4,{value:0,ease:Power3.easeInOut}),n.instance.add(this.update,this)},s.prototype.stop=function(){this.timeline.kill(),n.instance.remove(this.update,this)},s.prototype.update=function(e){this.uniforms.time.value+=e/100},i.exports=s}),define("starwars/overlays/menu/MenuOverlay",["require","exports","module","PIXI","fido/app/Screen","fido/app/transitions/NoTransition","starwars/buttons/GoldenButton","./MenuButton","starwars/filters/GlitchFilter","fido/app/transitions/NoTransition","fido/loader/Cache","fido/loader/Cache","tracker","tracker","tracker","tracker"],function(e,t,i){var o=e("PIXI"),n=e("fido/app/Screen"),r=e("fido/app/transitions/NoTransition"),s=e("starwars/buttons/GoldenButton"),a=e("./MenuButton"),r=(e("starwars/filters/GlitchFilter"),e("fido/app/transitions/NoTransition")),h=function(t){n.call(this,t),this.rewardSystem=this.app.rewardSystem,this.transition=new r,this.hasClose=!1,this.background=(new o.Graphics).beginFill(0).drawRect(0,0,1136,130),this.addChild(this.background),this.closeButton=new s("icon_close.png"),this.closeButton.backgroundColor="red",this.closeButton.setSize("small"),this.closeButton.x=100,this.closeButton.y=.5*this.background.height,this.closeButton.onPress.add(this.hide,this),this.addChild(this.closeButton);var i=["Runner","Rebels","Fighter"];0===window.gameMode&&(i=["Rebels"]);for(var h=!1,c=0;c<i.length;c++)this.app.id===i[c]&&(h=!0);var l=e("fido/loader/Cache").getJson("config").config,p={Rebels:{frame:"top_nav_rebels.png",text:translations.STR_BUTTON_REBELS,screenID:"game2",url:Device.instance.desktop?l.GAME2_URL:l.GAME2_URL_MOBILE},Runner:{frame:"top_nav_yoda.png",text:translations.STR_BUTTON_YODA,screenID:"game1",url:Device.instance.desktop?l.GAME1_URL:l.GAME1_URL_MOBILE},Fighter:{frame:"top_nav_fighter.png",text:translations.STR_BUTTON_FIGHTER,screenID:"game3",url:Device.instance.desktop?l.GAME3_URL:l.GAME3_URL_MOBILE}};if(h){this.buttonsData=[{frame:"top_nav_arcade.png",text:translations.STR_BUTTON_ARCADE,screenID:"arcade",url:Device.instance.desktop?l.ARCADE_URL:l.ARCADE_URL_MOBILE}];for(var c=0;c<i.length;c++)this.app.id!==i[c]&&this.buttonsData.push(p[i[c]])}else{var l=e("fido/loader/Cache").getJson("config");this.buttonsData=[{frame:"top_nav_arcade.png",text:translations.STR_BUTTON_ARCADE,screenID:"arcade",url:""},{frame:"top_nav_room.png",text:translations.STR_BUTTON_ROOM,screenID:"hangar",url:""}];for(var c=0;c<i.length;c++)this.buttonsData.push(p[i[c]])}this.buttons=[],this.buttonMask=new o.Graphics,this.buttonMask.beginFill(16711680),this.buttonMask.drawRect(0,0,1200,this.background.height),this.addChild(this.buttonMask);var u=new o.Container;u.mask=this.buttonMask,this.addChild(u);for(var c=0;c<this.buttonsData.length;c++){var d=this.buttonsData[c],g=new a(d.frame,d.text);g._screenID=d.screenID,g._url=d.url,g.onPress.add(this.onButtonPress,this),this.buttons.push(g),u.addChild(g)}};h.prototype=Object.create(n.prototype),h.prototype.constructor=h,h.prototype.onButtonPress=function(t){if(this.hide(),"Arcade"!==this.app.id){var i=e("tracker");i.isNew?e("tracker").track("game_action","game_switch",{game_tier2:t._screenID}):e("tracker").trackAction("arcade_game_switch",t._screenID),window.location.href=t._url}else"Arcade"===this.app.id&&("arcade"===t._screenID?(this.app.screenManager.screens.arcade.goToArcadeMachines(),this.app.screenManager.gotoScreenByID(t._screenID)):""!==t._url?window.location.href=t._url:this.app.screenManager.gotoScreenByID(t._screenID))},h.prototype.hide=function(){var e=.4;TweenMax.to(this,e,{y:-this.background.height,onComplete:function(){var e=this.app.overlayManager.history.pop();if(e=this.app.overlayManager.history.pop()){var t=new o.Container;t.transition=new r,this.app.overlayManager.gotoScreen(t),this.app.overlayManager.gotoScreen(e)}else this.app.overlayManager.hide()},onCompleteScope:this}),!Device.instance.ie&&o.isWebGL&&TweenMax.to(this.app.overlayManager.bg,e,{y:0})},h.prototype.resize=function(e,t){this.background.width=e},h.prototype.onHide=function(){"Arcade"!==this.app.id&&this.app.topMenu.show()},h.prototype.onShow=function(){"Arcade"!==this.app.id&&this.app.topMenu.hide(),e("tracker").trackAction("view_hamburger");var t=.4,i=.2;TweenMax.fromTo(this,t,{y:-this.background.height},{y:0,delay:i,ease:Power2.easeInOut}),!Device.instance.ie&&o.isWebGL&&TweenMax.to(this.app.overlayManager.bg,t,{y:this.background.height,delay:i,ease:Power2.easeInOut});for(var n=0,r=0;r<this.buttons.length;r++){var s=this.buttons[r];s._screenID!==this.app.screenManager.currentScreen.id?(s.visible=!0,s.x=220+220*n,n++,TweenMax.fromTo(s,.3,{y:100,alpha:0},{y:6,alpha:1,delay:i+.3*t+.1*n,ease:Power2.easeOut}),TweenMax.from(s.text,.3,{y:s.text.y-10,alpha:0,delay:i+.5*t+.1*n,ease:Power2.easeOut})):s.visible=!1}},i.exports=h}),define("com/fighter/app/overlay/screens/Leaderboard",["require","exports","module","PIXI","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Utils"),e("fido/system/Ticker"),function(e){o.Container.call(this),this.list=[],this.realHeight=0,this.viewHeight=e.frameHeight||240,this.viewWidth=e.frameWidth||800,this.scoreViewHeight=e.lineHeight||40,this.padding="object"==typeof e.padding?e.padding:{top:0,right:0,bottom:0,left:0},this.container=new o.Container,this.addChild(this.container),this.maskGraphic=(new o.Graphics).beginFill(16711680,.4).drawRect(-5,15,this.viewWidth,this.viewHeight),this.addChild(this.maskGraphic),this.container.mask=this.maskGraphic,this.containerScrollbar=new o.Container,this.containerScrollbar.position.x=5,this.containerScrollbar.viewHeight=e.frameHeight||240,this.containerScrollbar.viewWidth=e.frameWidth||800,this.addChild(this.containerScrollbar),this.containerScrollbar.realHeight=this.containerScrollbar.viewHeight+2*this.scoreViewHeight,this.realHeight=this.containerScrollbar.viewHeight+1.5*this.scoreViewHeight;for(var t=Math.floor(this.containerScrollbar.realHeight/this.scoreViewHeight),i=0;t>i;i++){var n=new r(i);this.container.addChild(n),n.position.y=i*this.scoreViewHeight,this.list.push(n)}this.dirty=!0});n.constructor=n,n.prototype=Object.create(o.Container.prototype),Object.defineProperty(n.prototype,"scrollPosition",{get:function(){return this._scrollPosition},set:function(e){this._scrollPosition=e,this.updateScrollPosition()}}),n.prototype.setData=function(e){this.data=e;for(var t=0;t<this.list.length;t++){var i=this.list[t];i.id=99999}this.alpha=0,TweenLite.to(this,.3,{alpha:1}),this.scrollHeight=e.length*this.scoreViewHeight+this.padding.top+this.padding.bottom,this.dirty=!0,this.updateScrollPosition()},n.prototype.updateScrollPosition=function(){if(this.data){for(var e=0;e<this.list.length;e++){var t=this.list[e];t.position.y=e*this.scoreViewHeight+this._scrollPosition+this.padding.top,t.position.y+=this.scoreViewHeight;var i=Math.floor((t.position.y+40)/this.realHeight);i*=this.list.length,i-=e,i*=-1,t.id!=i&&(t.id=i,t.visible=t.id>=0&&t.id<this.data.length,t.visible&&t.setData(this.data[i])),t.position.y%=this.realHeight,t.position.y<-20&&(t.position.y+=this.realHeight),t.position.y-=this.scoreViewHeight}this.dirty=!1}},n.prototype.disappear=function(){for(var e=0;e<this.list.length;e++){var t=this.list[e];TweenLite.to(t,.4,{alpha:0}),TweenLite.to(this.containerScrollbar.position,.4,{x:200})}},n.prototype.appear=function(){for(var e=0;e<this.list.length;e++){var t=this.list[e];TweenLite.to(t,.4,{alpha:1}),TweenLite.to(this.containerScrollbar.position,.4,{x:5})}};var r=function(e){o.Container.call(this),this.lineHeight=90,this.x=150;var t={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:"left"};this.labelNumber=new o.Text("0",t),this.labelNumber.position.x=window.flipLanguage?340:60,this.labelNumber.anchor.y=.5,this.labelNumber.y=this.lineHeight/2,this.labelName=new o.Text("0",t),this.labelName.position.x=window.flipLanguage?280:100,window.flipLanguage&&(this.labelName.anchor.x=1),this.labelName.anchor.y=.5,this.labelName.y=this.lineHeight/2,this.labelScore=new o.Text("0",t),this.labelScore.position.x=window.flipLanguage?180:230,window.flipLanguage&&(this.labelScore.anchor.x=1),this.labelScore.anchor.y=.5,this.labelScore.y=this.lineHeight/2,this.addChild(this.labelNumber),this.addChild(this.labelName),this.addChild(this.labelScore)};r.constructor=r,r.prototype=Object.create(o.Container.prototype),r.prototype.setData=function(e){window.flipLanguage?this.labelNumber.text="."+(this.id+1):this.labelNumber.text=this.id+1+".",this.labelName.text=e.username,this.labelScore.text=e.score},i.exports=n}),define("fido/ui/PixiScrollbar_",["require","exports","module","fido/utils/Math2","PIXI"],function(e,t,i){var o=e("fido/utils/Math2"),n=e("PIXI"),r=new n.Point,s=function(e){e=e||{},this.value=0,this._ratio=0,this.dragOffset=0,this.dragPosition=0,this.draggerHeight=e.draggerHeight||30,this.dragLength=e.dragLength||300,n.Container.call(this),this.bar=e.bar||(new n.Graphics).beginFill(16711680).drawRect(0,0,20,this.dragLength),this.dragger=e.dragger||(new n.Graphics).beginFill(16776960).drawRect(0,-this.draggerHeight/2,20,this.draggerHeight),this.addChild(this.bar),this.addChild(this.dragger),this.dragger.position.y=this.draggerHeight/2,this.interactive=!0,this.buttonMode=!0,this.mousedown=this.onDown.bind(this),this.onUp=this.onUp.bind(this),this.onMove=this.onMove.bind(this),this.onUpdate=null};s.prototype=Object.create(n.Container.prototype),s.prototype.updateTransform=function(){var e=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(e-this.dragger.position.y),this.containerUpdateTransform()},Object.defineProperties(s.prototype,{ratio:{get:function(){return this._ratio},set:function(e){this._ratio=o.cap(e,0,1)}}}),s.prototype.updateRatio=function(e){this._ratio=o.map(e,this.draggerHeight/2,this.dragLength-this.draggerHeight/2,0,1),this._ratio=o.cap(this.ratio,0,1),this.onUpdate()},s.prototype.onDown=function(e){var t=e.data.getLocalPosition(this,r).y;this.updateRatio(t),this.isDragging=!0,this.mousemove=this.onMove,this.mouseup=this.mouseupoutside=this.onUp},s.prototype.onUp=function(){this.isDragging=!1,this.mousemove=null,this.mouseup=this.mouseupoutside=null},s.prototype.onMove=function(e){var t=e.data.getLocalPosition(this,r).y;this.updateRatio(t)},i.exports=s}),define("com/fighter/app/ScrollBarStarwars",["require","exports","module","fido/ui/PixiScrollbar_","fido/utils/Math2"],function(e,t,i){var o=e("fido/ui/PixiScrollbar_"),n=e("fido/utils/Math2");ScrollBarStarwars=function(e){var t=new PIXI.Sprite.fromFrame("scrollbar_tab.png");t.anchor.set(.5),t.pivot.y=-84,t.pivot.x=1;var i=new PIXI.Sprite.fromFrame("scrollbar_bg.png");i.anchor.set(.5,0),i.pivot.y=25;var e={dragLength:227,draggerHeight:62,bar:i,dragger:t};o.call(this,e)},ScrollBarStarwars.prototype=Object.create(o.prototype),ScrollBarStarwars.prototype.updateTransform=function(){var e=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(e-this.dragger.position.y),this.dragger.position.x=n.map(this.ratio,0,1,0,12)+5,this.containerUpdateTransform()},i.exports=ScrollBarStarwars}),define("fido/ui/PixiScrollCombo",["require","exports","module","../physics/Spring","fido/system/Ticker","./PixiTrackpad","fido/utils/Math2"],function(e,t,i){var o=(e("../physics/Spring"),e("fido/system/Ticker"),e("./PixiTrackpad"),e("fido/utils/Math2"));PixiScrollCombo=function(e){this.min=e.min||0,this.max=e.max||500,this.trackpad=e.trackpad,this.trackpad.scrollMinY=-this.max,this.trackpad.scrollMaxY=this.min,this.trackpad.capMovement=!0,this.trackpad.easeToPosition(0,this.min),this.scrollbar=e.scrollbar,Device.instance.desktop||(this.scrollbar.visible=!1),this.scrollbar.onUpdate=this.onScrollUpdate.bind(this),this.value=0},Object.defineProperties(PixiScrollCombo.prototype,{value:{get:function(){return this._value},set:function(e){this._value=e,this.trackpad.easeToPosition(0,e)}}}),PixiScrollCombo.prototype.update=function(){this.trackpad.update(),this._value=this.trackpad.valueY,this.scrollbar.ratio=o.map(-this.trackpad.valueY,this.min,this.max,0,1)},PixiScrollCombo.prototype.onScrollUpdate=function(){var e=o.map(this.scrollbar.ratio,1,0,-this.max,this.min);this.trackpad.easeToPosition(0,e)},i.exports=PixiScrollCombo}),define("com/fighter/app/overlay/screens/LeaderboardScreen",["require","exports","module","PIXI","starwars/overlays/Overlay","./Leaderboard","fido/ui/PixiTrackpad","fido/utils/Utils","com/fighter/app/buttons/IconButton","com/fighter/app/ScrollBarStarwars","libs/GBAPI","fido/ui/PixiScrollbar_","fido/ui/PixiScrollCombo","com/fighter/app/system/GameSaveManager","fido/loader/Cache","tracker","tracker","tracker"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=e("./Leaderboard"),s=e("fido/ui/PixiTrackpad"),a=e("fido/utils/Utils"),h=(e("com/fighter/app/buttons/IconButton"),e("com/fighter/app/ScrollBarStarwars")),c=e("libs/GBAPI"),l=(e("fido/ui/PixiScrollbar_"),e("fido/ui/PixiScrollCombo")),p=e("com/fighter/app/system/GameSaveManager"),u=e("fido/loader/Cache"),d=function(e){n.call(this,e),this.title.text=translations.STR_OVERLAY_LEADERBOARD,this.backToCompletionScreen=!1,this.currentLeaderboardId=0,this.dimensions={width:700,height:360},this.hitArea=new o.Rectangle(-(.5*this.dimensions.width),-(.5*this.dimensions.height),this.dimensions.width-40,this.dimensions.height),this.leaderboards=[],this.trackpads=[],this.trackRect=new o.Container,this.trackRect.hitArea=new o.Rectangle(-350,-180,700,360),this.addChild(this.trackRect);var t={target:this.trackRect},i=new s(t),c=new h;c.position.set(205,-136),this.addChild(c);var p=new l({scrollbar:c,trackpad:i,min:0,max:310});this.scrollCombo=p;var u={frameWidth:600,frameHeight:.7*this.bg.height,lineHeight:25,padding:{top:0,right:0,bottom:80,left:0}},d=[-254.5,132,-236.5,-170,236.5,-170,255.5,129],g=new o.Graphics;g.beginFill(16777215*Math.random()).drawPolygon(d),this.containerLeaderboards=new o.Container,this.addChild(g),this.containerLeaderboards.mask=g,this.screen.addChild(this.containerLeaderboards);for(var f=-380,m=0;3>m;m++){var v=new r(u);v.disappear(),v.alpha=1,v.position.x=f,v.position.y=-150,this.containerLeaderboards.addChild(v),this.leaderboards.push(v),v.containerScrollbar.position.y-=50,this.trackpads.push(p)}this.buttons=[];for(var y=[-130,0,130],_=[translations.STR_OVERLAY_HIGHSCORE_DAY,translations.STR_OVERLAY_HIGHSCORE_WEEK,translations.STR_OVERLAY_HIGHSCORE_ALL_TIME],x={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:"left"},w={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:"left"},m=0;3>m;m++){var b=new o.Container;b.interactive=!0,b.buttonMode=!0,b.click=b.tap=this._onDown.bind(this,b,m,!1),b.position.y=-160,this.addChild(b);var k=new o.Sprite.fromFrame("ui_leaderboard_button_off.png");k.anchor.set(.5),k.position.x=y[m];var S=new o.Sprite.fromFrame("leaderboard_tab_off.png");S.anchor.set(.5),S.position.x=y[m];var T=new o.Text(_[m],w);T.anchor.set(.5),a.fitText(T,110);var C=new o.Text(_[m],x);a.fitText(C,110),C.anchor.set(.5),C.visible=!1,S.addChild(T),S.addChild(C),b.addChild(k),b.addChild(S);var M={bg:k,fg:S,textActive:C,textInactive:T};this.buttons.push(M)}this._onDown(this.buttons[0],0,!0);var P=new o.Sprite.fromFrame("ui_bottom_text_panel.png");P.anchor.x=.5,P.anchor.y=1,P.position.y=this.bg.height/2-20,this.screen.addChild(P),this.textBottom=new o.Text("",{font:"25px "+window.MAIN_FONT,fill:"#09717c"}),this.textBottom.anchor.set(.5),this.textBottom.position.y=-P.height/2-5,P.addChild(this.textBottom),this.hasClose=!0};d.prototype=Object.create(n.prototype),d.prototype._onDown=function(t,i,n){if(i!==this.currentLeaderboardId||n){var r=["today","week","all_time"];e("tracker").trackAction("view_leaderboard",r[i]);var s=this.buttons[this.currentLeaderboardId];s.bg.texture=new o.Texture.fromFrame("ui_leaderboard_button_off.png"),s.fg.texture=new o.Texture.fromFrame("leaderboard_tab_off.png"),s.textActive.visible=!1,s.textInactive.visible=!0,this.leaderboards[this.currentLeaderboardId].disappear();var t=this.buttons[i];t.bg.texture=new o.Texture.fromFrame("ui_leaderboard_button_on.png"),t.fg.texture=new o.Texture.fromFrame("leaderboard_tab_on.png"),t.textActive.visible=!0,t.textInactive.visible=!1,this.currentLeaderboardId=i,this.scrollCombo.value=0,TweenLite.delayedCall(.2,function(){this.leaderboards[this.currentLeaderboardId].appear()}.bind(this))}},d.prototype.backToScore=function(){this.screenManager.gotoScreenByID("completion")},d.prototype.onTotalScorePressed=function(){0===this.buttonTotalScore.state&&(this.buttonTotalScore.toggleOn(),this.buttonTotalScore.state=1,this.loadTotalScores(),this.buttonSinglePlay.toggleOff(),this.buttonSinglePlay.state=0,this.trackpads[this.currentLeaderboardId].value=0)},d.prototype.onSinglePlayPressed=function(){0===this.buttonSinglePlay.state&&(this.buttonSinglePlay.toggleOn(),this.buttonSinglePlay.state=1,this.loadSinglePlayScores(),this.buttonTotalScore.toggleOff(),this.buttonTotalScore.state=0,this.trackpads[this.currentLeaderboardId].value=0)},d.prototype.loadTotalScores=function(){this.loadScores("allatbreak_total")},d.prototype.loadSinglePlayScores=function(){this.loadScores("allatbreak_overall")},d.prototype.updateTransform=function(){this.trackpads[this.currentLeaderboardId].update(),this.leaderboards[this.currentLeaderboardId].scrollPosition=this.scrollCombo.value,o.Container.prototype.updateTransform.call(this)},d.prototype.loadScores=function(e){var t=e,i=u.getJson("config").config.SCORE_ID;c.instance.getScores({date:t,game:i},function(e){if(e.error)e.error||0===e.results.length;else{var i=e.results,o=[];if(i.length>0)for(var n=0;n<i.length;n++){var r={username:i[n].name_str,score:i[n].score_int};o.push(r)}else{var r={username:translations.STR_LEADERBOARD_NO_DATA,score:""};o.push(r)}var s=t;this.onDataRecieved(o,s)}t++,2>=t&&this.loadScores(t)}.bind(this))},d.prototype.onHidden=function(){n.prototype.onHidden.call(this),e("tracker").trackAction("lb_close"),this.backToCompletionScreen=!1,this.backToNormalScreen=!1,this.backToGameoverScreen=!1},d.prototype.onShow=function(){n.prototype.onShow.call(this),e("tracker").trackAction("view_leaderboard","today");var t=p.instance.save.bestScore||0;window.flipLanguage?this.textBottom.text=t+" "+translations.STR_OVERLAY_LEADERBOARD_INFO:this.textBottom.text=translations.STR_OVERLAY_LEADERBOARD_INFO+" :   "+t,a.fitText(this.textBottom,400),this.loadScores(0)},d.prototype.onDataRecieved=function(e,t){if(!e)for(var e=[],i=0;70>i;i++){var o={username:"Mat"+(1e3*Math.random()|0),score:100*i};e.push(o)}this.scrollCombo.value=0,this.leaderboards[t].setData(e),this.leaderboards[t].alpha=1},d.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=d}),define("com/fighter/app/overlay/screens/AchievementBoard",["require","exports","module","PIXI","fido/utils/Utils","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=(e("fido/utils/Utils"),e("fido/system/Ticker"),function(e){o.Container.call(this),this.list=[],this.realHeight=0,this.viewHeight=e.frameHeight||240,this.viewWidth=e.frameWidth||800,this.scoreViewHeight=e.lineHeight||40,this.padding="object"==typeof e.padding?e.padding:{top:0,right:0,bottom:0,left:0},this.container=new o.Container,this.addChild(this.container),this.maskGraphic=(new o.Graphics).beginFill(16711680,.4).drawRect(-5,40,this.viewWidth,this.viewHeight),this.addChild(this.maskGraphic),this.container.mask=this.maskGraphic,this.containerScrollbar=new o.Container,this.containerScrollbar.position.x=5,this.containerScrollbar.viewHeight=e.frameHeight||240,this.containerScrollbar.viewWidth=e.frameWidth||800,this.addChild(this.containerScrollbar),this.containerScrollbar.realHeight=this.containerScrollbar.viewHeight+2*this.scoreViewHeight,this.realHeight=this.containerScrollbar.viewHeight+1.4*this.scoreViewHeight;for(var t=Math.floor(this.containerScrollbar.realHeight/this.scoreViewHeight),i=0;t>i;i++){var n=new r(i);this.container.addChild(n),n.position.y=i*this.scoreViewHeight,this.list.push(n)}this.dirty=!0});n.constructor=n,n.prototype=Object.create(o.Container.prototype),Object.defineProperty(n.prototype,"scrollPosition",{get:function(){return this._scrollPosition},set:function(e){this._scrollPosition=e,this.updateScrollPosition()}}),n.prototype.onShow=function(){OverlayScreen.prototype.onShow.call(this),o.isWebGL&&(this.containerInterference.alpha=.2)},n.prototype.setData=function(e){this.data=e;for(var t=0;t<this.list.length;t++){var i=this.list[t];i.id=99999}this.alpha=0,TweenLite.to(this,.3,{alpha:1}),this.scrollHeight=e.length*this.scoreViewHeight+this.padding.top+this.padding.bottom,this.dirty=!0,this.updateScrollPosition()},n.prototype.updateScrollPosition=function(){if(this.data){for(var e=0;e<this.list.length;e++){var t=this.list[e];t.position.y=e*this.scoreViewHeight+this._scrollPosition+this.padding.top,t.position.y+=this.scoreViewHeight;var i=Math.floor((t.position.y+40)/this.realHeight);i*=this.list.length,i-=e,i*=-1,t.id!=i&&(t.id=i,0!==i?(t.visible=t.id>=0&&t.id<this.data.length,t.visible&&t.setData(this.data[i])):t.visible=!1),t.position.y%=this.realHeight,t.position.y<0&&(t.position.y+=this.realHeight),t.position.y-=this.scoreViewHeight}this.dirty=!1}},n.prototype.disappear=function(){for(var e=0;e<this.list.length;e++){var t=this.list[e];TweenLite.to(t,.4,{alpha:0}),TweenLite.to(this.containerScrollbar.position,.4,{x:200})}},n.prototype.appear=function(){for(var e=0;e<this.list.length;e++){var t=this.list[e];TweenLite.to(t,.4,{alpha:1}),TweenLite.to(this.containerScrollbar.position,.4,{x:5})}};var r=function(e){o.Container.call(this),this.lineHeight=90,this.x=150;this.marker=new o.Sprite.fromFrame("icon_pause.png"),this.dotOn=o.Texture.fromFrame("challenge_bullet_on.png"),this.dotOff=o.Texture.fromFrame("challenge_bullet_off.png"),this.styleAchieved={font:"18px "+window.MAIN_FONT,fill:"#ccffff",align:window.flipLanguage?"right":"left",wordWrap:!0,lineHeight:21,wordWrapWidth:315},this.styleNonAchieved={font:"18px "+window.MAIN_FONT,fill:"#acdef7",align:window.flipLanguage?"right":"left",wordWrap:!0,lineHeight:21,wordWrapWidth:315},this.labelNumber=new o.Text("0",this.styleNonAchieved),this.labelNumber.position.x=window.flipLanguage?340:60,this.labelNumber.anchor.y=0,this.labelNumber.y=this.lineHeight/2,this.labelName=new o.Text("0",this.styleNonAchieved),window.flipLanguage&&(this.labelName.anchor.x=1),this.labelName.position.x=window.flipLanguage?330:92,this.labelName.anchor.y=0,this.labelName.y=this.lineHeight/2,this.marker.anchor.x=.5,this.marker.anchor.y=0,this.marker.x=window.flipLanguage?380:30,this.marker.y=this.lineHeight/2-2,this.marker.alpha=.6,this.addChild(this.marker),this.addChild(this.labelNumber),this.addChild(this.labelName)};r.constructor=r,r.prototype=Object.create(o.Container.prototype),r.prototype.setData=function(e){e.achieved?(this.marker.texture=this.dotOn,this.labelName.style=this.styleAchieved,
this.labelNumber.style=this.styleAchieved,this.marker.texture=this.dotOn,this.marker.alpha=1):(this.marker.texture=this.dotOff,this.labelName.style=this.styleNonAchieved,this.labelNumber.style=this.styleNonAchieved,this.marker.alpha=.6),window.flipLanguage?(this.labelNumber.text="."+this.id,this.labelName.text="(%"+Math.round(e.completion)+") "+e.desc.toUpperCase()):(this.labelNumber.text=this.id+".",this.labelName.text=e.desc.toUpperCase(),window.FLIP_PERCENT?this.labelName.text+=" (%"+Math.round(e.completion)+")":this.labelName.text+=" ("+Math.round(e.completion)+"%)")},i.exports=n}),define("starwars/ui/ScrollBarStarwars",["require","exports","module","fido/ui/PixiScrollbar_","fido/utils/Math2"],function(e,t,i){var o=e("fido/ui/PixiScrollbar_"),n=e("fido/utils/Math2");ScrollBarStarwars=function(e){var t=new PIXI.Sprite.fromFrame("scrollbar_tab.png");t.anchor.set(.5),t.pivot.y=-84,t.pivot.x=1;var i=new PIXI.Sprite.fromFrame("scrollbar_bg.png");i.anchor.set(.5,0),i.pivot.y=25;var e={dragLength:227,draggerHeight:62,bar:i,dragger:t};o.call(this,e)},ScrollBarStarwars.prototype=Object.create(o.prototype),ScrollBarStarwars.prototype.updateTransform=function(){var e=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(e-this.dragger.position.y),this.dragger.position.x=n.map(this.ratio,0,1,0,12)+5,this.containerUpdateTransform()},i.exports=ScrollBarStarwars}),define("com/fighter/app/overlay/screens/AchievementScreen",["require","exports","module","PIXI","starwars/overlays/Overlay","./AchievementBoard","starwars/ui/ScrollBarStarwars","fido/ui/PixiTrackpad","fido/utils/Utils","fido/goals/Goals","fido/system/Device","fido/system/Ticker","fido/ui/PixiScrollbar_","fido/ui/PixiScrollCombo","fido/goals/Trophies","fido/utils/FrameWait","fido/utils/Utils","tracker"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=e("./AchievementBoard"),s=e("starwars/ui/ScrollBarStarwars"),a=e("fido/ui/PixiTrackpad"),h=e("fido/utils/Utils"),c=e("fido/goals/Goals"),l=e("fido/system/Device"),p=e("fido/system/Ticker"),u=(e("fido/ui/PixiScrollbar_"),e("fido/ui/PixiScrollCombo")),d=e("fido/goals/Trophies"),g=e("fido/utils/FrameWait"),h=e("fido/utils/Utils"),f=function(e){n.call(this,e),this.title.text=translations.STR_OVERLAY_CHALLENGES,this.dimensions={width:700,height:360};var t={frameWidth:600,frameHeight:.7*this.bg.height,lineHeight:60,padding:{top:0,right:0,bottom:0,left:0}};this.leaderboard=new r(t),this.leaderboard.alpha=0,this.screen.addChild(this.leaderboard),this.hitArea=new o.Rectangle(-(.5*this.dimensions.width),-(.5*this.dimensions.height),this.dimensions.width-40,this.dimensions.height),this.leaderboard.position.x=-380,this.leaderboard.position.y=-200,l.instance.desktop||(this.leaderboard.x=-390),this.trackRect=new o.Container,this.trackRect.hitArea=new o.Rectangle(-350,-180,700,360),this.screen.addChild(this.trackRect);var i={target:this.trackRect},h=new a(i);this.trophies=new d({goal_system:c.instance}),this.trophies.init(),this.trophyContainer=new o.Container,this.screen.addChild(this.trophyContainer),this.trophySprites=[];for(var p=0;4>p;p++){var g=new o.Sprite;g.x=-180+100*p,g.y=-170,this.trophyContainer.addChild(g),this.trophySprites.push(g)}var f=new s;f.position.set(205,-128),this.screen.addChild(f);var m=new u({scrollbar:f,trackpad:h,min:30,max:2250});this.scrollCombo=m,this.scrollCombo.value=30;var i={target:this.screen,scrollbarClass:s,scrollbar:!1,scrollbarHeight:this.dimensions.height,scrollTarget:this.leaderboard.containerScrollbar};this.trackpad=new a(i),this.firstLaunch=!0,this.scoreCache={};var v=new o.Sprite.fromFrame("ui_bottom_text_panel.png");v.anchor.x=.5,v.anchor.y=1,v.position.y=this.bg.height/2-20,this.screen.addChild(v),this.textBottom=new o.Text("",{font:"25px "+window.MAIN_FONT,fill:"#09717c"}),this.textBottom.anchor.set(.5),this.textBottom.position.y=-v.height/2-5,v.addChild(this.textBottom),this.hasClose=!0};f.prototype=Object.create(n.prototype),f.prototype.update=function(){n.prototype.update.call(this),this.scrollCombo.update(),this.trophyContainer.y=this.scrollCombo.value-10,this.leaderboard.scrollPosition=this.scrollCombo.value},f.prototype.onHide=function(){n.prototype.onHide.call(this),this.leaderboard.alpha=0,this.scoreCache={}},f.prototype.onShow=function(){n.prototype.onShow.call(this),o.isWebGL&&(this.containerInterference.alpha=.2),e("tracker").trackAction("achievements_start"),this.trackpad.easeToPosition(0,0),this.onDataRecieved(),g.wait(function(){this.app.alertPanelManager.show("trophies")}.bind(this),20),p.instance.add(this.update,this)},f.prototype.onHide=function(){n.prototype.onHide.call(this)},f.prototype.onHidden=function(){n.prototype.onHidden.call(this),this.backToCompletionScreen=!1,this.backToNormalScreen=!1,this.backToGameoverScreen=!1},f.prototype.onDataRecieved=function(e){for(var e=[],t=0,i="trophy_none.png",n=this.trophies.getTrophies(),r=0;r<n.length;r++){var s=n[r];s.earned?this.trophySprites[r].texture=o.Texture.fromFrame(s.image):this.trophySprites[r].texture=o.Texture.fromFrame(i)}for(var a=0,l=c.instance.getAllGroups(),r=0;r<l.length;r++){var p=l[r];p.achieved&&t++,p.completion||(p.completion=0),p.hidden?a++:e.push(p)}e.unshift({achieved:!0,desc:"empty",completion:0}),window.flipLanguage?this.textBottom.text=translations.STR_OVERLAY_CHALLENGES_INFO+" "+(l.length-a)+" / "+t:this.textBottom.text=t+" / "+(l.length-a)+" "+translations.STR_OVERLAY_CHALLENGES_INFO,h.fitText(this.textBottom,400),this.leaderboard.setData(e),this.trackpad.scrollMinY=-(this.leaderboard.scrollHeight-this.leaderboard.viewHeight),this.leaderboard.alpha=1},f.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=f}),define("starwars/overlays/Swears",["require","exports","module"],function(e,t,i){var o="cG9veGl0dXNhdHl2dHlsdG9ndGl0c3lsc3B5c3Bhc25vc2lrc2V4c2Vkc2F1cmV2cmFwcWtrcHVscHVlcG9wcGlrcGV3cGVzcGVrb3N0b3Jtb29ob25zbnNibmVrbmVpbXVzbXVrbW9wbWFjbHVzbGVta3Vra3Vna29wa2tra2lza2lkanVzaWJvaHlzaHVlaG9yaG9saG9laGFwZ29hZ251Z2VyZ2F5ZnJhZmlzZmFuZmFnZWxnZWdvZWdnZHlyc2V4ZG9tZG9nYnJ5c2V4bmFpYm9icG90cGlzcGlrem9ieHh4YmlsYmlhbHVsa3V0YmFna2FrYmFmYXNzZ3Zkc2F1eHh4YXJnYXBvbnVzcHFweHh4YXBlYXBhc2V4dGlzcHJzZnVrc2V4cGF1c2V4c2V4c2d1c2V4bnVzbnVhZ2F5cGVlcGF0a2trc2V4eHh4bmlnZGVsZ2F5a3Vra2tramFwbm9wcGlzZ29kZmFrZ2F5Y3VsZnV0ZnVrc2V4YW1vZm9rY29uc2Vnc2V4ZnVjcmFqZmFnZmNrY3VzZmFnaHVqa2F0c2V4amViaGVyZ2F5aHVqZ2F5a3VyZmlzZ2F5ZGljZ2VqZmFuZ2VqcGF1Zm9zZmFrYXNvc2lrcGtrZ2F5ZnV0ZWRpY3VzYnVtYXNzY3VyYm9pY3ljYm9rYW1rYmxiYXNzYW5vbmdhdG5hYnJhbWxmbG9ibm9ianJraXNscGRhZG9hcHRhbmlicmliZG1iam9icnViY3Vta250ZGllc3VrbGlrcHN5a29rYnV0aml6YmNoY29rZGlrc2h0Y250aXJhbHNkc3RkbXVmbWxmd3RmeHRjYW5sd2NrZnVxZnV4Y29jY29xa294a29ja29ra29xY2FjY2FrY2Fxa2Fja2Fra2FxZGlxZGl4ZGNrcG5zbmdyZHNodHd0YmNoY2x0a3Vta2x0c3Vjc3Vrc3Vxc2NrbGlrbGljbGlxbGNranp6Z2V5Z2VpZ2FpdmFndmduc2p2ZmFwcHJubG9samV3eWlkam9vZ3ZycGlzcHNzc25tZmt1ZmN1ZnF1aG9yc2x0amFwd29wa2lra3lra3lja3lxZHlrZHlxZHljanl6cHJrcHJjcHJxbWljbWlrbWlxbXljbXlrbXlxZ3VjZ3VrZ3VxZ2l6Z3p6c3h4c3hpc3hlc3h5d2Fjd2Frd2Fxd2NrdGhjdmFqdmpuYXpucGNwZG1ub3JsYW5zbWZmcGhrcGhjcGhxdG9rdG9jdG9xcmFjcmFrcmFxcmNrc2Fjc2Frc2FxcG1zbmFkbmR6bmRzc29sc29iZm9iZ2FnZ29pZ29vZ295Z3l6aXVkamlzbGF5bGV6bHlra3lsbnlwb2NkdG9zdHVndHl0d2V0d2l6d2x5eml0",n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,o,r,s,a,h,c="",l=0;for(e=n._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),i=e.charCodeAt(l++),o=e.charCodeAt(l++),r=t>>2,s=(3&t)<<4|i>>4,a=(15&i)<<2|o>>6,h=63&o,isNaN(i)?a=h=64:isNaN(o)&&(h=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(h);return c},decode:function(e){var t,i,o,r,s,a,h,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),h=this._keyStr.indexOf(e.charAt(l++)),t=r<<2|s>>4,i=(15&s)<<4|a>>2,o=(3&a)<<6|h,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(i)),64!=h&&(c+=String.fromCharCode(o));return c=n._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var o=e.charCodeAt(i);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",i=0,o=c1=c2=0;i<e.length;)o=e.charCodeAt(i),128>o?(t+=String.fromCharCode(o),i++):o>191&&224>o?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&o)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),i+=3);return t}},r=n.decode(o),s=r.match(/.{1,3}/g);i.exports=s}),define("fido/game/NameInput",["require","exports","module","signals","PIXI","fido/ui/PixiTrackpad","fido/sound/SoundManager"],function(e,t,i){var o=e("signals"),n=e("PIXI"),r=e("fido/ui/PixiTrackpad"),s=e("fido/sound/SoundManager"),a=function(){n.Container.call(this),this.letterScrollers=[];var e=0,t=135,i=new n.Sprite.fromFrame("ui_entername_panel.png");i.anchor.set(.5),i.position.x=35,i.position.y=70,this.addChild(i);for(var r=[e-t,e,e+t],s=0;3>s;s++){var a=new l;this.addChild(a),a.x=r[s],a.y=11,a.onLetterUpdate.add(this.onNameUpdate,this),this.letterScrollers.push(a)}this.onNameUpdate=new o,this.pivot.x=this.width/2-t};a.prototype=Object.create(n.Container.prototype),a.prototype.reset=function(){for(var e=0;e<this.letterScrollers.length;e++)this.letterScrollers[e].reset()},a.prototype.onNameUpdate=function(){for(var e="",t=0;t<this.letterScrollers.length;t++)e+=this.letterScrollers[t].currentLetter;this.word=e,this.onNameUpdate.dispatch(e)},a.prototype.setName=function(e){this.reset();var t,i=e.split(""),o="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=[],r=0;for(t=0;t<i.length;t++){r=0;for(var s=0;s<o.length;s++)o[s]===i[t]?n.push(r):r++}for(t=0;t<this.letterScrollers.length;t++)this.letterScrollers[t].goToLetterId(n[t])},a.prototype.update=function(){};var h=120,c=135,l=function(){n.Container.call(this),this.onLetterUpdate=new o,this.letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),this.masky=(new n.Graphics).beginFill(16711680).drawRect(-20,-5,110,128),this.addChild(this.masky),this.hitArea=new n.Rectangle(0,-5,89,130),this.trackpad=new r({target:this}),this.trackpad.snapTo=!0,this.trackpad.size=h,this.trackpad.maxSlots=1e8,this.trackpad.capMovement=!1,this.trackpad.spring.springiness=.9,this.trackpad.spring.damp=.5,this.options=[],this.optionContainer=new n.Container,this.addChild(this.optionContainer),this.optionContainer.mask=this.masky,this.lastId=0;for(var e=3,t=0;e>t;t++){var i=new n.Container;i.text=new n.Text("HI",{font:"124px "+window.SECONDARY_FONT,fill:"#aae5ff"}),i.addChild(i.text),i.text.x=35,i.text.y=47,i.text.anchor.set(.5),this.optionContainer.addChild(i),i.interactive=!0,i.buttonMode=!0,i.id=1e6,this.options.push(i)}this.lastId=999999999,this.nextButton=new n.Sprite.fromFrame("ui_entername_off.png"),this.nextButton.anchor.set(.5),this.nextButton.interactive=!0,this.nextButton.buttonMode=!0,this.nextButton.click=this.nextButton.tap=this.onNextPressed.bind(this),this.nextButton.mousedown=this.nextButton.touchstart=this.changeTexture.bind(this,this.nextButton,"ui_entername_on.png"),this.nextButton.mouseupoutside=this.nextButton.touchendoutside=this.nextButton.mouseup=this.nextButton.touchend=this.changeTexture.bind(this,this.nextButton,"ui_entername_off.png"),this.addChild(this.nextButton),this.nextButton.y=-43,this.nextButton.x=32,this.prevButton=new n.Sprite.fromFrame("ui_entername_off.png"),this.prevButton.anchor.set(.5),this.prevButton.scale.y*=-1,this.prevButton.interactive=!0,this.prevButton.buttonMode=!0,this.prevButton.mousedown=this.prevButton.touchstart=this.changeTexture.bind(this,this.prevButton,"ui_entername_on.png"),this.prevButton.mouseupoutside=this.prevButton.touchendoutside=this.prevButton.mouseup=this.prevButton.touchend=this.changeTexture.bind(this,this.prevButton,"ui_entername_off.png"),this.prevButton.click=this.prevButton.tap=this.onPrevPressed.bind(this),this.addChild(this.prevButton),this.prevButton.x=35,this.prevButton.y=158};l.prototype=Object.create(n.Container.prototype),l.prototype.changeTexture=function(e,t){e.texture=new n.Texture.fromFrame(t)},l.prototype.updateTransform=function(){this.trackpad.update();for(var e=this.options.length*h,t=0;t<this.options.length;t++){var i=this.options[t];i.position.y=t*h+this.trackpad.valueY+c;var o=Math.floor(i.position.y/e);if(o*=this.options.length,o*=-1,o+=t,o!==i.id){i.id=o;var r=o%this.letters.length;0>r&&(r+=this.letters.length),i.letter=this.letters[r],i.text.text=this.letters[r]}i.position.y%=e,i.position.y<0&&(i.position.y+=e),i.position.y-=h}var s=this.trackpad.spring.ty/-this.trackpad.size|0,a=s%this.options.length;0>a&&(a+=this.options.length);var l=this.options[a];this.currentLetter!==l.letter&&(this.currentLetter=l.letter,this.onLetterUpdate.dispatch(l.letter)),n.Container.prototype.updateTransform.call(this)},l.prototype.onNextPressed=function(){this.trackpad.previousSlotY(),s.sfx.play("selectbeep")},l.prototype.onPrevPressed=function(){this.trackpad.nextSlotY(),s.sfx.play("selectbeep")},l.prototype.goToLetterId=function(e){this.trackpad.setSlotY(e),this.trackpad.spring.dy=0,this.trackpad.speedY=0,this.trackpad.valueY=this.trackpad.easingValueY=this.trackpad.spring.y=this.trackpad.spring.ty},l.prototype.onOptionPressed=function(e){!this.trackpad.didMove},l.prototype.reset=function(){for(var e=0;e<this.options.length;e++)this.options[e].id=9999,this.options[e].text.text="!"},i.exports=a}),define("starwars/NameUtils",["require","exports","module","PIXI","fido/loader/Cache","fido/system/LocalStorage"],function(e,t,i){var o=(e("PIXI"),e("fido/loader/Cache")),n=e("fido/system/LocalStorage"),r={};r.getUserName=function(){var e=o.getJson("config").COOKIES_BUNDLE_ID;o.getJson("config").config&&(e=o.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID);var t=new n(e),i=t.getObject("userName");return i||(i="AAA"),i},r.setUserName=function(e){var t=o.getJson("config").COOKIES_BUNDLE_ID;o.getJson("config").config&&(t=o.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID);var i=new n(t);i.storeObject("userName",e)},i.exports=r}),define("starwars/overlays/NameOverlay",["require","exports","module","./Swears","fido/game/NameInput","starwars/buttons/TextButton","signals","starwars/overlays/Overlay","fido/sound/SoundManager","libs/GBAPI","starwars/NameUtils","fido/system/Ticker"],function(e,t,i){var o=e("./Swears"),n=e("fido/game/NameInput"),r=e("starwars/buttons/TextButton"),s=e("signals"),a=e("starwars/overlays/Overlay"),h=e("fido/sound/SoundManager"),c=(e("libs/GBAPI"),e("starwars/NameUtils")),l=e("fido/system/Ticker"),p=function(e){a.call(this,e),this.swearRegEx=RegExp(o.join("|")),this.nameInput=new n,this.nameInput.x=40,this.nameInput.y=-118,this.addChild(this.nameInput),this.nameInput.onNameUpdate.add(this.onNameUpdate,this),this.submitButton,this.title.text=translations.STR_OVERLAY_NAME.toLowerCase(),this.submitButton=new r(translations.STR_SAVE_NAME),this.hasClose=!1,this.submitButton.y=118,this.submitButton.onPress.add(this.onSubmitPressed,this),this.addChild(this.submitButton),this.name=c.getUserName(),this.onNameUpdated=new s};p.prototype=Object.create(a.prototype),p.prototype.onSubmitPressed=function(){c.setUserName(this.name),h.sfx.play("selectbeep")},p.prototype.onHide=function(){this.onNameUpdated.dispatch(this.name),l.instance.remove(this.update,this)},p.prototype.onNameUpdate=function(e){var t=!this.swearRegEx.test(e.toLowerCase());this.name=e,t?(this.nameInput.alpha=1,this.submitButton.interactive=!0,this.submitButton.alpha=1):(this.nameInput.alpha=.5,this.submitButton.interactive=!1,this.submitButton.alpha=.5),this.onNameUpdated.dispatch(e)},p.prototype.onShow=function(){l.instance.add(this.update,this),this.name=c.getUserName(),this.nameInput.setName(this.name),this.submitButton.interactive=!0,TweenLite.to(this.submitButton.scale,.1,{x:1,y:1,ease:Back.easeIn}),TweenLite.to(this.nameInput,.1,{alpha:1,ease:Sine.easeIn})},p.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=p}),define("com/fighter/app/overlay/screens/LevelScreen",["require","exports","module","PIXI","starwars/overlays/Overlay","fido/sound/SoundBridge","starwars/buttons/GoldenButton","fido/system/Ticker","com/fighter/app/system/GameSaveManager","starwars/buttons/GoldenButton","fido/utils/Utils","com/fighter/game/GameConfig","fido/loader/Cache","com/fighter/app/ThreeStarsStarwars","starwars/filters/GlitchFilter"],function(e,t,i){var o=e("PIXI"),n=e("starwars/overlays/Overlay"),r=(e("fido/sound/SoundBridge"),e("starwars/buttons/GoldenButton")),s=(e("fido/system/Ticker"),e("com/fighter/app/system/GameSaveManager")),r=e("starwars/buttons/GoldenButton"),a=(e("fido/utils/Utils"),e("com/fighter/game/GameConfig")),h=e("fido/loader/Cache"),c=e("com/fighter/app/ThreeStarsStarwars"),l=e("starwars/filters/GlitchFilter"),p=["level_select_ezra.png","level_select_sabine.png","level_select_zeb.png"],u=function(e){n.call(this,e),this.count=0,this.data={};var t=new o.Sprite.fromFrame("ui_instructions_text_panel.png");t.anchor.x=t.anchor.y=.5,t.position.y=120,this.screen.addChild(t),this.hasClose=!0,this.playButton=new r("icon_play.png"),this.playButton.setSize("medium"),this.playButton.y=75,this.playButton.onPress.add(this.onPress,this),this.addChild(this.playButton),this.name=new o.Text("",{font:"28px naked_powerlight",fill:"#acdef7",dropShadow:!0,dropShadowColor:"rgba(50,70,160,0.5)",dropShadowDistance:2,dropShadowAngle:Math.PI/2,stroke:"#0072ff",strokeThickness:1,align:"center"}),this.name.anchor.x=.5,this.name.y=-180,this.addChild(this.name);var i=window.translations.STR_LEVELS_BEST_SCORE.toUpperCase();this.bestTime=new o.Text(i,{font:"18px naked_powerlight",fill:"#acdef7",stroke:"#0072ff",strokeThickness:1,align:"center"}),this.bestTime.anchor.set(.5),this.bestTime.x=-165,this.bestTime.y=85,this.addChild(this.bestTime),this.time=new o.Text("02:10:40",{font:"32px naked_powerlight",fill:"#acdef7",stroke:"#0072ff",strokeThickness:1,align:"center"}),this.time.anchor.set(.5),this.time.x=-165,this.time.y=115,this.addChild(this.time),this.stars=[],this.coin=new o.Sprite,this.coin.anchor.y=.5,this.coin.position.set(100,100),this.addChild(this.coin),this.pickups=new o.extras.BitmapText("",{align:"center",font:"29px Star Jedi"}),this.pickups.pivot.y=21,this.pickups.position.set(158,100),this.addChild(this.pickups),this.stars=new c(this),this.stars.y=-90,this.addChild(this.stars),this.character=new o.Sprite,this.character.anchor.set(.5,1),this.character.x=-320,this.character.y=this.app.maxSize.height/2,this.addChildAt(this.character,0),this.character2=new o.Sprite,this.character2.anchor.set(.5,1),this.character2.x=-320,this.character2.y=this.app.maxSize.height/2,this.addChildAt(this.character2,1)};u.prototype=Object.create(n.prototype),u.prototype.update=function(){n.prototype.update.call(this),this.count+=1},u.prototype.updateData=function(){var e=s.instance.save,t=e.worlds[a.worldIndex].levels[a.levelIndex];this.name.text=a.globalLevelNumber,t.score>0?this.time.text=t.score:this.time.text=0;for(var i=0;i<this.stars.starsContainer.children.length;i++){var n=this.stars.starsContainer.children[i];n.visible=!1}for(var i=0;i<t.starRating;i++){var n=this.stars.stars[i];0===i?(n.texture=new o.Texture.fromFrame(this.stars.options.textureStar1),n.visible=!0):1===i?(n.texture=new o.Texture.fromFrame(this.stars.options.textureStar2),n.visible=!0):(n.texture=new o.Texture.fromFrame(this.stars.options.textureStar3),n.visible=!0)}t.numPickups&&t.totalPickups?(this.pickups.visible=!0,this.pickups.text=t.numPickups+"/"+t.totalPickups,this.coin.visible=!0):(this.pickups.visible=!1,this.coin.visible=!1);var r=h.getJson("levels"),c=r.worlds[a.worldIndex].levels[a.levelIndex];switch(c.character){case"ezra":this.character._texture=o.Texture.fromFrame(p[0]),this.character2._texture=o.Texture.fromFrame(p[0]);break;case"sabine":this.character._texture=o.Texture.fromFrame(p[1]),this.character2._texture=o.Texture.fromFrame(p[1]);break;case"zeb":this.character._texture=o.Texture.fromFrame(p[2]),this.character2._texture=o.Texture.fromFrame(p[2])}},u.prototype.onShow=function(){n.prototype.onShow.call(this);this.count=0,this.character.alpha=0,this.character2.alpha=0,this.updateData(),o.isWebGL&&(this.character2.filters=[new l]),TweenLite.to(this.character2,.7,{alpha:1}),TweenLite.delayedCall(1,this.noGlitch,[],this)},u.prototype.onShown=function(){},u.prototype.noGlitch=function(){this.character.alpha=1,TweenLite.to(this.character2,.7,{alpha:0}),this.character.filters=null},u.prototype.onHidden=function(){},u.prototype.onPress=function(e){this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID("prep")},u.prototype.resize=function(e,t){this.w=e,this.h=t,this.x=e/2,this.y=t/2},i.exports=u}),define("com/fighter/app/overlay/screens/EndlessResultScreen",["require","exports","module","PIXI","com/fighter/app/overlay/screens/CompletionScreen","fido/sound/MusicManager","starwars/buttons/GoldenButton","com/fighter/game/LevelManager","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","fido/effects/Sparkles","com/fighter/app/shop/ShopSystem","fido/utils/FrameWait","starwars/buttons/GoldenButton"],function(e,t,i){var o=e("PIXI"),n=e("com/fighter/app/overlay/screens/CompletionScreen"),r=(e("fido/sound/MusicManager"),e("starwars/buttons/GoldenButton"),e("com/fighter/game/LevelManager"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("fido/effects/Sparkles"),e("com/fighter/app/shop/ShopSystem"),e("fido/utils/FrameWait"),e("starwars/buttons/GoldenButton"),function(e){n.call(this,e);var t="#ccffff";this.title.text=translations.STR_OVERLAY_LEVEL_CLEAR;var i={font:"35px "+window.MAIN_FONT,align:"left",fill:t};this.scoreText.style=i,this.scoreText.anchor.x=.5,this.scoreText.position.x=0,this.scoreText.position.y=-150;var i={font:"32px "+window.MAIN_FONT,align:"left",fill:t};this.score.style=i,this.score.position.x=0,this.score.anchor.x=.5,this.score.position.y=-112;var i={font:"22px "+window.MAIN_FONT,align:"left",fill:t};this.deadEnemies.style=i,this.missEnemiesValue.style=i,this.missEnemies.style=i,this.deadEnemiesValue.style=i,this.deadEnemies.position.x=-85,this.deadEnemies.position.y=-25,this.deadEnemiesValue.position.x=this.deadEnemies.position.x+this.deadEnemies.width,this.deadEnemiesValue.position.y=-25,this.missEnemies.position.y=-25,this.missEnemiesValue.position.x=95,this.missEnemiesValue.position.y=-25,this.coins.position.y=30,this.textCoin.position.y=30,this.smallbarBG.texture=o.Texture.fromFrame("hit_miss_bigger.png"),this.smallbarFill.texture=o.Texture.fromFrame("hit_miss_fill_bigger.png"),this.smallbarFill.position.x=2,this.smallbarFill.anchor.y=.5,this.smallbarFill.scale.x=0,this.containerSmallBar.position.x=-this.smallbarBG.width/2,this.containerSmallBar.position.y=-65,this.stars.disable=!0,this.isGameOver=!0});r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.onShow=function(){n.prototype.onShow.call(this),this.app.overlayManager.shopScreen.backToCompletionScreen=!1,this.app.overlayManager.shopScreen.backToEndlessCompletionScreen=!1,this.restartButton.visible=!0,this.nextButton.visible=!1,this.removeChild(this.stars)},i.exports=r}),define("com/fighter/app/overlay/screens/EndlessHighScoreScreen",["require","exports","module","PIXI","com/fighter/app/overlay/screens/EndlessResultScreen","fido/sound/MusicManager","starwars/buttons/GoldenButton","com/fighter/game/LevelManager","com/fighter/game/GameConfig","com/fighter/app/system/GameSaveManager","fido/effects/Sparkles","com/fighter/app/shop/ShopSystem","fido/utils/FrameWait","starwars/buttons/GoldenButton"],function(e,t,i){var o=(e("PIXI"),e("com/fighter/app/overlay/screens/EndlessResultScreen")),n=(e("fido/sound/MusicManager"),e("starwars/buttons/GoldenButton"),e("com/fighter/game/LevelManager"),e("com/fighter/game/GameConfig"),e("com/fighter/app/system/GameSaveManager"),e("fido/effects/Sparkles"),e("com/fighter/app/shop/ShopSystem"),e("fido/utils/FrameWait"),e("starwars/buttons/GoldenButton"),function(e){o.call(this,e),this.title.text=translations.STR_OVERLAY_HIGHSCORE});n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.onPress=function(e){e===this.backButton?this.app.wasSavingEndlessModeFromPauseMenu?(this.app.callbackFromPauseMenu(),this.wasSavingEndlessModeFromPauseMenu=!1,this.callbackFromPauseMenu=null):(this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID("select"),this.app.topMenu.setMode("game")):this.app.overlayManager.gotoScreenByID("submit")},n.prototype.onShow=function(){o.prototype.onShow.call(this),this.app.wasSavingEndlessModeFromPauseMenu?(this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!1,this.app.overlayManager.leaderboardScreen.backToEndlessCompletionScreen=!1):(this.app.overlayManager.leaderboardScreen.backToCompletionScreen=!1,this.app.overlayManager.leaderboardScreen.backToEndlessCompletionScreen=!0),this.btnContainer.visible=!1,this.highScoreButton.visible=!0,this.addChild(this.highScoreButton)},i.exports=n}),define("starwars/events/EventPlanner",["require","exports","module"],function(e,t,i){function o(){this.eventMap={},this.properties={}}var n={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6};o.prototype.isHappening=function(e){e=e.toLowerCase();for(var t in this.properties)if(t.toLowerCase()==e)return!0;return!1},o.prototype.load=function(e){this.eventMap=e.events,this.dates=e.dates;for(var t=0;t<this.dates.length;t++)for(var i=this.dates[t],o=0;o<i.ids.length;o++){var n=i.ids[o];this.eventMap.hasOwnProperty(n)||(i.ids.splice(o,1),o--)}this.parseEvents()},o.prototype.parseEvents=function(){for(var e=0;e<this.dates.length;e++){var t=this.dates[e],i=!1;if("day"===t.type?i=this.checkDay(t.condition):"range"===t.type&&Object.keys(t.condition).length<2?i=this.checkSingleDate(t.condition.start):"range"===t.type&&2===Object.keys(t.condition).length&&(i=this.checkRange(t.condition.start,t.condition.end)),i)for(var o=0;o<t.ids.length;o++){var n=t.ids[o];this.properties[n]=this.eventMap[n]}}},o.prototype.checkSingleDate=function(e){var t=(e.split("/"),new Date(d1[2],d1[1]-1,d1[0]),new Date);return date===t},o.prototype.checkDay=function(e){e=e.toLowerCase();var t=(new Date).getDay();return n[e]===t},o.prototype.checkRange=function(e,t){var i=e.split("/"),o=t.split("/"),n=new Date(i[2],i[1]-1,i[0]),r=new Date(o[2],o[1]-1,o[0]),s=new Date;return r>=s&&s>=n},i.exports=new o}),define("com/fighter/app/LayerManager",["require","exports","module","PIXI","fido/system/Ticker"],function(e,t,i){function o(e,t){return t.depth-e.depth}var n=(e("PIXI"),e("fido/system/Ticker")),r=function(e){this.container=e,n.instance.add(this.update,this)};r.prototype.update=function(e){this.depthSortLayer(this.container)},r.prototype.depthSortLayer=function(e){e.children.sort(o)},i.exports=r}),define("com/fighter/game/BackgroundGame",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI"),n=function(e){o.Container.call(this),this.app=e,this.bg=new o.Sprite.fromImage(ASSET_URL+"img/game/background2.png"),this.addChild(this.bg),this.lines=[],this.linesBottom=[],this.createLines(),this.createLinesBottom(),this.vignet=new o.Sprite.fromImage(ASSET_URL+"img/game/vignet_select_mission.png"),this.vignet.anchor.x=this.vignet.anchor.y=.5,this.vignet.alpha=0,this.vignet.hitArea=new o.Rectangle,this.addChild(this.vignet)};n.prototype=Object.create(o.Container.prototype),n.prototype.fadeVignet=function(e,t){t=t||.5,Easings.to(this.vignet,t,{alpha:e})},n.prototype.createLinesBottom=function(){for(var e=[0,50,75],t=0;3>t;t++){var i=new o.Sprite.fromFrame("pixel_white.png");i.tint=13421772,i.alpha=.2*t+.4,i.scale.x=1400,i.scale.y=100,i.position.y=this.app.safeSize.height+e[t],i.originalPos=new o.Point,i.originalPos.y=i.position.y,i.moveValue=i.position.y-100,this.addChild(i),this.linesBottom.push(i)}},n.prototype.createLines=function(){for(var e=1640,t=14,i=[16777215,10263451],n=0;t>n;n++){var r=new o.Sprite.fromFrame("pixel_white.png"),s=Math.floor(Math.random()*i.length);0===s?r.alpha=.6*Math.random()+.3:r.alpha=.3*Math.random()+.05,r.tint=i[s],r.scale.y=100*Math.random()+10,r.scale.x=1400,r.originalScale=new o.Point,r.originalScale.y=r.scale.y,r.scaleValue=r.scale.y-(150*Math.random()+10),r.position.y=e/t*n+100*Math.random()-50,r.originalPos=new o.Point,r.originalPos.y=e/t*n+100*Math.random()-50,r.moveValue=r.originalPos.y-(400*Math.random()+640),this.addChild(r),this.lines.push(r)}},n.prototype.moveBack=function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e];Easings.to(t.position,1,{y:t.originalPos.y,ease:Easings.easeInOutSine}),Easings.to(t.scale,1,{y:t.originalScale.y,ease:Easings.easeInOutSine})}for(var e=0;e<this.linesBottom.length;e++){var t=this.linesBottom[e];Easings.to(t.position,1,{y:t.originalPos.y,ease:Easings.easeInOutSine})}},n.prototype.move=function(e){e=e||.2;for(var t=0;t<this.lines.length;t++){var i=this.lines[t];Easings.to(i.position,e,{y:i.moveValue,ease:Easings.easeInOutSine}),Easings.to(i.scale,e,{y:i.scaleValue,ease:Easings.easeInOutSine})}for(var o=[0,50,75],t=0;t<this.linesBottom.length;t++){var i=this.linesBottom[t];Easings.to(i.position,e,{y:this.h+o[t]-100,ease:Easings.easeInOutSine})}},n.prototype.resize=function(e,t){this.w=e,this.h=t,this.bg.scale.x=this.bg.scale.y=1,this.bg.scale.x=Math.min(e/this.bg.width,1),this.bg.scale.y=Math.min(t/this.bg.height,1),this.vignet.scale.x=this.vignet.scale.y=1,this.vignet.position.x=e/2,this.vignet.position.y=t/2,this.vignet.scale.x=Math.min(e/this.vignet.width,1),this.vignet.scale.y=Math.min(t/this.vignet.height,1)},i.exports=n}),define("com/fighter/game/FrontLayer",["require","exports","module","PIXI","fido/utils/Utils","fido/system/Ticker","fido/sound/SoundBridge","fido/sound/SoundBridge"],function(e,t,i){var o=e("PIXI"),n=e("fido/utils/Utils"),r=e("fido/system/Ticker"),s=function(e){o.Container.call(this),this.app=e,this.logo=new o.Sprite.fromFrame("logo_small.png"),this.logo.anchor.x=.5,this.logo.depth=0,this.addChild(this.logo);for(var t=n.getTexturesFromFramesWithPrefix("bb8_000%%.png",77,0),i=n.getTexturesFromFramesWithPrefix("bb8_move_head000%%.png",21,78),r=n.getTexturesFromFramesWithPrefix("bb8_move_head000%%.png",16,83),s=n.getTexturesFromFramesWithPrefix("bb8_move_head000%%.png",16,83),a=0;a<s.length;a++)if(7===a)for(var h=0;10>h;h++)s.splice(a+1,0,s[a]);var c=n.getTexturesFromFramesWithPrefix("bb8_move_right_001%%.png",44,0),l=n.getTexturesFromFramesWithPrefix("bb8_move_left_001%%.png",46,48);this.bb8Modele=new o.Sprite(t[76]),this.bb8Modele.tint=16711680,this.bb8Modele.anchor.x=this.bb8Modele.anchor.y=.5,this.bb8=new o.Sprite(t[0]),this.bb8.buttonMode=!0,this.bb8.interactive=!0,this.bb8.click=this.bb8.tap=this.playHeadIdle.bind(this),this.bb8.textures=t,this.bb8.visible=!0,this.bb8.anchor.x=this.bb8.anchor.y=.5,this.bb8.alpha=1e-4,this.bb8.introTextures=t,this.bb8.headTextures=i,this.bb8.headTexturesIdle=r,this.bb8.headTexturesIdle2=s,this.bb8.moveRight=c,this.bb8.moveLeft=l,this.bb8.counter=0,this.bb8.speed=.4,this.addChild(this.bb8),this.w=0,this.h=0,this.delayBeforeMovingHead=120,this.playIntroForFun(),this.donotanimate=!1};s.prototype=Object.create(o.Container.prototype),s.prototype.fadeLogo=function(e){Easings.to(this.logo,.2,{alpha:e})},s.prototype.fade=function(e){e>0&&(this.donotanimate=!1,this.bb8.visible=!0),Easings.to(this.bb8,.2,{alpha:e,onComplete:function(){0===e&&(this.donotanimate=!0,this.bb8.visible=!1)}.bind(this)})},s.prototype.playIntroForFun=function(){this.isForFun=!0,this.isPlaying=!0,this.donotanimate=!1},s.prototype.playIntro=function(){e("fido/sound/SoundBridge").sfx.playGroup("bb8_happy"),this.donotanimate=!1,this.bb8.visible=!0,this.bb8.alpha=1,this.bb8.speed=.4,this.bb8.textures=this.bb8.introTextures,this.bb8.counter=0,this.isPlaying=!0,this.isIntro=!0,this.bb8.position.x=300,
this.bb8.position.y=this.h+200,Easings.to(this.bb8.position,3,{y:this.h-160,ease:Easings.easeOutSine})},s.prototype.playHead=function(){this.isPlaying||this.donotanimate||(this.bb8.visible=!0,this.bb8.alpha=1,this.bb8.textures=this.bb8.headTextures,this.bb8.counter=0,this.bb8.position.x=257,this.bb8.position.y=511,this.bb8.speed=.4,this.isPlaying=!0,this.isIntro=!1,this.isPlayingHead=!0)},s.prototype.playHeadIdle=function(){this.isPlaying||this.donotanimate||(e("fido/sound/SoundBridge").sfx.playGroup("bb8_happy"),this.bb8.visible=!0,this.bb8.alpha=1,Math.random()>.5?this.bb8.textures=this.bb8.headTexturesIdle:this.bb8.textures=this.bb8.headTexturesIdle2,this.bb8.counter=0,this.bb8.position.x=257,this.bb8.position.y=511,this.bb8.speed=.4,this.isPlaying=!0,this.isIntro=!1,this.isPlayingHead=!0)},s.prototype.moveRight=function(){this.bb8.visible=!0,this.bb8.speed=.38,this.bb8.alpha=1,this.bb8.textures=this.bb8.moveRight,this.bb8.counter=0,this.bb8.position.x=257,this.bb8.position.y=511,this.isPlaying=!0,this.isIntro=!0},s.prototype.moveLeft=function(){this.bb8.visible=!0,this.bb8.speed=.38,this.bb8.alpha=1,this.bb8.textures=this.bb8.moveLeft,this.bb8.counter=0,this.bb8.position.x=257,this.bb8.position.y=511,this.isPlaying=!0,this.isIntro=!0},s.prototype.updateTransform=function(){o.Container.prototype.updateTransform.call(this),this.isPlaying&&(this.bb8.counter+=this.bb8.speed*r.game.deltaTime,this.bb8.texture=this.bb8.textures[Math.floor(this.bb8.counter%this.bb8.textures.length)],Math.floor(this.bb8.counter%this.bb8.textures.length)>=this.bb8.textures.length-1&&(this.isForFun&&(this.bb8.visible=!1),this.isForFun=!1,this.isPlaying=!1,this.isIntro&&(this.playHead(),this.isIntro=!1))),!this.isPlaying&&this.bb8.visible&&(this.delayBeforeMovingHead>0?this.delayBeforeMovingHead--:(this.playHeadIdle(),this.delayBeforeMovingHead=120*Math.random()+60))},s.prototype.resize=function(e,t){this.w=e,this.h=t,this.logo.position.x=this.w/2,this.bb8Modele.position.x=300,this.bb8Modele.position.y=this.h-160},i.exports=s}),define("APP_root",["require","exports","module","PIXI","AtlasData","com/fighter/app/RDPAlgorithm","fido/app/App","fido/system/Ticker","fido/system/Device","fido/sound/SoundBridge","fido/sound/MusicManager","starwars/loader/LoaderScreen","fido/utils/Utils","com/fighter/app/screens/TitleScreen","com/fighter/app/screens/GameScreen","com/fighter/app/screens/GamePrepScreen","com/fighter/app/screens/PathMaker","com/fighter/app/screens/SimplifyPoints","signals","com/fighter/app/screens/SelectScreen","starwars/app/AlertPanelManager","com/fighter/app/shop/ShopSystem","fido/loader/Cache","com/fighter/app/system/GameSaveManager","fido/goals/Goals","com/fighter/app/ui/FighterMenu","starwars/OverlayManager","com/fighter/game/LevelManager","com/fighter/game/GameConfig","fido/app/Brim","libs/GBAPI","fido/goals/Trophies","fido/Flash","starwars/overlays/Overlay","com/fighter/app/overlay/screens/PauseScreen","com/fighter/app/overlay/screens/GameoverScreen","com/fighter/app/overlay/screens/UnlockedScreen","com/fighter/app/overlay/screens/CompletionScreen","com/fighter/app/overlay/screens/ShopScreen","com/fighter/app/overlay/screens/TutorialScreen","starwars/overlays/TutorialOverlay","starwars/overlays/menu/MenuOverlay","com/fighter/app/overlay/screens/LeaderboardScreen","com/fighter/app/overlay/screens/AchievementScreen","starwars/overlays/NameOverlay","com/fighter/app/overlay/screens/LevelScreen","com/fighter/app/overlay/screens/HighScoreScreen","com/fighter/app/overlay/screens/EndlessResultScreen","com/fighter/app/overlay/screens/EndlessHighScoreScreen","fido/app/AssetManager","starwars/events/EventPlanner","starwars/HangerTokenUtils","com/fighter/app/LayerManager","com/fighter/game/BackgroundGame","com/fighter/game/FrontLayer","com/fighter/app/LinesUI","fido/input/Keyboard","tracker","tracker","tracker","tracker"],function(e,t,i){function o(){var e=!1;/\bSilk\b/.test(navigator.userAgent)&&(e=!0),window.app=this;var t=480==window.screen.height&&320==window.screen.width||480==window.screen.width&&320==window.screen.height,i=a.instance.iPad&&1===window.devicePixelRatio;window.isSilk=e||i;var o={config:ASSET_URL+"json/config.json",stringsUrl:ASSET_URL+"strings/strings.json",loaderScreen:l,orientationMode:s.orientationModes.LANDSCAPE,backgroundColor:0,debug:!1};s.call(this,o),this.id="Fighter";var n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;window.kitchenSink=window.WEBGL&&!a.instance.isMobile&&!e&&!n,window.mobiles=!window.WEBGL||!a.instance.desktop,window.lowMode=!a.instance.desktop&&!window.WEBGL,window.canGlitch=window.WEBGL&&!a.instance.iPad,this.safeSize={width:1136,height:640},this.maxSize={width:1136,height:640},this.w=0,this.h=0,this.onSoundReady=new v;var r="";t&&a.instance.isMobile&&a.instance.iPhone||e?r="@0.5x":a.instance.desktop||(r="@0.75x");var h=[];""===r?h=[ASSET_URL+"img/game/no_compression_fx_0.json",ASSET_URL+"img/game/animation_fx_0.json",ASSET_URL+"img/game/bb8_0.json",ASSET_URL+"img/game/bb8_1.json",ASSET_URL+"img/game/bb8_2.json",ASSET_URL+"img/game/menu_0.json",ASSET_URL+"img/game/world1_0.json",ASSET_URL+"img/game/world1_1.json",ASSET_URL+"img/game/world2_0.json",ASSET_URL+"img/game/world2_1.json",ASSET_URL+"img/game/world2_2.json",ASSET_URL+"img/game/UI_game_0.json"]:"@0.75x"===r?h=[ASSET_URL+"img/game/no_compression_fx@0.75x_0.json",ASSET_URL+"img/game/no_compression_fx@0.75x_1.json",ASSET_URL+"img/game/animation_fx@0.75x_0.json",ASSET_URL+"img/game/animation_fx@0.75x_1.json",ASSET_URL+"img/game/animation_fx@0.75x_2.json",ASSET_URL+"img/game/bb8@0.75x_0.json",ASSET_URL+"img/game/bb8@0.75x_1.json",ASSET_URL+"img/game/bb8@0.75x_2.json",ASSET_URL+"img/game/bb8@0.75x_3.json",ASSET_URL+"img/game/bb8@0.75x_4.json",ASSET_URL+"img/game/menu@0.75x_0.json",ASSET_URL+"img/game/menu@0.75x_1.json",ASSET_URL+"img/game/menu@0.75x_2.json",ASSET_URL+"img/game/world1@0.75x_0.json",ASSET_URL+"img/game/world1@0.75x_1.json",ASSET_URL+"img/game/world1@0.75x_2.json",ASSET_URL+"img/game/world1@0.75x_3.json",ASSET_URL+"img/game/world2@0.75x_0.json",ASSET_URL+"img/game/world2@0.75x_1.json",ASSET_URL+"img/game/world2@0.75x_2.json",ASSET_URL+"img/game/world2@0.75x_3.json",ASSET_URL+"img/game/world2@0.75x_4.json",ASSET_URL+"img/game/UI_game@0.75x_0.json",ASSET_URL+"img/game/UI_game@0.75x_1.json"]:"@0.5x"===r&&(h=[ASSET_URL+"img/game/no_compression_fx@0.5x_0.json",ASSET_URL+"img/game/world2@0.5x_0.json",ASSET_URL+"img/game/world2@0.5x_1.json",ASSET_URL+"img/game/world2@0.5x_2.json",ASSET_URL+"img/game/world1@0.5x_0.json",ASSET_URL+"img/game/world1@0.5x_1.json",ASSET_URL+"img/game/menu@0.5x_0.json",ASSET_URL+"img/game/bb8@0.5x_0.json",ASSET_URL+"img/game/bb8@0.5x_1.json",ASSET_URL+"img/game/bb8@0.5x_2.json",ASSET_URL+"img/game/animation_fx@0.5x_0.json",ASSET_URL+"img/game/animation_fx@0.5x_1.json",ASSET_URL+"img/game/UI_game@0.5x_0.json"]);var c=[SHARED_ASSET_URL+"images/aurek_besh.xml",SHARED_ASSET_URL+"images/jedi_font.xml",ASSET_URL+"img/game/jedi_font_fighter.xml",ASSET_URL+"img/game/panels.json",ASSET_URL+"img/ui_font_small.xml",ASSET_URL+"img/ui_font.xml",ASSET_URL+"img/dosis_blue_hud.xml",ASSET_URL+"img/dosis_green_hud.xml",ASSET_URL+"img/game/ui_assets.json",ASSET_URL+"img/game/vignet_select_mission.png",ASSET_URL+"img/game/fresque_select_mission.jpg",ASSET_URL+"img/game/tittle_screen_illu.jpg",ASSET_URL+"img/game/background2.png",ASSET_URL+"img/game/temp/background_gradient.png",ASSET_URL+"img/game/temp/canvas-bg.png"],p=c.concat(h),r="@0.5x";window.lowMode&&(r="@0.25x");var u,d=[ASSET_URL+"img/game/arcade/lightsaber-wave-map.jpg",ASSET_URL+"img/game/tie_fighter_bg_dark.png",ASSET_URL+"img/game/tie_fighter_bg.png",ASSET_URL+"img/game/intro_outro/intro_starkiller_2.jpg",ASSET_URL+"img/game/intro_outro/intro_starkiller_3.jpg",ASSET_URL+"img/game/intro_outro/intro_takodana1.jpg",ASSET_URL+"img/game/intro_outro/intro_takodana2.jpg",ASSET_URL+"img/game/intro_outro/intro_takodana3.jpg",ASSET_URL+"img/game/intro_outro/intro_takodana4.jpg",ASSET_URL+"img/game/temp/red_vignet.png"];u=window.canGlitch?d.concat([ASSET_URL+"img/game/temp/glitch5_00000.png",ASSET_URL+"img/game/temp/glitch5_00001.png",ASSET_URL+"img/game/temp/glitch5_00002.png",ASSET_URL+"img/game/temp/glitch5_00003.png",ASSET_URL+"img/game/temp/glitch5_00004.png",ASSET_URL+"img/game/temp/glitch5_00005.png",ASSET_URL+"img/game/temp/glitch5_00006.png",ASSET_URL+"img/game/temp/glitch5_00007.png",ASSET_URL+"img/game/temp/glitch5_00008.png",ASSET_URL+"img/game/temp/glitch5_00009.png"]):d,X.registerGroup("gameAssets",u),this.loader.addPixiAssets(p),this.loader.addCSS(SHARED_ASSET_URL+"css/fonts.css"),this.onReady.add(this.onAppReady,this),this.onSoundReady=new v,a.instance.useSM2?this.onSoundReady.add(this.loadSounds,this):this.loadSounds(),this.newlyUnlocked=-1,this.loader.addJson(SHARED_ASSET_URL+"json/fighter-goals.json","goals"),this.loader.addJson(SHARED_ASSET_URL+"strings/fighter-goals-strings.json","goals_strings"),this.loader.addJson(ASSET_URL+"json/shopData.json","shopData"),this.loader.addJson(ASSET_URL+"json/missions.json","missions"),this.loader.addJson(ASSET_URL+"json/worlds_structure.json","worldsStructure"),this.loader.addJson(ASSET_URL+"json/endless_patterns.json","endlessPatterns"),this.loader.addJson(ASSET_URL+"json/alertPanels.json","alertPanels"),this.loader.addJson(ASSET_URL+"json/howToPlay.json","howToPlay"),this.onReady.add(this.onAppReady,this),this.rollFix=function(){window.moved=!0,this.stage.interactiveChildren=!0,window.document.removeEventListener("mousemove",this.rollFix)}.bind(this),a.instance.desktop&&(window.document.addEventListener("mousemove",this.rollFix,!0),this.stage.interactiveChildren=!1),this.startup(),this.renderer.plugins.interaction.mouse.global.set(-999999)}var n=e("PIXI");window.PIXI=n,window.atlasData=e("AtlasData");var r=e("com/fighter/app/RDPAlgorithm"),s=e("fido/app/App"),a=(e("fido/system/Ticker"),e("fido/system/Device")),h=e("fido/sound/SoundBridge"),c=e("fido/sound/MusicManager"),l=e("starwars/loader/LoaderScreen"),p=e("fido/utils/Utils"),u=e("com/fighter/app/screens/TitleScreen"),d=e("com/fighter/app/screens/GameScreen"),g=e("com/fighter/app/screens/GamePrepScreen"),f=e("com/fighter/app/screens/PathMaker"),m=e("com/fighter/app/screens/SimplifyPoints"),v=e("signals"),y=e("com/fighter/app/screens/SelectScreen"),_=e("starwars/app/AlertPanelManager"),x=e("com/fighter/app/shop/ShopSystem"),w=e("fido/loader/Cache"),b=e("com/fighter/app/system/GameSaveManager"),k=e("fido/goals/Goals"),S=e("com/fighter/app/ui/FighterMenu"),T=e("starwars/OverlayManager"),C=(e("com/fighter/game/LevelManager"),e("com/fighter/game/GameConfig")),M=(e("fido/app/Brim"),e("libs/GBAPI")),P=e("fido/goals/Trophies"),E=e("fido/Flash"),I=e("starwars/overlays/Overlay"),F=e("com/fighter/app/overlay/screens/PauseScreen"),B=e("com/fighter/app/overlay/screens/GameoverScreen"),A=(e("com/fighter/app/overlay/screens/UnlockedScreen"),e("com/fighter/app/overlay/screens/CompletionScreen")),O=e("com/fighter/app/overlay/screens/ShopScreen"),L=(e("com/fighter/app/overlay/screens/TutorialScreen"),e("starwars/overlays/TutorialOverlay")),D=e("starwars/overlays/menu/MenuOverlay"),R=e("com/fighter/app/overlay/screens/LeaderboardScreen"),G=e("com/fighter/app/overlay/screens/AchievementScreen"),W=e("starwars/overlays/NameOverlay"),N=(e("com/fighter/app/overlay/screens/LevelScreen"),e("com/fighter/app/overlay/screens/HighScoreScreen")),j=e("com/fighter/app/overlay/screens/EndlessResultScreen"),U=e("com/fighter/app/overlay/screens/EndlessHighScoreScreen"),X=e("fido/app/AssetManager"),V=e("starwars/events/EventPlanner"),H=(e("starwars/HangerTokenUtils"),e("com/fighter/app/LayerManager"),e("com/fighter/game/BackgroundGame")),z=e("com/fighter/game/FrontLayer"),q=e("com/fighter/app/LinesUI");e("fido/input/Keyboard");o.prototype=Object.create(s.prototype),o.prototype.loadSounds=function(){h.music.addSound(ASSET_URL+"snd/music/main_theme_loop","mainLoop",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/game_over_music","game_over",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/level_complete","level_complete",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/level_select","level_select",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/mission_01_intro","mission_01_intro",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/mission_01_outro","mission_01_outro",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/mission_02_intro","mission_02_intro",{volume:.2,loop:!0}),h.music.addSound(ASSET_URL+"snd/music/mission_02_outro","mission_02_outro",{volume:.2,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/kylo_loop","kylo_loop",{volume:.5,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/xwing_engine_loop","xwing_engine_loop",{volume:1,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/alarm","alarm_01",{volume:.6,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/alarm_05","alarm_03",{volume:1,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/xwing_laser_release","laser_release",{volume:1,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/laser_loops","laser_loops",{volume:1,loop:!0}),h.sfx.addSound(ASSET_URL+"snd/shield_hit","shot_impact",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tie_laser_loops","tie_laser_loop",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/xwing_buddies","xwing_buddies",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/weapon_powerup","weapon_powerup",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/xwing_powerup","xwing_powerup",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/missiles_02","missiles_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/gun_turret_02","gun_turret",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/killer_turret","tiefighter_weapon_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tie_laser_single","tie_laser_single",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_flyby_01","tiefighter_flyby_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_flyby_02","tiefighter_flyby_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_flyby_03","tiefighter_flyby_03",{volume:1}),h.sfx.addGroup(["tiefighter_flyby_01","tiefighter_flyby_02","tiefighter_flyby_03"],"tiefighter_flyby"),h.sfx.addSound(ASSET_URL+"snd/bb8_happy_01","bb8_happy_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/bb8_happy_02","bb8_happy_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/bb8_happy_03","bb8_happy_03",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/bb8_happy_04","bb8_happy_04",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/bb8_happy_05","bb8_happy_05",{volume:1}),h.sfx.addGroup(["bb8_happy_01","bb8_happy_02","bb8_happy_03","bb8_happy_04","bb8_happy_05"],"bb8_happy"),h.sfx.addSound(ASSET_URL+"snd/bb8_scared_01","bb8_scared_01",{volume:1.5}),h.sfx.addSound(ASSET_URL+"snd/bb8_scared_02","bb8_scared_02",{volume:1.5}),h.sfx.addSound(ASSET_URL+"snd/bb8_scared_03","bb8_scared_03",{volume:1.5}),h.sfx.addSound(ASSET_URL+"snd/bb8_scared_04","bb8_scared_04",{volume:1.5}),h.sfx.addGroup(["bb8_scared_01","bb8_scared_02","bb8_scared_03","bb8_scared_04"],"bb8_scared"),h.sfx.addSound(ASSET_URL+"snd/explosion_01","explosion_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/explosion_02","explosion_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/explosion_03","explosion_03",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/explosion_04","explosion_04",{volume:1}),h.sfx.addGroup(["explosion_01","explosion_02","explosion_03","explosion_04"],"explosion"),h.sfx.addSound(ASSET_URL+"snd/shield_hit","shield_hit",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/shield_hit_02","shield_hit_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/shield_hit_03","shield_hit_03",{volume:1}),h.sfx.addGroup(["shield_hit","shield_hit_02","shield_hit_03"],"shield_hit"),h.sfx.addSound(ASSET_URL+"snd/player_hit_01","player_hit_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/player_hit_02","player_hit_02",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/player_hit_03","player_hit_03",{volume:1}),h.sfx.addGroup(["player_hit_01","player_hit_02","player_hit_03"],"player_hit"),h.sfx.addSound(ASSET_URL+"snd/blaster_shot","blaster_shot",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tie_drone","tie_drone",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_explosion_01","tiefighter_explosion_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_spinning","tiefighter_spinning",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/tiefighter_weapon_01","tiefighter_weapon_01",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/weappon_zap","weappon_zap",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/selectbeep","selectbeep",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/stars","stars",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/hanger_token","hanger_token",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/coin_count1","coin_count1",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/coin_count2","coin_count2",{volume:1}),h.sfx.addSound(ASSET_URL+"snd/coin_count3","coin_count3",{volume:1}),h.sfx.addGroup(["coin_count1","coin_count2","coin_count3"],"coins")},o.prototype.onAppReady=function(){if(this.wasSavingEndlessModeFromPauseMenu=!1,this.callbackFromPauseMenu=null,!a.instance.desktop){var t=w.getJson("missions");for(var i in t){var o=t[i];if(o.waves)for(var s=0;s<o.waves.length;s++)for(var h=o.waves[s],l=0;l<h.length;l++){var v=h[l];if(v.points){for(var C=[],X=0;X<v.points.length;X++){var Y=v.points[X];C.push(r.instance.simplify(Y,40))}v.points=C}}}}c.init({volume:1});var Z=new n.Text("----SOMETEXT----",{font:"50px naked_powerlight"});Z.text="----SOMETEXT----2",this.stage.addChildAt(Z,0),Z.updateText(),this.stage.addChild(Z);var K=w.getJson("config"),J=K.config;window.flipLanguage=K.config.FLIP_LANGUAGE,window.FLIP_PERCENT=K.config.FLIP_PERCENT,window.gameMode=Number(J.GAME_MODE);var Q=window.links;for(var s in Q)J[s]=Q[s];var $=w.getJson("events");V.load($),V.isHappening("TokenTuesday")&&(window.tuesday=!0),V.isHappening("WookieWednesday")&&(window.wednesday=!0),this.shopSystem=new x;var ee=w.getJson("shopData");this.shopSystem.loadFromJson(ee),this.shopSystem.updateFromSave(),x.instance=this.shopSystem,window.focus(),window.FLIP_LANGUAGE=J.FLIP_LANGUAGE,window.ENABLE_LEADERBOARDS=J.ENABLE_LEADERBOARDS,M.instance.setTargetFile(J.SCORE_PATH),M.instance.setSharedKey("1234"),M.instance.getScores({},function(e){}),b.instance.loadGame(),k.instance=new k(J.SHOOTER_STORAGE_ID),k.instance.load(w.getJson("goals"),w.getJson("goals_strings").strings),P.instance=new P({goal_system:k.instance}),P.instance.init(),this.overlayManager=new T(this),this.overlayManager.closeButton.icon.texture=n.Texture.fromFrame("icon_close_new.png"),this.overlayManager.closeButton.backgroundColor="red_new",this.overlayManager.closeButton.icon.blendMode=0,this.titleScreen=new u(this),this.gameScreen=new d(this),this.prepScreen=new g(this),this.selectScreen=new y(this),this.pathMaker=new f(this),this.simplifyPoints=new m(this),this.screenManager.addScreen(this.titleScreen,"title"),this.screenManager.addScreen(this.prepScreen,"prep"),this.screenManager.addScreen(this.gameScreen,"game"),this.screenManager.addScreen(this.selectScreen,"select"),this.screenManager.addScreen(this.pathMaker,"pathMaker"),this.screenManager.addScreen(this.simplifyPoints,"simplifyPoints"),this.defaultTransition=new DigitalTransition,this.overlayManager.overlayScreen=new I(this),this.overlayManager.pauseScreen=new F(this),this.overlayManager.gameoverScreen=new B(this),this.overlayManager.completionScreen=new A(this),this.overlayManager.tutorialScreen=new L(this),this.overlayManager.leaderboardScreen=new R(this),this.overlayManager.shopScreen=new O(this),this.overlayManager.achievementScreen=new G(this),this.overlayManager.submitScreen=new W(this),this.overlayManager.submitScreen.submitButton.onPress.add(function(){e("tracker").track("game_action","name_entry",null)}),this.overlayManager.endlessScreen=new j(this),this.overlayManager.endlessHighScoreScreen=new U(this),this.overlayManager.highScoreScreen=new N(this),this.overlayManager.menuOverlay=new D(this),this.overlayManager.addScreen(this.overlayManager.achievementScreen,"achievements"),this.overlayManager.addScreen(this.overlayManager.leaderboardScreen,"scores"),this.overlayManager.addScreen(this.overlayManager.pauseScreen,"pause"),this.overlayManager.addScreen(this.overlayManager.completionScreen,"completion"),this.overlayManager.addScreen(this.overlayManager.gameoverScreen,"gameover"),this.overlayManager.addScreen(this.overlayManager.endlessScreen,"endless"),this.overlayManager.addScreen(this.overlayManager.endlessHighScoreScreen,"endlessHighScore"),this.overlayManager.addScreen(this.overlayManager.tutorialScreen,"tutorial"),this.overlayManager.addScreen(this.overlayManager.shopScreen,"shop"),this.overlayManager.addScreen(this.overlayManager.submitScreen,"submit"),this.overlayManager.addScreen(this.overlayManager.highScoreScreen,"highscore"),this.overlayManager.addScreen(this.overlayManager.menuOverlay,"menu"),this.overlayManager.submitScreen.hasClose=!1,this.overlayManager.submitScreen.submitButton.text.text=translations.STR_OVERLAY_SUBMIT_INFOS,this.overlayManager.submitScreen.submitButton.onPress.add(this.onScoreSubmited,this),this.alertPanelManager=new _(this,"com.disney.fighter.panels",!0),this.alertPanelManager.load(w.getJson("alertPanels")),this.alertPanelManager.parent=this.screenManager.container,this.topMenu=new S(this),this.topMenu.hamburgerButton.onPress.add(function(){e("tracker").track("game_action","view_hamburger",null)}),this.topMenu.show(),this.bg=new H(this),this.bg.depth=10,this.frontLayer=new z(this),this.frontLayer.depth=0,this.screenManager.container.depth=5,this.containerToSort=new n.Container,this.containerToSort.addChild(this.bg),this.containerToSort.addChild(this.screenManager.container),this.containerToSort.addChild(this.frontLayer),this.containerToSort.addChild(q.instance),this.stage.addChild(this.containerToSort),this.stage.addChild(this.topMenu),this.stage.addChild(this.overlayManager.view),this.stage.addChild(this.alertPanelManager.view);("test"===p.get_query("cheat")||"true"===p.get_query("cheat"))&&(window.cheat=!0,this.shopSystem.earnMoney(1e4)),p.get_query("expert")&&(window.expert=!0),"true"===p.get_query("debug")&&(window.debug=!0),"pathMaker"===p.get_query("fastplay")?this.screenManager.gotoScreenByID("pathMaker"):"true"===p.get_query("fastplay")?(window.fastplay=!0,this.screenManager.gotoScreenByID("prep")):"simplifyPoints"===p.get_query("fastplay")?(window.fastplay=!0,this.screenManager.gotoScreenByID("simplifyPoints")):"game"===p.get_query("fastplay")?this.screenManager.gotoScreenByID("game"):"select"===p.get_query("fastplay")?this.screenManager.gotoScreenByID("select"):this.screenManager.gotoScreenByID("title"),this.flashEffect=new E(1136,640),this.stage.addChild(this.flashEffect),p.get_query("arcade")?e("tracker").track("game_load","load_arcade"):e("tracker").track("game_load","load_direct"),this.resize(this.w,this.h)},o.prototype.flash=function(){this.flashEffect.flash(0,1)},o.prototype.updateGameConfig=function(){C.levels=this.getShopStates()},o.prototype.getShopStates=function(){var e=this.shopSystem.parse(this.parseFunction);return e},o.prototype.onScoreSubmited=function(){if(!this.savingScore){this.savingScore=this.gameScreen.gameDetail.score;var e=this.gameScreen.gameDetail.score,t=w.getJson("config").config.SCORE_ID;M.instance.sendScore({game:t,name:this.overlayManager.submitScreen.name,score:String(e)},this.onScoreSaved.bind(this))}},o.prototype.onScoreSaved=function(e){this.savingScore=!1,this.overlayManager.gotoScreenByID("scores")},o.prototype.parseFunction=function(e,t,i){for(var o={},n=0;n<t.length;n++){var r=t[n],s=r.getBoughtItems(),a=s[s.length-1];if(r.name&&(groupName=p.toCamelCase(r.name),o[groupName]=0,a)){var h=a.id,c=h.replace(/^\D+/g,"");o[r.name]=parseInt(c)}}return o},o.prototype.resize=function(e,t){this.w=e,this.h=t;var i=1;a.instance.isMobile&&(i=window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI),i>2&&(i=2);var o=e/this.safeSize.width<t/this.safeSize.height?e/this.safeSize.width:t/this.safeSize.height,n=Math.min(this.maxSize.width*o,e),r=Math.min(this.maxSize.height*o,t);o>1&&(o=1);var s=Math.min(this.maxSize.width*o,e),h=Math.min(this.maxSize.height*o,t);this.screenManager.resize(s/o,h/o),this.overlayManager&&(this.overlayManager.resize(s/o,h/o),this.overlayManager.view.scale.set(o*i)),this.alertPanelManager&&(this.alertPanelManager.resize(s/o,h/o),o*i>=1?(this.alertPanelManager.alertPanel.setPosition(),this.alertPanelManager.view.scale.set(o*i)):this.alertPanelManager.alertPanel.setPosition(o*i)),this.topMenu&&(this.topMenu.scale.set(o*i),this.topMenu.resize(s/o,h/o)),this.screenManager.container.scale.set(o*i),this.bg&&(this.bg.scale.set(o*i),this.bg.resize(s/o,h/o)),this.frontLayer&&(this.frontLayer.scale.set(o*i),this.frontLayer.resize(s/o,h/o)),this.containerToSort,this.renderer.resize(s*i|0,h*i|0),this.view.style.width=n+"px",this.view.style.height=r+"px",this.view.style.left=e/2-n/2+"px",this.view.style.top=t/2-r/2+"px"},i.exports=o});var Stats=function(){var e=Date.now(),t=e,i=0,o=1/0,n=0,r=0,s=1/0,a=0,h=0,c=0,l=document.createElement("div");l.id="stats",l.addEventListener("mousedown",function(e){e.preventDefault(),y(++c%2)},!1),l.style.cssText="width:80px;opacity:0.9;cursor:pointer";var p=document.createElement("div");p.id="fps",p.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",l.appendChild(p);var u=document.createElement("div");u.id="fpsText",u.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="FPS",p.appendChild(u);var d=document.createElement("div");for(d.id="fpsGraph",d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",p.appendChild(d);74>d.children.length;){var g=document.createElement("span");g.style.cssText="width:1px;height:30px;float:left;background-color:#113",d.appendChild(g)}var f=document.createElement("div");f.id="ms",f.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",l.appendChild(f);var m=document.createElement("div");m.id="msText",m.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="MS",f.appendChild(m);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",f.appendChild(v);74>v.children.length;)g=document.createElement("span"),g.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(g);var y=function(e){switch(c=e){case 0:p.style.display="block",f.style.display="none";break;case 1:p.style.display="none",f.style.display="block"}};return{REVISION:11,domElement:l,setMode:y,begin:function(){e=Date.now()},end:function(){var c=Date.now();i=c-e,o=Math.min(o,i),n=Math.max(n,i),m.textContent=i+" MS ("+o+"-"+n+")";var l=Math.min(30,30-30*(i/200));return v.appendChild(v.firstChild).style.height=l+"px",h++,c>t+1e3&&(r=Math.round(1e3*h/(c-t)),s=Math.min(s,r),a=Math.max(a,r),u.textContent=r+" FPS ("+s+"-"+a+")",l=Math.min(30,30-30*(r/100)),d.appendChild(d.firstChild).style.height=l+"px",t=c,h=0),c},update:function(){e=this.end()}}};define("stats",function(){}),function(e,t,i){function o(e,t,i){return e.call.apply(e.bind,arguments)}function n(e,t,i){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function r(e,t,i){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:n,r.apply(null,arguments)}function s(e,t){this.J=e,this.t=t||e,this.C=this.t.document}function a(e,i,o){e=e.C.getElementsByTagName(i)[0],e||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(o,e.lastChild)}function h(e,t){function i(){e.C.body?t():setTimeout(i,0)}i()}function c(e,t,i){t=t||[],i=i||[];for(var o=e.className.split(/\s+/),n=0;n<t.length;n+=1){for(var r=!1,s=0;s<o.length;s+=1)if(t[n]===o[s]){r=!0;break}r||o.push(t[n])}for(t=[],n=0;n<o.length;n+=1){for(r=!1,s=0;s<i.length;s+=1)if(o[n]===i[s]){r=!0;break}r||t.push(o[n])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(e,t){for(var i=e.className.split(/\s+/),o=0,n=i.length;n>o;o++)if(i[o]==t)return!0;return!1}function p(e){if("string"==typeof e.ma)return e.ma;var t=e.t.location.protocol;return"about:"==t&&(t=e.J.location.protocol),"https:"==t?"https:":"http:"}function u(e,t){var i=e.createElement("link",{rel:"stylesheet",href:t}),o=!1;i.onload=function(){o||(o=!0)},i.onerror=function(){o||(o=!0)},a(e,"head",i)}function d(t,i,o,n){var r=t.C.getElementsByTagName("head")[0];if(r){var s=t.createElement("script",{src:i}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,o&&o(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&r.removeChild(s))},r.appendChild(s),e.setTimeout(function(){a||(a=!0,o&&o(Error("Script load timeout")))},n||5e3),s}return null}function g(e,t){this.X=e,this.fa=t}function f(e,t,i,o){this.c=null!=e?e:null,this.g=null!=t?t:null,this.A=null!=i?i:null,this.e=null!=o?o:null}function m(e){e=Q.exec(e);var t=null,i=null,o=null,n=null;return e&&(null!==e[1]&&e[1]&&(t=parseInt(e[1],10)),null!==e[2]&&e[2]&&(i=parseInt(e[2],10)),null!==e[3]&&e[3]&&(o=parseInt(e[3],10)),null!==e[4]&&e[4]&&(n=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new f(t,i,o,n)}function v(e,t,i,o,n,r,s,a){this.M=e,this.k=a}function y(e){this.a=e}function _(e){var t=b(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):(e=b(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1),""!=e?("Mac_PowerPC"==e?e="Macintosh":"PlayStation"==e&&(e="Linux"),e):"Unknown")}function x(e){var t=b(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(t||(t=b(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=b(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=b(e.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var t=t.split(/\s/),i=0;i<t.length;i+=1)if(/^[\d\._]+$/.test(t[i]))return t[i];return(e=b(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function w(e){var t=_(e),i=m(x(e)),o=m(b(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),n="Unknown",r=new f,r="Unknown",s=!1;return/OPR\/[\d.]+/.test(e.a)?n="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?n="Chrome":/Silk\/\d/.test(e.a)?n="Silk":"BlackBerry"==t||"Android"==t?n="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?n="PhantomJS":-1!=e.a.indexOf("Safari")?n="Safari":-1!=e.a.indexOf("AdobeAIR")?n="AdobeAIR":-1!=e.a.indexOf("PlayStation")&&(n="BuiltinBrowser"),"BuiltinBrowser"==n?r="Unknown":"Silk"==n?r=b(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==n?r=b(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?r=b(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==n?r=b(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==n?r=b(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==n&&(r=b(e.a,/PhantomJS\/([\d.]+)/,1)),r=m(r),s="AdobeAIR"==n?2<r.c||2==r.c&&5<=r.g:"BlackBerry"==t?10<=i.c:"Android"==t?2<i.c||2==i.c&&1<i.g:526<=o.c||525<=o.c&&13<=o.g,new v(n,0,0,0,0,0,0,new g(s,536>o.c||536==o.c&&11>o.g))}function b(e,t,i){return(e=e.match(t))&&e[i]?e[i]:""}function k(e){this.la=e||"-"}function S(e,t){this.M=e,this.Y=4,this.N="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.N=i[1],this.Y=parseInt(i[2],10))}function T(e){return e.N+e.Y}function C(e){var t=4,i="n",o=null;return e&&((o=e.match(/(normal|oblique|italic)/i))&&o[1]&&(i=o[1].substr(0,1).toLowerCase()),(o=e.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?t=7:/[1-9]00/.test(o[1])&&(t=parseInt(o[1].substr(0,1),10)))),i+t}function M(e,t){this.d=e,this.p=e.t.document.documentElement,this.P=t,this.j="wf",this.h=new k("-"),this.ga=!1!==t.events,this.B=!1!==t.classes}function P(e){if(e.B){var t=l(e.p,e.h.e(e.j,"active")),i=[],o=[e.h.e(e.j,"loading")];t||i.push(e.h.e(e.j,"inactive")),c(e.p,i,o);
}E(e,"inactive")}function E(e,t,i){e.ga&&e.P[t]&&(i?e.P[t](i.getName(),T(i)):e.P[t]())}function I(){this.w={}}function F(e,t){this.d=e,this.G=t,this.m=this.d.createElement("span",{"aria-hidden":"true"},this.G)}function B(e){a(e.d,"body",e.m)}function A(e){var t;t=[];for(var i=e.M.split(/,\s*/),o=0;o<i.length;o++){var n=i[o].replace(/['"]/g,"");-1==n.indexOf(" ")?t.push(n):t.push("'"+n+"'")}return t=t.join(","),i="normal","o"===e.N?i="oblique":"i"===e.N&&(i="italic"),"display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+t+";"+("font-style:"+i+";font-weight:"+(e.Y+"00")+";")}function O(e,t,i,o,n,r,s,a){this.Z=e,this.ja=t,this.d=i,this.s=o,this.G=a||"BESbswy",this.k=n,this.I={},this.W=r||3e3,this.ba=s||null,this.F=this.D=null,e=new F(this.d,this.G),B(e);for(var h in ee)ee.hasOwnProperty(h)&&(t=new S(ee[h],T(this.s)),t=A(t),e.m.style.cssText=t,this.I[ee[h]]=e.m.offsetWidth);e.remove()}function L(e,t,i){for(var o in ee)if(ee.hasOwnProperty(o)&&t===e.I[ee[o]]&&i===e.I[ee[o]])return!0;return!1}function D(e){var t=e.D.m.offsetWidth,i=e.F.m.offsetWidth;t===e.I.serif&&i===e.I["sans-serif"]||e.k.fa&&L(e,t,i)?J()-e.na>=e.W?e.k.fa&&L(e,t,i)&&(null===e.ba||e.ba.hasOwnProperty(e.s.getName()))?G(e,e.Z):G(e,e.ja):R(e):G(e,e.Z)}function R(e){setTimeout(r(function(){D(this)},e),25)}function G(e,t){e.D.remove(),e.F.remove(),t(e.s)}function W(e,t,i,o){this.d=t,this.u=i,this.R=0,this.da=this.aa=!1,this.W=o,this.k=e.k}function N(e,t,i,o,n){if(i=i||{},0===t.length&&n)P(e.u);else for(e.R+=t.length,n&&(e.aa=n),n=0;n<t.length;n++){var s=t[n],a=i[s.getName()],h=e.u,l=s;h.B&&c(h.p,[h.h.e(h.j,l.getName(),T(l).toString(),"loading")]),E(h,"fontloading",l),h=null,h=new O(r(e.ha,e),r(e.ia,e),e.d,s,e.k,e.W,o,a),h.start()}}function j(e){0==--e.R&&e.aa&&(e.da?(e=e.u,e.B&&c(e.p,[e.h.e(e.j,"active")],[e.h.e(e.j,"loading"),e.h.e(e.j,"inactive")]),E(e,"active")):P(e.u))}function U(e){this.J=e,this.v=new I,this.oa=new y(e.navigator.userAgent),this.a=this.oa.parse(),this.T=this.U=0,this.Q=this.S=!0}function X(e,t,i,o,n){var r=0==--e.U;(e.Q||e.S)&&setTimeout(function(){N(t,i,o||null,n||null,r)},0)}function V(e,t,i){this.O=e?e:t+te,this.q=[],this.V=[],this.ea=i||""}function H(e){this.q=e,this.ca=[],this.L={}}function z(e,t){this.a=new y(navigator.userAgent).parse(),this.d=e,this.f=t}function q(e,t){this.d=e,this.f=t,this.o=[]}function Y(e,t){this.d=e,this.f=t,this.o=[]}function Z(e,t){this.d=e,this.f=t,this.o=[]}function K(e,t){this.d=e,this.f=t}var J=Date.now||function(){return+new Date};s.prototype.createElement=function(e,t,i){if(e=this.C.createElement(e),t)for(var o in t)t.hasOwnProperty(o)&&("style"==o?e.style.cssText=t[o]:e.setAttribute(o,t[o]));return i&&e.appendChild(this.C.createTextNode(i)),e};var Q=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;f.prototype.compare=function(e){return this.c>e.c||this.c===e.c&&this.g>e.g||this.c===e.c&&this.g===e.g&&this.A>e.A?1:this.c<e.c||this.c===e.c&&this.g<e.g||this.c===e.c&&this.g===e.g&&this.A<e.A?-1:0},f.prototype.toString=function(){return[this.c,this.g||"",this.A||"",this.e||""].join("")},v.prototype.getName=function(){return this.M};var $=new v("Unknown",0,0,0,0,0,0,new g(!1,!1));y.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=_(this);var t=m(x(this)),i=null,o=b(this.a,/Trident\/([\d\w\.]+)/,1),i=m(-1!=this.a.indexOf("MSIE")?b(this.a,/MSIE ([\d\w\.]+)/,1):b(this.a,/rv:([\d\w\.]+)/,1));""!=o&&m(o),e=new v("MSIE",0,0,0,0,0,0,new g("Windows"==e&&6<=i.c||"Windows Phone"==e&&8<=t.c,!1))}else if(-1!=this.a.indexOf("Opera"))e:if(e=m(b(this.a,/Presto\/([\d\w\.]+)/,1)),m(x(this)),null!==e.c||m(b(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))e=m(b(this.a,/Opera Mini\/([\d\.]+)/,1)),e=new v("OperaMini",0,0,0,_(this),0,0,new g(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&(e=m(b(this.a,/Version\/([\d\.]+)/,1)),null!==e.c)){e=new v("Opera",0,0,0,_(this),0,0,new g(10<=e.c,!1));break e}e=m(b(this.a,/Opera[\/ ]([\d\.]+)/,1)),e=null!==e.c?new v("Opera",0,0,0,_(this),0,0,new g(10<=e.c,!1)):new v("Opera",0,0,0,_(this),0,0,new g(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?e=w(this):/AppleWeb(K|k)it/.test(this.a)?e=w(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new f,m(x(this)),t=!1,-1!=this.a.indexOf("Firefox")?(e="Firefox",t=m(b(this.a,/Firefox\/([\d\w\.]+)/,1)),t=3<=t.c&&5<=t.g):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),i=m(b(this.a,/rv:([^\)]+)/,1)),t||(t=1<i.c||1==i.c&&9<i.g||1==i.c&&9==i.g&&2<=i.A),e=new v(e,0,0,0,_(this),0,0,new g(t,!1))):e=$;return e},k.prototype.e=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.la)},S.prototype.getName=function(){return this.M},F.prototype.remove=function(){var e=this.m;e.parentNode&&e.parentNode.removeChild(e)};var ee={ra:"serif",qa:"sans-serif",pa:"monospace"};O.prototype.start=function(){this.D=new F(this.d,this.G),B(this.D),this.F=new F(this.d,this.G),B(this.F),this.na=J();var e=new S(this.s.getName()+",serif",T(this.s)),e=A(e);this.D.m.style.cssText=e,e=new S(this.s.getName()+",sans-serif",T(this.s)),e=A(e),this.F.m.style.cssText=e,D(this)},W.prototype.ha=function(e){var t=this.u;t.B&&c(t.p,[t.h.e(t.j,e.getName(),T(e).toString(),"active")],[t.h.e(t.j,e.getName(),T(e).toString(),"loading"),t.h.e(t.j,e.getName(),T(e).toString(),"inactive")]),E(t,"fontactive",e),this.da=!0,j(this)},W.prototype.ia=function(e){var t=this.u;if(t.B){var i=l(t.p,t.h.e(t.j,e.getName(),T(e).toString(),"active")),o=[],n=[t.h.e(t.j,e.getName(),T(e).toString(),"loading")];i||o.push(t.h.e(t.j,e.getName(),T(e).toString(),"inactive")),c(t.p,o,n)}E(t,"fontinactive",e),j(this)},U.prototype.load=function(e){this.d=new s(this.J,e.context||this.J),this.S=!1!==e.events,this.Q=!1!==e.classes;var t=new M(this.d,e),i=[],o=e.timeout;t.B&&c(t.p,[t.h.e(t.j,"loading")]),E(t,"loading");var n,i=this.v,a=this.d,h=[];for(n in e)if(e.hasOwnProperty(n)){var l=i.w[n];l&&h.push(l(e[n],a))}for(i=h,this.T=this.U=i.length,e=new W(this.a,this.d,t,o),o=0,n=i.length;n>o;o++)a=i[o],a.K(this.a,r(this.ka,this,a,t,e))},U.prototype.ka=function(e,t,i,o){var n=this;o?e.load(function(e,t,o){X(n,i,e,t,o)}):(e=0==--this.U,this.T--,e&&0==this.T?P(t):(this.Q||this.S)&&N(i,[],{},null,e))};var te="//fonts.googleapis.com/css";V.prototype.e=function(){if(0==this.q.length)throw Error("No fonts to load!");if(-1!=this.O.indexOf("kit="))return this.O;for(var e=this.q.length,t=[],i=0;e>i;i++)t.push(this.q[i].replace(/ /g,"+"));return e=this.O+"?family="+t.join("%7C"),0<this.V.length&&(e+="&subset="+this.V.join(",")),0<this.ea.length&&(e+="&text="+encodeURIComponent(this.ea)),e};var ie={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},oe={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ne={i:"i",italic:"i",n:"n",normal:"n"},re=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;H.prototype.parse=function(){for(var e=this.q.length,t=0;e>t;t++){var i=this.q[t].split(":"),o=i[0].replace(/\+/g," "),n=["n4"];if(2<=i.length){var r,s=i[1];if(r=[],s)for(var s=s.split(","),a=s.length,h=0;a>h;h++){var c;if(c=s[h],c.match(/^[\w-]+$/)){c=re.exec(c.toLowerCase());var l=void 0;if(null==c)l="";else{if(l=void 0,l=c[1],null==l||""==l)l="4";else var p=oe[l],l=p?p:isNaN(l)?"4":l.substr(0,1);c=c[2],l=[null==c||""==c?"n":ne[c],l].join("")}c=l}else c="";c&&r.push(c)}0<r.length&&(n=r),3==i.length&&(i=i[2],r=[],i=i?i.split(","):r,0<i.length&&(i=ie[i[0]])&&(this.L[o]=i))}for(this.L[o]||(i=ie[o])&&(this.L[o]=i),i=0;i<n.length;i+=1)this.ca.push(new S(o,n[i]))}};var se={Arimo:!0,Cousine:!0,Tinos:!0};z.prototype.K=function(e,t){t(e.k.X)},z.prototype.load=function(e){var t=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?h(t,r(this.$,this,e)):this.$(e)},z.prototype.$=function(e){for(var t=this.d,i=new V(this.f.api,p(t),this.f.text),o=this.f.families,n=o.length,r=0;n>r;r++){var s=o[r].split(":");3==s.length&&i.V.push(s.pop());var a="";2==s.length&&""!=s[1]&&(a=":"),i.q.push(s.join(a))}o=new H(o),o.parse(),u(t,i.e()),e(o.ca,o.L,se)},q.prototype.H=function(e){var t=this.d;return p(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(t.t.location.hostname||t.J.location.hostname)+"/"+e+".js"},q.prototype.K=function(e,t){var i=this.f.id,o=this.d.t,n=this;i?(o.__webfontfontdeckmodule__||(o.__webfontfontdeckmodule__={}),o.__webfontfontdeckmodule__[i]=function(e,i){for(var o=0,r=i.fonts.length;r>o;++o){var s=i.fonts[o];n.o.push(new S(s.name,C("font-weight:"+s.weight+";font-style:"+s.style)))}t(e)},d(this.d,this.H(i),function(e){e&&t(!1)})):t(!1)},q.prototype.load=function(e){e(this.o)},Y.prototype.H=function(e){var t=p(this.d);return(this.f.api||t+"//use.typekit.net")+"/"+e+".js"},Y.prototype.K=function(e,t){var i=this.f.id,o=this.d.t,n=this;i?d(this.d,this.H(i),function(e){if(e)t(!1);else{if(o.Typekit&&o.Typekit.config&&o.Typekit.config.fn){e=o.Typekit.config.fn;for(var i=0;i<e.length;i+=2)for(var r=e[i],s=e[i+1],a=0;a<s.length;a++)n.o.push(new S(r,s[a]));try{o.Typekit.load({events:!1,classes:!1})}catch(h){}}t(!0)}},2e3):t(!1)},Y.prototype.load=function(e){e(this.o)},Z.prototype.K=function(e,t){var i=this,o=i.f.projectId,n=i.f.version;if(o){var r=i.d.t;d(this.d,i.H(o,n),function(n){if(n)t(!1);else{if(r["__mti_fntLst"+o]&&(n=r["__mti_fntLst"+o]()))for(var s=0;s<n.length;s++)i.o.push(new S(n[s].fontfamily));t(e.k.X)}}).id="__MonotypeAPIScript__"+o}else t(!1)},Z.prototype.H=function(e,t){var i=p(this.d),o=(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return i+"//"+o+"/"+e+".js"+(t?"?v="+t:"")},Z.prototype.load=function(e){e(this.o)},K.prototype.load=function(e){var t,i,o=this.f.urls||[],n=this.f.families||[],r=this.f.testStrings||{};for(t=0,i=o.length;i>t;t++)u(this.d,o[t]);for(o=[],t=0,i=n.length;i>t;t++){var s=n[t].split(":");if(s[1])for(var a=s[1].split(","),h=0;h<a.length;h+=1)o.push(new S(s[0],a[h]));else o.push(new S(s[0]))}e(o,r)},K.prototype.K=function(e,t){return t(e.k.X)};var ae=new U(this);ae.v.w.custom=function(e,t){return new K(t,e)},ae.v.w.fontdeck=function(e,t){return new q(t,e)},ae.v.w.monotype=function(e,t){return new Z(t,e)},ae.v.w.typekit=function(e,t){return new Y(t,e)},ae.v.w.google=function(e,t){return new z(t,e)},this.WebFont||(this.WebFont={},this.WebFont.load=r(ae.load,ae),this.WebFontConfig&&ae.load(this.WebFontConfig))}(this,document),define("webfontloader",function(){}),trackData=[{type:"up",level:"0",length:6074.55,floor:[1325.55,50,26.511,1,-.002,0,1512.75,-50,5.382,1,-.002,0,1963.35,-65.75,4.76,2.281,-.002,0,3682.3,-407.5,8.48,1.479,-30.001,0,3896.6,-456.15,27.13,1,-21.68,0,4184.4,-610.2,3.471,1.479,0,0,5568.25,-950,8.827,1,-.002,0],detail:[1.492,0,0,1.731,3893.1,-1735.55,"tree.png",.606,0,0,.606,4213.15,-820.35,"tree2.png",.776,.319,-.335,.741,4042.8,-771.8,"rock1.png",.604,-.219,.242,.667,3830.1,-646.8,"grass4.png",1.237,.151,-.181,1.481,3814.25,-741.9,"rock1.png",.637,-.079,.109,.848,3639.9,-698.05,"deco-rock.png",.611,-.015,.02,.781,1565.85,-141.1,"grass4.png",.394,0,0,.394,1634.85,-165.85,"plant1.png",1.23,.316,-.379,1.473,5037,-1075.45,"rock1.png",1.851,.226,-.271,2.217,3717.05,-324.6,"rock1.png",1.305,-.211,.16,.987,3442.05,-424.15,"rock4.png",1.267,.094,-.112,1.517,4112.85,-776.3,"rock1.png",1.669,.204,-.244,1.999,4197.95,-487.25,"rock1.png",.686,-.03,.03,.686,3735.2,-249.4,"vine4.png",1.568,.192,-.181,1.481,3852.95,-511.35,"rock1.png",1.514,-.066,.05,1.145,3467.65,-261.8,"rock4.png",.898,.35,-.388,.814,1947.9,-280.75,"rock1.png",-.558,0,0,.558,1765,-174.9,"rock-jump.png",.78,.315,-.33,.712,1594.85,-175.8,"rock1.png",.921,0,0,1.164,278.95,-690.65,"tree.png",.669,.164,-.164,.669,400.5,-75.05,"deco-rock3.png",.507,0,0,.507,760.9,-89.6,"plant2.png",.372,0,0,.372,452.4,-86.4,"plant1.png",-.499,0,0,.507,801.65,-86.4,"plant2.png",-1.178,-.009,.021,1.215,1946.75,283.4,"rock4.png",-.956,.169,.225,1.108,1993.45,-73.35,"rock4.png",1.082,.118,-.108,.994,847.9,-26.95,"rock4.png",-.971,-.007,.017,1.002,1938.25,86.1,"rock4.png",.991,.467,-.643,1.206,1485.1,-79.45,"rock1.png",1.002,.405,-.424,.915,1189.2,-96.65,"rock1.png",.872,.618,-.649,.789,1196.5,88.75,"rock1.png",1.082,.118,-.108,.994,820.65,137.35,"rock4.png",1.592,.121,-.146,1.625,445.6,-38.65,"rock4.png",1.562,0,0,1.434,168.35,23.8,"rock2.png",2.606,.434,-.331,1.987,2031.05,54.1,"rock1.png",1.017,.281,-.293,1.064,1860.25,-38.8,"rock4.png",1.348,0,0,1.485,-31.2,16.05,"rock2.png",1.562,0,0,1.434,164.35,194.5,"rock2.png",1.04,.182,-.19,1.087,1834.6,185.4,"rock4.png",1.348,0,0,1.485,-31.2,204.8,"rock2.png",1.004,0,0,.877,-64.9,-50.75,"grass4.png",.867,.041,-.041,.867,280.8,-59.75,"grass3.png",.353,0,0,.353,605,-70.55,"plant4.png",.456,0,0,.456,76.55,-88.65,"plant2.png",1.167,-.01,.012,.835,705.6,-78.8,"grass2.png",.538,0,0,.538,1354.9,-191.2,"plant4.png",1.002,.405,-.424,.915,1322,-199.05,"rock1.png",1.002,.405,-.424,.915,2142.4,-69.65,"rock1.png",-.598,0,0,.545,1282.2,-85.3,"rock-jump.png",.644,.047,-.039,.531,1909.55,-239,"grass4.png",.312,.072,-.048,.21,1210.5,-83.35,"cave_ronce.png",1.1,-.028,.02,.781,1201.4,-134.95,"grass4.png",.769,.101,-.092,.701,2154.2,-163.7,"rock-jump.png",.533,0,0,.533,2462.2,-130.45,"deco-rock.png",1.118,.452,-.474,1.022,2409.4,-99.45,"rock1.png",1.313,-.154,.117,.993,2575.65,-28.25,"rock4.png",1.08,.18,-.215,1.293,3032.05,61.05,"rock1.png",1.27,.038,-.046,1.52,3186.2,-367.2,"rock1.png",2.101,.35,-.331,1.987,3268.35,-191.95,"rock1.png",.686,0,0,.686,2827.65,85.55,"vine4.png",-.646,-.146,-.152,.669,3702.6,213.9,"vine4.png",1.08,.18,-.215,1.293,2961.65,-230.15,"rock1.png",1.613,0,0,1.361,2594.5,133.45,"rock4.png",.946,0,0,.781,2120.6,-34.75,"grass4.png",.644,.047,-.039,.531,2330.35,-30.5,"grass4.png",.615,-.164,.223,.818,2506.45,-62.05,"grass2.png",.945,-.326,.378,1.095,2727.45,-121.25,"grass3.png",.881,-.425,.502,.997,3172.05,-305.3,"grass3.png",.748,-.47,.53,.807,3569.5,-473.2,"grass4.png",1.08,.18,-.258,1.546,4488.05,-530.6,"rock1.png",1.592,.055,-.053,1.52,4596.25,-914.9,"rock1.png",1.659,.276,-.331,1.987,4692.35,-706.35,"rock1.png",.686,0,0,.686,4283.65,-492.05,"vine4.png",-.646,-.146,-.152,.669,5158.6,-339.7,"vine4.png",1.08,.18,-.215,1.293,4409.65,-806.15,"rock1.png",.945,-.326,.311,.902,4297.35,-722.4,"grass3.png",.932,-.363,.42,1.079,4597.05,-841.75,"grass3.png",.818,0,0,.71,3971.45,-724.15,"grass4.png",.557,.043,-.034,.483,4197.55,-726.75,"grass4.png",1.23,.316,-.379,1.473,5002.6,-768.25,"rock1.png",.948,-.004,.004,.948,5036.3,-1054.05,"upper_plateform5.png",.591,.175,-.175,.591,868.8,-55.6,"deco-rock3.png",.663,0,0,.663,1984.85,-398.05,"tree3.png",.623,0,0,.623,1802.65,-310.3,"plant9.png",.529,-.066,.066,.517,3346.15,-481.15,"plant7.png",.377,.194,-.194,.377,2998.15,-285,"plant6.png",.974,-.121,.122,.952,3250.35,-368.6,"plant5.png",.488,0,0,.488,4036.3,-764.7,"plant2.png",.751,.33,-.33,.751,2236.25,-78.25,"plant8.png",.424,0,0,.424,2928.95,-263.9,"plant6.png",-.548,.068,.069,.536,3458.35,-508.2,"plant7.png",-.563,0,0,.563,4686.15,-894.1,"plant7.png",.729,-.277,.282,.712,3543.15,-479.15,"deco-rock2.png",.729,-.277,.282,.712,3812.35,-621.8,"deco-rock2.png",.878,-.109,.109,.848,4970.6,-1156.25,"deco-rock.png",.501,0,0,.505,1236.85,-117.1,"deco-rock2.png",.538,.047,-.017,.192,1680.05,-202.95,"cave_ronce.png",.484,.13,-.131,.488,1726.75,-216.1,"deco-rock2.png",1.017,.281,-.293,1.064,1769.05,-250.8,"rock4.png",.872,0,0,.781,1736.65,-243.25,"grass4.png"],active:[1025.95,-78.2,"coin",1065.95,-118.2,"coin",1125.95,-158.2,"coin",1507.95,-162.2,"coin",1535.95,-214.2,"coin",1575.95,-254.2,"coin",1635.95,-294.2,"coin",2252.2,-223.35,"coin",2318.1,-188.6,"coin",2381.55,-130.2,"coin",2421.55,-71.3,"coin",4729.5,-823.85,"sceneSwapper2"]},{type:"normal",level:"2",length:13746.7,floor:[567.55,-585.7,1.339,12.258,0,7,1124.8,-24,13.032,1.661,0,0,1565.95,-236.05,2.682,.554,-14.705,0,1807.85,-331.25,2.922,.554,-27.226,0,1828.8,-136.3,13.032,1.975,0,0,2087.3,-486.3,3.624,.605,-31.177,0,2289.55,-282.5,1.316,6.369,0,0,2333.1,-663.85,3.624,.605,-39.351,0,2416.5,-787.8,1.096,.99,-42.435,2,2462.05,-825.95,2.313,.99,-39.475,2,2486.35,-373.85,.708,8.196,0,0,2488.05,-789.65,.597,.429,-15.001,0,3662.85,-571.85,24.011,2.357,0,0,4801.7,-2143.3,17.031,4.163,-.141,0,4908.5,-40.5,2.831,16.052,0,0,5124.35,-787.85,1.904,.99,43.591,2,5139.95,-1649.4,12.675,3.617,47.027,0,5158.55,-687.9,3.693,.818,43.193,0,5259.15,-658.65,1.915,.99,43.591,2,5526.5,-401.95,6.035,.818,34.235,0,5549.7,-443.2,5.617,.99,34.359,2,5901.3,-945.95,9.512,3.594,37.061,0,5982.55,-144.5,5.154,.836,23.253,0,6004.95,-189.85,5.11,.99,23.123,2,6421.95,-52.05,3.821,.99,11.882,2,6427.05,.6,5.154,.836,11.271,0,6444.7,-806.1,4.554,7.408,23.441,0,6455.75,49.5,129.063,1,0,0,6630.05,-177,.891,3.284,0,7,6733.3,-1147.4,4.554,15.372,0,0,6791.55,-2024.35,5.722,2.163,0,0,6808.05,25,3.099,.836,-13.992,0,7010.3,-1150.25,1,15.32,0,6,7088.3,-71,3.099,.836,-23.19,0,7287.05,-196.15,3.099,.836,-38.19,0,7290.3,-835.15,1,12.652,0,6,7507.2,-838.05,3.328,12.568,0,0,7739,-1395.3,1.904,.99,47.309,2,7766.7,-1293.35,3.693,.818,46.911,0,7865.2,-1257.65,1.915,.99,47.309,2,8115.3,-984.15,6.035,.818,37.954,0,8141.1,-1023.8,5.617,.99,38.077,2,8542.8,-672.6,5.154,.836,33.931,0,8573.2,-713.05,5.11,.99,33.8,2,8933.1,-433.55,5.154,.836,27.644,0,8943.1,-485.6,3.821,.99,28.254,2,9193.15,-374.95,1.899,.99,14.785,2,9291.7,-302.85,3.099,.836,2.382,0,9364.8,-349.8,1.899,.99,2.491,2,9541.2,-359.2,1.899,.99,-7.73,2,9587.75,-315.9,3.099,.836,-6.818,0,9720.65,-399.25,1.899,.99,-17.934,2,9752.4,-355.35,1.779,.836,-21.817,0,9764.85,320.85,1.517,13.667,0,0,9852.05,-593.4,.891,12.258,0,7,10275.45,-1660,2.247,13.667,0,0,10460.2,577.15,12.62,11.095,0,0,10964.7,-464.05,1,5.706,0,6,11148.4,-1939.1,2.149,13.667,0,0,11345.95,-464.5,7.625,5.706,0,0,11773.5,-464.2,1,5.706,0,6,12176.7,-1271.35,1,17.724,0,6],detail:[1,0,0,1.192,12502.05,-382.45,"eggbagasset_00006.png",1,0,0,1.192,12502.05,-409.45,"eggbagasset_00006.png",-1,0,0,-1.192,12596.65,-356.95,"eggbagasset_00006.png",-1,0,0,1.192,12520,-400.45,"eggbagasset_00006.png",-1,0,0,1.192,12520,-427.45,"eggbagasset_00006.png",-1,0,0,-1.192,12362.6,-378.95,"eggbagasset_00006.png",.646,.271,-.271,.646,4878.1,-1104.4,"flower6.png",.348,.1,-.1,.348,833.8,-299.15,"flower7.png",-.336,.571,-.571,-.336,7309.35,-1829.45,"flower8.png",-.71,.09,.088,.695,9738.45,-622.95,"flower6.png",.604,.253,-.271,.646,10558.65,-242.25,"flower6.png",-.465,-.472,.472,-.465,12024.45,-1181,"flower8.png",1.616,-.015,-.013,-1.348,8770.75,-754.75,"cave_rock3.png",.774,-.485,.535,.854,12399.8,-777.2,"cave_rock2.png",-.533,.173,-.173,-.533,12423.85,-782.15,"cave_vine4.png",-1.202,.088,.085,1.153,782.4,392.25,"cave_rock3.png",-.952,-.246,-.236,.913,1101.9,139.9,"cave_rock3.png",-1.192,.114,.091,.957,807.35,25.75,"cave_rock1.png",.663,-.005,-.004,-.582,2770.55,-1362.1,"cave_rock1.png",-1.285,.123,.099,1.032,13176.55,-41.4,"cave_rock1.png",-.99,.095,.076,.795,13190.35,328.65,"cave_rock1.png",1.112,.216,.252,-1.298,11092.9,780.7,"cave_rock3.png",.685,-.067,.085,.864,8119.25,-120.05,"cave_rock2.png",1.252,-.209,.179,1.075,7777.65,148,"cave_rock4.png",-1.138,-.431,.381,-1.007,5966.85,-1332.5,"cave_rock4.png",-1.317,.208,-.19,-1.203,3178.35,-1830,"cave_rock2.png",1.264,0,-.019,-1.443,-414.15,-256.05,"cave_rock3.png",-1.285,.123,.099,1.032,12857.3,-41.4,"cave_rock1.png",-1.065,.102,.082,.855,412.8,135.45,"cave_rock1.png",-.952,-.246,-.236,.913,435.4,551.45,"cave_rock3.png",-.947,.262,.252,.909,980.45,334.85,"cave_rock3.png",.576,-.053,-.059,-.631,9565.75,15.75,"cave_rock3.png",-1.138,-.431,.381,-1.007,6424.7,-1161.9,"cave_rock4.png",1.005,.26,.249,-.964,5918.45,-974.1,"cave_rock3.png",-.748,-.287,.291,-.759,11252.1,-1153,"cave_rock2.png",1.006,0,0,-1.176,10850,977.9,"cave_rock3.png",.593,-.067,.062,.555,10891.5,-609.6,"cave_rock1.png",1.187,0,0,.983,7774,-171.65,"cave_rock4.png",-.813,-.232,.192,-.673,9480.75,173.2,"cave_rock4.png",.983,-.008,-.008,-.943,5527.4,505.65,"cave_rock3.png",.983,-.008,-.008,-.943,5216.05,343,"cave_rock3.png",-.952,-.246,-.236,.913,5546.8,146.45,"cave_rock3.png",-.952,-.246,-.236,.913,5860.5,334.65,"cave_rock3.png",.858,.51,.455,-.766,8021.8,-1501.95,"cave_rock3.png",-1.315,-.479,.424,-1.165,9602.6,-556.7,"cave_rock3.png",.708,-.004,.004,.789,7748.75,-890.65,"cave_rock2.png",.537,.014,.014,-.531,239.6,217.8,"cave_rock2.png",-.476,-.012,.014,-.516,183.95,233.95,"cave_rock1.png",.474,-.004,-.004,-.464,108.65,213.7,"cave_rock1.png",-.611,.087,-.077,-.537,3940.65,-1624.2,"cave_rock1.png",-.553,.067,-.064,-.527,1253,90.75,"cave_rock2.png",-.557,.019,-.018,-.531,1036.7,110,"cave_rock2.png",-.571,.05,-.046,-.523,1653.55,83.05,"cave_rock3.png",-.627,.074,-.07,-.598,1607.45,-26.3,"cave_rock2.png",-.763,.408,-.314,-.587,2038.6,15.15,"cave_rock2.png",-1.065,.102,.082,.855,2312.2,-370.5,"cave_rock1.png",-.946,-.354,.354,-.946,1987.9,-931.85,"cave_rock4.png",.707,.331,.33,-.706,4042.05,-2031.3,"cave_rock2.png",-.711,-.086,.075,-.626,4493.75,-1802.4,"cave_rock1.png",-.789,0,0,-.767,4161.15,-1798.9,"cave_rock3.png",-.875,0,0,-.851,3905.15,-1781.4,"cave_rock3.png",-1.022,.013,-.01,-.787,2282.05,-879.7,"cave_rock2.png",.925,-.073,-.063,-.801,2481.9,-1558.55,"cave_rock2.png",.925,-.073,-.063,-.801,2773.1,-1576.15,"cave_rock2.png",-.875,0,0,-.851,3847.55,-1659.8,"cave_rock3.png",.269,-.857,-1.225,-.385,11036,-1286.5,"cave_rock2.png",.371,-.806,-.996,-.458,9895.25,-1071.5,"cave_rock2.png",.436,-.685,-1.111,-.707,10465.4,-1009.4,"cave_rock2.png",1.262,.274,.22,-1.013,6919.7,-1961.3,"cave_rock1.png",-1.149,-.254,.259,-1.171,7752.65,-1746.15,"cave_rock1.png",-1.169,-.379,-.275,.848,9190.1,-1544.4,"cave_rock3.png",1.077,.099,.081,-.887,8311.9,-1477.25,"cave_rock3.png",1.185,.377,.309,-.969,7898,-1668.75,"cave_rock2.png",1.261,.279,.224,-1.012,7514.9,-1833.9,"cave_rock1.png",-1.469,-.476,-.345,1.064,9798.6,-1885.15,"cave_rock3.png",1.234,.566,.467,-1.017,8677.6,-1469.4,"cave_rock3.png",1.488,.474,.387,-1.216,7967.15,-1965.5,"cave_rock2.png",1.633,.362,.29,-1.311,7492,-2061.65,"cave_rock1.png",-1.341,-.291,.22,-1.013,7692.8,-2061.5,"cave_rock1.png",1.216,.181,.131,-.881,9271.2,-1458.15,"cave_rock3.png",-1.091,.143,-.169,-1.291,11494.75,-1373.55,"cave_rock3.png",-1.523,-.495,.438,-1.349,10790.5,-1177.4,"cave_rock3.png",1.598,.238,.199,-1.333,9709.2,-1354.7,"cave_rock3.png",1.598,.238,.199,-1.333,9473,-1662.95,"cave_rock3.png",-.949,.124,-.147,-1.123,11824.75,-1474.75,"cave_rock3.png",.682,.182,.191,-.626,10169.95,-1288.75,"cave_vine2.png",.361,.097,-.097,.361,9568.95,-1320.2,"flower5.png",.239,-.306,.619,.484,10718.9,-1436.1,"cave_vine1.png",.27,-.468,.468,.27,10523.9,-1237.65,"flower4.png",.615,.165,-.165,.615,11094.95,-1325.5,"flower1.png",-.515,-.138,-.127,.474,9846.4,-1238,"flower4.png",-.427,-.115,-.097,.361,10835.5,-1474.5,"flower5.png",.627,.197,-.201,.639,7480.5,-394.1,"cave_rock1.png",.677,-.006,-.006,-.649,6302.7,501.25,"cave_rock3.png",-.692,-.265,.269,-.702,6559.55,-260.75,"cave_rock2.png",-.702,-.11,.108,-.684,7543.5,-1797.45,"cave_rock2.png",-.664,.181,-.228,-.837,6650.55,-1544.6,"cave_rock2.png",-.535,.146,-.205,-.751,7185.15,-1936.15,"cave_rock2.png",-.543,.148,-.187,-.685,7011.5,-1617.1,"cave_rock2.png",-.535,.146,-.205,-.751,7092.15,-1736.95,"cave_rock2.png",-.708,.003,-.003,-.789,6860.3,-530.2,"cave_rock2.png",-.812,.067,-.069,-.636,7086.95,-328.05,"cave_rock1.png",-.8,.123,-.126,-.627,6938.75,-357.9,"cave_rock2.png",-1,-.001,.001,-1,6823.65,-1126.7,"cave_rock2.png",-.686,.192,-.192,-.686,7119.95,-1170.3,"cave_rock1.png",-.643,.178,-.19,-.687,7116.15,-929.75,"cave_rock1.png",-.722,.269,-.251,-.675,7114.5,-681.85,"cave_rock1.png",-.594,.056,-.053,-.556,7078.7,-447.3,"cave_rock1.png",-.587,.16,-.202,-.74,6962.75,-928.15,"cave_rock2.png",-.708,.003,-.003,-.789,6737.05,-475.9,"cave_rock2.png",-.835,.079,-.081,-.851,6776.45,-1747.95,"cave_rock1.png",-.587,.16,-.202,-.74,6754.7,-912.4,"cave_rock2.png",-.708,.003,-.003,-.789,6818,-676.6,"cave_rock2.png",-.712,-.273,.305,-.794,6509.4,-619.75,"cave_rock2.png",-.783,.123,-.123,-.783,6925.9,-1132.55,"cave_rock1.png",-.713,.112,-.117,-.746,7093.1,-1338.45,"cave_rock1.png",-.296,.203,.265,.387,6949.05,-1396.75,"cave_vine1.png",.262,.437,-.379,.227,6908.25,-786.85,"cave_vine2.png",-.574,0,-.019,.532,7009.8,-426.9,"cave_vine2.png",-.682,.065,-.066,-.695,7009.3,-1874.9,"cave_rock1.png",-.526,.004,-.004,-.537,7054,-1552.95,"cave_rock1.png",-.654,.062,-.063,-.667,6790.1,-1492.4,"cave_rock1.png",.517,.183,.149,-.423,5835.15,232.75,"cave_rock2.png",.677,-.006,-.006,-.649,6088.3,389.25,"cave_rock3.png",.766,-.19,-.153,-.615,6945.45,449.1,"cave_rock1.png",.545,-.058,-.047,-.446,6573.3,299.95,"cave_rock2.png",-.544,-.069,-.057,.445,6749.25,-2.25,"cave_rock2.png",.664,.129,.124,-.637,6041.35,152.45,"cave_rock3.png",.742,.144,.138,-.712,5597.1,136.95,"cave_rock3.png",.61,.118,.138,-.712,5403.1,95.8,"cave_rock3.png",.406,.317,.343,-.439,5347.4,-266.85,"cave_rock1.png",-.61,-.204,-.164,.491,5495.4,-254.05,"cave_rock1.png",-.549,.003,.002,.448,5368.2,-149.2,"cave_rock2.png",.547,.363,.292,-.441,4947.95,-297.5,"cave_rock1.png",-.549,.003,.002,.448,5905,-265.2,"cave_rock2.png",.664,-.182,.229,.837,7466.8,-94.95,"cave_rock2.png",.535,-.146,.205,.751,7118.2,138.65,"cave_rock2.png",.543,-.148,.187,.684,7264.3,-147,"cave_rock2.png",.766,-.19,-.153,-.615,6855.85,245.9,"cave_rock1.png",.535,-.146,.205,.751,7030.2,-99.75,"cave_rock2.png",.708,-.004,.004,.789,7441.9,-1267.65,"cave_rock2.png",-.745,-.568,.629,-.826,8200.85,-417.85,"cave_rock3.png",-.694,-.41,.454,-.769,8521.65,-302.15,"cave_rock3.png",1.23,0,0,-.891,3278.65,-275.6,"cave_rock3.png",1.081,0,0,-.891,3728.4,-282,"cave_rock3.png",-1.244,.006,.005,1.017,4686.3,-670.75,"cave_rock2.png",-1.285,.123,.099,1.032,5070.85,-720.25,"cave_rock1.png",1.217,-.116,.076,.797,2597.35,-657.5,"cave_rock1.png",-.997,.095,.077,.801,2838.3,-702.55,"cave_rock1.png",1.125,0,0,-1.156,3201.8,77.2,"cave_rock3.png",1.231,.173,.181,-1.293,3655.6,130.25,"cave_rock3.png",-1.132,.006,.005,.925,4778.1,-353.35,"cave_rock2.png",-.99,.095,.076,.795,5072.6,-350.2,"cave_rock1.png",1.458,-.139,.091,.954,2684.4,-347.3,"cave_rock1.png",-1.192,.114,.091,.957,2968.6,-432.2,"cave_rock1.png",1.102,-.105,.069,.722,2984.35,-648.25,"cave_rock1.png",.725,-.069,.077,.801,4699.15,-857.15,"cave_rock1.png",1.23,0,0,-.891,455.15,-887.6,"cave_rock3.png",1.264,0,-.019,-1.443,523.55,-444.8,"cave_rock3.png",.447,.239,.253,-.474,5459.1,-188.25,"cave_rock2.png",.841,-.066,-.057,-.728,2929.3,-1488.55,"cave_rock2.png",.696,0,0,-.778,1591.05,-795.05,"cave_rock3.png",-.833,0,0,-.891,1732.25,-673.75,"cave_rock3.png",-.946,-.354,.354,-.946,2368.7,-931.85,"cave_rock4.png",-.739,-.427,.353,-.612,1279.3,-506.05,"cave_rock4.png",-.967,0,0,-.712,1708.35,-572.05,"cave_rock3.png",.356,0,0,.356,2368.15,-1871.2,"flower3.png",.812,-.068,.07,.636,7215.05,-1469.65,"cave_rock1.png",-.685,.187,-.144,-.528,7352.25,-1895.45,"cave_rock2.png",.964,0,0,.797,7845.5,-668.45,"cave_rock4.png",.8,-.124,.127,.627,7363.3,-1439.9,"cave_rock2.png",1,0,0,1,7479.05,-671.2,"cave_rock2.png",.686,-.193,.193,.686,7182.8,-627.3,"cave_rock1.png",.643,-.178,.191,.687,7186.4,-867.85,"cave_rock1.png",.813,-.303,.284,.76,7152.8,-1126.7,"cave_rock1.png",.594,-.057,.053,.556,7223.45,-1350.4,"cave_rock1.png",.587,-.161,.202,.74,7339.8,-869.55,"cave_rock2.png",-.433,.56,-.624,-.483,8023.6,-1208.15,"cave_rock2.png",-.577,-.102,-.112,.632,9497.15,-326.6,"cave_rock3.png",-.644,-.243,.306,-.812,8160.7,-17.5,"cave_rock2.png",1.187,0,0,.983,8071.2,-442.7,"cave_rock4.png",.587,-.161,.202,.74,7547.8,-885.55,"cave_rock2.png",.708,-.004,.004,.789,7472.3,-1133.25,"cave_rock2.png",.649,.248,-.277,.723,7833.1,-1184.2,"cave_rock2.png",.783,-.124,.124,.783,7376.8,-665.2,"cave_rock1.png",.713,-.113,.118,.746,7209.8,-459.2,"cave_rock1.png",.708,-.004,.004,.789,8644.25,-1338.1,"cave_rock2.png",.363,0,0,.438,7224.75,-1013.75,"cave_vine6.png",.363,0,0,.413,7226,-1267.65,"cave_vine6.png",.363,0,0,.433,7224.75,-761.15,"cave_vine6.png",.363,0,0,.433,7224.75,-502.8,"cave_vine6.png",-.452,-.335,-.444,.599,8051.95,-1035.85,"cave_vine4.png",-.347,-.093,-.141,.527,7579.45,-687.95,"cave_vine1.png",-.036,.627,-.627,-.036,7420.6,-1066.65,"cave_vine4.png",-.263,-.437,.379,-.228,7394.1,-1010.9,"cave_vine2.png",-.661,-.165,.143,-.573,7681.95,-101.5,"cave_vine2.png",.405,0,0,.405,7212,-1471.65,"flower4.png",.401,0,0,.401,7194,-318.95,"flower4.png",-.851,-.492,.407,-.705,8844.65,-132.55,"cave_rock4.png",1.151,0,0,.952,8617.4,-318.7,"cave_rock4.png",-.813,-.232,.192,-.673,9237.8,-55.7,"cave_rock4.png",.576,-.053,-.059,-.631,9371.4,-74.95,"cave_rock3.png",.682,-.065,.066,.695,7294.05,77.2,"cave_rock1.png",1.006,0,0,-1.176,3441.05,281,"cave_rock3.png",.51,.132,-.134,.52,7178.15,-239.3,"cave_rock1.png",.652,.551,.443,-.524,4798.75,-628.3,"cave_rock1.png",.652,.551,.443,-.524,4972.35,-501.1,"cave_rock1.png",.363,0,0,.438,7007.15,-1176.95,"cave_vine6.png",.363,0,0,.413,7008.4,-1430.85,"cave_vine6.png",.363,0,0,.433,7007.15,-924.35,"cave_vine6.png",.363,0,0,.433,7007.15,-666,"cave_vine6.png",.363,0,0,.413,7008.4,-1671.65,"cave_vine6.png",.363,0,0,.413,7008.4,-1906.85,"cave_vine6.png",.628,.416,.335,-.505,5139.65,-394.95,"cave_rock1.png",.495,.236,.193,-.405,5792.8,-77.85,"cave_rock2.png",.547,.363,.292,-.441,4879.15,-111.1,"cave_rock1.png",.545,.061,-.05,.446,5260.45,-153.05,"cave_rock2.png",.447,.239,.253,-.474,5280.7,-95.45,"cave_rock2.png",.517,.183,.149,-.423,5907.15,-20.85,"cave_rock2.png",.517,.183,.149,-.423,5887.95,127.95,"cave_rock2.png",-.544,-.069,-.057,.445,6606.85,-17.45,"cave_rock2.png",-.449,.111,-.107,-.431,6909.1,167.7,"cave_rock1.png",-.526,.056,-.051,-.481,6604.55,296.6,"cave_rock2.png",.514,.228,-.196,.442,6538.9,141.8,"cave_rock2.png",-.635,-.064,-.051,.51,7039.55,150.2,"cave_rock1.png",-.712,-.273,.305,-.794,6344.6,-375,"cave_rock2.png",-.655,-.17,-.163,.629,6316.05,253.9,"cave_rock3.png",-.655,-.17,-.163,.629,6532.05,383.5,"cave_rock3.png",.62,.163,.167,-.634,5828.5,-517.95,"cave_rock3.png",.553,.39,.375,-.53,5620.35,-680.05,"cave_rock3.png",.664,-.182,.229,.837,7609.6,-281.55,"cave_rock2.png",-.852,-.759,.628,-.705,5765.1,-553.4,"cave_rock4.png",-.743,-.534,.551,-.767,5502.95,-825.05,"cave_rock4.png",.71,.37,.355,-.681,5816.65,-802.95,"cave_rock3.png",-.7,-.901,.746,-.579,5233,-1014.8,"cave_rock4.png",-.633,-.66,.682,-.654,5017.05,-1300.3,"cave_rock4.png",-.869,-.05,.045,-.778,3562.45,-1595.7,"cave_rock2.png",-1.051,0,0,-.774,3557.65,-1671,"cave_rock3.png",-.731,.057,-.057,-.728,2903.05,-1338.95,"cave_rock2.png",-.964,.341,-.311,-.881,2761.85,-1294.9,"cave_rock2.png",-.599,.086,-.075,-.527,4318.7,-1839.15,"cave_rock1.png",.707,.331,.33,-.706,4350.85,-1875.05,"cave_rock2.png",.734,-.266,-.266,-.732,4716.9,-1722.85,"cave_rock2.png",-.878,-.255,.263,-.907,5049,-1532.95,"cave_rock4.png",.951,.084,.071,-.805,4307.85,-1907.5,"cave_rock2.png",-1.051,0,0,-.774,1522.45,-834.2,"cave_rock3.png",-.946,-.354,.354,-.946,1666.3,-879.05,"cave_rock4.png",-.946,-.354,.354,-.946,1312.7,-949.45,"cave_rock4.png",-.946,-.354,.354,-.946,2420.95,-1294.1,"cave_rock4.png",-.964,.341,-.311,-.881,2721.85,-1629.3,"cave_rock2.png",-1.192,.114,.091,.957,2664.6,-385.8,"cave_rock1.png",-.789,.075,.061,.633,2596,-579.2,"cave_rock1.png",.578,-.542,-.435,-.464,2379.5,-373.05,"cave_rock1.png",.656,-.445,-.358,-.526,2137.7,-220.4,"cave_rock1.png",-.605,.324,-.314,-.587,2209,-263.25,"cave_rock2.png",-.539,.196,-.18,-.494,1994.75,-162.2,"cave_rock3.png",-.542,.127,-.121,-.517,1800.25,-90.5,"cave_rock2.png",.466,-.101,.109,.505,1134.85,-229.55,"cave_rock1.png",.466,-.101,.109,.505,430.85,-115.15,"cave_rock1.png",.474,.052,-.056,.514,615.25,-139.3,"cave_rock1.png",-.944,-.357,.369,-.975,5987.9,-777.85,"cave_rock4.png",.77,.071,.088,-.957,5320.5,-1134.2,"cave_rock3.png",-.633,-.66,.682,-.654,5413.85,-1300.3,"cave_rock4.png",.799,-.387,-.478,-.987,8728.55,-818.35,"cave_rock2.png",.861,.486,.438,-.776,8300.2,-1257.75,"cave_rock3.png",-1.209,-.978,.866,-1.071,9644.45,-692.35,"cave_rock3.png",-.548,.098,-.094,-.522,1562.05,467.6,"cave_rock2.png",-.748,-.287,.291,-.759,10388.4,-904,"cave_rock2.png",1.178,.176,.147,-.983,9745.05,-1117.1,"cave_rock3.png",1.151,0,0,.952,8347,-318.7,"cave_rock4.png",-.952,-.246,-.236,.913,5269.7,40.1,"cave_rock3.png",-.952,-.246,-.236,.913,4932.9,21.4,"cave_rock3.png",-.952,-.246,-.236,.913,4625.7,21.4,"cave_rock3.png",-1.166,-.302,-.29,1.119,3700.7,21.5,"cave_rock3.png",.964,-.267,.274,.989,839.1,75.25,"cave_rock3.png",.964,-.267,.274,.989,1072.05,-11.15,"cave_rock3.png",-1.248,-.323,-.31,1.198,2458.05,72.2,"cave_rock3.png",-.947,.262,.252,.909,2379.9,-46.6,"cave_rock3.png",-1.273,.353,.338,1.221,2850.5,-159.75,"cave_rock3.png",-1.166,-.302,-.29,1.119,3311.2,33.55,"cave_rock3.png",-.47,.138,-.174,-.593,9888.85,-177.1,"cave_rock2.png",-.576,-.049,-.054,.631,9701.2,-107.35,"cave_rock3.png",-.576,-.049,-.054,.631,9899.95,-61.2,"cave_rock3.png",1.151,0,0,.952,8699.7,-59.7,"cave_rock4.png",1.151,0,0,.952,8347,-88.8,"cave_rock4.png",1.028,0,0,.85,9146.95,1.5,"cave_rock4.png",1.151,0,0,.952,9513.9,63.8,"cave_rock4.png",.708,-.015,.017,.789,11119.4,-530.55,"cave_rock2.png",.706,-.064,.065,.553,10881.15,-725.55,"cave_rock1.png",.798,-.137,.137,.625,11037.95,-701.4,"cave_rock2.png",.676,-.041,.036,.598,10898.25,-421.55,"cave_rock1.png",.589,-.013,.014,.625,11194.95,-423.05,"cave_rock2.png",-.373,-.348,.301,-.323,11260.6,-172.6,"cave_vine2.png",-.641,-.068,-.055,.636,11838.25,-732.8,"cave_rock1.png",-.541,-.193,-.152,.686,11863.7,109.55,"cave_rock1.png",-.624,.005,.009,.673,11832.45,-475.45,"cave_rock1.png",-.469,-.057,-.042,.556,11831.65,-613.55,"cave_rock1.png",-.49,.02,.116,.709,11635.6,-464.9,"cave_rock2.png",-.61,-.122,-.083,.67,11681.15,-636.65,"cave_rock1.png",.274,-.093,.096,.454,11596.3,143.6,"cave_vine1.png",-.678,-.019,-.031,-.675,11663.4,-445.3,"cave_rock1.png",1.23,0,0,-.891,10687.6,396.05,"cave_rock3.png",1.081,0,0,-.891,11137.35,396.85,"cave_rock3.png",-1.244,.006,.005,1.017,12095.25,8.1,"cave_rock2.png",-1.285,.123,.099,1.032,12467.75,-41.4,"cave_rock1.png",1.217,-.116,.076,.797,9985.5,12.55,"cave_rock1.png",-.997,.095,.077,.801,10217.65,-42.9,"cave_rock1.png",1.125,0,0,-1.156,10695.1,756.05,"cave_rock3.png",-1.132,.006,.005,.925,12187.05,325.5,"cave_rock2.png",-.99,.095,.076,.795,12481.55,328.65,"cave_rock1.png",1.458,-.139,.091,.954,10151.55,295.4,"cave_rock1.png",-1.192,.114,.091,.957,10411.15,224.25,"cave_rock1.png",1.102,-.105,.069,.722,10362.9,21,"cave_rock1.png",-.952,-.246,-.236,.913,12341.85,700.25,"cave_rock3.png",-.952,-.246,-.236,.913,12034.65,700.25,"cave_rock3.png",-1.166,-.302,-.29,1.119,11109.65,700.35,"cave_rock3.png",-1.166,-.302,-.29,1.119,10712.1,690.35,"cave_rock3.png",-1.138,-.431,.381,-1.007,6127.5,-1103.65,"cave_rock4.png",.363,0,0,.457,10899.65,-725.65,"cave_vine6.png",.363,0,0,.452,10899.65,-450.05,"cave_vine6.png",.363,0,0,.457,11777.1,-733.65,"cave_vine6.png",.363,0,0,.426,11777.1,-458.05,"cave_vine6.png",1.151,0,0,.952,9057.1,251.5,"cave_rock4.png",-1.202,.088,.085,1.153,1374.7,364.1,"cave_rock3.png",-1.202,.088,.085,1.153,1647.8,340,"cave_rock3.png",-1.449,.138,.111,1.162,12892,260.45,"cave_rock1.png",-.946,-.354,.354,-.946,1050.2,-674.85,"cave_rock4.png",1.23,0,0,-.891,-522.7,-755.05,"cave_rock3.png",.696,0,0,-.778,653.35,-538.05,"cave_rock3.png",-.833,0,0,-.891,794.55,-416.75,"cave_rock3.png",-.739,-.427,.353,-.612,341.6,-249.05,"cave_rock4.png",-1.051,0,0,-.774,792.75,-302,"cave_rock3.png",-1.051,0,0,-.774,584.75,-577.2,"cave_rock3.png",-.946,-.354,.354,-.946,728.6,-622.05,"cave_rock4.png",-.946,-.354,.354,-.946,375,-692.45,"cave_rock4.png",-.946,-.354,.354,-.946,1678.15,-1172.25,"cave_rock4.png",-.946,-.354,.354,-.946,2049.8,-1196.3,"cave_rock4.png",-1.329,.105,-.096,-1.215,3616.25,-1837.8,"cave_rock2.png",-1.66,.131,-.096,-1.215,4277.85,-1987.6,"cave_rock2.png",-1.66,.131,-.096,-1.215,5756.95,-1676.25,"cave_rock2.png",1.19,-.252,.252,1.19,12037.85,-1224.15,"cave_rock1.png",1.164,-.173,.176,1.187,12230.55,-1301,"cave_rock1.png",.999,-.052,.052,.999,12380.55,-1584.05,"cave_rock2.png",.978,-.207,.207,.978,12070.3,-1498.7,"cave_rock1.png",1.017,-.441,.412,.951,12009.15,-1765.95,"cave_rock1.png",1.017,-.441,.412,.951,12012.2,-2075.1,"cave_rock1.png",.876,-.289,.364,1.104,12364.25,-1888.8,"cave_rock2.png",.998,-.057,.064,1.113,12335.7,-2299,"cave_rock2.png",1.191,.137,.13,-1.131,12427.25,-327.8,"cave_rock1.png",-1.144,.17,.176,1.184,12575.9,-924.65,"cave_rock1.png",.584,0,0,.787,12101.75,-1753.5,"cave_vine6.png",.584,0,0,.787,12107.35,-2183.85,"cave_vine6.png",.584,0,0,.787,12095.35,-860.7,"cave_vine6.png",.584,0,0,.787,12100.95,-1291.05,"cave_vine6.png",.423,-.178,.284,.676,12130.4,-661,"cave_vine1.png",.764,-.04,.04,.764,12164,-1910.25,"cave_vine4.png",-.678,-.132,.114,-.587,12660.35,-1136.25,"cave_vine2.png",-.248,.43,.464,.268,12165.05,-810.8,"flower4.png",-.047,-.668,.521,-.036,12220.5,-1313.65,"cave_vine2.png",-.038,-.727,.727,-.038,12205.15,-921.3,"cave_vine4.png",.532,0,0,.532,12170.5,-1365.75,"flower5.png",.658,0,0,.658,12153.35,-1007.25,"flower3.png",.497,0,0,.497,12141.6,-1957.65,"flower3.png",-.101,.518,-.449,-.087,12606.15,-727.5,"cave_vine2.png",.634,.058,-.058,.634,12609.05,-494.55,"cave_vine4.png",.35,.012,-.012,.35,12482.1,-401.8,"cave_vine3.png",-.179,-.499,.908,-.326,12197.5,-705.75,"cave_vine5.png",-.207,.359,.387,.223,12828.2,-395.4,"flower4.png",0,-.414,-.447,0,12532.5,-340.05,"flower4.png",.5,0,0,.5,12112.3,-400.8,"flower1.png",-1.24,.162,-.192,-1.467,12301.4,-1531.85,"cave_rock3.png",-.883,-.52,-.399,.678,7144.75,420.85,"cave_rock1.png",-.953,.375,.288,.732,7296.4,240.5,"cave_rock1.png",.916,-.36,.288,.732,7189.95,349.15,"cave_rock1.png",.881,-.241,.266,.972,7501.15,201.4,"cave_rock2.png",1.151,0,0,.952,9410.5,353.9,"cave_rock4.png",1.067,-.296,.303,1.094,1289.85,110.75,"cave_rock3.png",.477,0,0,.477,7279.35,-498.9,"flower3.png",-.554,-.148,-.156,.509,5971.55,-78.55,"cave_vine2.png",-.488,.066,.045,.455,7348.9,-109.8,"cave_vine2.png",-1.66,.131,-.096,-1.215,5335.3,-1987.5,"cave_rock2.png",-1.66,.131,-.096,-1.215,4871.45,-2170.2,"cave_rock2.png",.35,.012,-.012,.35,11297.45,-709,"cave_vine3.png",.35,.012,-.012,.35,9895.95,-1092.5,"cave_vine3.png",1.077,.099,.081,-.887,8430.3,-1720.45,"cave_rock3.png",1.077,.099,.081,-.887,8674.3,-1841.25,"cave_rock3.png",.438,0,0,.438,10228.15,-1022.35,"flower4.png",-1.523,-.495,.438,-1.349,10921.7,-1467,"cave_rock3.png",-.405,-.02,-.027,.555,2619.85,-857.5,"cave_rock1.png",.342,0,0,.363,9795.75,-420.5,"cave_vine6.png",.342,0,0,.363,9795.75,-199.2,"cave_vine6.png",.353,-.559,.66,.417,5919.5,-36.75,"cave_vine5.png",.438,.05,-.05,.438,6504.6,-15.05,"cave_vine3.png",.361,.041,-.041,.361,6440.9,-399.3,"cave_vine3.png",.385,0,0,.385,2620.5,-634.4,"cave_vine3.png",-.806,-.032,.028,-.699,8049.3,-1792.45,"cave_vine2.png",-.617,.104,.049,.443,11681.6,-306.5,"cave_vine4.png",.207,-.437,-.299,-.228,11697,-274.05,"cave_vine2.png",.491,0,0,.316,472.3,-150.1,"cave_platform2.png",-.361,-.031,.017,-.192,510.6,.65,"cave_ronce.png",.316,.305,-.238,.247,5059,-945.55,"cave_platform1.png",.25,-.117,.143,.311,6904.95,-105.2,"cave_platform1.png",.418,0,0,.298,4756.5,-891.5,"cave_platform2.png",.523,0,0,.387,4254.1,-726.7,"cave_platform2.png",.284,0,0,.343,4505.4,-742.4,"cave_platform1.png",.523,0,0,.387,3630,-726.7,"cave_platform2.png",.439,0,0,.343,3905.4,-742.4,"cave_platform1.png",.523,0,0,.387,3048.65,-726.7,"cave_platform2.png",.439,0,0,.343,3324.05,-742.4,"cave_platform1.png",.394,0,0,.387,2573.9,-731.9,"cave_platform2.png",.439,0,0,.343,2752.5,-747.6,"cave_platform1.png",.332,.254,-.235,.307,5314.1,-682.7,"cave_platform2.png",.332,.254,-.235,.307,5537.3,-516.3,"cave_platform2.png",.327,.149,-.137,.3,5717.3,-381.4,"cave_platform1.png",.335,.131,-.12,.307,5941.7,-273.25,"cave_platform1.png",.407,.094,-.075,.325,6203.7,-149.1,"cave_platform2.png",.289,.054,-.061,.328,6422.1,-96.3,"cave_platform2.png",.287,-.014,.014,.286,6547.3,-66.1,"cave_platform1.png",.279,-.071,.07,.278,6724.7,-59.55,"cave_platform1.png",.202,-.12,.174,.295,7034.95,-157.4,"cave_platform1.png",-.627,.011,-.01,-.543,1436.25,-575.85,"cave_vine2.png",-.462,.378,-.327,-.401,2834.5,-1424.75,"cave_vine2.png",.37,0,0,.37,1397.9,-650.75,"flower5.png",.466,0,0,.466,1551.25,-909.95,"flower1.png",.385,0,0,.385,2360.5,-1234.75,"cave_vine3.png",.364,0,0,.364,2452.85,-1262.05,"flower4.png",-.374,0,0,.437,2402.6,-1305.1,"flower4.png",.655,-.112,.112,.655,1603.9,-858.35,"cave_vine4.png",.277,-.092,.099,.296,1424.9,-282.15,"cave_platform1.png",.422,-.215,.16,.314,1610.25,-320.05,"cave_platform2.png",.366,-.216,.179,.304,1846.55,-436.45,"cave_platform2.png",.322,-.247,.19,.248,2051.6,-567.1,"cave_platform1.png",.246,-.199,.196,.243,2302.5,-765.35,"cave_platform1.png",.523,0,0,.286,804.3,-150.1,"cave_platform2.png",.399,.697,-.697,.399,8286.05,-1651.4,"cave_vine4.png",.928,.078,-.078,.928,9643.8,-1435.5,"cave_vine4.png",.598,.16,-.16,.598,9589.65,-1503.85,"flower4.png",.547,.147,-.147,.547,10027.65,-1390.95,"flower1.png",.445,.548,.523,-.394,8980.25,-954.7,"cave_vine2.png",.665,.321,-.321,.665,8724.5,-1195.25,"cave_vine4.png",.397,.288,-.288,.397,8703.75,-1237.15,"flower4.png",.24,.174,-.174,.24,8636.4,-1129.6,"flower5.png",.458,.333,-.333,.458,9002.75,-1065.6,"flower1.png",-.432,-.313,-.288,.397,9433.05,-662,"flower4.png",.38,0,0,.217,-45.3,-29.35,"cave_platform2.png",.383,0,0,.217,205.4,-32.05,"cave_platform2.png",.268,.321,-.248,.207,7725.8,-1497.2,"cave_platform2.png",.276,.23,-.211,.254,7878.5,-1319.75,"cave_platform1.png",.289,.214,-.196,.265,8066.7,-1156.55,"cave_platform1.png",.339,.245,-.196,.271,8269.35,-975.3,"cave_platform2.png",.263,.18,-.189,.275,8467.1,-837.4,"cave_platform2.png",.238,.161,-.16,.238,8611.6,-754.35,"cave_platform1.png",.609,0,0,.609,7612.4,-1437.55,"flower3.png",.418,.012,-.009,.3,7239.4,-1519.6,"cave_platform2.png",-.29,-.009,-.008,.279,7698.55,-1507.1,"cave_platform2.png",.536,0,0,.536,7292.25,-860.65,"flower4.png",.363,0,0,.366,7226,-1466.05,"cave_vine6.png",.554,-.149,-.12,-.518,7289.45,-1247.15,"cave_vine2.png",.424,.114,-.114,.424,7475.4,-1942.3,"flower4.png",.305,.149,-.126,.257,8753.9,-643.7,"cave_platform1.png",.305,.149,-.126,.257,8959.7,-539.3,"cave_platform1.png",.254,.048,-.054,.282,9132.9,-433.45,"cave_platform1.png",.259,0,0,.287,9290.5,-395.85,"cave_platform1.png",.243,-.046,.053,.282,9445.7,-386.1,"cave_platform1.png",.233,-.082,.095,.27,9597.25,-407.65,"cave_platform1.png",-.423,0,0,.536,11721.3,-359.7,"flower4.png",.086,.622,-.622,.086,11069.45,-492,"cave_vine4.png",.536,-.009,.009,.536,10963.45,-508.2,"flower4.png",-.437,-.149,.094,-.518,11779.55,-510.3,"cave_vine2.png",.551,-.158,-.128,-.516,10990.75,-543.15,"cave_vine2.png",.523,0,0,.387,11638.75,-48.65,"cave_platform2.png",.523,0,0,.387,11014.65,-48.65,"cave_platform2.png",.439,0,0,.343,11290.05,-64.35,"cave_platform1.png",.523,0,0,.387,10433.3,-48.65,"cave_platform2.png",.439,0,0,.343,10708.7,-64.35,"cave_platform1.png",.523,0,0,.387,9837.65,-53.85,"cave_platform2.png",.439,0,0,.343,10137.15,-69.55,"cave_platform1.png",.523,0,0,.387,10915.85,-794.75,"cave_platform2.png",.439,0,0,.343,11191.25,-810.45,"cave_platform1.png",.523,0,0,.387,11445.95,-794.75,"cave_platform2.png",-.32,0,0,.405,11840.65,-734.8,"flower4.png",.49,0,0,.363,12128.4,-47.15,"cave_platform2.png",.382,0,0,.288,11880.7,-50.05,"cave_platform1.png",.523,0,0,.387,12327.35,-53.85,"cave_platform2.png",.439,0,0,.343,12626.85,-69.55,"cave_platform1.png",-.627,.011,-.01,-.543,410.2,-336.95,"cave_vine2.png",.37,0,0,.37,343.75,-411.85,"flower5.png",.497,0,0,.497,1857.25,-933.7,"flower3.png",-.714,-.139,.12,-.619,12228.8,256.15,"cave_vine2.png",.409,0,0,.409,11754,63.65,"flower3.png",.962,-.05,.05,.962,11308.35,-1663.65,"cave_vine4.png",.527,-.304,.304,.527,8053.6,-1566.25,"flower3.png",.546,-.024,.04,-.582,9893.6,209.8,"cave_vine2.png",.655,-.112,.112,.655,666.2,-567.2,"cave_vine4.png",.466,0,0,.466,653.7,-454.15,"flower1.png",-.492,0,0,.574,1057.5,-661.55,"flower4.png",.665,0,0,.758,2776.95,-1589.65,"cave_vine4.png",-.537,.161,-.14,-.465,3658.45,-1681.4,"cave_vine2.png",.665,0,0,.758,3958.6,-2026.95,"cave_vine4.png",.437,0,0,.437,3239.85,-1686.2,"flower4.png",.466,0,0,.466,2727.85,-1482.2,"flower1.png",.466,0,0,.466,3938.55,-1832.6,"flower1.png",.382,.043,-.043,.382,5123.55,-1236.55,"cave_vine3.png",.37,0,0,.37,2690.95,-690.95,"flower5.png",.37,0,0,.37,4453.15,-1881.65,"flower5.png",.396,-.488,.607,.492,4891.15,-1410.85,"cave_vine5.png",.466,.049,-.049,.466,10911.05,-234.25,"flower1.png",.47,.053,-.053,.47,4813.75,-814.9,"cave_vine3.png",-.361,-.031,.017,-.192,1208.35,-105.2,"cave_ronce.png",-.549,.01,-.008,-.476,1546.5,-64.5,"cave_vine2.png",-.602,.173,-.15,-.522,890.75,9.2,"cave_vine2.png",.342,0,0,.342,430.1,-37.35,"flower5.png",.655,-.112,.112,.655,1924.1,-373.45,"cave_vine4.png",.486,0,0,.298,1165.9,-279.7,"cave_platform2.png",.206,.041,-.027,.137,1157.9,-254.55,"cave_ronce.png",0,.371,.433,0,1142,-154.25,"flower4.png",0,.371,.433,0,1885.9,-415.25,"flower4.png",.347,-.2,.2,.347,2112.7,-599.75,"flower2.png",.387,-.104,.104,.387,1623.05,-339.25,"flower2.png",.387,-.104,.104,.387,541.85,-157.55,"flower2.png",.387,-.104,.104,.387,1925.25,-248.85,"flower2.png",.466,0,0,.466,-22.95,19.7,"flower1.png",.347,-.2,.2,.347,2870.55,-717.1,"flower2.png",-.498,.232,-.201,-.431,1877.85,-192.65,"cave_vine2.png",.335,0,0,.335,1802.5,-276.2,"flower5.png",.45,.121,-.121,.45,4873.75,-1508.1,"flower1.png",.437,0,0,.437,4920.45,-849.4,"flower4.png",.408,0,0,.408,5100.15,-1266.55,"flower4.png",-.537,.161,-.14,-.465,4459.55,-532.75,"cave_vine2.png",-.559,-.042,.036,-.485,6226.1,-458.2,"cave_vine2.png",.01,.603,-.523,.009,7017.55,-1753.05,"cave_vine2.png",-.309,-.266,-.412,.478,5993.65,-792.35,"cave_vine1.png",.45,.121,-.121,.45,5604.6,-754.7,"flower1.png",.312,0,0,.312,5800.15,-587.35,"flower5.png",.312,0,0,.312,6976.75,-429.75,"flower5.png",.33,.33,-.33,.33,7241,-1496.15,"flower1.png",.466,0,0,.466,6893.65,-1137.15,"flower1.png",.542,0,0,.542,6970.9,-1939.05,"flower3.png",.22,-.38,.38,.22,7907.5,-1712.85,"flower4.png",.393,.105,-.105,.393,6866.25,-787.95,"flower1.png",.368,0,0,.368,7988.4,-1072.3,"flower4.png",.572,.414,.403,-.516,7909.85,-876.1,"cave_vine2.png",.572,.414,.403,-.516,4971.6,-593.8,"cave_vine2.png",.312,0,0,.312,5350.4,-440.75,"flower5.png",-.609,0,0,-.609,6665.65,-302.05,"flower3.png",.357,0,0,.357,6455.1,-20.3,"flower4.png",.468,.043,-.043,.468,5880.45,-112.6,"flower3.png",.138,-.647,.901,.192,2973.1,-501.9,"cave_vine5.png",0,.371,.433,0,3387.75,-547.8,"flower4.png",.437,0,0,.437,5539.85,-160.7,"flower4.png",0,.437,-.437,0,5686.45,-359.25,"flower4.png",.393,.105,-.105,.393,6984.75,-86.2,"flower1.png",.312,0,0,.312,7497.8,-732.95,"flower5.png",-.305,0,0,.312,4480,-637.6,"flower5.png",-.546,-.129,.112,-.473,4091.9,-435.3,"cave_vine2.png",.466,0,0,.466,3678.6,-630.85,"flower1.png",.466,0,0,.466,2941.7,-625.85,"flower1.png",-.204,-.629,.876,-.284,2184.15,-346.05,"cave_vine5.png",0,.371,.433,0,2161,-439.4,"flower4.png",.284,0,0,.284,7778.75,-1207.4,"flower5.png",.643,-.185,.25,.583,9309.4,-190.6,"cave_vine2.png",.718,.108,.052,-.684,9008.9,-193.55,"cave_vine4.png",-.407,.246,.273,.373,9018.2,-286.05,"flower4.png",-.279,-.069,-.042,.276,9055.1,-371.65,"flower5.png",-.549,.012,.058,.531,9385.35,-217.45,"flower1.png",.518,-.011,.051,.46,9705.6,-286.25,"flower4.png",.408,0,0,.408,3723.8,-1695.35,"flower4.png",.324,0,0,.324,2859.9,-1445.5,"flower5.png",-.265,-.071,-.06,.224,10336.05,-1018.85,"flower5.png",.17,-.295,.295,.17,11092.55,-1243.85,"flower4.png",.165,-.286,.286,.165,3723.1,-1632.95,"flower4.png",-.12,-.308,.308,-.12,2891.25,-1376.15,"flower4.png"],
active:[308.2,-52.85,"coin",360.2,-108.85,"coin",424.2,-164.85,"coin",1008.2,-168.85,"coin",1060.2,-224.85,"coin",1124.2,-280.85,"coin",1738.6,-381.5,"coin",1818.6,-429.5,"coin",1898.6,-477.5,"coin",1978.6,-525.5,"coin",2058.6,-573.5,"coin",2450.6,-869.5,"coin",2501.8,-914.3,"coin",2554.6,-959.1,"coin",2605.8,-1002.3,"coin",2915.25,-1426.05,"vine",3284.15,-1382.15,"coin",3341.9,-1432.2,"coin",3411.6,-1480.9,"coin",3484.15,-1501.25,"coin",3484.15,-1541.25,"coin",3524.15,-1501.25,"coin",3524.15,-1541.25,"coin","m",1,0,0,1,3766.8,-760.6,{type:"kill_vine_1"},3777.65,-1643.65,"vine","m",.213,.796,.826,-.221,3790.25,-744.3,{type:"kill_vine_4"},"m",.928,0,0,.928,3810.6,-711.3,{type:"kill_vine_3"},"m",1,0,0,1,3946.8,-760.6,{type:"kill_vine_1"},"m",.213,.796,.826,-.221,3985.4,-755.1,{type:"kill_vine_4"},"m",1,0,0,1,4126.8,-760.6,{type:"kill_vine_1"},4174,-1640.05,"coin",4174,-1680.05,"coin","m",.213,.796,-.796,.213,4201.7,-766.1,{type:"kill_vine_4"},4214,-1680.05,"coin",4214,-1640.05,"coin",4304.65,-1683.6,"coin",4304.65,-1723.6,"coin","m",1,0,0,1,4306.8,-760.6,{type:"kill_vine_1"},4344.65,-1683.6,"coin",4344.65,-1723.6,"coin",4436.75,-737.9,"kill_vine_2","m",1,0,0,1,4486.8,-760.6,{type:"kill_vine_1"},"m",1.012,.271,-.271,1.012,4565,-760.45,{type:"kill_vine_4"},"m",1,0,0,1,4666.8,-760.6,{type:"kill_vine_1"},5471.15,-566.2,"coin",5531.15,-526.2,"coin",5599.15,-482.2,"coin",5879.15,-321.4,"coin",5959.15,-293.4,"coin",6043.15,-253.4,"coin",6323.15,-142.8,"coin",6391.15,-126.8,"coin",6942.4,-109.9,"coin",6994.4,-165.9,"coin",7058.4,-221.9,"coin",7117.75,-965.05,"coin",7117.75,-885.05,"coin",7117.75,-1355.45,"coin",7117.75,-405.05,"coin",7117.75,-485.05,"coin",7117.75,-1275.45,"coin",7137.75,-273.05,"coin",7157.75,-325.05,"coin",7157.75,-805.05,"coin",7157.75,-1045.05,"coin",7157.75,-1435.45,"coin",7157.75,-1195.45,"coin",7157.75,-565.05,"coin",7197.75,-645.05,"coin",7197.75,-1515.45,"coin",7197.75,-725.05,"coin",7221.75,-1093.05,"coin",7260.05,-1587.8,"coin",7307.8,-1634.25,"coin",7371.65,-1665.75,"coin",7439.7,-1689.05,"coin",7503.5,-1703.9,"coin",7568.25,-1703.15,"coin",7633.3,-1680.8,"coin",7687.9,-1642.95,"coin",7792.6,-1542.95,"coin",7792.6,-1502.95,"coin",7832.6,-1502.95,"coin",7832.6,-1542.95,"coin",9477.4,-430.85,"token",9857.9,-608.4,"coin",9857.9,-568.4,"coin",9897.9,-568.4,"coin",9897.9,-608.4,"coin",10016.55,-701.05,"coin",10016.55,-741.05,"coin",10048.75,-108.95,"magnet",10056.55,-741.05,"coin",10056.55,-701.05,"coin",10102.95,-1098.4,"coin",10153.4,-94.95,"coin",10168.1,-132.15,"coin",10172.5,-1114.15,"coin",10190.7,-80.3,"coin",10205.3,-117.6,"coin",10246.3,-1136.7,"coin",10281.65,-994.05,"vine",10291,-94.95,"coin",10305.7,-132.15,"coin",10313.6,-1148.1,"coin",10328.3,-80.3,"coin",10342.9,-117.6,"coin",10388.4,-1142.55,"coin",10632.7,-950.55,"coin",10661.8,-1008.4,"coin",10710.5,-1057.15,"coin",10768.35,-1089.6,"coin",10858.8,-1124.75,"coin",10858.8,-1084.75,"coin",10898.8,-1084.75,"coin",10898.8,-1124.75,"coin",11148.85,-1254.85,"vine","m",1.027,0,0,1.027,11260.95,-61.1,{type:"kill_vine_4"},"m",1,0,0,1,11327.25,-81.05,{type:"kill_vine_1"},"m",.758,0,0,.758,11358.4,-35.3,{type:"kill_vine_3"},11466.3,-1169.75,"coin","m",1,0,0,1,11486.75,-81.05,{type:"kill_vine_1"},11495.4,-1227.6,"coin",11544.1,-1276.35,"coin",11601.95,-1308.8,"coin",11692.4,-1303.95,"coin",11692.4,-1343.95,"coin",11732.4,-1303.95,"coin",11732.4,-1343.95,"coin",11867.85,-396.7,"coin",11867.85,-476.7,"coin",11867.85,-236.7,"coin",11867.85,-316.7,"coin",11887.85,-356.7,"coin",11887.85,-276.7,"coin",11887.85,-436.7,"coin",12071.05,-857.5,"coin",12071.05,-1019.1,"coin",12071.05,-697.5,"coin",12071.05,-617.5,"coin",12071.05,-777.5,"coin",12071.05,-1099.1,"coin",12071.05,-1259.1,"coin",12071.05,-1179.1,"coin",12091.05,-737.5,"coin",12091.05,-817.5,"coin",12091.05,-657.5,"coin",12091.05,-1139.1,"coin",12091.05,-1219.1,"coin",12091.05,-1059.1,"coin","m",1.705,0,0,1.705,12476.65,-136.15,{type:"eggbag"},"m",1.705,0,0,1.705,12552.7,-118.15,{type:"eggbag"}]},{type:"normal",level:"2",length:9933.9,floor:[576,102.4,6.376,2.792,-6.981,0,646.7,-183.95,1.339,4.609,0,7,1075.2,-147.2,7.756,1,-26.691,0,1608.2,-348.4,4.2,.633,-4.224,0,1782.4,-178.45,1.051,3.665,0,7,2894.1,-578.6,1,7.49,0,6,2955.5,-1543,2.176,8.179,0,0,2978.25,-580.3,1.142,7.513,0,0,3072,-1546.65,1,8.243,0,6,3083.2,-579.7,1,7.513,0,6,3414.4,-228.95,1,5.092,0,6,3424.4,-1090.8,1,8.373,0,6,3768.65,-1173.15,6.702,6.762,0,0,3772.65,-228.55,6.491,5.105,0,0,4104.4,-1112.75,1,7.964,0,6,4134.95,-228.2,1,5.05,0,6,4193.15,-2079.2,26.95,2.586,0,0,4537.2,-169.05,1,3.695,0,6,4550,-684.2,1,3.293,0,6,4559.6,-1184.45,1,3.019,0,6,4700.45,49.5,94.105,1,0,0,4843.8,-1250,4.799,3.027,-14.747,0,4860.8,-164.2,5.928,3.859,0,0,4860.8,-1185.05,5.928,3.027,0,0,4860.8,-684.3,5.928,3.314,0,0,5159.6,-683.2,1,3.312,0,6,5173.6,-1184.1,1,3.042,0,6,5190.4,-171.05,1,3.695,0,6,5292.1,-1425.8,4.799,1.933,-14.747,0,5558.4,-393.7,1,8.168,0,6,5560.4,-1427.2,1.721,.883,0,0,5571.6,-1504,1.497,1.522,0,0,5721.25,-2134.85,4.845,2.586,-14.999,0,5956.45,-2705.6,20.579,5.802,0,0,6013.45,-384.3,8.301,8.308,0,0,6031.75,-2248.8,2.012,3.801,0,0,6132.35,-2237.7,1,3.579,0,6,6428.75,-386,1,8.27,0,6,6787.1,-1366.95,1,21.639,0,6,6899,-1360.9,2.045,21.508,0,0,7039.1,-1537.65,1,25.016,0,6,7383.1,-1043.1,1,21.915,0,6,7481.4,-1043.95,2.045,21.888,0,0,7542.7,-2853.6,11.442,2.586,0,0,7551.55,-117.15,1.051,2.536,0,7,7571.9,-1191.05,1,18.967,0,6,8018.1,-1505.85,1,25.822,0,6,8697.55,-1506.15,13.825,25.804,0,0],detail:[-.599,-1.007,.819,-.487,5036.35,597.55,"cave_rock1.png",1.142,-.377,-.504,-1.526,5330.3,935.65,"cave_rock2.png",-1.211,.4,-.504,-1.526,6315.8,543.95,"cave_rock2.png",-.784,.649,-.55,-.646,5948.75,167.95,"cave_rock1.png",.658,-.039,.038,.638,883.55,49.95,"cave_rock2.png",.643,-.144,.139,.624,1003.05,15.4,"cave_rock2.png",.572,.163,-.163,.572,684.35,-344.4,"flower7.png",.967,0,-.015,-1.104,-124.6,-326.05,"cave_rock3.png",-.946,-.354,.354,-.946,2055.2,-958.1,"cave_rock4.png",-1.022,.013,-.01,-.787,2349.35,-905.95,"cave_rock2.png",1.23,0,0,-.891,522.45,-913.85,"cave_rock3.png",1.264,0,-.019,-1.443,590.85,-471.05,"cave_rock3.png",.696,0,0,-.778,1658.35,-821.3,"cave_rock3.png",-.833,0,0,-.891,1799.55,-700,"cave_rock3.png",-.946,-.354,.354,-.946,2436,-958.1,"cave_rock4.png",-.739,-.427,.353,-.612,1346.6,-532.3,"cave_rock4.png",-.967,0,0,-.712,1775.65,-598.3,"cave_rock3.png",-1.051,0,0,-.774,1589.75,-860.45,"cave_rock3.png",-.946,-.354,.354,-.946,1733.6,-905.3,"cave_rock4.png",-.946,-.354,.354,-.946,1380,-975.7,"cave_rock4.png",-1.116,-.418,.354,-.946,2575.95,-1287.5,"cave_rock4.png",.578,-.192,.187,.561,960.85,-158.75,"cave_rock2.png",-.946,-.354,.354,-.946,1117.5,-701.1,"cave_rock4.png",1.23,0,0,-.891,-217,-734.9,"cave_rock3.png",.696,0,0,-.778,720.65,-564.3,"cave_rock3.png",-.833,0,0,-.891,861.85,-443,"cave_rock3.png",-.739,-.427,.353,-.612,408.9,-275.3,"cave_rock4.png",-1.051,0,0,-.774,860.05,-328.25,"cave_rock3.png",-1.051,0,0,-.774,652.05,-603.45,"cave_rock3.png",-.946,-.354,.354,-.946,795.9,-648.3,"cave_rock4.png",-.946,-.354,.354,-.946,442.3,-718.7,"cave_rock4.png",-.946,-.354,.354,-.946,1745.45,-1198.5,"cave_rock4.png",-.946,-.354,.354,-.946,2117.1,-1222.55,"cave_rock4.png",-.627,.011,-.01,-.543,1503.55,-602.1,"cave_vine2.png",.292,0,0,.292,1454,-665.8,"flower5.png",.466,0,0,.466,1618.55,-936.2,"flower1.png",.655,-.112,.112,.655,1671.2,-884.6,"cave_vine4.png",-.627,.011,-.01,-.543,477.5,-363.2,"cave_vine2.png",.37,0,0,.37,411.05,-438.1,"flower5.png",.497,0,0,.497,1924.55,-959.95,"flower3.png",.655,-.112,.112,.655,733.5,-593.45,"cave_vine4.png",.466,0,0,.466,721,-480.4,"flower1.png",-.426,0,0,.497,1117.4,-678.2,"flower4.png",-1.009,-.041,.041,-1.009,2808.2,-1167.9,"cave_rock4.png",-.685,.047,-.046,-.665,2909.6,-1163.95,"cave_rock2.png",-.602,.173,-.15,-.522,929.35,12.6,"cave_vine2.png",.342,0,0,.342,468.7,-33.95,"flower5.png",-.481,.213,.239,.541,1352.8,-329.2,"cave_rock2.png",.599,-.274,.266,.582,1094.15,-10.1,"cave_rock2.png",-.393,.338,.335,.393,1450.25,-397.2,"cave_rock1.png",1.046,-.234,.227,1.015,1037.1,149.85,"cave_rock2.png",-1.053,.235,.227,1.015,1172.85,112.85,"cave_rock2.png",-.47,-.201,-.176,.463,5288.5,-311.65,"cave_rock1.png",-.573,-.129,-.102,.56,5276.6,-167.2,"cave_rock1.png",.641,-.072,.059,.522,4461.45,-346.85,"cave_rock1.png",-.819,.023,-.029,-.683,5542.3,300.9,"cave_rock1.png",.696,-.079,.064,.567,4452.15,-171.35,"cave_rock1.png",1.164,-.131,.107,.947,4442.2,-12.95,"cave_rock1.png",-.599,-1.007,.819,-.487,4988.35,615.15,"cave_rock1.png",.511,-.029,-.033,-.58,4679.2,-89.75,"cave_rock2.png",.511,-.029,-.033,-.58,4740,81.45,"cave_rock2.png",-.508,.029,-.033,-.58,5143.9,98.45,"cave_rock2.png",-.437,-.165,-.164,.38,5259.65,-810.95,"cave_rock1.png",-.543,-.024,-.027,.514,5228.25,-725.55,"cave_rock1.png",.597,-.059,.055,.428,4481.65,-839.8,"cave_rock1.png",.711,.001,.014,.511,4478.85,-721.25,"cave_rock1.png",.476,-.024,-.031,-.476,4692.35,-628.75,"cave_rock2.png",.605,-.031,-.033,-.504,4755.55,-484.5,"cave_rock2.png",1.19,-.252,.252,1.19,7872.65,-1050.7,"cave_rock1.png",-.614,.062,.067,.665,3099.45,-815.25,"cave_rock1.png",.473,.165,-.172,.487,926.85,-190.25,"cave_rock1.png",1.102,-.105,.069,.722,6767.3,44.35,"cave_rock1.png",-.768,-.126,.169,-1.037,7029.4,-1103,"cave_rock1.png",-.64,.187,-.17,-.582,4216.6,-747.5,"cave_rock1.png",-.619,-.161,-.172,.661,4212.45,-1079.1,"cave_rock1.png",-.409,-.089,-.11,.505,1843.65,-196.95,"cave_rock1.png",-.464,-.072,-.079,.51,1856.9,-373.9,"cave_rock1.png",.88,.232,.242,-.921,3299.25,99.2,"cave_rock1.png",.602,.159,.166,-.631,3635.4,-35.1,"cave_rock1.png",-.621,-.14,-.147,.652,3193.15,-704.35,"cave_rock1.png",-.595,-.119,.119,-.596,3072.4,-192.1,"cave_rock1.png",-.662,.009,.009,.668,7627.85,-1270.05,"cave_rock1.png",-.664,.009,.009,.668,7628.65,-828.45,"cave_rock1.png",-.632,-.064,.067,-.665,7601.85,-700,"cave_rock1.png",-.816,.05,.062,1.011,7084.65,-1284.7,"cave_rock1.png",-.745,-.076,.102,-1.007,7067.05,-1419.85,"cave_rock1.png",-.722,.328,-.328,-.722,4111.55,-1164.7,"cave_rock1.png",-.595,.129,-.153,-.706,5065.5,-1048.35,"cave_rock2.png",-.429,.022,-.031,-.476,5068.5,-634.65,"cave_rock2.png",-.46,.026,-.033,-.58,5083.2,-96.95,"cave_rock2.png",-.488,.05,-.005,.587,4072.35,-1781.95,"flower7.png",-.855,-.035,.035,-.855,3311.05,-1827.15,"cave_rock2.png",-.814,.078,.063,.654,4605.75,-12.95,"cave_rock1.png",-.99,.095,.076,.795,4686.75,192,"cave_rock1.png",1.112,.216,.252,-1.298,2641.3,765.65,"cave_rock3.png",-.857,.082,.066,.688,4312.1,-.5,"cave_rock1.png",1.006,0,0,-1.176,2398.4,962.85,"cave_rock3.png",-.541,-.193,-.152,.686,3412.1,94.5,"cave_rock1.png",.274,-.093,.096,.454,3144.7,128.55,"cave_vine1.png",1.23,0,0,-.891,2236,388.2,"cave_rock3.png",1.081,0,0,-.891,2685.75,381.8,"cave_rock3.png",-1.244,.006,.005,1.017,3643.65,-6.95,"cave_rock2.png",-1.285,.123,.099,1.032,4040.15,-136.45,"cave_rock1.png",1.217,-.116,.076,.797,1554.7,6.3,"cave_rock1.png",-.997,.095,.077,.801,1795.65,-38.75,"cave_rock1.png",1.125,0,0,-1.156,2243.5,741,"cave_rock3.png",-1.132,.006,.005,.925,3735.45,310.45,"cave_rock2.png",-.99,.095,.076,.795,3989.95,254.4,"cave_rock1.png",1.458,-.139,.091,.954,1699.95,280.35,"cave_rock1.png",-1.192,.114,.091,.957,1925.95,231.6,"cave_rock1.png",1.102,-.105,.069,.722,1941.7,15.55,"cave_rock1.png",-.952,-.246,-.236,.913,3890.25,685.2,"cave_rock3.png",-.952,-.246,-.236,.913,3583.05,685.2,"cave_rock3.png",-1.166,-.302,-.29,1.119,2658.05,685.3,"cave_rock3.png",-1.166,-.302,-.29,1.119,2260.5,675.3,"cave_rock3.png",-1.198,.114,.092,.96,4377.95,210.1,"cave_rock1.png",-1.049,.1,.099,1.032,9524.15,-26.6,"cave_rock1.png",-.99,.095,.076,.795,9676.35,350.4,"cave_rock1.png",1.112,.216,.252,-1.298,7578.9,802.45,"cave_rock3.png",-1.285,.123,.099,1.032,9288.1,-37.25,"cave_rock1.png",1.006,0,0,-1.176,7336,999.65,"cave_rock3.png",-.541,-.193,-.152,.686,8349.7,131.3,"cave_rock1.png",.274,-.093,.096,.454,8082.3,165.35,"cave_vine1.png",1.23,0,0,-.891,7173.6,412.2,"cave_rock3.png",1.081,0,0,-.891,7623.35,391.4,"cave_rock3.png",-1.244,.006,.005,1.017,8581.25,29.85,"cave_rock2.png",-1.285,.123,.099,1.032,8903.35,-31.65,"cave_rock1.png",1.217,-.116,.076,.797,6492.3,43.1,"cave_rock1.png",-.997,.095,.077,.801,6733.25,-1.95,"cave_rock1.png",1.125,0,0,-1.156,7181.1,777.8,"cave_rock3.png",-1.132,.006,.005,.925,8673.05,347.25,"cave_rock2.png",-.99,.095,.076,.795,8967.55,350.4,"cave_rock1.png",1.458,-.139,.091,.954,6637.55,317.15,"cave_rock1.png",-1.192,.114,.091,.957,6863.55,268.4,"cave_rock1.png",1.102,-.105,.069,.722,6879.3,52.35,"cave_rock1.png",-.952,-.246,-.236,.913,8827.85,722,"cave_rock3.png",-.952,-.246,-.236,.913,8520.65,722,"cave_rock3.png",-1.166,-.302,-.29,1.119,7595.65,722.1,"cave_rock3.png",-1.166,-.302,-.29,1.119,7198.1,712.1,"cave_rock3.png",-1.449,.138,.111,1.162,9378,282.2,"cave_rock1.png",-.714,-.139,.12,-.619,8714.8,277.9,"cave_vine2.png",.409,0,0,.409,8240,85.4,"flower3.png",.546,-.024,.04,-.582,6379.6,231.55,"cave_vine2.png",.76,.081,.079,-.751,4454.4,-1022.55,"cave_rock2.png",-.601,.084,-.084,-.602,3155.5,-227.9,"cave_rock1.png",-.681,-.115,-.114,.673,4174.6,-971.95,"cave_rock1.png",-.67,.144,-.146,-.683,4193.8,-1002.65,"cave_rock1.png",-.708,.003,-.003,-.789,2942.75,-1298.15,"cave_rock2.png",-.812,.067,-.069,-.636,3169.4,-1121.6,"cave_rock1.png",-.643,.178,-.19,-.687,3198.6,-1697.7,"cave_rock1.png",-.722,.269,-.251,-.675,3196.95,-1449.8,"cave_rock1.png",-.594,.056,-.053,-.556,3161.15,-1215.25,"cave_rock1.png",-.587,.16,-.202,-.74,3045.2,-1696.1,"cave_rock2.png",-.587,.16,-.202,-.74,2837.15,-1680.35,"cave_rock2.png",-.708,.003,-.003,-.789,2900.45,-1444.55,"cave_rock2.png",.262,.437,-.379,.227,2990.7,-1554.8,"cave_vine2.png",-.574,0,-.019,.532,3092.25,-1258.85,"cave_vine2.png",.363,0,0,.438,3089.6,-1944.9,"cave_vine6.png",.363,0,0,.433,3089.6,-1692.3,"cave_vine6.png",.363,0,0,.433,3089.6,-1433.95,"cave_vine6.png",.27,-.156,.156,.27,3036.35,-1190.15,"flower5.png",.466,0,0,.466,3066.5,-1972.3,"flower1.png",.393,.105,-.105,.393,2948.7,-1555.9,"flower1.png",.534,-.059,-.058,-.528,318.15,217.4,"cave_rock2.png",-.512,-.077,-.079,.511,952.1,-51.35,"cave_rock1.png",-.807,.077,.062,.648,837.95,-79.3,"cave_rock1.png",-.496,-.017,-.018,.516,1777.1,-389,"cave_rock1.png",-.418,-.02,-.025,.516,1779,-204.35,"cave_rock1.png",-.512,-.077,-.079,.511,1672.1,-329.75,"cave_rock1.png",-.476,-.012,.014,-.516,222.55,237.35,"cave_rock1.png",.474,-.004,-.004,-.464,147.25,217.1,"cave_rock1.png",.466,0,0,.466,15.65,23.1,"flower1.png",-.512,-.077,-.079,.511,1672.1,-157.75,"cave_rock1.png",.498,-.056,.056,.514,822.45,-99.3,"cave_rock1.png",-.512,-.077,-.079,.511,1000.1,99.05,"cave_rock1.png",-.512,-.077,-.079,.511,1580.9,-216.95,"cave_rock1.png",-.894,.085,.069,.718,950.25,94.7,"cave_rock1.png",-.958,.092,.074,.769,735.7,150.45,"cave_rock1.png",-1.065,.102,.082,.855,507.4,94.85,"cave_rock1.png",.38,0,0,.217,-6.7,-25.95,"cave_platform2.png",.446,-.077,.044,.253,244.15,-25.35,"cave_platform2.png",.434,-.05,.029,.255,492.65,-68.65,"cave_platform2.png",.401,-.03,.023,.315,1519.75,-410.55,"cave_platform2.png",.422,-.215,.146,.287,962.55,-193.7,"cave_platform2.png",.27,-.112,.119,.288,1146.2,-314.45,"cave_platform1.png",.327,-.164,.138,.276,778.25,-104.8,"cave_platform2.png",-.236,.019,.026,.311,1611.55,-437.85,"cave_platform1.png",-.639,-.176,.176,-.639,2610.35,-1012.8,"flower8.png",.543,-.148,.187,.685,3415.45,-1021.35,"cave_rock2.png",.68,-.06,.059,.672,3344.95,-971.95,"cave_rock2.png",-.691,.118,-.136,-.797,4207.75,-1205.95,"cave_rock2.png",.646,-.181,.181,.646,3318.95,-1461.9,"cave_rock1.png",-.792,.038,-.038,-.792,3906.9,-1162.55,"cave_rock1.png",.824,-.129,.117,.746,3327,-1298.95,"cave_rock1.png",.296,-.203,-.265,-.387,3458.85,-1204.8,"cave_vine1.png",.569,-.005,.004,.537,3352.7,-1085.35,"cave_rock1.png",.732,-.069,.071,.747,3577.55,-1262.75,"cave_rock1.png",-.363,0,0,-.413,3412.15,-1207.6,"cave_vine6.png",-.363,0,0,-.413,3412.15,-966.8,"cave_vine6.png",-.363,0,0,-.413,3412.15,-731.6,"cave_vine6.png",-.01,-.603,.523,-.009,3409.4,-851.8,"cave_vine2.png",.542,0,0,.542,3341.75,-804.8,"flower3.png",.765,.104,-.104,.765,5897,-1057.65,"flower6.png",1.129,-.311,.253,.919,5734.7,-374,"cave_rock1.png",-.898,-.171,-.175,.919,6544.95,-602.55,"cave_rock1.png",1.017,.268,.28,-1.065,5413.7,-194.2,"cave_rock1.png",-.926,-.199,-.176,.82,6540.7,-763.5,"cave_rock1.png",1.279,-.007,-.006,-1.102,5496.6,-303.15,"cave_rock1.png",-1.067,.019,-.018,-1.011,6364.5,-355.3,"cave_rock1.png",-1.21,.317,-.323,-1.233,6590.4,369.95,"cave_rock1.png",-.898,-.171,-.175,.919,6540.6,-329,"cave_rock1.png",1.116,-.185,.156,.94,5426.05,-238.2,"cave_rock1.png",-1.198,.359,-.366,-1.222,6607,724.9,"cave_rock1.png",1.129,-.311,.253,.919,5584.8,-318.7,"cave_rock1.png",.485,0,0,.541,5487.95,-797.5,"cave_vine6.png",.485,0,0,.459,5487.3,-537.75,"cave_vine6.png",.466,0,0,.39,5689.6,-878.9,"cave_platform1.png",.497,0,0,.44,5498.85,-860.55,"cave_platform2.png",.485,0,0,.433,5481.95,-268.05,"cave_vine6.png",.497,0,0,.44,5995.05,-860.55,"cave_platform2.png",.435,0,0,.44,6181.3,-853.25,"cave_platform2.png",.455,.016,-.016,.455,6239.55,-742.7,"cave_vine3.png",-.493,-.096,.083,-.428,6444.7,-123.85,"cave_vine2.png",-.546,.01,-.008,-.473,6082.85,-647.55,"cave_vine2.png",.728,-.038,.038,.728,5528.9,-609.6,"cave_vine4.png",.378,0,0,.378,5649,-762.85,"flower5.png",.606,-.032,.032,.606,6173.3,-447.55,"cave_vine4.png",-.226,.391,.422,.244,6168.55,-503.85,"flower4.png",.032,.606,-.606,.032,6365.6,-202.7,"cave_vine4.png",.111,-.523,.523,.111,6245.95,266.65,"cave_vine4.png",-.452,0,0,.488,6408.75,-6.4,"flower4.png",.481,0,0,.481,6130.05,-336.25,"flower3.png",-.391,-.226,-.244,.422,5948.05,-609.45,"flower4.png",2.299,-.12,.099,1.902,8268.25,-1302.4,"cave_rock4.png",1.327,.312,.237,-1.007,7376.45,-2710.2,"cave_rock3.png",1.221,-.14,-.101,-.885,7865.95,-2828.3,"cave_rock3.png",1.164,-.173,.176,1.187,8065.35,-1127.55,"cave_rock1.png",2.089,-.109,.099,1.902,8416.35,-1604.95,"cave_rock4.png",1.212,-.28,.251,1.086,8095.85,-2221.4,"cave_rock2.png",.999,-.052,.052,.999,8215.35,-1410.6,"cave_rock2.png",.978,-.207,.207,.978,7905.1,-1325.25,"cave_rock1.png",1.029,-.315,.303,.991,7875.9,-1633.35,"cave_rock1.png",1.017,-.441,.412,.951,7847,-1901.65,"cave_rock1.png",.876,-.289,.364,1.104,8199.05,-1715.35,"cave_rock2.png",.998,-.057,.064,1.113,8170.5,-2125.55,"cave_rock2.png",1.243,-.065,-.071,-1.362,8588.55,-1378.55,"cave_rock3.png",-.921,.174,-.192,-1.02,9192.35,-1897.9,"cave_rock3.png",1.121,-.37,.467,1.413,8389.9,-1144.4,"cave_rock2.png",-1.444,.037,-.031,-1.195,9354.1,-234.1,"cave_rock4.png",1.374,-.054,.055,1.401,8266.6,-802.85,"cave_rock1.png",-1.082,.161,.169,1.141,8410.7,-751.2,"cave_rock1.png",1.19,-.252,.252,1.19,7872.25,-2462.9,"cave_rock1.png",1.164,-.173,.176,1.187,8048.95,-2539.75,"cave_rock1.png",2.299,-.12,.099,1.902,8494.35,-3106.75,"cave_rock4.png",.999,-.052,.052,.999,8198.95,-2822.8,"cave_rock2.png",.978,-.207,.207,.978,7888.7,-2737.45,"cave_rock1.png",1.017,-.441,.412,.951,7830.75,-3004.7,"cave_rock1.png",1.121,-.37,.467,1.413,8157.65,-3148.55,"cave_rock2.png",1.243,-.065,-.071,-1.362,8572.15,-2790.75,"cave_rock3.png",1.121,-.37,.467,1.413,8373.5,-2556.6,"cave_rock2.png",-.883,.023,-.031,-1.195,9445.1,-196.3,"cave_rock4.png",.584,0,0,.787,7942.15,-2010.4,"cave_vine6.png",.584,0,0,.787,7942.95,-2479.25,"cave_vine6.png",.584,0,0,.787,7942.15,-2938.4,"cave_vine6.png",.584,0,0,.787,7930.15,-687.25,"cave_vine6.png",.584,0,0,.809,7935.75,-1131.95,"cave_vine6.png",.423,-.178,.284,.676,7965.2,-487.55,"cave_vine1.png",.764,-.04,.04,.764,8016.4,-1736.8,"cave_vine4.png",-.678,-.132,.114,-.587,8495.15,-962.8,"cave_vine2.png",-.714,-.139,.12,-.619,8455.1,-2369.3,"cave_vine2.png",-.248,.43,.464,.268,7999.85,-637.35,"flower4.png",-.047,-.668,.521,-.036,8063.3,-1140.2,"cave_vine2.png",-.038,-.727,.727,-.038,8022.9,-768.95,"cave_vine4.png",.476,0,0,.476,8013.3,-1198.65,"flower5.png",.658,0,0,.658,7988.15,-833.8,"flower3.png",.497,0,0,.497,7976.4,-1784.2,"flower3.png",.409,0,0,.409,7980.3,-2561.8,"flower3.png",-.101,.518,-.449,-.087,8543.35,-541.45,"cave_vine2.png",.624,.127,-.127,.624,8450.65,-349.45,"cave_vine4.png",-.533,.173,-.173,-.533,8952.4,-297.5,"cave_vine4.png",-.43,-.015,-.012,.35,9091.2,-298.1,"cave_vine3.png",.071,-.526,.645,.087,9079.6,-257.9,"cave_vine5.png",-.207,.359,.387,.223,8860.8,-470.95,"flower4.png",0,-.414,-.447,0,8367.3,-166.6,"flower4.png",.55,0,0,.55,7928.35,-279.5,"flower1.png",-.364,-.098,-.103,.384,9169.25,-333.1,"flower5.png",.409,0,0,.409,7893.9,-2939.4,"flower3.png",.765,.104,-.104,.765,2005.8,-254.45,"flower6.png",-.761,-.145,-.145,.762,4233.15,-269.2,"cave_rock1.png",-.679,-.146,-.129,.601,4233.65,-466.65,"cave_rock1.png",1.05,-.006,-.005,-.912,3360.7,-63.95,"cave_rock1.png",-.732,.013,-.012,-.693,4010.85,-165.05,"cave_rock1.png",-.649,-.009,.009,-.661,4437,276.75,"cave_rock1.png",-1.107,.305,.253,.919,4126.05,403.2,"cave_rock1.png",.422,0,0,.472,3354.8,-467.55,"cave_vine6.png",.422,0,0,.4,3354.2,-241.2,"cave_vine6.png",.466,0,0,.39,3513.6,-562.1,"cave_platform1.png",.442,0,0,.44,3364.4,-543.75,"cave_platform2.png",.489,0,0,.44,3819.05,-543.75,"cave_platform2.png",.455,.016,-.016,.455,3866.75,-434.7,"cave_vine3.png",-.452,-.22,.191,-.392,4243.4,230.85,"cave_vine2.png",-.546,.01,-.008,-.473,3906.85,-330.75,"cave_vine2.png",.626,-.033,.033,.626,3386,-228.1,"cave_vine4.png",.282,0,0,.282,3366.6,-458.85,"flower5.png",.598,0,0,.598,3938.15,-32.25,"flower3.png",-.226,.391,.422,.244,3748.15,-339.85,"flower4.png",-.659,-.009,.009,-.668,3141.1,-626.75,"cave_rock1.png",-.614,.062,.067,.665,3113.45,-763.2,"cave_rock1.png",-.363,0,0,-.413,2887.35,-662.3,"cave_vine6.png",-.363,0,0,-.413,2887.35,-421.5,"cave_vine6.png",-.363,0,0,-.377,2887.35,-210.3,"cave_vine6.png",-.363,0,0,-.413,3148.95,-662.3,"cave_vine6.png",-.363,0,0,-.413,3148.95,-421.5,"cave_vine6.png",-.363,0,0,-.39,3145.75,-201.5,"cave_vine6.png",.328,.007,-.009,.342,2832.5,-1019.05,"cave_platform1.png",.459,0,0,.312,3511.35,-1566.9,"cave_platform1.png",.435,0,0,.353,3364.4,-1552.2,"cave_platform2.png",.481,0,0,.353,3812.1,-1552.2,"cave_platform2.png",-.363,0,0,-.413,4176.95,-1222,"cave_vine6.png",-.363,0,0,-.413,4176.95,-981.2,"cave_vine6.png",-.363,0,0,-.413,4176.95,-746,"cave_vine6.png",-.595,.129,-.153,-.706,5259.9,-1048.35,"cave_rock2.png",.604,-.169,.169,.604,4458.4,-1307.45,"cave_rock1.png",.296,-.203,-.265,-.387,4854,-1107.1,"cave_vine1.png",-.363,0,0,-.453,4539.35,-1033.5,"cave_vine6.png",.279,-.377,.327,.242,3925.15,-1264.4,"cave_vine2.png",.833,-.24,-.23,-.791,4854.75,-1045.6,"cave_rock2.png",-.569,.142,-.109,-.492,5680.15,-1380.95,"cave_rock1.png",-.634,.285,-.21,-.52,5494.45,-1369.85,"cave_rock2.png",.785,-.015,-.015,-.715,4662,-1092.45,"cave_rock2.png",-.454,.152,.1,.393,5509.6,-1645.4,"cave_platform2.png",.332,-.074,.083,.345,4917.7,-1500.9,"cave_platform1.png",-.428,.118,.098,.318,4998.95,-1505,"cave_platform2.png",.205,.004,.009,.353,5460.25,-1651.6,"cave_platform1.png",.309,-.046,.052,.347,4473.9,-1410.25,"cave_platform1.png",-.433,.116,.085,.464,3994.7,-1471.9,"cave_vine2.png",.476,0,0,.367,4159.65,-54.15,"cave_platform2.png",.476,0,0,.367,3049.25,-46.15,"cave_platform2.png",.442,0,0,.367,2495.6,-46.15,"cave_platform2.png",.489,0,0,.41,2750.25,-55.75,"cave_platform2.png",.437,0,0,.367,2277.1,-46.15,"cave_platform2.png",.405,0,0,.367,1769.2,-46.15,"cave_platform2.png",.448,0,0,.41,2002.8,-55.75,"cave_platform2.png",.416,0,0,.565,4464.95,-352.9,"cave_vine6.png",.032,.606,-.606,.032,5182.4,-329.9,"cave_vine4.png",.362,0,0,.471,4142.1,-270.95,"cave_vine6.png",.362,0,0,.375,4142.1,-479.35,"cave_vine6.png",.032,-.897,-1.284,-.046,7300.8,-2399.7,"cave_rock2.png",.872,-.162,-.201,-1.078,5810.3,-1970.25,"cave_rock2.png",.454,-.561,-.909,-.736,6976.95,-2110.5,"cave_rock2.png",-1.716,-.061,.043,-1.215,3435.85,-2218,"cave_rock2.png",-1.175,.065,-.066,-1.198,3350.8,-1985.75,"cave_rock1.png",1.289,-.071,-.057,-1.035,3153.1,-1956.45,"cave_rock1.png",-1.416,.326,-.334,-1.45,3129.85,-1931.7,"cave_rock2.png",-1.175,.06,-.061,-1.198,3927.15,-1906.95,"cave_rock1.png",-1.228,-.055,-.04,.89,5597.25,-2265.6,"cave_rock3.png",-1.08,-.048,-.04,.89,5148.2,-2285.6,"cave_rock3.png",1.243,.049,.04,-1.016,4151.15,-1938.8,"cave_rock2.png",1.29,-.066,-.053,-1.035,3772.75,-1896.2,"cave_rock1.png",-1.542,-.068,-.05,1.118,5948.8,-2648,"cave_rock3.png",-1.356,-.06,-.05,1.118,5384.75,-2673,"cave_rock3.png",1.56,.061,.05,-1.275,4161.75,-2238.85,"cave_rock2.png",1.67,-.085,-.068,-1.341,3678.2,-2205.2,"cave_rock1.png",-1.37,.075,-.057,-1.035,3871.8,-2258.4,"cave_rock1.png",1.22,-.148,-.108,-.885,5394.45,-1896.65,"cave_rock3.png",-.907,.383,-.453,-1.073,7684.2,-2738.5,"cave_rock3.png",-1.806,-.2,.177,-1.6,7097.55,-2303.65,"cave_rock3.png",1.604,-.195,-.163,-1.338,5982.65,-2320.9,"cave_rock3.png",1.604,-.195,-.163,-1.338,5693.95,-2347.3,"cave_rock3.png",.632,-.005,.016,-.586,4276.85,-1934,"cave_vine2.png",.711,.185,-.185,.711,3791.05,-2127.35,"cave_vine4.png",.916,-.172,.172,.916,4967.05,-2137.7,"cave_vine4.png",-.442,.003,.003,.374,7109.85,-2223.45,"flower5.png",.416,0,0,.565,5180.95,-352.9,"cave_vine6.png",.437,0,0,.337,5197.15,-46.15,"cave_platform2.png",.491,0,0,.525,5153.45,-846.55,"cave_vine6.png",.491,0,0,.519,4460.65,-846.55,"cave_vine6.png",.452,0,0,.34,4656.7,-908.5,"cave_platform1.png",.482,0,0,.384,4471.65,-892.5,"cave_platform2.png",.361,0,0,.384,4953,-892.5,"cave_platform2.png",.606,-.032,.032,.606,4502.9,-807.55,"cave_vine4.png",-.187,.324,.35,.202,4497.45,-848.8,"flower4.png",-.363,0,0,-.413,5236.15,-1028.4,"cave_vine6.png",.541,-.144,-.107,-.58,5126.9,-1234.65,"cave_vine2.png",.414,-.08,.061,.45,5329.4,-1370.9,"cave_vine3.png",-.125,-.513,-.415,.149,5517.25,-1372.1,"flower4.png",.838,-.01,.009,.788,3598.15,-1064.45,"cave_rock1.png",.33,.021,0,.33,4447.7,-41.95,"flower5.png",.335,.021,0,.335,4102.9,-29.15,"flower5.png",.393,.105,-.105,.393,4494.2,-1090.35,"flower1.png",.39,.014,-.014,.39,4566.35,-313.75,"cave_vine3.png",.466,0,0,.363,4656,-424,"cave_platform1.png",.372,0,0,.41,4961.45,-406.9,"cave_platform2.png",.497,0,0,.41,4465.25,-406.9,"cave_platform2.png",.39,.014,-.014,.39,4884.1,-805.2,"cave_vine3.png",.342,0,0,.342,5154.85,-1318.15,"flower3.png",.393,-.072,.044,.349,5145.2,-540.45,"flower4.png",.341,.091,-.091,.341,3063.7,-275.9,"flower1.png",.314,-.061,.061,.314,2799.4,-278.95,"flower5.png",-.336,.571,-.571,-.336,3379.15,-1949.9,"flower8.png",-.82,-.008,.014,-1.392,7109.95,-1763.75,"cave_rock1.png",-.775,.078,-.105,-1.046,7128.55,-1148.9,"cave_rock1.png",-.802,-.063,.082,-1.048,7076.6,-416.3,"cave_rock1.png",-.662,.009,.009,.668,7627.85,-646.05,"cave_rock1.png",-.626,.008,.009,.668,7631.05,-204.2,"cave_rock1.png",-.632,-.064,.067,-.665,7615.85,-88,"cave_rock1.png",-.632,.009,.009,.64,7628,-2164.45,"cave_rock1.png",-.633,.009,.009,.668,7628.65,-1735.65,"cave_rock1.png",-.632,-.064,.067,-.665,7620.85,-1607.2,"cave_rock1.png",-.64,.009,.009,.668,7627.85,-1553.25,"cave_rock1.png",-.632,-.064,.067,-.665,7601.85,-983.2,"cave_rock1.png",-.824,-.014,.017,-.963,7100.6,-283.05,"cave_rock1.png",.584,0,0,.914,7546.15,-1278.15,"cave_vine6.png",.584,0,0,.754,7551.75,-1690.05,"cave_vine6.png",.583,-.02,.026,.753,7540.4,-2137.95,"cave_vine6.png",.544,0,0,.702,7304.55,-1296.1,"cave_vine6.png",.511,0,0,.66,7311.5,-1688.95,"cave_vine6.png",.571,0,0,.737,7309.85,-2140.95,"cave_vine6.png",.584,0,0,.754,7296.55,-449.95,"cave_vine6.png",.537,0,0,.694,7304,-871.2,"cave_vine6.png",-.584,0,0,-.754,7132.55,-1199.05,"cave_vine6.png",-.72,0,0,-.754,7136.95,-1561.75,"cave_vine6.png",-.584,0,0,-.754,7133.75,-2000.55,"cave_vine6.png",-.584,0,0,-.754,7120.95,-285.15,"cave_vine6.png",-.584,0,0,-.866,7127.55,-697.15,"cave_vine6.png",.584,0,0,.714,6699.75,-1564.55,"cave_vine6.png",.584,0,0,.714,6705.35,-1955.05,"cave_vine6.png",.584,0,0,.714,6706.15,-2380.5,"cave_vine6.png",.584,0,0,.714,6693.35,-754.35,"cave_vine6.png",.584,0,0,.714,6698.95,-1144.85,"cave_vine6.png",.136,-.523,.523,.136,6672.7,-2332.25,"flower4.png",.566,-.004,.004,.566,7028.6,-2552.35,"flower1.png",.401,0,0,.337,7331.55,-2188.55,"cave_platform2.png",.425,0,0,.374,6626.25,-69.75,"cave_platform1.png",.453,0,0,.422,6452.45,-52.15,"cave_platform2.png",.453,0,0,.422,6904.6,-52.15,"cave_platform2.png",.396,0,0,.422,7074.3,-45.15,"cave_platform2.png",.391,0,0,.511,6425.55,-265.9,"cave_vine6.png",.391,0,0,.511,6429.25,-545.15,"cave_vine6.png",.391,0,0,.407,6429.25,-771.35,"cave_vine6.png",.595,-.16,.16,.595,6365.85,-745.85,"flower1.png",.425,0,0,.374,7741.45,-72.95,"cave_platform1.png",.468,0,0,.422,7556.45,-55.35,"cave_platform2.png",.396,0,0,.422,8189.5,-48.35,"cave_platform2.png",.425,0,0,.374,7941.45,-72.95,"cave_platform1.png",.425,0,0,.374,8539.85,-72.95,"cave_platform1.png",.453,0,0,.422,8366.05,-55.35,"cave_platform2.png",.396,0,0,.422,8987.9,-48.35,"cave_platform2.png",.425,0,0,.374,8739.85,-72.95,"cave_platform1.png",-.651,-.127,.11,-.564,3806.85,232.05,"cave_vine2.png",.409,0,0,.409,3330.4,30.2,"flower3.png",.41,0,0,.41,4119.8,-488.4,"flower3.png",.393,0,0,.395,1763.75,-359,"cave_vine6.png",.393,0,0,.335,1763.2,-169.65,"cave_vine6.png",.504,-.022,.037,-.538,1479.6,120.1,"cave_vine2.png",-.265,-.128,-.149,.309,1848.25,-385.25,"flower4.png",.466,0,0,.466,1465.8,41.2,"flower1.png",.322,.249,-.249,.322,3374.75,-1513.6,"flower1.png",.158,.441,-.382,.137,4058.45,-1029.9,"cave_vine2.png",.393,.105,-.105,.393,4094.2,-780.75,"flower1.png",.199,-.345,.35,.202,3982,-983.95,"flower4.png",.513,.226,.28,-.52,4458.35,-1262.6,"cave_vine2.png",.199,-.345,.35,.202,4765.2,-1148.75,"flower4.png",.199,-.345,.35,.202,4658,-1971.15,"flower4.png",.451,0,0,.552,6122.7,-2408.2,"cave_vine6.png",.42,-.246,.246,.42,6097.3,-2407.3,"flower1.png",.619,-.004,.004,.619,6062.25,-2136.95,"flower4.png",-.376,0,0,.299,4568.45,-538.4,"flower3.png",.392,-.226,.226,.392,6664.85,-331.25,"flower5.png",.328,0,0,.374,9133.45,-72.95,"cave_platform1.png",.526,.071,-.13,.956,6909.75,-1787,"cave_vine5.png",.603,.253,-.29,.693,7493.05,-1057,"cave_vine5.png",-.293,-.293,-.316,.316,7109.25,-323.7,"flower4.png",.371,-.003,.005,.753,6770.95,-2349.8,"cave_vine1.png",1.197,.281,.204,-.867,7356.65,-2974.15,"cave_rock3.png",.148,-.257,-.24,-.138,5205.2,-990.65,"flower4.png",.584,0,0,.809,7935.75,-1578.05,"cave_vine6.png",.584,0,0,.914,7546.15,-916.05,"cave_vine6.png",-.529,0,0,-.696,7643.65,58.65,"cave_vine6.png",.165,-.286,.286,.165,2095.2,-897.6,"flower4.png",.22,-.381,.381,.22,5932.05,-2039.05,"flower4.png"],active:[822.5,-140.55,"coin",891.85,-180.5,"coin",961.15,-220.45,"coin",1030.4,-260.4,"coin",1766.45,-490.9,"coin",1806.45,-552.9,"coin",1870.45,-612.9,"coin",1944.45,-652.9,"coin",2147.65,-923.5,"vine",2393,-902.5,"coin",2398.75,-862.85,"coin",2432.55,-908.25,"coin",2438.25,-868.7,"coin",2551,-990.5,"coin",2556.75,-950.85,"coin",2590.6,-996.3,"coin",2596.35,-956.65,"coin",2710.2,-1070.45,"coin",2715.95,-1030.95,"coin",2749.8,-1076.3,"coin",2755.55,-1036.7,"coin","m",.454,0,0,.595,2978.15,-19.6,{type:"kill_vine_3"},"m",.737,0,0,.737,2992,-58.6,{type:"kill_vine_1"},3164.15,-107.15,"coin",3170.95,-981.2,"coin",3171.3,-475.1,"coin",3176.7,-872.75,"coin",3177,-1392.95,"coin",3245.6,-377.8,"coin",3245.7,-1496.35,"coin",3245.7,-1289.55,"coin",3245.7,-1069.8,"coin",3253,-567.05,"coin",3253,-199.15,"coin",3261.4,-780.75,"coin",3316.95,-1599.75,"coin",3316.95,-1158.4,"coin",3334.95,-277.3,"coin",3337.7,-659.05,"coin",3583.85,-558.4,"coin",3583.85,-518.4,"coin",3623.85,-518.4,"coin",3623.85,-558.4,"coin",3729.95,-1571.2,"token",3927.15,-562.4,"coin",3927.15,-522.4,"coin",3967.15,-562.4,"coin",3967.15,-522.4,"coin",4247.75,-110.9,"coin",4247.75,-571.8,"coin",4254.9,-939.75,"coin",4254.9,-1315.9,"coin",4329.2,-1218.6,"coin",4329.2,-842.45,"coin",4332.9,-430.1,"coin",4336.6,-1031.7,"coin",4336.6,-663.8,"coin",4336.6,-1407.85,"coin",4336.6,-202.9,"coin",4418.55,-741.95,"coin",4418.55,-281.05,"coin",4421.3,-1123.7,"coin",4443.6,-1485.05,"coin",4569.5,-1487.05,"coin",4663.25,-1422.8,"coin",4856.55,-422.8,"magnet",4862.75,-907.3,"magnet","m",.801,0,0,.801,5230.6,-1568.8,{type:"kill_vine_1"},5275.45,-114.6,"coin",5275.45,-446,"coin",5276.4,-1568.15,"kill_vine_2",5282.6,-813.95,"coin","m",.801,0,0,.801,5326.05,-1588.5,{type:"kill_vine_1"
},5356.9,-716.65,"coin",5364.3,-206.6,"coin",5364.3,-905.9,"coin",5364.3,-538,"coin",5446.25,-616.15,"coin",5446.25,-284.75,"coin",5467.65,-979.4,"coin",5586.75,-968.3,"coin",5697,-897.4,"coin",6000.45,-2069.1,"vine",6250.3,-1925.35,"coin",6251.7,-1965.3,"coin",6274.15,-2282,"magnet",6290.3,-1924,"coin",6291.7,-1963.95,"coin",6408.8,-2012.6,"coin",6410.25,-2052.6,"coin",6448.75,-2011.25,"coin",6450.2,-2051.2,"coin",6568.25,-2091.9,"coin",6569.7,-2131.9,"coin",6608.3,-2090.45,"coin",6609.7,-2130.5,"coin",6685.5,-1612.95,"coin",6685.5,-680.95,"coin",6685.5,-494.55,"coin",6685.5,-867.35,"coin",6685.5,-1706.15,"coin",6685.5,-774.15,"coin",6685.5,-1519.75,"coin",6685.5,-1426.55,"coin",6685.5,-1333.35,"coin",6685.5,-1240.15,"coin",6685.5,-1799.35,"coin",6685.5,-960.55,"coin",6685.5,-1892.55,"coin",6685.5,-401.35,"coin",6685.5,-308.15,"coin",6685.5,-587.75,"coin",6685.5,-1053.75,"coin",6685.5,-1146.95,"coin",7126.8,-1914.8,"coin",7126.8,-65.2,"coin",7126.8,-990,"coin",7133.95,-527.6,"coin",7133.95,-1452.4,"coin",7133.95,-2377.2,"coin",7208.25,-2261.6,"coin",7208.25,-412,"coin",7208.25,-1336.8,"coin",7215.65,-1568,"coin",7215.65,-180.8,"coin",7215.65,-643.2,"coin",7215.65,-1105.6,"coin",7215.65,-2030.4,"coin",7224.05,-874.4,"coin",7224.05,-1799.2,"coin",7297.6,-2146,"coin",7297.6,-1221.2,"coin",7297.6,-296.4,"coin",7300.35,-758.8,"coin",7300.35,-1683.6,"coin",7340.25,-2410.15,"coin",7376.25,-2374.15,"coin",7376.25,-2410.15,"coin",7376.25,-2446.15,"coin",7412.25,-2410.15,"coin",7678.4,-1121.05,"coin",7678.4,-1188.15,"coin",7678.4,-986.85,"coin",7678.4,-1053.95,"coin",7678.4,-852.65,"coin",7678.4,-919.75,"coin",7683.2,-1255.25,"coin",7683.2,-1456.55,"coin",7683.2,-1389.45,"coin",7683.2,-1792.05,"coin",7683.2,-1724.95,"coin",7683.2,-1657.85,"coin",7683.2,-1322.35,"coin",7683.2,-1590.75,"coin",7683.2,-1523.65,"coin",7917.8,-603.25,"coin",7917.8,-353.65,"coin",7917.8,-665.65,"coin",7917.8,-416.05,"coin",7917.8,-790.45,"coin",7917.8,-478.45,"coin",7917.8,-540.85,"coin",7917.8,-728.05,"coin",7931.2,-2009.65,"coin",7931.2,-1947.25,"coin",7931.2,-1881.65,"coin",7931.2,-2070.45,"coin",7931.2,-1819.25,"coin"]},{type:"normal",level:"2",length:17390.9,floor:[227.6,-81.15,3.323,2.177,0,7,430.85,-1753.3,2.546,2.458,.825,0,444.8,-925.5,2.408,15.382,0,0,580.2,-928.6,1,15.337,0,6,594.2,49.5,12.162,1,0,0,881,-587.2,1,11.837,0,6,1053.7,-576.85,3.083,12.06,0,0,1317.75,-1128.5,2.649,1,-.242,0,1336.2,-1188.4,2.602,.99,-1.259,2,1519.5,-1209.75,1.759,.99,-17.193,2,1531.2,-1153.45,1.971,1,-15.437,0,1681.25,-1270.25,1.759,.99,-23.668,2,1693.3,-1212.5,1.904,1,-23.79,0,1828.35,-1345,1.759,.99,-29.874,2,1850.2,-1293.1,1.904,1,-29.516,0,1957.95,-1421.8,1.759,.99,-29.874,2,1979.8,-1369.9,1.904,1,-29.516,0,3555.25,-285.7,.843,7.267,-11.306,0,3569.5,-836.95,.843,4.847,18.692,0,3753.45,-1062.2,1.904,.99,52.547,2,3756.25,-952.15,3.876,1,53.419,0,3866.5,-913.55,1.915,.99,52.546,2,4004.35,-678.65,3.724,1,42.428,0,4119.95,-655.5,5.617,.99,43.315,2,4202.25,-493.05,1.993,.935,42.428,0,4480.25,-290.05,5.223,1,32.464,0,4530.2,-334.35,5.11,.99,32.078,2,4876.6,-83.05,4.394,1,21.002,0,4920.7,-133.35,3.821,.99,20.838,2,5107.15,-1082.4,.36,15.016,0,0,5165.2,4.15,2.137,1,6.003,0,5173.8,-1066.4,1,14.692,0,6,5183.05,-55.85,1.899,.99,7.367,2,5359.95,-50.15,1.899,.99,-4.436,2,5381.35,10.25,2.858,1,-3.712,0,5471.4,-639.45,1,13.081,0,6,5679.3,-1203.55,3.691,1.032,14.423,0,6018.95,-1121.1,3.691,1.032,12.183,0,6141.65,-2274.75,21.039,9.577,0,0,6177.65,-432.15,7.565,12.479,0,0,6410.75,-1049.85,4.348,1.032,8.242,0,6580.05,-438.1,1,12.607,0,6,7109.8,-661,1,10.313,0,6,7193.6,-2303.8,1,10.159,0,6,7548.2,-1928.3,1,10.437,0,6,7859.4,-660.85,14.975,10.326,.014,0,7944.75,-1928.25,7.825,10.451,.014,0,8024.65,-1078.6,9.232,1.972,.014,0,8354.6,-1925.2,1,10.5,0,6,8607.75,-660.35,1,10.313,0,6,8915.1,-458,1,9.447,0,6,9274.45,-1879.75,1,13.861,180,6,9414.8,-1879,2.807,13.858,180,0,9440.8,-457.55,10.411,9.445,0,0,9555.2,-1879.3,1,13.853,0,6,9919.9,-1526.6,1,12.964,0,6,10041.2,-2124.2,1.904,.99,42.841,2,10062.5,-2016.25,3.876,1,43.714,0,10078.55,49.5,129.669,1,0,0,10161.55,-3316.45,7.418,5.441,29.932,0,10177.7,-1996.75,1.915,.99,42.841,2,10334.45,-1777.2,3.876,1,40.274,0,10378.4,-1819.3,3.807,.99,40.628,2,10617.55,-1545.8,3.876,1,37.533,0,10658.5,-1595.85,3.745,.99,36.661,2,10815.35,-2668.8,11.757,5.121,54.923,0,10892.05,-1346,3.724,1,35.215,0,11009.65,-1337.6,5.617,.99,36.101,2,11111.7,-1186.75,1.993,.935,35.215,0,11384.95,-1001.95,5.223,1,32.705,0,11435.1,-1046.1,5.11,.99,32.319,2,11549.45,-1895.75,11.757,5.121,36.453,0,11833.45,-752.95,5.223,1,26.223,0,11861.25,-804.9,5.11,.99,27.088,2,12286,-534.65,5.223,1,23.96,0,12311.75,-587.7,5.11,.99,24.825,2,12736.8,-341.75,5.223,1,20.508,0,12759.3,-396.3,5.11,.99,21.372,2,13179.95,-186,4.394,1,16.31,0,13194.1,-244.15,4.362,.99,16.144,2,13596.45,-90.05,4.394,1,10.36,0,13604.45,-149.35,4.362,.99,10.196,2,14010.95,-18.1,4.394,1,9.611,0,14018.15,-77.5,4.362,.99,9.446,2,14472.4,37.35,5.252,1.001,5.235,0,14475.85,-22.35,5.214,.99,5.097,2,15118.1,-19.25,4.394,1,-20.389,0,15485.85,-5.5,4.394,1,24.612,0],detail:[-.903,.249,-.275,-1.001,6718.75,-581.6,"cave_rock3.png",-.905,.238,-.257,-.979,698.6,-1200.45,"cave_rock1.png",-.618,.089,-.136,-.948,660.25,-524.9,"cave_rock1.png",.92,.095,.047,-.724,-15.25,-193.5,"cave_rock2.png",-.624,.019,-.029,-.958,631.45,-163.95,"cave_rock1.png",1,-.007,.006,.814,7028.35,-493.65,"cave_rock1.png",-1.56,-.081,-.065,1.252,16233.9,331.85,"cave_rock1.png",-.797,-.041,-.033,.64,15685.3,-43.95,"cave_rock1.png",-.952,-.049,-.04,.764,15540.05,-100.85,"cave_rock1.png",-1.022,-.053,-.043,.821,15374.15,-55.25,"cave_rock1.png",-1.051,-.226,-.2,.931,8553.8,-1116.25,"cave_rock1.png",-.633,.075,-.082,-.693,8680.35,-276,"cave_rock1.png",-.656,.078,-.071,-.604,8685.3,-545.65,"cave_rock1.png",-.792,.038,-.038,-.792,8139.7,-2113,"cave_rock1.png",-1.051,-.226,-.2,.931,8345,-1107.45,"cave_rock1.png",-.686,.192,-.192,-.686,7219.85,-2782.8,"cave_rock1.png",-.812,.067,-.069,-.636,7114.05,-1922.15,"cave_rock1.png",.747,-.218,.2,.687,7426.85,-1660.05,"cave_rock2.png",-.717,-.256,-.253,.716,8479.95,-1721.85,"cave_rock1.png",-.785,-.02,-.017,.759,8401.05,-1729.35,"cave_rock1.png",.713,-.113,.118,.746,5329.7,-58.9,"cave_rock1.png",-.526,.004,-.004,-.537,5217.9,-1700.65,"cave_rock1.png",.518,-.05,.046,.484,5413.15,-1280.8,"cave_rock1.png",-.905,.122,-.139,-1.029,6676.9,-607.45,"cave_rock3.png",-.666,.176,-.222,-.839,6698.9,-381.1,"cave_rock2.png",-.666,.176,-.222,-.839,6690.15,-39.45,"cave_rock2.png",-.785,-.041,-.033,.63,15049.5,17.3,"cave_rock1.png",-.785,-.041,-.033,.63,14814.3,17.3,"cave_rock1.png",-.896,-.046,-.037,.719,14778.85,145.85,"cave_rock1.png",-.639,-.033,-.027,.512,14552.75,-25.9,"cave_rock1.png",-.968,.166,-.171,-.996,7725.45,-2862.45,"cave_rock2.png",1.252,-.209,.179,1.075,6130.35,337.1,"cave_rock4.png",-.94,-.202,-.179,.833,8363.3,-782.25,"cave_rock1.png",-.996,.118,-.108,-.917,8639.1,-434.55,"cave_rock1.png",-.884,-.341,-.302,.783,8749.3,-1104.6,"cave_rock1.png",1.042,-.105,-.096,-.956,4963.1,-1763.25,"cave_rock3.png",-.587,.16,-.202,-.74,5070.65,-1140.65,"cave_rock2.png",-.787,-.21,.149,-.622,6042.8,-872.5,"cave_rock1.png",-.693,.147,-.164,-.772,6080.5,-727.5,"cave_rock2.png",-.795,-.212,.15,-.628,5821.1,-905.85,"cave_rock1.png",.757,.079,.08,-.77,5925.25,-859.65,"cave_rock2.png",.708,-.004,.004,.789,5655.4,-964.95,"cave_rock2.png",1.187,0,0,1.165,5936.3,-435.35,"cave_rock4.png",-.754,.071,-.064,-.673,5228.2,-454.2,"cave_rock1.png",.983,-.008,-.008,-.943,3870.5,317.15,"cave_rock3.png",.718,.121,-.133,.793,3467.9,-917.45,"cave_rock1.png",.44,.173,-.173,.44,3567.7,-847,"cave_vine3.png",-.76,-.279,.232,-.735,4766.7,-545.35,"cave_rock2.png",-.795,-.154,.112,-.763,4966.2,-446.6,"cave_rock2.png",-1.243,.123,-.085,-.867,1470.2,-1967.75,"cave_rock1.png",.827,-.501,-.443,-.733,1833.35,-897.5,"cave_rock1.png",1.395,-.008,-.007,-1.211,832.85,-387.85,"cave_rock1.png",1.009,-.344,-.332,-.974,1565.45,-332.05,"cave_rock1.png",-1.033,.133,.117,.915,1913.25,-1243.85,"cave_rock1.png",.841,.114,-.114,.841,971.55,-1471.8,"flower6.png",-.228,.809,-.91,-.256,529.05,-1216.2,"cave_rock2.png",-.905,.238,-.257,-.979,677,-907.65,"cave_rock1.png",.776,-.337,.33,.76,-86.65,-1313.05,"cave_rock1.png",1.242,-.342,.278,1.011,1089.15,-465.7,"cave_rock1.png",-.987,-.188,-.193,1.011,1784.85,-868.75,"cave_rock1.png",-1.331,.44,-.554,-1.678,1634.85,575.25,"cave_rock2.png",.896,.342,.314,-.927,-96.55,-418.4,"cave_rock2.png",-.618,.089,-.136,-.948,601.05,-502.5,"cave_rock1.png",-1.321,-.39,-.322,1.27,461.8,-959.3,"cave_rock2.png",1.161,-.211,.212,1.165,138.8,-2068.95,"cave_rock2.png",1.118,.294,.308,-1.171,736.2,-268,"cave_rock1.png",.981,.023,.025,-1.036,161.8,-1257.05,"cave_rock1.png",-1.332,.038,-.048,-1.11,963.25,467.5,"cave_rock1.png",1.101,-.035,-.073,-1.028,-18.7,418.05,"cave_rock2.png",1.286,.093,.06,-1.034,-352.25,432.5,"cave_rock1.png",.784,.14,.142,-.811,746.55,-1724.6,"cave_rock2.png",-.69,.068,-.085,-.867,1565.5,-1686,"cave_rock1.png",-1.038,.015,-.065,.972,1424.55,-2049.35,"cave_rock2.png",1.067,-.147,-.149,-1.057,535.2,-1603.05,"cave_rock2.png",-1.018,-.219,-.194,.902,1746.6,-1143.55,"cave_rock1.png",-1.173,.021,-.02,-1.111,1379.2,-696.35,"cave_rock1.png",-1.33,.349,-.355,-1.356,2030,352.3,"cave_rock1.png",-.987,-.188,-.193,1.011,1975.2,-416.2,"cave_rock1.png",1.242,-.342,.278,1.011,738.75,-276.9,"cave_rock1.png",1.242,-.342,.278,1.011,924.35,-404.9,"cave_rock1.png",.599,-.003,.003,.464,-305.95,-54.55,"cave_platform2.png",.413,-.013,.015,.484,-5.75,-51.35,"cave_platform2.png",.584,0,0,.652,556.85,-1270.5,"cave_vine6.png",.584,0,0,.553,556.05,-957.8,"cave_vine6.png",.584,0,0,.665,549.65,-633,"cave_vine6.png",.584,0,0,.628,809.65,-1155.3,"cave_vine6.png",.584,0,0,.667,808.85,-771.15,"cave_vine6.png",-.367,.002,.001,.4,573.75,-72.65,"cave_platform1.png",.474,-.002,.001,.484,504.3,-58.7,"cave_platform2.png",.547,0,0,.484,829.8,-1250.25,"cave_platform2.png",.584,0,0,.64,802.45,-372.05,"cave_vine6.png",.43,-.25,.244,.419,1687.9,-1329.65,"cave_platform2.png",.5,.017,-.017,.5,1321.05,-1147.1,"cave_vine3.png",-.543,-.105,.091,-.47,1239.8,-373.75,"cave_vine2.png",.805,-.042,.043,.696,213.1,-1652.35,"cave_vine4.png",-.6,.011,-.009,-.52,1383.95,-944.15,"cave_vine2.png",.079,.561,-1.021,.144,1545.75,-1898.6,"cave_vine5.png",.584,0,0,.652,556.85,-1657.7,"cave_vine6.png",-.497,0,0,.536,499.4,-1292.25,"flower4.png",.435,0,0,.435,530.2,-243.55,"flower3.png",.303,-.175,.259,.448,263.1,-834.1,"cave_vine1.png",.87,-.045,.045,.87,904.35,-746.35,"cave_vine4.png",-.597,0,0,.644,623.55,-598.85,"flower4.png",.532,0,0,.532,868.2,-1087.65,"flower5.png",.381,0,0,.381,-15.25,-1102.05,"flower5.png",.342,0,0,.342,487.8,-768.5,"flower5.png",.666,-.035,.035,.666,1787.35,-1210.6,"cave_vine4.png",-.248,.43,.464,.268,1782.2,-1272.5,"flower4.png",.035,.666,-.666,.035,1152.9,-460.5,"cave_vine4.png",.122,-.575,.575,.122,1021.35,55.65,"cave_vine4.png",-.497,0,0,.536,1200.35,-244.65,"flower4.png",-.208,.451,.487,.224,1067.05,-1898.95,"flower4.png",.709,-.037,.037,.709,209.05,-550.3,"cave_vine4.png",.587,.339,-.339,.587,139.25,-616.95,"flower1.png",.658,0,0,.658,843.95,-572.7,"flower3.png",-.248,.43,.464,.268,1297.4,-808.5,"flower4.png",.403,.069,-.069,.403,1274.55,-1755.5,"flower3.png",-.44,0,0,.475,665.8,-1695.8,"flower4.png",1.177,-.214,-.212,-1.165,1399.2,-1695.95,"cave_rock2.png",1.207,-.167,-.149,-1.057,2179.8,-1929.3,"cave_rock2.png",-1.141,.301,-.302,-1.145,2402.5,-1940.7,"cave_rock2.png",.655,-.175,.175,.655,2412.85,-2065.25,"flower1.png",-1.243,.123,-.085,-.867,4270.2,-2390.15,"cave_rock1.png",.646,.271,-.271,.646,9408.4,-2840.1,"flower6.png",1.252,-.209,.179,1.075,5896.75,164.3,"cave_rock4.png",-1.138,-.431,.381,-1.007,4519.55,-1890.6,"cave_rock4.png",-1.138,-.431,.381,-1.007,5143.8,-1688,"cave_rock4.png",1.005,.26,.249,-.964,4471.15,-1532.2,"cave_rock3.png",1.187,0,0,.983,5984.3,-187.35,"cave_rock4.png",.983,-.008,-.008,-.943,4112.1,281.95,"cave_rock3.png",.983,-.008,-.008,-.943,3781.55,162.5,"cave_rock3.png",-.905,-.383,-.368,.868,4018.9,-259.7,"cave_rock3.png",-.952,-.246,-.236,.913,4712.4,259.75,"cave_rock3.png",.708,-.004,.004,.789,5931.85,-722.35,"cave_rock2.png",.627,.197,-.201,.639,5663.6,-225.8,"cave_rock1.png",.677,-.006,-.006,-.649,4887.4,464.75,"cave_rock3.png",-.692,-.265,.269,-.702,4597.05,-690.85,"cave_rock2.png",-.664,.181,-.228,-.837,5203.25,-2102.7,"cave_rock2.png",-.543,.148,-.187,-.685,5161,-1605.6,"cave_rock2.png",-.708,.003,-.003,-.789,4897.8,-960.3,"cave_rock2.png",-.812,.067,-.069,-.636,5236.45,-316.55,"cave_rock1.png",-.8,.123,-.126,-.627,4976.25,-788,"cave_rock2.png",-1,-.001,.001,-1,4973.15,-1115.2,"cave_rock2.png",-.686,.192,-.192,-.686,5269.45,-1158.8,"cave_rock1.png",-.643,.178,-.19,-.687,5265.65,-918.25,"cave_rock1.png",-.722,.269,-.251,-.675,5267.2,-695.95,"cave_rock1.png",-.587,.16,-.202,-.74,5112.25,-909.45,"cave_rock2.png",-.708,.003,-.003,-.789,4774.55,-908.4,"cave_rock2.png",-.587,.16,-.202,-.74,4792.2,-1342.5,"cave_rock2.png",-.712,-.273,.305,-.794,4546.9,-1049.85,"cave_rock2.png",-1.068,.392,-.273,-.744,7212.1,-1713.95,"cave_rock1.png",-.713,.112,-.117,-.746,5242.6,-1326.95,"cave_rock1.png",-.296,.203,.265,.387,5098.55,-1385.25,"cave_vine1.png",.262,.437,-.379,.227,5057.75,-775.35,"cave_vine2.png",-.574,0,-.019,.532,5159.3,-906.6,"cave_vine2.png",-.526,.004,-.004,-.537,5203.5,-1541.45,"cave_rock1.png",-.793,.075,-.077,-.809,5050.65,-1503.7,"cave_rock1.png",.517,.183,.149,-.423,4419.85,196.25,"cave_rock2.png",.677,-.006,-.006,-.649,4673,352.75,"cave_rock3.png",.545,-.058,-.047,-.446,5158,263.45,"cave_rock2.png",-.544,-.069,-.057,.445,5333.95,-38.75,"cave_rock2.png",.664,.129,.124,-.637,4626.05,91.95,"cave_rock3.png",.742,.144,.138,-.712,4197.8,-14.75,"cave_rock3.png",.61,.118,.138,-.712,4005,-75.25,"cave_rock3.png",.406,.317,.343,-.439,3907.45,-484.4,"cave_rock1.png",-.573,-.292,-.235,.462,4066.75,-487.35,"cave_rock1.png",-.543,-.078,-.063,.444,3925.5,-402.35,"cave_rock2.png",.488,.439,.353,-.393,3531.55,-610.6,"cave_rock1.png",-.549,.003,.002,.448,4489.7,-405.7,"cave_rock2.png",.664,-.182,.229,.837,5649.9,73.35,"cave_rock2.png",.543,-.148,.187,.684,5447.4,21.3,"cave_rock2.png",-.929,.125,-.139,-1.029,6653.5,-543.55,"cave_rock3.png",-1.285,.123,.099,1.032,5621.95,200.05,"cave_rock1.png",-.994,-.052,-.041,.798,5584.55,550.25,"cave_rock1.png",.447,.239,.253,-.474,4043.8,-370.35,"cave_rock2.png",-.894,.361,-.298,-.74,6649.05,-356.9,"cave_rock4.png",1,0,0,1,5662.15,-502.9,"cave_rock2.png",.686,-.193,.193,.686,5365.9,-459,"cave_rock1.png",.643,-.178,.191,.687,5369.5,-699.55,"cave_rock1.png",.745,-.278,.26,.696,5357.35,-950.2,"cave_rock1.png",.518,-.05,.046,.484,5425.95,-1148,"cave_rock1.png",.587,-.161,.202,.74,5522.9,-701.25,"cave_rock2.png",-.702,-.095,.106,-.782,6572.15,-740.15,"cave_rock2.png",-.689,-.002,.003,-.868,6582.6,-23.7,"cave_rock2.png",.587,-.161,.202,.74,5730.9,-717.25,"cave_rock2.png",.649,.248,-.277,.723,6016.2,-1015.9,"cave_rock2.png",.783,-.124,.124,.783,5559.9,-496.9,"cave_rock1.png",.713,-.113,.118,.746,5392.9,-290.9,"cave_rock1.png",.363,0,0,.438,5407.85,-845.45,"cave_vine6.png",.363,0,0,.413,5409.1,-1099.35,"cave_vine6.png",.363,0,0,.433,5407.85,-592.85,"cave_vine6.png",.363,0,0,.433,5407.85,-334.5,"cave_vine6.png",-.452,-.335,-.444,.599,6624.65,-918.75,"cave_vine4.png",-.347,-.093,-.141,.527,5762.55,-519.65,"cave_vine1.png",-.036,.627,-.627,-.036,5603.7,-898.35,"cave_vine4.png",-.263,-.437,.379,-.228,5577.2,-842.6,"cave_vine2.png",-.574,-.143,.124,-.497,5837.85,74.75,"cave_vine2.png",.405,0,0,.405,5395.1,-1303.35,"flower4.png",.682,-.065,.066,.695,5477.15,245.5,"cave_rock1.png",.564,.641,.514,-.453,3432.45,-959.7,"cave_rock1.png",.564,.641,.514,-.453,3585.55,-808.45,"cave_rock1.png",.363,0,0,.438,5156.65,-1165.45,"cave_vine6.png",.363,0,0,.413,5157.9,-1419.35,"cave_vine6.png",.363,0,0,.433,5157.45,-912.85,"cave_vine6.png",.363,0,0,.433,5156.65,-654.5,"cave_vine6.png",.363,0,0,.413,5157.9,-1660.15,"cave_vine6.png",.56,.503,.405,-.451,3735.5,-679,"cave_rock1.png",.495,.236,.193,-.405,4377.5,-183.15,"cave_rock2.png",.556,.499,.402,-.447,3358.35,-465.7,"cave_rock1.png",.545,.061,-.05,.446,3805.15,-365.55,"cave_rock2.png",.447,.239,.253,-.474,3900.6,-266.35,"cave_rock2.png",.517,.183,.149,-.423,4482.95,-87.45,"cave_rock2.png",.517,.183,.149,-.423,4472.65,67.45,"cave_rock2.png",-.544,-.069,-.057,.445,5191.55,-53.95,"cave_rock2.png",-.449,.111,-.107,-.431,5493.8,131.2,"cave_rock1.png",-.526,.056,-.051,-.481,5189.25,260.1,"cave_rock2.png",.514,.228,-.196,.442,5123.6,105.3,"cave_rock2.png",-.635,-.064,-.051,.51,5624.25,113.7,"cave_rock1.png",-.76,-.292,.325,-.847,4424.6,-867.45,"cave_rock2.png",-.655,-.17,-.163,.629,4900.75,217.4,"cave_rock3.png",-.655,-.17,-.163,.629,5116.75,347,"cave_rock3.png",.456,.451,.461,-.466,3744.85,-1505.05,"cave_rock3.png",.664,-.182,.229,.837,5792.7,-113.25,"cave_rock2.png",-.852,-.759,.628,-.705,4317.8,-1111.5,"cave_rock4.png",-.743,-.534,.551,-.767,4055.65,-1383.15,"cave_rock4.png",.71,.37,.355,-.681,3892.55,-1289.05,"cave_rock3.png",-.7,-.901,.746,-.579,3859.3,-1633.7,"cave_rock4.png",-.633,-.66,.682,-.654,3616.15,-1898.4,"cave_rock4.png",-.878,-.255,.263,-.907,3592.1,-2134.25,"cave_rock4.png",-.944,-.357,.369,-.975,4540.6,-1335.95,"cave_rock4.png",.77,.071,.088,-.957,3874.05,-1742.2,"cave_rock3.png",-.633,-.66,.682,-.654,3966.55,-1932,"cave_rock4.png",-.905,-.383,-.368,.868,5053.15,464.85,"cave_rock3.png",-1.138,-.431,.381,-1.007,4710.6,-1616.95,"cave_rock4.png",-1.66,.131,-.096,-1.215,4389.65,-2282.35,"cave_rock2.png",-.883,-.52,-.399,.678,5327.85,589.15,"cave_rock1.png",.916,-.36,.288,.732,5373.05,517.45,"cave_rock1.png",.881,-.241,.266,.972,5684.25,369.7,"cave_rock2.png",.477,0,0,.477,5462.45,-330.6,"flower3.png",-.35,-.261,-.253,.315,4243.65,-470,"cave_vine2.png",-.488,.066,.045,.455,4912.8,-147.9,"cave_vine2.png",.353,-.559,.66,.417,4145.8,-306.85,"cave_vine5.png",.438,.05,-.05,.438,5089.3,-51.55,"cave_vine3.png",.361,.041,-.041,.361,4752,-600.6,"cave_vine3.png",.3,.321,-.25,.234,3814.35,-1062.35,"cave_platform1.png",.255,.332,-.237,.182,3701.5,-1182.45,"cave_platform2.png",.312,.278,-.257,.289,4011.2,-815.05,"cave_platform2.png",.312,.278,-.257,.289,4221.55,-632.7,"cave_platform2.png",.315,.173,-.159,.289,4391.15,-484.9,"cave_platform1.png",.316,.172,-.158,.29,4593.45,-356.85,"cave_platform1.png",.399,.125,-.1,.319,4788.4,-217.6,"cave_platform2.png",.289,.054,-.061,.328,5006.8,-132.8,"cave_platform2.png",.287,-.014,.014,.286,5132,-102.6,"cave_platform1.png",.224,-.057,.07,.278,5269.4,-96.05,"cave_platform1.png",.409,.085,-.066,.316,5908.9,-1240.9,"cave_platform2.png",.354,.061,-.056,.325,6148.6,-1207.35,"cave_platform1.png",.405,.104,-.075,.291,5447.1,-1358.4,"cave_platform2.png",-.337,-.053,-.043,.276,5937.3,-1236.75,"cave_platform2.png",.536,0,0,.536,5475.35,-692.35,"flower4.png",.363,0,0,.366,5409.1,-1297.75,"cave_vine6.png",.474,.127,.133,-.435,5432,-1174.75,"cave_vine2.png",.382,.043,-.043,.382,3997.85,-1359.45,"cave_vine3.png",.396,-.488,.607,.492,3808.65,-1597.75,"cave_vine5.png",.45,.121,-.121,.45,3791.25,-1695,"flower1.png",.422,.113,-.113,.422,3679.65,-852.65,"flower4.png",.408,0,0,.408,3974.45,-1389.45,"flower4.png",-.542,-.145,.126,-.469,4793.65,-600.85,"cave_vine2.png",.01,.603,-.523,.009,5167.05,-1741.55,"cave_vine2.png",-.309,-.266,-.412,.478,4989.55,-1571.25,"cave_vine1.png",.45,.121,-.121,.45,4600.5,-1516,"flower1.png",.312,0,0,.312,4696.85,-676.65,"flower5.png",.312,0,0,.312,5126.25,-418.25,"flower5.png",.33,.33,-.33,.33,5449.7,-1337.45,"flower1.png",.466,0,0,.466,5043.15,-1125.65,"flower1.png",.393,.105,-.105,.393,5015.75,-776.45,"flower1.png",.505,.493,.474,-.451,3598.4,-900.2,"cave_vine2.png",.312,0,0,.312,3935.1,-677.25,"flower5.png",.544,-.145,.145,.544,4647.2,-894.7,"flower3.png",.357,0,0,.357,5039.8,-56.8,"flower4.png",.468,.043,-.043,.468,4106.75,-382.7,"flower3.png",0,.437,-.437,0,4271.15,-541.35,"flower4.png",.393,.105,-.105,.393,4548.65,-124.3,"flower1.png",.312,0,0,.312,5680.9,-564.65,"flower5.png",-.888,.218,-.225,-.917,3028.4,-2241,"cave_rock4.png",-.901,.16,-.165,-.93,3346.1,-2293.75,"cave_rock4.png",.401,0,0,.401,5407.35,-127.35,"flower4.png",.456,0,0,.456,5706.45,-1169.25,"flower3.png",.321,.035,-.036,.328,6346.65,-1160.15,"cave_platform1.png",-.931,-.315,.324,-.958,6756.85,-1625.3,"cave_rock2.png",-1.08,.005,-.004,-1.005,6591.5,-1713.2,"cave_rock2.png",1.042,-.105,-.096,-.956,5692.7,-1676.85,"cave_rock3.png",.363,0,0,.438,6580.65,-602.25,"cave_vine6.png",.363,0,0,.413,6581.9,-856.15,"cave_vine6.png",.363,0,0,.433,6580.65,-349.65,"cave_vine6.png",.363,0,0,.433,6580.65,-91.3,"cave_vine6.png",.363,0,0,.366,6581.9,-1054.55,"cave_vine6.png",-1.239,.005,-.004,-1.005,5921.1,-1742.35,"cave_rock2.png",.363,0,0,.413,5157.9,-1847.35,"cave_vine6.png",.437,0,0,.437,5135.75,-1883.6,"flower4.png",-.64,.187,-.17,-.582,8347,-1697.95,"cave_rock1.png",-.619,-.161,-.172,.661,8342.85,-2029.55,"cave_rock1.png",-.722,.328,-.328,-.722,8241.95,-2115.15,"cave_rock1.png",-.488,.05,-.005,.587,8202.75,-2732.4,"flower7.png",-.681,-.115,-.134,.791,8447.75,-2033.25,"cave_rock1.png",-.67,.144,-.146,-.683,8433,-1953.1,"cave_rock1.png",.543,-.148,.187,.685,7545.85,-1971.8,"cave_rock2.png",.68,-.06,.059,.672,7475.35,-1922.4,"cave_rock2.png",-.709,.121,-.136,-.797,8443.45,-2157.95,"cave_rock2.png",.646,-.181,.181,.646,7449.35,-2412.35,"cave_rock1.png",-.792,.038,-.038,-.792,8037.3,-2113,"cave_rock1.png",.809,-.127,.117,.746,7464.25,-2250.45,"cave_rock1.png",.296,-.203,-.265,-.387,7589.25,-2155.25,"cave_vine1.png",.526,-.004,.004,.537,7503.35,-2035.95,"cave_rock1.png",.732,-.069,.075,.79,7707.95,-2213.2,"cave_rock1.png",-.363,0,0,-.413,7542.55,-2158.05,"cave_vine6.png",-.363,0,0,-.413,7542.55,-1917.25,"cave_vine6.png",-.363,0,0,-.413,7542.55,-1682.05,"cave_vine6.png",-.01,-.603,.523,-.009,7539.8,-1802.25,"cave_vine2.png",.459,0,0,.312,7641.75,-2517.35,"cave_platform1.png",.435,0,0,.353,7494.8,-2502.65,"cave_platform2.png",.408,0,0,.353,7942.5,-2502.65,"cave_platform2.png",-.363,0,0,-.413,8417.75,-2172.45,"cave_vine6.png",-.363,0,0,-.413,8417.75,-1931.65,"cave_vine6.png",-.363,0,0,-.413,8417.75,-1696.45,"cave_vine6.png",.279,-.377,.327,.242,8055.55,-2214.85,"cave_vine2.png",-.433,.116,.085,.464,8125.1,-2422.35,"cave_vine2.png",.838,-.01,.01,.885,7811.75,-2106.1,"cave_rock1.png",.322,.249,-.249,.322,7505.15,-2464.05,"flower1.png",.158,.441,-.382,.137,8299.25,-1980.35,"cave_vine2.png",.199,-.345,.35,.202,8222.8,-1934.4,"flower4.png",.408,0,0,.353,8101.5,-2505.15,"cave_platform2.png",.755,-.189,.172,.695,7439.1,-1649.05,"cave_rock2.png",1.05,-.012,.011,.946,7723.7,-1812.1,"cave_rock1.png",.765,.104,-.104,.765,7130.55,-1434.6,"flower6.png",1.129,-.311,.253,.919,7283.45,-750.95,"cave_rock1.png",-.898,-.171,-.175,.919,8093.7,-979.5,"cave_rock1.png",1.017,.268,.28,-1.065,6962.45,-571.15,"cave_rock1.png",-.926,-.199,-.176,.82,8089.45,-1140.45,"cave_rock1.png",1.268,-.007,-.006,-1.102,7050.35,-680.15,"cave_rock1.png",-1.067,.019,-.018,-1.011,7913.25,-732.25,"cave_rock1.png",-.898,-.171,-.175,.919,8089.35,-705.95,"cave_rock1.png",1,-.166,.156,.94,7006.9,-701,"cave_rock1.png",1.129,-.311,.253,.919,7133.55,-695.65,"cave_rock1.png",.485,0,0,.608,7036.7,-1174.45,"cave_vine6.png",.485,0,0,.539,7033.25,-816.45,"cave_vine6.png",.466,0,0,.39,7238.35,-1255.85,"cave_platform1.png",.497,0,0,.44,7047.6,-1237.5,"cave_platform2.png",.485,0,0,.546,7030.7,-502.6,"cave_vine6.png",.497,0,0,.44,7543.8,-1237.5,"cave_platform2.png",.435,0,0,.44,7730.05,-1230.2,"cave_platform2.png",.455,.016,-.016,.455,7788.3,-1119.65,"cave_vine3.png",-.493,-.096,.083,-.428,7993.45,-500.8,"cave_vine2.png",-.546,.01,-.008,-.473,7631.6,-1024.5,"cave_vine2.png",.728,-.038,.038,.728,7077.65,-986.55,"cave_vine4.png",.378,0,0,.378,7197.75,-1139.8,"flower5.png",.606,-.032,.032,.606,7722.05,-824.5,"cave_vine4.png",-.226,.391,.422,.244,7717.3,-880.8,"flower4.png",.032,.606,-.606,.032,7914.35,-579.65,"cave_vine4.png",.481,0,0,.481,7678.8,-713.2,"flower3.png",-.391,-.226,-.244,.422,7496.8,-986.4,"flower4.png",.391,0,0,.511,8598.3,-642.85,"cave_vine6.png",.391,0,0,.511,8602,-922.1,"cave_vine6.png",.391,0,0,.407,8602,-1148.3,"cave_vine6.png",.466,0,0,.39,7851.15,-1255.85,"cave_platform1.png",.497,0,0,.44,8156.6,-1237.5,"cave_platform2.png",.435,0,0,.44,8342.85,-1230.2,"cave_platform2.png",-1.009,-.018,-.017,.936,8671.5,-543.65,"cave_rock1.png",.87,.166,-.175,.919,7977.25,-623.75,"cave_rock1.png",.886,-.006,.005,.737,7792.95,-460.45,"cave_rock1.png",-1.039,.007,.005,.737,7897.5,-463.8,"cave_rock1.png",1,-.007,.006,.814,7089.15,-484.05,"cave_rock1.png",.595,-.16,.16,.595,8538.6,-1122.8,"flower1.png",-1.051,-.226,-.2,.931,10189.8,-840.25,"cave_rock1.png",1.129,-.311,.253,.919,9088.25,-501.35,"cave_rock1.png",-.898,-.171,-.175,.919,9898.5,-729.9,"cave_rock1.png",1.017,.268,.28,-1.065,8767.25,-321.55,"cave_rock1.png",-.926,-.199,-.176,.82,9894.25,-890.85,"cave_rock1.png",1.268,-.007,-.006,-1.102,8855.15,-430.55,"cave_rock1.png",-1.067,.019,-.018,-1.011,9718.05,-482.65,"cave_rock1.png",-.898,-.171,-.175,.919,9894.15,-456.35,"cave_rock1.png",1,-.166,.156,.94,8811.7,-451.4,"cave_rock1.png",1.129,-.311,.253,.919,8938.35,-446.05,"cave_rock1.png",.485,0,0,.608,8841.5,-924.85,"cave_vine6.png",.485,0,0,.539,8838.05,-566.85,"cave_vine6.png",.466,0,0,.39,9043.15,-1006.25,"cave_platform1.png",.497,0,0,.44,8852.4,-987.9,"cave_platform2.png",.485,0,0,.546,8835.5,-253,"cave_vine6.png",.497,0,0,.44,9348.6,-987.9,"cave_platform2.png",.435,0,0,.374,9565.25,-971.8,"cave_platform2.png",-.493,-.096,.083,-.428,11341.95,-915.6,"cave_vine2.png",-.546,.01,-.008,-.473,9436.4,-774.9,"cave_vine2.png",.728,-.038,.038,.728,8882.45,-736.95,"cave_vine4.png",.378,0,0,.378,9002.55,-890.2,"flower5.png",.606,-.032,.032,.606,9526.85,-574.9,"cave_vine4.png",-.226,.391,.422,.244,9522.1,-631.2,"flower4.png",.032,.606,-.606,.032,9719.15,-330.05,"cave_vine4.png",.481,0,0,.481,8856.4,-50.8,"flower3.png",-.391,-.226,-.244,.422,9301.6,-736.8,"flower4.png",-.914,-.016,-.017,.936,10283.5,-294.85,"cave_rock1.png",.87,.166,-.175,.919,9980.45,-636.55,"cave_rock1.png",.886,-.006,.005,.737,9597.75,-210.85,"cave_rock1.png",-1.005,.007,.005,.737,9700.35,-215.15,"cave_rock1.png",1,-.007,.006,.814,8893.95,-234.45,"cave_rock1.png",-1.285,.123,.099,1.032,9840.55,-34.4,"cave_rock1.png",-.99,.095,.076,.795,9854.35,335.65,"cave_rock1.png",1.112,.216,.252,-1.298,7756.9,787.7,"cave_rock3.png",-1.285,.123,.099,1.032,9521.3,-34.4,"cave_rock1.png",1.006,0,0,-1.176,7514,984.9,"cave_rock3.png",-.541,-.193,-.152,.686,8527.7,116.55,"cave_rock1.png",.274,-.093,.096,.454,8260.3,150.6,"cave_vine1.png",1.23,0,0,-.891,7351.6,403.05,"cave_rock3.png",1.081,0,0,-.891,7801.35,403.85,"cave_rock3.png",-1.244,.006,.005,1.017,8759.25,15.1,"cave_rock2.png",-1.285,.123,.099,1.032,9131.75,-34.4,"cave_rock1.png",1.217,-.116,.076,.797,6649.5,19.55,"cave_rock1.png",-.997,.095,.077,.801,6881.65,-35.9,"cave_rock1.png",1.125,0,0,-1.156,7359.1,734.25,"cave_rock3.png",-1.132,.006,.005,.925,8851.05,332.5,"cave_rock2.png",-.99,.095,.076,.795,9145.55,335.65,"cave_rock1.png",1.458,-.139,.091,.954,6825.15,302.4,"cave_rock1.png",-1.192,.114,.091,.957,7075.15,231.25,"cave_rock1.png",1.102,-.105,.069,.722,7026.9,28,"cave_rock1.png",-1.166,-.302,-.29,1.119,7773.65,707.35,"cave_rock3.png",-1.166,-.302,-.29,1.119,7376.1,697.35,"cave_rock3.png",-1.449,.138,.111,1.162,9556,267.45,"cave_rock1.png",.523,0,0,.387,8302.75,-41.65,"cave_platform2.png",.523,0,0,.387,7678.65,-41.65,"cave_platform2.png",.439,0,0,.343,7954.05,-57.35,"cave_platform1.png",.523,0,0,.387,7097.3,-41.65,"cave_platform2.png",.439,0,0,.343,7372.7,-57.35,"cave_platform1.png",.523,0,0,.387,6501.65,-46.85,"cave_platform2.png",.439,0,0,.343,6801.15,-62.55,"cave_platform1.png",-.714,-.139,.12,-.619,8892.8,263.15,"cave_vine2.png",.409,0,0,.409,8418,70.65,"flower3.png",.546,-.024,.04,-.582,6557.6,216.8,"cave_vine2.png",-.587,.16,-.202,-.74,7102.65,-2551.85,"cave_rock2.png",-.594,.056,-.053,-.556,7260.2,-1847,"cave_rock1.png",-.812,.067,-.069,-.636,7268.45,-1774.15,"cave_rock1.png",-.686,.192,-.192,-.686,7301.45,-2570,"cave_rock1.png",-.643,.178,-.19,-.687,7297.65,-2329.45,"cave_rock1.png",-.722,.269,-.251,-.675,7296,-2081.55,"cave_rock1.png",-.587,.16,-.202,-.74,7144.25,-2327.85,"cave_rock2.png",-.355,.056,.073,.464,7230.45,-2852.85,"cave_vine1.png",.262,.437,-.379,.227,7089.75,-2186.55,"cave_vine2.png",.363,0,0,.438,7188.65,-2576.65,"cave_vine6.png",.363,0,0,.413,7189.9,-2830.55,"cave_vine6.png",.363,0,0,.433,7188.65,-2324.05,"cave_vine6.png",.363,0,0,.433,7188.65,-2065.7,"cave_vine6.png",.312,0,0,.312,7158.25,-1855.05,"flower5.png",.421,.201,-.201,.421,7068.75,-2642.3,"flower1.png",.393,.105,-.105,.393,7047.75,-2207.65,"flower1.png",-1.138,-.431,.381,-1.007,4848.2,-1882.55,"cave_rock4.png",1.067,-.147,-.149,-1.057,535.2,-1855.85,"cave_rock2.png",-1.141,.301,-.302,-1.145,2680.9,-2276.7,"cave_rock2.png",-1.141,.301,-.302,-1.145,2312.9,-2203.1,"cave_rock2.png",-1.141,.301,-.302,-1.145,1941.7,-2135.9,"cave_rock2.png",-.768,-.126,.169,-1.037,9540.7,-1308.6,"cave_rock1.png",-.816,.05,.044,.723,9596.75,-1529.95,"cave_rock1.png",-.745,-.076,.102,-1.007,9578.35,-1625.45,"cave_rock1.png",-.783,-.008,.014,-1.392,9603.65,-1969.55,"cave_rock1.png",-.741,.074,-.105,-1.046,9639.85,-1396.1,"cave_rock1.png",.584,0,0,.754,9524.65,-2165.35,"cave_vine6.png",.584,0,0,.754,9525.45,-2577.25,"cave_vine6.png",.584,0,0,.769,9211.05,-1708.2,"cave_vine6.png",.584,0,0,.769,9216.65,-2128.35,"cave_vine6.png",.584,0,0,.769,9217.45,-2586.1,"cave_vine6.png",.392,-.226,.226,.392,7025.75,-239.25,"flower5.png",.526,.071,-.13,.956,9470.65,-1671,"cave_vine5.png",-.293,-.293,-.316,.316,9620.55,-529.3,"flower4.png",.278,.246,-.5,.563,9492,-2565.35,"cave_vine1.png",.497,0,0,.44,9232.55,-2629.8,"cave_platform2.png",.584,0,0,.754,9524.65,-1720.55,"cave_vine6.png",-.722,.269,-.251,-.675,7064,-2081.55,"cave_rock1.png",-.931,-.315,.324,-.958,6756.85,-1910.1,"cave_rock2.png",-.963,.193,-.198,-.991,6982.4,-2311.7,"cave_rock2.png",-.959,-.212,.218,-.987,6844.85,-2523.9,"cave_rock2.png",-.959,-.212,.218,-.987,7345.65,-2741.5,"cave_rock2.png",-.974,.129,-.132,-1.002,7131.95,-2824.5,"cave_rock2.png",-.964,-.187,.193,-.992,7956.75,-2805.8,"cave_rock2.png",-.982,-.03,.031,-1.01,8251.4,-2841.9,"cave_rock2.png",-.728,-.66,.679,-.749,8347.55,-2765.65,"cave_rock2.png",-.917,-.352,.363,-.944,8736.1,-2842.5,"cave_rock2.png",-.952,-.049,-.04,.764,14576.85,72.75,"cave_rock1.png",-.994,-.052,-.041,.798,14855.45,421.7,"cave_rock1.png",1.068,.377,.44,-1.247,12714.4,561.45,"cave_rock3.png",-1.022,-.053,-.043,.821,14378.95,-55.25,"cave_rock1.png",-1.231,-.176,-.144,1.007,13819.2,-55.9,"cave_rock2.png",-1.29,-.067,-.054,1.035,14194.9,-72.65,"cave_rock1.png",-1.12,-.16,-.131,.916,13863.45,271.5,"cave_rock2.png",-.994,-.052,-.041,.798,14154.3,317.85,"cave_rock1.png",-1.453,-.075,-.06,1.165,14570.3,310.5,"cave_rock1.png",-1.12,-.16,-.131,.916,13805.85,508.3,"cave_rock2.png",1.068,.377,.44,-1.247,13524,987.05,"cave_rock3.png",1.068,.377,.44,-1.247,10026.4,123.05,"cave_rock3.png",1.068,.377,.44,-1.247,10480.8,190.25,"cave_rock3.png",-.896,-.046,-.037,.719,15113.25,169.05,"cave_rock1.png",.284,0,0,.284,6351.45,-1090.3,"flower5.png",.456,0,0,.456,6531.25,-1057.25,"flower3.png",.542,0,0,.542,7439.35,-1476.85,"flower3.png",-.363,0,0,-.455,8415.35,-1428.45,"cave_vine6.png",.393,.105,-.105,.393,8329.8,-1470.4,"flower1.png",-.363,0,0,-.413,7542.55,-1446.85,"cave_vine6.png",-.06,.57,.527,.075,7061.9,-2556.85,"cave_vine2.png",.886,-.006,.005,.737,9652.15,8.35,"cave_rock1.png",.312,0,0,.312,7175.85,-2835.85,"flower5.png",.382,0,0,.288,8544.7,-43.05,"cave_platform1.png",-.996,.118,-.108,-.917,8639.1,-314.55,"cave_rock1.png",.391,0,0,.479,8598.3,-456.45,"cave_vine6.png",.312,0,0,.312,8054.25,-2437.45,"flower5.png",-.876,-.045,-.033,.63,16087.8,5.15,"cave_rock1.png",-.785,-.041,-.033,.63,15809.5,3.7,"cave_rock1.png",-.896,-.046,-.037,.719,15774.05,145.85,"cave_rock1.png",-.952,-.049,-.04,.764,15572.05,72.75,"cave_rock1.png",-1.453,-.075,-.06,1.165,15565.5,267.3,"cave_rock1.png",-.896,-.046,-.037,.719,16108.45,169.05,"cave_rock1.png",-1.453,-.075,-.06,1.165,15211.9,428.9,"cave_rock1.png",.784,-.044,-.036,-.63,15972.1,292.4,"cave_rock1.png",.918,.048,.033,-.63,16207.3,282.7,"cave_rock1.png",-.896,-.046,-.037,.719,15758.05,353.85,"cave_rock1.png",-1.725,-.089,-.065,1.252,16706.7,163.95,"cave_rock1.png",-1.239,.005,-.004,-1.005,6225.1,-1931.15,"cave_rock2.png",-1.239,.005,-.004,-1.005,6575.5,-1998.35,"cave_rock2.png",-1.481,.006,-.005,-1.201,5752.5,-2080.45,"cave_rock2.png",1.252,-.209,.179,1.075,5824.75,474.7,"cave_rock4.png",-.524,-.492,.492,-.524,9899.7,-2910.7,"flower8.png",.512,0,0,.429,1039.55,-1270.45,"cave_platform1.png",.51,-.198,.175,.452,1391.55,-1219.3,"cave_platform2.png",-1.161,.211,-.212,-1.165,701.3,-2001.85,"cave_rock2.png",-1.161,.211,-.212,-1.165,392.5,-1758.65,"cave_rock2.png",-1.161,.211,-.212,-1.165,315.7,-1382.65,"cave_rock2.png",.053,-.598,.518,.046,342.05,-836.7,"cave_vine2.png",.693,-.189,.202,.74,9811.65,-1544.85,"cave_rock2.png",-.792,-.118,.128,-.858,13604.45,453.1,"cave_rock2.png",-.792,-.118,.128,-.858,13354.75,419.55,"cave_rock2.png",-.792,-.118,.128,-.858,13712.45,237.9,"cave_rock2.png",-.792,-.118,.128,-.858,13473.95,189.15,"cave_rock2.png",-.767,-.23,.249,-.831,13195.7,134.3,"cave_rock2.png",1.24,-.104,-.085,-1.013,7066.5,-3068.1,"cave_rock2.png",1.24,-.104,-.085,-1.013,7506.5,-3104.9,"cave_rock2.png",1.125,.53,.433,-.92,9747.9,-3240.75,"cave_rock2.png",1.185,.377,.309,-.969,10439.45,-2681.9,"cave_rock2.png",1.616,-.015,-.013,-1.348,11139.4,-1462.3,"cave_rock3.png",.685,-.067,.085,.864,10487.9,-794,"cave_rock2.png",1.252,-.209,.179,1.075,10146.3,-525.95,"cave_rock4.png",1.187,0,0,.983,10142.65,-845.6,"cave_rock4.png",-.786,-.312,.258,-.65,11800.35,-509.25,"cave_rock4.png",.858,.51,.455,-.766,10452.85,-2236.7,"cave_rock3.png",-1.315,-.479,.424,-1.165,11971.25,-1230.65,"cave_rock3.png",.708,-.004,.004,.789,10117.4,-1564.6,"cave_rock2.png",.371,-.806,-.996,-.458,12263.9,-1745.45,"cave_rock2.png",-1.169,-.379,-.275,.848,11558.75,-2218.35,"cave_rock3.png",1.077,.099,.081,-.887,10680.55,-2151.2,"cave_rock3.png",1.185,.377,.309,-.969,10266.65,-2433.9,"cave_rock2.png",-1.469,-.476,-.345,1.064,12167.25,-2559.1,"cave_rock3.png",1.234,.566,.467,-1.017,11046.25,-2143.35,"cave_rock3.png",1.216,.181,.131,-.881,11639.85,-2132.1,"cave_rock3.png",1.598,.238,.199,-1.333,11841.65,-2336.9,"cave_rock3.png",.361,.097,-.097,.361,11937.6,-1994.15,"flower5.png",.627,.197,-.201,.639,9849.15,-1068.05,"cave_rock1.png",.535,-.146,.205,.751,9486.85,-535.3,"cave_rock2.png",.535,-.146,.205,.751,9398.85,-773.7,"cave_rock2.png",.569,-.085,.117,.78,9824.55,-1919.35,"cave_rock2.png",-.745,-.568,.629,-.826,10569.5,-1091.8,"cave_rock3.png",-.694,-.41,.454,-.769,10890.3,-976.1,"cave_rock3.png",.964,0,0,.797,10222.15,-1342.4,"cave_rock4.png",.509,-.079,.127,.627,9839.05,-2135.6,"cave_rock2.png",1.079,0,0,1,9847.7,-1345.15,"cave_rock2.png",-.394,.509,-.624,-.483,10372.3,-1856.3,"cave_rock2.png",-.644,-.243,.306,-.812,10529.35,-691.45,"cave_rock2.png",1.187,0,0,.983,10439.85,-1116.65,"cave_rock4.png",.693,-.189,.202,.74,9862.85,-1544.85,"cave_rock2.png",.607,-.003,.004,.789,9860.05,-1809.4,"cave_rock2.png",.649,.248,-.277,.723,10201.75,-1858.15,"cave_rock2.png",.59,-.093,.124,.783,9835.95,-1353.45,"cave_rock1.png",.708,-.004,.004,.789,11012.9,-2012.05,"cave_rock2.png",.363,0,0,.413,9849.05,-1922.4,"cave_vine6.png",-.452,-.335,-.444,.599,10420.6,-1709.8,"cave_vine4.png",-.347,-.093,-.141,.527,10219.3,-1331.5,"cave_vine1.png",-.263,-.437,.379,-.228,10137.25,-1660.25,"cave_vine2.png",-.851,-.492,.407,-.705,11213.3,-806.5,"cave_rock4.png",-.725,-.435,.36,-.6,11467.65,-651,"cave_rock4.png",.766,-.073,.066,.695,9662.7,-596.75,"cave_rock1.png",.664,-.182,.229,.837,9978.25,-955.5,"cave_rock2.png",.799,-.387,-.478,-.987,11100.4,-1485.9,"cave_rock2.png",.861,.486,.438,-.776,10683.25,-1947.7,"cave_rock3.png",-1.209,-.978,.866,-1.071,12013.1,-1366.3,"cave_rock3.png",1.151,0,0,.952,10715.65,-992.65,"cave_rock4.png",1.151,0,0,.952,11068.35,-831.25,"cave_rock4.png",1.151,0,0,.952,10715.65,-762.75,"cave_rock4.png",1.028,0,0,.85,11594,-755.65,"cave_rock4.png",-.771,-.291,.241,-.638,12309.85,-281.35,"cave_rock4.png",1.151,0,0,.952,11425.75,-516.85,"cave_rock4.png",.916,-.36,.288,.732,9532.95,-303.8,"cave_rock1.png",1.151,0,0,.952,11762.35,-470.45,"cave_rock4.png",.477,0,0,.477,9909.6,-1139.25,"flower3.png",-.488,.066,.045,.455,9591.15,-823.75,"cave_vine2.png",.399,.697,-.697,.399,10752.3,-2419.75,"cave_vine4.png",.445,.548,.523,-.394,11348.9,-1628.65,"cave_vine2.png",.665,.321,-.321,.665,11115.55,-1845.2,"cave_vine4.png",.397,.288,-.288,.397,11094.8,-1911.1,"flower4.png",.24,.174,-.174,.24,10832.25,-2141.15,"flower5.png",.458,.333,-.333,.458,11371.4,-1739.55,"flower1.png",-.432,-.313,-.288,.397,11801.7,-1335.95,"flower4.png",.289,.302,-.233,.223,10053.25,-2178.75,"cave_platform2.png",.203,.169,-.211,.254,10218.75,-2027.7,"cave_platform1.png",.289,.214,-.196,.265,10435.35,-1830.5,"cave_platform1.png",.339,.245,-.196,.271,10638,-1649.25,"cave_platform2.png",.263,.18,-.189,.275,10835.75,-1511.35,"cave_platform2.png",.262,.119,-.119,.261,11655.75,-958,"cave_platform1.png",.609,0,0,.609,9955.45,-2020.3,"flower3.png",-.194,-.006,-.008,.279,10036,-2201.9,"cave_platform2.png",.363,0,0,.366,9849.05,-2120.8,"cave_vine6.png",.283,.189,-.159,.238,11123.65,-1315.35,"cave_platform1.png",.527,-.304,.304,.527,10470.25,-2355.4,"flower3.png",.33,.33,-.33,.33,9888.75,-2203.55,"flower1.png",.368,0,0,.368,10357.05,-1746.25,"flower4.png",.572,.414,.403,-.516,10475.3,-1442.85,"cave_vine2.png",.312,0,0,.312,10088.5,-1726.25,"flower5.png",.284,0,0,.284,10147.4,-1881.35,"flower5.png",-.407,.246,.273,.373,10546.85,-1555.2,"flower4.png",-.279,-.069,-.042,.276,10956.55,-1263.2,"flower5.png",.203,.169,-.211,.254,10352.75,-1913.3,"cave_platform1.png",.664,-.182,.229,.837,9978.25,-710.7,"cave_rock2.png",.363,0,0,.413,9849.05,-1664,"cave_vine6.png",.363,0,0,.413,9849.05,-1420,"cave_vine6.png",.363,0,0,.413,9849.05,-1180,"cave_vine6.png",.288,.18,-.152,.243,11315.6,-1178.9,"cave_platform1.png",.23,.133,-.143,.248,11495.9,-1057.85,"cave_platform1.png",1.185,.377,.309,-.969,10690.65,-2494.7,"cave_rock2.png",1.185,.377,.309,-.969,10081.05,-2749.1,"cave_rock2.png",1.224,.221,.18,-1.001,9876.25,-2912.65,"cave_rock2.png",-1.114,-.41,.34,-.922,10828.1,-2750.75,"cave_rock4.png",-1.114,-.41,.34,-.922,11208.9,-2611.55,"cave_rock4.png",-1.114,-.41,.34,-.922,10000.9,-3161.95,"cave_rock4.png",1.24,-.104,-.085,-1.013,9092.1,-3136.9,"cave_rock2.png",.75,.02,.023,-.888,8608.55,-2889.35,"cave_rock2.png",1.24,-.104,-.085,-1.013,7968.9,-3082.5,"cave_rock2.png",1.24,-.104,-.085,-1.013,8671.3,-3082.5,"cave_rock2.png",1.24,-.104,-.085,-1.013,8400.9,-3212.1,"cave_rock2.png",1.24,-.104,-.085,-1.013,8871.3,-3381.7,"cave_rock2.png",1.24,-.104,-.085,-1.013,9156.1,-3410.5,"cave_rock2.png",1.24,-.104,-.085,-1.013,6658.5,-3068.1,"cave_rock2.png",.262,.119,-.119,.261,11826.95,-874,"cave_platform1.png",.262,.119,-.119,.261,11991.75,-795.6,"cave_platform1.png",.262,.119,-.119,.261,12178.15,-709.2,"cave_platform1.png",1.151,0,0,.952,11068.15,-516.85,"cave_rock4.png",1.151,0,0,.952,10692.15,-507.25,"cave_rock4.png",-1.315,-.479,.502,-1.381,12284.85,-1048.25,"cave_rock3.png",-1.315,-.479,.465,-1.277,12601.65,-830.65,"cave_rock3.png",-.661,-.165,.143,-.573,10317.8,-736.25,"cave_vine2.png",.401,0,0,.401,9829.85,-953.7,"flower4.png",-1.315,-.479,.424,-1.165,12947.25,-641.85,"cave_rock3.png",-1.082,-.393,.325,-.895,12702.25,-.85,"cave_rock4.png",1.151,0,0,.952,11068.15,-211.25,"cave_rock4.png",1.151,0,0,.952,11455.35,-180.85,"cave_rock4.png",1.151,0,0,.952,11868.15,-144.05,"cave_rock4.png",1.493,0,0,1.236,12153,-212.15,"cave_rock4.png",-.767,-.23,.249,-.831,12953.3,65.5,"cave_rock2.png",-.798,.056,-.071,-1.004,13181.3,348.5,"cave_rock2.png",.262,.119,-.119,.261,12330.15,-637.2,"cave_platform1.png",.27,.1,-.099,.269,12512.05,-545.15,"cave_platform1.png",.27,.1,-.099,.269,12689,-474.05,"cave_platform1.png",.27,.098,-.098,.269,12864.4,-410.05,"cave_platform1.png",.278,.074,-.073,.277,13042.8,-336.25,"cave_platform1.png",-1.11,-.247,.326,-1.463,13321.05,-529.75,"cave_rock3.png",1.101,.33,.249,-.831,13078.95,-569.1,"cave_rock2.png",1.101,.33,.249,-.831,13190.95,-829.9,"cave_rock2.png",-1.362,-.307,.272,-1.205,14155.5,-314.95,"cave_rock4.png",-1.362,-.307,.272,-1.205,14304.3,-585.35,"cave_rock4.png",-1.395,.056,-.05,-1.235,14889.55,-616.5,"cave_rock4.png",-1.395,.056,-.05,-1.235,14678.35,-370.1,"cave_rock4.png",-1.395,.056,-.05,-1.235,15134.35,-368.5,"cave_rock4.png",-1.339,-.395,.35,-1.185,15195.95,-643.7,"cave_rock4.png",-1.395,.056,-.05,-1.235,15595.15,-461.3,"cave_rock4.png",-1.339,-.395,.35,-1.185,15709.55,-677.3,"cave_rock4.png",.282,.054,-.054,.282,13212.3,-282.4,"cave_platform1.png",.282,.054,-.054,.282,13398.5,-241.25,"cave_platform1.png",.283,.053,-.053,.282,13582.05,-206.9,"cave_platform1.png",.286,.03,-.03,.285,13770.9,-162.55,"cave_platform1.png",.283,.189,-.159,.238,10951.15,-1436.5,"cave_platform1.png",.554,-.149,-.12,-.518,9951.7,-1427.5,"cave_vine2.png",.536,0,0,.536,9926.4,-1542.95,"flower4.png",.405,0,0,.405,9526.05,-1275.95,"flower4.png",.283,.05,-.05,.282,13971,-140.75,"cave_platform1.png",.287,.02,-.02,.286,14154.5,-98.35,"cave_platform1.png",.287,.02,-.02,.286,14344.25,-79.4,"cave_platform1.png",.287,.019,-.019,.286,14530.55,-66.8,"cave_platform1.png",.287,-.018,.018,.286,14687,-44.45,"cave_platform1.png",.269,-.102,.102,.268,14870.5,-38.3,"cave_platform1.png",.262,-.109,.11,.265,15047.25,-100.9,"cave_platform1.png",.455,.016,-.016,.455,9654.1,-886.95,"cave_vine3.png",-1.315,-.479,.424,-1.165,12992.05,-897.85,"cave_rock3.png",-1.11,-.247,.326,-1.463,13365.85,-766.55,"cave_rock3.png",1.101,.33,.249,-.831,13235.75,-1085.9,"cave_rock2.png",.405,0,0,.405,9206.05,-1258.55,"flower4.png",.287,.019,-.019,.286,15604.15,-63.6,"cave_platform1.png",.288,-.001,.001,.287,15763.55,-49.5,"cave_platform1.png",-.215,-.089,-.109,.265,15515.65,-118.45,"cave_platform1.png",.272,.092,-.092,.272,15428.35,-142.85,"cave_platform1.png",.287,.008,-.008,.286,15964.95,-58.75,"cave_platform1.png",.287,-.012,.012,.286,16124.8,-50.9,"cave_platform1.png",.287,-.012,.012,.286,16313.6,-50.9,"cave_platform1.png",-1.362,-.307,.272,-1.205,15617.9,-494.15,"cave_rock4.png",-1.395,.056,-.05,-1.235,16147.15,-533.3,"cave_rock4.png",-1.395,.056,-.05,-1.235,16639.95,-499.7,"cave_rock4.png",-1.395,.056,-.05,-1.235,17033.55,-488.5,"cave_rock4.png",-1.395,.056,-.05,-1.235,16428.75,-806.9,"cave_rock4.png",-1.395,.056,-.05,-1.235,16908.75,-806.9,"cave_rock4.png",.792,.066,-.066,.792,12763.45,-952.65,"cave_vine4.png",.51,.137,-.137,.51,12717.25,-1010.95,"flower4.png",.566,.57,-.57,.566,10922.75,-1237.55,"cave_vine4.png",.725,.138,-.138,.725,11422.3,-776.6,"cave_vine4.png",.458,.175,-.175,.458,11385.2,-834.85,"flower4.png",.277,.106,-.106,.277,11072.05,-989.1,"flower5.png",.529,.203,-.203,.529,11696.8,-740.75,"flower1.png",.431,-.43,.43,.431,10666.95,-1102.4,"flower3.png",.705,-.019,.006,-.654,13630.95,164.6,"cave_vine2.png",-.173,.443,.444,.13,13619.4,31.95,"flower4.png",-.263,.115,.134,.245,14122.25,14.6,"flower5.png",.796,.109,-.109,.796,14111,55.5,"cave_vine4.png",.284,-.084,.084,.284,14380.6,161.9,"flower5.png",.08,-.603,.603,.08,13990.1,318.35,"flower3.png",.165,-.286,.286,.165,2450.8,-1999.65,"flower4.png",.165,-.286,.286,.165,6840.1,-1603.35,"flower4.png",.165,-.286,.286,.165,8747.5,-2897.55,"flower4.png"],
active:[657.25,-83.55,"coin",657.25,-1008.35,"coin",662.85,-1470.75,"coin",662.85,-545.95,"coin",720.95,-1355.15,"coin",720.95,-430.35,"coin",726.75,-1123.95,"coin",726.75,-661.55,"coin",726.75,-199.15,"coin",733.3,-892.75,"coin",790.8,-314.75,"coin",790.8,-1239.55,"coin",792.95,-777.15,"coin",1302,-1233.4,"coin",1382,-1238.6,"coin",1382,-1238.6,"coin",1472,-1252.6,"coin",2507.4,-2009.2,"vine",2888.45,-2074.6,"coin",2950.35,-2131.45,"coin",3041.8,-2150.6,"coin",3192.95,-2129.75,"magnet",3469.35,-1830.2,"coin",3469.75,-1778.15,"coin",3521.35,-1830.6,"coin",3521.7,-1778.55,"coin",3649.7,-1552.5,"coin",3650.1,-1500.45,"coin",3701.7,-1552.9,"coin",3702.05,-1500.85,"coin",4266.55,-636.65,"coin",4359.35,-548.65,"coin",4458.7,-464.95,"coin",4551.25,-403.2,"coin",4644.3,-345.75,"coin",4748.1,-288.3,"coin",4835.5,-231.6,"coin",4922.35,-197.7,"coin",5035.75,-163.15,"coin",5275.5,-674.3,"coin",5275.5,-594.3,"coin",5285.1,-178.3,"coin",5285.1,-1138.3,"coin",5285.1,-1058.3,"coin",5315.5,-754.3,"coin",5315.5,-514.3,"coin",5325.1,-258.3,"coin",5325.1,-978.3,"coin",5355.5,-914.3,"coin",5355.5,-354.3,"coin",5355.5,-834.3,"coin",5355.5,-434.3,"coin",5549.05,-1493.45,"coin",5549.45,-1441.4,"coin",5601.05,-1493.85,"coin",5601.4,-1441.8,"coin",6234.2,-1204.35,"coin",6333.75,-1188.25,"coin",6428.4,-1171.9,"coin",6678.35,-1329.15,"coin",6678.75,-1277.1,"coin",6730.35,-1329.55,"coin",6730.7,-1277.5,"coin",6893,-1622,"vine",7153.75,-1569.5,"coin",7209.75,-1609.5,"coin",7277.75,-1643.5,"coin",7348.65,-2595,"coin",7348.65,-2115,"coin",7348.65,-2195,"coin",7348.65,-1735,"coin",7388.65,-2515,"coin",7388.65,-1795,"coin",7388.65,-2675,"coin",7388.65,-2035,"coin",7388.65,-2275,"coin",7428.65,-2355,"coin",7428.65,-1875,"coin",7428.65,-2435,"coin",7428.65,-1955,"coin",7468.65,-2715,"coin","m",1,0,0,1,7673.6,-70.5,{type:"kill_vine_4"},"m",.999,-.039,.039,.999,7756.2,-73.6,{type:"kill_vine_1"},"m",1,0,0,1,7878.4,-1219.3,{type:"kill_vine_3"},"m",.999,-.039,.039,.999,7921,-1260.8,{type:"kill_vine_1"},"m",.999,-.039,.039,.999,8013.8,-73.6,{type:"kill_vine_1"},"m",1,0,0,1,8054.4,-35.3,{type:"kill_vine_3"},"m",.999,-.039,.039,.999,8162.6,-1260.8,{type:"kill_vine_1"},8714.3,-502.1,"coin",8714.3,-422.1,"coin",8714.3,-42.1,"coin",8714.3,-902.1,"coin",8754.3,-102.1,"coin",8754.3,-582.1,"coin",8754.3,-342.1,"coin",8754.3,-822.1,"coin",8794.3,-182.1,"coin",8794.3,-262.1,"coin",8794.3,-662.1,"coin",8794.3,-742.1,"coin",8801.8,-2918,"vine",9144.35,-2871.45,"coin",9232.7,-2927.7,"coin",9321.05,-2967.85,"coin",9432.8,-3008.15,"coin",9433.2,-2956.1,"coin",9484.8,-3008.55,"coin",9485.15,-2956.5,"coin",9680.7,-1014.9,"coin",9680.7,-1874.9,"coin",9680.7,-1394.9,"coin",9680.7,-1474.9,"coin",9709,-2307.1,"coin",9709,-2227.1,"coin",9720.7,-1554.9,"coin",9720.7,-1314.9,"coin",9720.7,-1074.9,"coin",9720.7,-1954.9,"coin",9720.7,-1794.9,"coin",9750.6,-2387.1,"coin",9750.6,-2147.1,"coin",9760.7,-1154.9,"coin",9760.7,-1234.9,"coin",9760.7,-1714.9,"coin",9760.7,-1634.9,"coin",9792.25,-2087.1,"coin",9800.7,-1994.9,"coin",9881.75,-2459.7,"coin",9882.15,-2407.65,"coin",9933.75,-2460.1,"coin",9934.1,-2408.05,"coin",10394.7,-1872,"coin",10460.75,-1810.4,"coin",10532.6,-1754.95,"coin",10603.65,-1693.45,"coin",10676.7,-1639.45,"coin",10752.9,-1582.3,"coin",10823.3,-1527.9,"coin",10895.3,-1475.1,"coin",10967.9,-1423.45,"coin",11044.1,-1366.3,"coin",11114.5,-1311.9,"coin",11186.5,-1259.1,"coin",11267.05,-1205.35,"coin",11348.8,-1156.4,"coin",11424.5,-1109.65,"coin",11501.6,-1064.65,"coin",11580.65,-1011.75,"coin",11662.4,-962.8,"coin",11738.1,-916.05,"coin",11815.2,-871.05,"coin",11896.4,-826.95,"coin",11982.05,-784.85,"coin",12061.25,-744.55,"coin",12141.85,-706.05,"coin",12219.2,-671.4,"coin",12306.75,-633.45,"coin",12387.8,-597,"coin",12470.2,-562.4,"coin",12547.2,-527.4,"coin",12634.75,-489.45,"coin",12715.8,-453,"coin",12798.2,-418.4,"coin",15382.75,-308.25,"coin",15471.1,-364.5,"coin",15559.45,-404.65,"coin",15657.85,-409.3,"token"]},{type:"normal",level:"2",length:12570.75,floor:[303.7,-430.35,6.136,3.686,0,0,899.3,-1316.5,5.773,21.795,0,6,1505.3,49.5,30.164,1,0,0,1564.4,-136.15,1.237,3.434,0,7,1585.9,-393.75,8.38,3.909,0,6,1886.75,-1100.25,8.656,2.505,0,6,2625.4,-518.3,6.571,14.171,0,6,3150.4,-558.15,6.432,13.4,0,0,3492.85,-1060.35,1.237,3.434,0,7,4448.25,-1003.2,22.604,2.147,-4.682,0,5360.9,-2812.05,8.768,12.442,-13.33,0,5810.85,-1038.45,5.635,2.147,12.07,0,5815.1,-1655.35,.961,.455,-2.35,0,5899.25,-942.25,6.785,3.048,0,0,6101.95,-1626.25,4.982,.253,9.42,0,6179.3,-2735.3,8.768,12.442,16.669,0,6472.05,-897.55,6.035,1.121,29.529,0,6659.9,-2389.05,5.401,10.301,0,0,6796.7,-1556.2,9.321,.829,0,0,6894.55,-2342.3,1,9.193,0,6,7065.55,-630.75,8.03,1.121,19.548,0,7216.15,-1905.35,1,5.804,0,6,7434.95,-2035.85,4.996,3.184,0,0,7716.6,-385.75,11.404,3.308,0,0,7742.55,-1382.35,1,10.597,0,6,7936.7,-2047.5,5.71,3.866,-9.991,0,8067.35,-981.2,1,10.007,0,6,8405.2,-2148.5,4.726,3.891,-14.999,0,8519.65,-695.1,9.674,15.718,0,0,9027.9,-96.45,.884,2.529,0,7,9035.35,-836.85,1,12.894,0,6,9464.15,-1587.9,1,26.746,0,6,10114.8,49.5,27.209,1,0,0],detail:[.646,.271,-.271,.646,1852.85,-831.3,"flower6.png",.572,.163,-.163,.572,6054.6,-1952.9,"flower7.png",.252,.046,-.034,.337,8517.55,-1603,"flower6.png",-.572,.053,.049,.532,7938.5,-2522.05,"flower7.png",.287,.162,-.12,.385,8565.35,-1630.85,"flower6.png",2.299,-.12,.099,1.902,10254.3,-1356.15,"cave_rock4.png",.552,.077,-.077,.552,1653.45,-586.3,"cave_rock1.png",.594,-.057,.07,.727,2340.05,-1181.05,"cave_rock1.png",-.228,.809,-.91,-.256,7704.35,-1772.65,"cave_rock2.png",-.905,.238,-.257,-.979,7852.3,-1464.1,"cave_rock1.png",.776,-.337,.33,.76,7088.65,-1869.5,"cave_rock1.png",1.242,-.342,.278,1.011,8264.45,-1022.15,"cave_rock1.png",-.987,-.188,-.193,1.011,9155.3,-1273.45,"cave_rock1.png",.038,-.897,-1.283,-.055,5069.5,-2093.35,"cave_rock2.png",-.71,.004,-.003,-.547,2445.55,-956,"cave_rock2.png",-1.23,0,0,.891,589.6,-603.1,"cave_rock3.png",-1.081,0,0,.891,139.85,-603.1,"cave_rock3.png",-1.264,0,.019,1.443,521.2,-1045.9,"cave_rock3.png",1.454,-.01,-.028,-1.647,-589.95,-416.4,"cave_rock2.png",-1.544,-.456,-.363,1.435,7302.75,-272.7,"cave_rock2.png",2.971,.309,-.106,1.206,7875.3,-106.6,"cave_rock1.png",-1.331,.44,-.554,-1.678,8810.15,18.8,"cave_rock2.png",-1.228,-.063,-.046,.89,9493.05,-3280.3,"cave_rock3.png",-1.08,-.056,-.046,.89,9044.15,-3303.45,"cave_rock3.png",1.243,.058,.047,-1.016,8067.55,-2959.2,"cave_rock2.png",-1.542,-.079,-.058,1.117,9847.3,-3660.1,"cave_rock3.png",-1.356,-.07,-.058,1.117,9283.45,-3689.15,"cave_rock3.png",1.56,.073,.059,-1.275,8057.45,-3263.75,"cave_rock2.png",1.221,-.14,-.101,-.885,9322.65,-2882.05,"cave_rock3.png",1.122,.429,.393,-1.161,7005.45,-949.6,"cave_rock2.png",-.985,.141,-.217,-1.512,7884.55,-865.2,"cave_rock1.png",1.069,.264,.208,-1.009,7222.25,33.85,"cave_rock2.png",-1.321,-.39,-.322,1.27,7637.1,-1515.75,"cave_rock2.png",-1.488,.195,-.231,-1.761,6789.35,-2302,"cave_rock3.png",1.19,-.252,.252,1.19,9329.35,-1104.45,"cave_rock1.png",-1.444,-.426,-.363,1.435,6587.15,-992.55,"cave_rock2.png",-1.481,-.268,-.207,1.466,6085.4,-1125.25,"cave_rock2.png",-1.311,.149,-.176,-1.551,5522.65,-523.55,"cave_rock3.png",.149,-.875,-1.081,-.184,4023.3,-1590.35,"cave_rock2.png",.244,-.775,-1.256,-.395,5038.55,-1727.45,"cave_rock2.png",.539,1.332,-1.814,.734,5720.2,-927.75,"cave_rock3.png",-1.388,.372,-.44,-1.642,5315.7,-137.25,"cave_rock3.png",-1.715,-.073,.052,-1.214,1203.4,-1939.3,"cave_rock2.png",-.749,-.069,-.084,.914,1219.1,-1205.75,"cave_rock1.png",-1.051,.035,.037,1.114,1027.55,-942.8,"cave_rock2.png",1.171,-.112,.114,1.194,2378.75,-84.95,"cave_rock1.png",2.302,0,0,1.905,2853.05,-627.95,"cave_rock4.png",-1.022,.013,-.01,-.787,1804,-271,"cave_rock2.png",.552,.077,-.077,.552,1786.25,-602.3,"cave_rock1.png",.961,-.17,.152,.861,2452.1,-1164,"cave_rock2.png",-.71,.004,-.003,-.547,2245.55,-956,"cave_rock2.png",1,0,0,1,2543.3,-359.8,"cave_rock2.png",.686,-.193,.193,.686,2247.05,-315.9,"cave_rock1.png",.643,-.178,.191,.687,2250.65,-556.45,"cave_rock1.png",.813,-.303,.284,.76,2217.05,-815.3,"cave_rock1.png",.594,-.057,.053,.556,2287.7,-1039,"cave_rock1.png",.587,-.161,.202,.74,2404.05,-558.15,"cave_rock2.png",.708,-.004,.004,.789,2629.35,-1010.65,"cave_rock2.png",.623,.003,.004,-.547,1458.35,-952.75,"cave_rock1.png",.687,-.003,.003,.65,1659.85,-1216.65,"cave_rock2.png",-.843,0,0,.73,1821,-475,"cave_rock2.png",.696,0,0,-.778,1127.4,-159.15,"cave_rock3.png",-.607,.005,.004,.533,2027.85,-421.95,"cave_rock1.png",-.833,0,0,-.891,1355,-217.05,"cave_rock3.png",-.67,-.065,-.07,.718,1222.7,-938.8,"cave_rock1.png",1.475,0,0,1.22,3309.2,-1046.8,"cave_rock4.png",1.245,0,0,-1.574,2914.3,-310.35,"cave_rock3.png",-.929,.125,-.139,-1.029,3544.35,-795.55,"cave_rock3.png",1.23,0,0,-.891,724.6,385.9,"cave_rock3.png",1.081,0,0,-.891,1178.35,387.5,"cave_rock3.png",-1.244,.006,.005,1.017,2136.25,-1.25,"cave_rock2.png",-1.285,.123,.099,1.032,2520.8,-50.75,"cave_rock1.png",1.139,-.311,.392,1.435,2703.7,-84.85,"cave_rock2.png",-.875,-.505,.505,-.875,428.5,-265.55,"cave_rock4.png",-.739,-.427,.353,-.612,764.45,-143.75,"cave_rock4.png",-1.051,0,0,-.774,1215.6,-196.7,"cave_rock3.png",-1.051,.035,.037,1.114,968.95,-1340.9,"cave_rock2.png",1.245,0,0,-1.364,78.55,-629.6,"cave_rock3.png",-1.175,.056,-.057,-1.198,1116.65,-1707.7,"cave_rock1.png",-2.046,1.055,-.873,-1.693,962.25,-1552.7,"cave_rock4.png",-.855,-.041,.041,-.855,1075.45,-1504.5,"cave_rock2.png",-.994,.109,-.109,-.994,1246.85,-1335.85,"cave_rock1.png",-.837,.268,-.25,-.782,1251.9,-1127.5,"cave_rock1.png",-1.152,.257,-.324,-1.452,997.65,-1125,"cave_rock2.png",-1.243,-.059,-.065,1.363,571.1,-1510,"cave_rock3.png",1.29,-.062,-.05,-1.035,918.75,-1679.8,"cave_rock1.png",-1.152,.257,-.324,-1.452,792.05,-1723.25,"cave_rock2.png",-1.175,.051,-.053,-1.199,1692.45,-1624.7,"cave_rock1.png",-1.228,-.063,-.046,.89,3365.05,-1971.5,"cave_rock3.png",-1.08,-.056,-.046,.89,2916.15,-1994.65,"cave_rock3.png",1.243,.058,.047,-1.016,1939.55,-1650.4,"cave_rock2.png",1.29,-.057,-.045,-1.036,1552.35,-1614.95,"cave_rock1.png",1.217,-.116,.076,.797,47.3,12,"cave_rock1.png",-.997,.095,.077,.801,288.25,-33.05,"cave_rock1.png",-1.061,-.252,-.26,1.17,7049.85,-710.25,"cave_rock1.png",-2.132,0,0,1.905,5704.7,-196.95,"cave_rock4.png",-1.466,0,0,1.583,6465.6,-305.9,"cave_rock2.png",-.915,-.156,-.144,.988,6762,-103.35,"cave_rock1.png",-.962,-.388,-.336,.971,6802.7,-381.2,"cave_rock1.png",-.962,-.388,-.336,.971,6787.9,-806.8,"cave_rock1.png",-1.544,-.456,-.363,1.435,6549.95,-519.1,"cave_rock2.png",-.926,-.005,-.005,1.115,6477.85,-888.7,"cave_rock2.png",-1.366,0,0,1.22,4493.5,-1072.85,"cave_rock4.png",-1.311,.149,-.176,-1.551,5027.4,-523.55,"cave_rock3.png",-1.439,-.425,-.363,1.435,6322.25,102.55,"cave_rock2.png",-1.542,-.079,-.058,1.117,3719.3,-2351.3,"cave_rock3.png",-1.356,-.07,-.058,1.117,3155.45,-2380.35,"cave_rock3.png",1.56,.073,.059,-1.275,1929.45,-1954.95,"cave_rock2.png",1.671,-.073,-.059,-1.341,1445.7,-1924.8,"cave_rock1.png",-1.37,.066,-.05,-1.035,1639.65,-1976.6,"cave_rock1.png",2.302,0,0,1.905,3019.05,-22.9,"cave_rock4.png",2.302,0,0,1.905,3529.2,-706.2,"cave_rock4.png",2.302,0,0,1.905,3763.3,-204.95,"cave_rock4.png",1.221,-.14,-.101,-.885,3194.65,-1573.25,"cave_rock3.png",-1.243,-.059,-.065,1.363,6053.9,-273.15,"cave_rock3.png",-1.212,.501,-.593,-1.434,5533.6,-2247.4,"cave_rock3.png",-1.815,-.095,.084,-1.607,4858.55,-1866.45,"cave_rock3.png",1.605,-.184,-.153,-1.34,3770.2,-1815.85,"cave_rock3.png",1.605,-.184,-.153,-1.34,3418.3,-1968.45,"cave_rock3.png",1.892,-.181,.133,1.396,2399.2,301.55,"cave_rock1.png",1.592,0,0,-1.156,531.75,746.7,"cave_rock3.png",1.264,0,0,-1.476,1147,883.4,"cave_rock3.png",-1.454,.007,.006,1.188,2266.45,352.1,"cave_rock2.png",-1.502,.144,.115,1.206,2715.85,327.15,"cave_rock1.png",1.458,-.139,.091,.954,134.35,322.2,"cave_rock1.png",-1.192,.114,.091,.957,418.55,237.3,"cave_rock1.png",-1.07,.005,-.004,-.824,6868.6,-1240.75,"cave_rock2.png",.783,.066,.051,-.546,5760.95,-1438.45,"cave_rock1.png",1.01,.2,-.139,.55,5985.05,-1650.3,"cave_rock2.png",-1.385,.007,-.005,-1.021,7141.55,-1168.4,"cave_rock2.png",-1.424,.187,-.221,-1.685,6012.15,-2146.05,"cave_rock3.png",.592,-.931,-1.758,-1.118,6362.2,-1866.3,"cave_rock2.png",1.164,-.173,.176,1.187,9522.05,-1181.3,"cave_rock1.png",2.299,-.12,.099,1.902,9873.05,-1658.7,"cave_rock4.png",1.212,-.28,.251,1.086,9552.55,-2275.15,"cave_rock2.png",.999,-.052,.052,.999,9672.05,-1464.35,"cave_rock2.png",.978,-.207,.207,.978,9361.8,-1379,"cave_rock1.png",1.017,-.441,.412,.951,9303.85,-1646.25,"cave_rock1.png",1.017,-.441,.412,.951,9303.7,-1955.4,"cave_rock1.png",.876,-.289,.364,1.104,9655.75,-1769.1,"cave_rock2.png",.998,-.057,.064,1.113,9627.2,-2179.3,"cave_rock2.png",1.243,-.065,-.071,-1.362,10045.25,-1432.3,"cave_rock3.png",-.921,.174,-.192,-1.02,10649.05,-1951.65,"cave_rock3.png",1.121,-.37,.467,1.413,9846.6,-1198.15,"cave_rock2.png",-1.444,.037,-.031,-1.195,10810.8,-287.85,"cave_rock4.png",1.36,-.202,.206,1.387,9712.25,-818.65,"cave_rock1.png",-1.144,.17,.176,1.184,9867.4,-804.95,"cave_rock1.png",1.19,-.252,.252,1.19,9328.95,-2516.65,"cave_rock1.png",1.164,-.173,.176,1.187,9505.65,-2593.5,"cave_rock1.png",2.299,-.12,.099,1.902,9951.05,-3160.5,"cave_rock4.png",1.212,-.28,.251,1.086,9536.15,-3687.35,"cave_rock2.png",.999,-.052,.052,.999,9655.65,-2876.55,"cave_rock2.png",.978,-.207,.207,.978,9345.4,-2791.2,"cave_rock1.png",1.017,-.441,.412,.951,9287.45,-3058.45,"cave_rock1.png",1.017,-.441,.412,.951,9287.3,-3367.6,"cave_rock1.png",1.121,-.37,.467,1.413,9614.35,-3202.3,"cave_rock2.png",.998,-.057,.064,1.113,9610.8,-3591.5,"cave_rock2.png",1.243,-.065,-.071,-1.362,10028.85,-2844.5,"cave_rock3.png",-.921,.174,-.192,-1.02,10632.65,-3363.85,"cave_rock3.png",1.121,-.37,.467,1.413,9830.2,-2610.35,"cave_rock2.png",1.46,-.076,.099,1.902,10148.3,-2564.9,"cave_rock4.png",-1.284,-.045,.015,1.027,6972.55,-2300.95,"cave_rock1.png",-.915,-.156,-.144,.988,7009.2,-2560.95,"cave_rock1.png",-.962,-.388,-.336,.971,7049.1,-2830.8,"cave_rock1.png",-.962,-.388,-.336,.971,7034.3,-3139.6,"cave_rock1.png",1.161,-.211,.212,1.165,7430.9,-2203,"cave_rock2.png",1.118,.294,.308,-1.171,7911.5,-824.45,"cave_rock1.png",.981,.023,.025,-1.036,7174.15,-1787.25,"cave_rock1.png",-1.511,.043,-.048,-1.11,8138.55,-88.95,"cave_rock1.png",1.069,.264,.208,-1.009,7022.25,-250.95,"cave_rock2.png",1.212,.438,.338,-.979,6703.75,-350.45,"cave_rock1.png",.796,.005,.003,-.824,7914.5,-1922.6,"cave_rock2.png",-.668,.184,-.23,-.84,8728.25,-2022.65,"cave_rock1.png",-1.02,.19,.1,.969,8528.1,-2357,"cave_rock2.png",1.067,-.147,-.149,-1.057,7732.9,-1809.1,"cave_rock2.png",-1.466,0,0,1.583,7198.4,-59.5,"cave_rock2.png",-1.439,-.425,-.363,1.435,7055.05,348.95,"cave_rock2.png",-1.243,-.059,-.065,1.363,6786.7,-26.75,"cave_rock3.png",-1.228,-.063,-.046,.89,8155.45,-3078.7,"cave_rock3.png",-1.08,-.056,-.046,.89,7706.55,-3101.85,"cave_rock3.png",1.243,.058,.047,-1.016,6729.95,-2757.6,"cave_rock2.png",-1.542,-.079,-.058,1.117,8509.7,-3458.5,"cave_rock3.png",-1.356,-.07,-.058,1.117,7945.85,-3487.55,"cave_rock3.png",1.56,.073,.059,-1.275,6719.85,-3062.15,"cave_rock2.png",1.221,-.14,-.101,-.885,7985.05,-2680.45,"cave_rock3.png",-1.018,-.219,-.194,.902,9150.7,-1450.4,"cave_rock1.png",1.395,-.008,-.007,-1.211,8008.15,-944.3,"cave_rock1.png",-1.173,.021,-.02,-1.111,8956.9,-1001.6,"cave_rock1.png",-1.33,.349,-.355,-1.356,9205.3,-204.15,"cave_rock1.png",-.987,-.188,-.193,1.011,9150.5,-972.65,"cave_rock1.png",1.242,-.342,.278,1.011,7914.05,-833.35,"cave_rock1.png",-1.317,.394,-.402,-1.343,9223.55,186.1,"cave_rock1.png",-1.881,.054,-.067,-1.568,8230.35,490.2,"cave_rock1.png",-1.4,-.181,-.191,.988,7673.8,143.05,"cave_rock1.png",-1.27,-.388,-.443,.971,7671.5,-170,"cave_rock1.png",-1.129,0,0,-.891,10576.95,381.25,"cave_rock3.png",-.993,0,0,-.891,10163.95,393.25,"cave_rock3.png",1.142,.006,-.005,1.017,9284.35,4.5,"cave_rock2.png",1.18,.123,-.091,1.032,8931.25,-56.2,"cave_rock1.png",-1.407,-.146,-.088,1.003,11095.6,51.15,"cave_rock1.png",1.351,.141,-.091,1.032,10721.2,-90,"cave_rock1.png",-1.32,0,0,-1.476,10669,926.4,"cave_rock3.png",-1.16,0,0,-1.476,10192.75,891.55,"cave_rock3.png",1.335,.007,-.006,1.188,9164.8,352.65,"cave_rock2.png",1.379,.144,-.106,1.206,8752.15,321.7,"cave_rock1.png",-1.948,-.203,-.103,1.172,11341.35,447.15,"cave_rock1.png",1.379,.144,-.106,1.206,10873.35,251.3,"cave_rock1.png",1.242,-.342,.278,1.011,8099.65,-961.35,"cave_rock1.png",1.205,-.005,.003,.725,412.4,-4.7,"cave_rock1.png",1.351,.141,-.091,1.032,11028.4,-62.8,"cave_rock1.png",-1.444,.037,-.031,-1.195,11190,-257.45,"cave_rock4.png",.587,-.161,.202,.74,2612.05,-574.15,"cave_rock2.png",.708,-.004,.004,.789,2536.55,-821.85,"cave_rock2.png",.708,-.004,.004,.789,2796.2,-743.25,"cave_rock2.png",.708,-.004,.004,.789,2849,-514.45,"cave_rock2.png",.783,-.124,.124,.783,2441.05,-353.8,"cave_rock1.png",.783,-.124,.124,.783,2241.05,-142.6,"cave_rock1.png",.708,-.004,.004,.789,2506.15,-956.25,"cave_rock2.png",.708,-.004,.004,.789,2809.3,-1210.7,"cave_rock2.png",-.607,.005,.004,.533,1884.2,-421.9,"cave_rock1.png",-.67,-.065,-.07,.718,1218.7,-732.4,"cave_rock1.png",-1.444,.037,-.031,-1.195,11650.65,-257.45,"cave_rock4.png",2.299,-.12,.099,1.902,10747.05,-1356.15,"cave_rock4.png",.493,.15,-.156,.511,9794.3,-903.45,"flower7.png",-.385,.001,.001,.375,6680.55,-1661.45,"cave_platform1.png",-.385,.001,.001,.375,6655.55,-1666.45,"cave_platform1.png",.578,-.071,.047,.38,1408.55,-1205.15,"cave_vine6.png",.564,.203,-.157,.436,6893.6,-799.3,"cave_platform2.png",.401,.099,-.116,.47,7161.9,-699.25,"cave_platform2.png",.488,0,0,.535,1937.8,-559.1,"cave_vine6.png",.426,0,0,.392,1129.2,-830.3,"cave_vine6.png",.426,0,0,.458,1129.2,-1097.35,"cave_vine6.png",.55,0,0,.429,1758.25,-1306.9,"cave_platform1.png",.665,-.046,.039,.563,3730.2,-1161.05,"cave_platform1.png",.557,0,0,.412,1434.4,-1275.55,"cave_platform2.png",.55,0,0,.429,2504.8,-1302.85,"cave_platform1.png",.655,0,0,.484,2172.95,-1285.1,"cave_platform2.png",.49,0,0,.363,1383,-636.8,"cave_platform2.png",.47,0,0,.366,1591.05,-654.1,"cave_platform1.png",.523,0,0,.387,1704.05,-57.2,"cave_platform2.png",.379,0,0,.343,1979.45,-72.9,"cave_platform1.png",.523,0,0,.387,1079.95,-57.2,"cave_platform2.png",.439,0,0,.343,1355.35,-72.9,"cave_platform1.png",.363,0,0,.438,2289,-702.35,"cave_vine6.png",.363,0,0,.413,2290.25,-956.25,"cave_vine6.png",.523,0,0,.387,498.6,-57.2,"cave_platform2.png",.439,0,0,.343,774,-72.9,"cave_platform1.png",.652,-.059,.044,.482,4268.25,-1153.7,"cave_platform2.png",.624,-.057,.044,.482,3416.8,-1081.1,"cave_platform2.png",.676,0,0,.484,2973.45,-1285.1,"cave_platform2.png",.578,-.04,.039,.563,4892.05,-1268.1,"cave_platform1.png",.684,.181,-.124,.468,5560.65,-1285.4,"cave_platform2.png",.624,-.057,.044,.482,4578.65,-1188.15,"cave_platform2.png",.385,.037,-.047,.492,5925.35,-1205,"cave_platform1.png",.509,.316,-.255,.412,6287.15,-1157.35,"cave_platform2.png",.41,-.032,.044,.563,5191.15,-1281.25,"cave_platform1.png",.574,.107,-.079,.425,5911.1,-1732.15,"cave_platform2.png",.551,-.002,.001,.35,6545.75,-1644.1,"cave_platform2.png",-.245,.002,.003,.391,5987.15,-1742.65,"cave_platform1.png",.539,.261,-.211,.436,6574.1,-970.5,"cave_platform2.png",.584,0,0,.787,9393.25,-1633.8,"cave_vine6.png",.584,0,0,.787,9398.85,-2064.15,"cave_vine6.png",.584,0,0,.787,9399.65,-2533,"cave_vine6.png",.584,0,0,.787,9398.85,-2992.15,"cave_vine6.png",.584,0,0,.787,9386.85,-741,"cave_vine6.png",.584,0,0,.787,9392.45,-1171.35,"cave_vine6.png",-.586,0,0,-.523,6971.3,-2166.05,"cave_vine6.png",.435,0,0,.523,6884.5,-2204.4,"cave_vine6.png",.584,0,0,.652,7138.55,-2270.15,"cave_vine6.png",.584,0,0,.553,7142.55,-1957.45,"cave_vine6.png",-.584,0,0,-.553,7831.35,-1145.15,"cave_vine6.png",-.744,0,0,-.652,7838.45,-1424.5,"cave_vine6.png",.584,0,0,.553,7724.95,-1189.45,"cave_vine6.png",-.585,0,0,.429,7684.75,-2322.9,"cave_platform1.png",.535,-.127,.099,.417,8103,-2364,"cave_platform1.png",.443,0,0,.484,7564.95,-2301.1,"cave_platform2.png",.537,-.121,.094,.419,7747.15,-2284.15,"cave_platform1.png",.807,0,0,.652,7980.95,-1487.75,"cave_vine6.png",.584,0,0,.553,7984.15,-1175.05,"cave_vine6.png",-.367,.002,.001,.4,7749.05,-629.1,"cave_platform1.png",.474,-.002,.001,.484,7679.6,-615.15,"cave_platform2.png",.512,0,0,.429,8214.85,-1577.3,"cave_platform1.png",.547,0,0,.484,8005.1,-1557.1,"cave_platform2.png",.55,0,0,.429,9018.4,-96.45,"cave_platform1.png",.602,0,0,.429,9810.9,-97.3,"cave_platform1.png",.673,0,0,.484,9433.35,-75.5,"cave_platform2.png",-.599,0,0,-.622,9118.05,-434.1,"cave_vine6.png",.55,0,0,.429,10129.85,-102.25,"cave_platform1.png",.602,0,0,.429,10922.35,-103.1,"cave_platform1.png",.673,0,0,.484,10544.8,-81.3,"cave_platform2.png",.523,0,0,.387,-72.95,-62.4,"cave_platform2.png",.439,0,0,.343,202.45,-78.1,"cave_platform1.png",.382,0,0,.288,1125.3,-639.7,"cave_platform1.png",.426,0,0,.458,1129.2,-1369.2,"cave_vine6.png",.363,0,0,.433,2289,-449.75,"cave_vine6.png",.426,0,0,.458,1129.2,-1650.8,"cave_vine6.png",-.385,.001,.001,.375,7213.95,-1673.85,"cave_platform1.png",.584,0,0,.521,7977.75,-850.25,"cave_vine6.png",.435,0,0,.523,6885.1,-2820.65,"cave_vine6.png",.547,0,0,.484,8550.7,-1557.1,"cave_platform2.png",-.626,0,0,-.714,9123.75,-5.9,"cave_vine6.png",.478,0,0,.484,8755.5,-1549.1,"cave_platform2.png",-.623,0,0,-.616,9119.5,-787.85,"cave_vine6.png",-.458,0,0,-.451,9109.9,-1137.25,"cave_vine6.png",.363,0,0,.433,2289,-191.4,"cave_vine6.png",-.755,0,0,.999,3110.4,-1162.8,"cave_vine4.png",.706,-.001,.023,-.654,4232.3,-1871.4,"cave_vine2.png",.5,.017,-.017,.5,8819.55,-1427.55,"cave_vine3.png",-.543,-.105,.091,-.47,9045.05,-747.1,"cave_vine2.png",-.627,.011,-.01,-.543,746.65,-217.1,"cave_vine2.png",-.538,-.105,-.13,.667,6953.9,-2068.3,"cave_vine2.png",-.807,.014,-.012,-.699,9095.4,-2922.95,"cave_vine2.png",.805,-.042,.043,.696,7196.4,-2196,"cave_vine4.png",.267,.832,-1.514,.485,6655.95,-2599.85,"cave_vine5.png",.776,.208,-.208,.776,1549.7,-1853.85,"cave_vine4.png",.604,-.103,.103,.604,961.75,-930.5,"cave_vine5.png",.665,0,0,.665,1169.75,-545.3,"cave_vine4.png",-.59,-.094,.081,-.511,1861.1,-151.4,"cave_vine2.png",-.347,-.093,-.122,.454,2586,-281.85,"cave_vine1.png",.37,0,0,.37,680.2,-292,"flower5.png",.356,0,0,.356,1936.5,-251.3,"flower3.png",.401,0,0,.401,1314.2,-634.5,"flower2.png",.466,0,0,.466,1110,-274.05,"flower1.png",.499,0,0,.499,1747.45,-1152.9,"cave_vine3.png",.075,.623,-.623,.075,2487.6,-793.45,"cave_vine4.png",-.263,-.437,.379,-.228,2458.35,-699.5,"cave_vine2.png",.565,0,0,.565,1430.1,-1752.35,"flower4.png",.327,.576,-.576,.327,1320.35,-1731.85,"flower8.png",-.661,-.165,.143,-.573,2746.2,157.7,"cave_vine2.png",-.44,0,0,.475,7628.3,-2239.45,"flower4.png",-1.109,0,0,.998,5941.65,-1035.45,"cave_vine4.png",.725,-.195,-.157,-.679,6239.4,-553.8,"cave_vine2.png",.903,-.001,.029,-.837,3552.3,-780.2,"cave_vine2.png",.917,-.165,.165,.917,3686.2,-1876.9,"cave_vine4.png",.619,0,0,.619,3616.2,-1928.95,"flower4.png",.539,0,0,.539,2211.8,-1292.25,"flower2.png",.539,0,0,.539,3309.4,-1301.85,"flower2.png",-.372,0,0,.529,5837.4,-1734.95,"flower2.png",.423,-.178,.284,.676,9421.9,-541.3,"cave_vine1.png",.764,-.04,.04,.764,9455.5,-1790.55,"cave_vine4.png",-.673,-.131,.113,-.583,6455.7,-1368.15,"cave_vine2.png",-.678,-.132,.114,-.587,9951.85,-1016.55,"cave_vine2.png",1.195,-.062,.062,1.195,9419.95,-3252.8,"cave_vine4.png",-.792,-.154,.133,-.687,9885.3,-3270.45,"cave_vine2.png",-.714,-.139,.12,-.619,9911.8,-2423.05,"cave_vine2.png",.374,0,0,.374,3643.7,-1746.15,"flower5.png",.566,0,0,.566,4068.5,-1933.2,"flower1.png",.274,-.274,.556,.556,4682.3,-2258.9,"cave_vine1.png",-.711,0,0,.767,6740.35,-2613.4,"flower4.png",.578,.05,.066,-.534,6222.75,-2002.35,"cave_vine2.png",.536,0,0,.536,3536.4,-922.5,"flower4.png",.41,0,0,.41,1454.15,-1019.95,"flower3.png",.553,0,0,.553,5776.45,-2256.95,"cave_vine3.png",.14,-.522,.522,.14,4624.15,-1877.7,"flower4.png",-.6,.011,-.009,-.52,8647.25,-1322.95,"cave_vine2.png",.538,.105,-.091,.466,6803.55,-1245.3,"cave_vine2.png",.173,.54,-.982,.315,8592.75,-2379.9,"cave_vine5.png",-.497,0,0,.536,7837.9,-1874.3,"flower4.png",.942,0,0,.942,5283.7,-1111.35,"flower1.png",.658,0,0,.658,7638.45,-937.15,"flower3.png",.303,-.175,.259,.448,7104.8,-1026.55,"cave_vine1.png",.87,-.045,.045,.87,8079.65,-1302.8,"cave_vine4.png",-.597,0,0,.644,7798.85,-1155.3,"flower4.png",.532,0,0,.532,8131.5,-1466.45,"flower5.png",.655,-.175,.175,.655,8958.4,-1431.05,"flower1.png",.726,0,0,.726,5441.05,-2205.9,"flower1.png",.075,.571,.616,-.081,6683.3,-1265.85,"flower4.png",-.514,-.07,-.061,.452,6165.8,-1473.7,"cave_vine3.png",.138,-.516,.516,.138,5933.95,-1470.15,"flower4.png",.385,0,0,.385,1341.1,-280.35,"cave_vine3.png",.433,0,0,.433,6442.6,-2022.8,"cave_vine3.png",-.44,0,0,.475,6970.7,-1933.85,"flower4.png",.484,-.007,.007,.484,7513.35,-2777.95,"cave_vine3.png",-.339,.633,-.633,-.339,7196.45,-2778.9,"flower8.png",-.383,0,0,.413,6005.4,-2289.2,"flower4.png",.381,0,0,.381,7160.05,-1658.5,"flower5.png",.342,0,0,.342,7623.1,-1596.95,"flower5.png",.666,-.035,.035,.666,8746.65,-1103.05,"cave_vine4.png",-.248,.43,.464,.268,8741.5,-1164.95,"flower4.png",-.248,.43,.464,.268,9456.55,-691.1,"flower4.png",-.047,-.668,.521,-.036,9512,-1193.95,"cave_vine2.png",.035,.666,-.666,.035,8958.15,-833.85,"cave_vine4.png",-.038,-.727,.727,-.038,9479.6,-822.7,"cave_vine4.png",.532,0,0,.532,9462,-1246.05,"flower5.png",.122,-.575,.575,.122,8826.6,-317.7,"cave_vine4.png",-.497,0,0,.536,9005.6,-618,"flower4.png",.445,0,0,.445,6515.15,-2113.15,"flower5.png",.665,0,0,.758,1489.45,-495.7,"cave_vine4.png",.497,0,0,.497,1410.1,-547.55,"flower3.png",-.604,-.172,.172,-.604,2188.8,-1008.85,"cave_vine4.png",.283,0,0,.283,1872,-1193.95,"flower5.png",.554,-.149,-.12,-.518,2353.7,-935.75,"cave_vine2.png",.498,0,0,.498,2247.45,-1025.35,"flower4.png",.609,0,0,.609,2676.65,-1126.15,"flower3.png",.263,.611,-.611,.263,988.1,-1452.4,"cave_vine4.png",.102,-.565,-.52,-.113,1100.7,-942.4,"cave_vine2.png",.501,0,0,.501,969.85,-999,"flower4.png",.539,0,0,.539,1499.8,-1284.25,"flower2.png",-.592,0,0,.842,6304.6,-2119.45,"flower2.png",-.129,.48,.518,.139,8120.85,-2299.55,"flower4.png",.87,-.045,.045,.87,7346.85,-1106,"cave_vine4.png",.587,.339,-.339,.587,7298.55,-1153.4,"flower1.png",.658,0,0,.658,8681.65,-994.75,"flower3.png",.658,0,0,.658,9444.85,-887.55,"flower3.png",-.427,.114,.127,.476,9027.9,-326.4,"flower3.png",-.248,.43,.464,.268,8472.7,-1332.95,"flower4.png",.532,0,0,.532,4093.1,-984.85,"flower5.png",-.513,.296,.421,.729,5800,-2328.05,"flower2.png",.497,0,0,.497,9433.1,-1837.95,"flower3.png",.409,0,0,.409,9437,-2615.55,"flower3.png",.409,0,0,.409,8349.6,-2193.1,"flower3.png",-.101,.518,-.449,-.087,10000.05,-553.6,"cave_vine2.png",.634,.058,-.058,.634,9900.55,-374.85,"cave_vine4.png",-.533,.173,-.173,-.533,10409.1,-351.25,"cave_vine4.png",.35,.012,-.012,.35,9773.6,-282.1,"cave_vine3.png",-.43,-.015,-.012,.35,10547.9,-351.85,"cave_vine3.png",.071,-.526,.956,.13,10536.3,-311.65,"cave_vine5.png",-.207,.359,.387,.223,10317.5,-524.7,"flower4.png",0,-.414,-.447,0,9824,-220.35,"flower4.png",.678,0,0,.678,9370.65,-301.45,"flower1.png",-.364,-.098,-.103,.384,10625.95,-386.85,"flower5.png",.437,0,0,.437,1421.3,-334.7,"flower4.png",-.374,0,0,.437,1383.2,-350.7,"flower4.png",.536,0,0,.536,2371.6,-563.3,"flower4.png",.409,0,0,.409,9350.6,-2993.15,"flower3.png",.401,0,0,.401,2258.25,-7.55,"flower4.png",-.534,0,0,.491,3933,-1738.6,"flower4.png",-.443,0,0,.374,4877.3,-1918.45,"flower5.png",-.289,-.271,.271,-.289,7125.05,-1002.15,"flower8.png",.036,.274,.285,-.038,6923.2,-1626.75,"flower4.png",-.207,.359,.387,.223,9842.25,-691.2,"flower4.png",.165,-.286,.286,.165,3849.05,-1681.8,"flower4.png",.165,-.286,.286,.165,4743.9,-1837.25,"flower4.png"],active:[370.15,-50,"magnet",518.15,-60.2,"coin",558.15,-60.2,"coin",679.15,-60.2,"coin",719.15,-60.2,"coin",840.15,-60.2,"coin",880.15,-60.2,"coin",1234.85,-899.7,"coin",1239.6,-1254.05,"coin",1274.85,-1366.9,"coin",1276.3,-951.75,"coin",1291.65,-1212.6,"coin",1316.3,-1418.95,"coin",1330.95,-1153.15,"coin",1335.75,-991.05,"coin",1375.75,-1458.25,"coin",1967.2,-1306.9,"coin",2007.2,-1306.9,"coin",2043.25,-463.2,"coin",2097.2,-358.05,"coin",2103.65,-553.3,"coin",2128.2,-1306.9,"coin",2145.1,-605.35,"coin",2151.25,-314.6,"coin",2168.2,-1306.9,"coin",2202.55,-263.15,"coin",2204.55,-664.65,"coin",2253.05,-209.35,"coin",2253.6,-730.8,"coin",2289.2,-1306.9,"coin",2329.2,-1306.9,"coin",2581.8,-1257.2,"kill_vine_2","m",1.204,0,0,1.204,2594.55,-1314.65,{type:"kill_vine_1"},"m",-.286,1.066,-1.06,-.284,2686.7,-1299.25,{type:"kill_vine_4"},"m",1.161,.106,-.106,1.161,3092.95,-1301.05,{type:"kill_vine_1"},"m",1.202,.021,-.021,1.202,3148.45,-1244.85,{type:"kill_vine_3"},"m",-.37,1.003,-.997,-.367,3200.65,-1273.3,{type:"kill_vine_4"},3462.05,-1291.7,"coin",3503.5,-1343.75,"coin",3562.95,-1383.05,"coin",3624,-1430.35,"coin",3682.9,-1464.85,"coin",3754.8,-1486.2,"coin",3900.8,-1695.9,"vine",4216.9,-1670.15,"coin",4280.05,-1703.35,"coin",4345.5,-1744.2,"coin",4407.55,-1772.7,"coin",4481.25,-1786.65,"coin","m",1.14,-.084,.084,1.14,4746.25,-1181.7,{type:"kill_vine_3"},"m",.546,.945,-.932,.538,4763.35,-1254.15,{type:"kill_vine_4"},4798.5,-1847.9,"vine","m",1.109,0,0,1.109,5026.4,-1243.5,{type:"kill_vine_1"},"m",-.289,1.079,-1.051,-.282,5063.85,-1251.45,{type:"kill_vine_4"},5144.9,-1860.55,"coin",5208.05,-1909.75,"coin",5273.5,-1950.6,"coin",5335.55,-1979.1,"coin",5409.25,-1993.05,"coin",5701.6,-1260.65,"coin",5772.25,-1246,"coin",5841.75,-1228.75,"coin",5910.75,-1206.1,"coin",6371.85,-1090.95,"coin",6436.35,-1058.5,"coin",6499,-1023.85,"coin",6559.75,-984.1,"coin",6620.6,-950.45,"coin",6755.5,-872.6,"coin",6815.6,-842.6,"coin",6875.3,-811.7,"coin",6934.45,-779.95,"coin",6995.45,-759.5,"coin",6998.65,-1970.2,"coin",7003.45,-2167.8,"coin",7042.75,-2226.2,"coin",7058.1,-1931.6,"coin",7094.8,-2266.9,"coin",7099.55,-1880.45,"coin",7127.3,-1672.3,"coin",7127.35,-1726.7,"coin",7366.4,-2322.95,"coin",7428,-2322.95,"coin",7489.6,-2322.95,"coin",7551.2,-2322.9,"coin",7760,-2322.95,"coin",7821.6,-2322.95,"coin",7852.05,-1454.95,"coin",7852.05,-938.15,"coin",7856.85,-1604.55,"coin",7856.85,-1135.75,"coin",7883.2,-2322.95,"coin",7896.15,-1662.95,"coin",7896.15,-1194.15,"coin",7911.5,-1416.35,"coin",7911.5,-899.55,"coin",7944.8,-2322.9,"coin",7948.2,-1703.65,"coin",7948.2,-1234.85,"coin",7952.95,-848.4,"coin",7952.95,-1365.2,"coin",7978.8,-722.4,"coin",7978.85,-783.2,"coin",8033.85,-1706.9,"token",8226.75,-2396.4,"coin",8284.7,-2408.75,"coin",8342.65,-2427.3,"coin",8400.6,-2443.55,"coin",8633.45,-2523.6,"coin",8686.5,-2569.9,"coin",8747.35,-2595.75,"coin",8819.35,-2610.15,"coin",8894.55,-2595.75,"coin",9135.6,-869,"coin",9135.6,-741.6,"coin",9135.65,-802.4,"coin",9135.65,-676.95,"coin",9135.65,-937.75,"coin",9380.45,-1300.15,"coin",9380.45,-2390.55,"coin",9380.45,-1232,"coin",9380.45,-1709.05,"coin",9380.45,-1436.45,"coin",9380.45,-1640.9,"coin",9380.45,-1368.3,"coin",9380.45,-1504.6,"coin",9380.45,-1572.75,"coin",9380.45,-1913.5,"coin",9380.45,-1981.65,"coin",9380.45,-2049.8,"coin",9380.45,-2117.95,"coin",9380.45,-2186.1,"coin",9380.45,-2254.25,"coin",9380.45,-2322.4,"coin",9380.45,-1777.2,"coin",9380.45,-1845.35,"coin",9393.2,-512.2,"coin",9393.2,-122.4,"coin",9393.2,-251.4,"coin",9393.2,-384.8,"coin",9393.25,-184.8,"coin",9393.25,-445.6,"coin",9393.25,-320.15,"coin","m",1.109,0,0,1.109,9858.3,-110.85,{type:"kill_vine_1"},"m",-.289,1.079,-1.051,-.282,10658.95,-121.65,{type:"kill_vine_4"},11067.9,-69.7,"kill_vine_2"]},{type:"cavein",level:"0",length:2944.6,floor:[1334.15,49.5,26.993,1,0,0,2050.45,-646.95,5.641,12.409,-89.964,0],detail:[.534,.224,-.224,.534,1939.35,-211.35,"flower6.png",1.303,.4,-.563,1.655,1353.8,-125.4,"rock1.png",.954,.207,.176,-.81,1355.15,-555.95,"cave_rock1.png",1.019,0,0,-.891,2227.1,406.8,"cave_rock3.png",1.217,-.116,.076,.797,1545.8,24.9,"cave_rock1.png",-.923,.088,.077,.804,1786.75,-20.15,"cave_rock1.png",1.166,0,0,-1.156,2142.25,745.6,"cave_rock3.png",1.458,-.139,.091,.954,1632.85,315.1,"cave_rock1.png",-1.192,.114,.091,.957,1917.05,250.2,"cave_rock1.png",1.102,-.105,.069,.722,1904.8,34.15,"cave_rock1.png",.523,0,0,.387,1997.1,-44.3,"cave_platform2.png",.476,0,0,.343,2272.5,-60,"cave_platform1.png",.574,0,0,.387,1387.15,-49.5,"cave_platform2.png",.439,0,0,.343,1700.95,-65.2,"cave_platform1.png",1.052,0,0,1,767.6,15.2,"rock4.png",1.001,.307,-.324,.952,1094.95,-70.65,"rock1.png",.919,.487,-.512,.874,1094.85,144.35,"rock1.png",1.052,0,0,1,767.6,194.9,"rock4.png",1.539,.121,-.141,1.625,418.35,-37.7,"rock4.png",1.51,0,0,1.434,142.6,48.8,"rock2.png",1.303,0,0,1.485,-50.3,41.05,"rock2.png",1.51,0,0,1.434,138.75,219.5,"rock2.png",.905,0,0,.936,313.7,-309.85,"tree3.png",.506,0,0,.524,178.6,-78.05,"plant2.png",.387,0,0,.4,1220.05,-66.35,"plant2.png",.546,0,0,.565,-6.4,34.4,"vine2.png",.756,0,0,.782,281.05,-43.9,"deco-rock2.png",-.686,0,0,.709,851.4,27.45,"vine4.png",.462,-.035,.034,.478,122.6,47,"vine3.png",.484,0,0,.501,1097.35,46.6,"vine2.png",.874,0,0,1,935.2,-47.2,"grass3.png",.966,.03,-.029,1,647.2,-56.55,"grass4.png",.966,.03,-.028,.973,224.05,-56.2,"grass3.png",.526,0,0,.544,833,83.95,"vine5.png",.967,0,0,1,721.05,-92.35,"plant8.png",.369,0,0,.382,961,-84.45,"plant1.png",.682,.073,-.071,.705,916.7,-38,"deco-rock2.png",.427,0,0,.373,178.8,196.95,"vine5.png",.687,0,0,.71,429.2,-115.6,"plant9.png",.604,.781,-.755,.625,1161.55,187.3,"plant3.png",.835,.03,-.029,.864,745.25,100.4,"plant3.png",.967,0,0,1,-79.05,-48.05,"grass4.png",.954,.207,.176,-.81,1355.15,-267.95,"cave_rock1.png",-.932,-.126,.129,-.95,1955.35,-234.15,"cave_rock1.png",.863,.045,.037,-.712,2329.7,-301.45,"cave_rock3.png",.993,.046,.038,-.812,2152.6,-262.9,"cave_rock2.png",1.031,-.045,-.036,-.828,1843.05,-237.8,"cave_rock1.png",-1.084,-.056,-.046,.893,2865.55,-880.1,"cave_rock3.png",1.247,.058,.047,-1.019,2115.75,-509.6,"cave_rock2.png",1.336,-.059,-.047,-1.072,1757.8,-485.5,"cave_rock1.png",-1.053,-.307,.232,-.796,1841.1,-548.75,"cave_rock1.png",.62,.166,-.166,.62,1695.35,-409.6,"cave_vine4.png",.452,0,0,.452,1644.5,-378.85,"flower4.png"],
active:[830.35,-159.4,"sceneSwapper"]},{type:"caveout",level:"0",length:2533.8,floor:[1148.3,49.5,22.991,1,0,0],detail:[.523,-.101,.048,.566,539.3,-176.05,"flower6.png",-1.121,.4,.484,1.655,1103.25,-108.1,"rock1.png",-.821,.207,-.151,-.81,1133.55,-541.05,"cave_rock1.png",-.782,0,0,-.891,367.25,404.1,"cave_rock3.png",-1.047,-.116,-.066,.797,953.5,22.2,"cave_rock1.png",.794,.088,-.066,.804,746.2,-22.85,"cave_rock1.png",-.855,0,0,-1.156,433.4,756.9,"cave_rock3.png",-1.254,-.139,-.079,.954,878.6,314.4,"cave_rock1.png",1.026,.114,-.079,.957,634.05,247.5,"cave_rock1.png",-.949,-.105,-.065,.784,626.5,21.45,"cave_rock1.png",-.45,0,0,.387,565.2,-47,"cave_platform2.png",-.378,0,0,.343,328.2,-62.7,"cave_platform1.png",-.494,0,0,.387,1090.05,-52.2,"cave_platform2.png",-.378,0,0,.343,820,-67.9,"cave_platform1.png",-.906,0,0,1,1639.15,30.1,"rock4.png",-1.039,.371,.278,.952,1397.65,-81.25,"rock1.png",-.791,.487,.441,.874,1357.55,159.25,"rock1.png",-.906,0,0,1,1639.15,209.8,"rock4.png",-1.324,.121,.121,1.625,1939.65,-22.8,"rock4.png",-1.299,0,0,1.434,2176.95,63.7,"rock2.png",-1.122,0,0,1.485,2342.95,55.95,"rock2.png",-1.299,0,0,1.434,2180.25,234.4,"rock2.png",.769,0,0,.936,1744.9,-275.75,"tree3.png",-.436,0,0,.524,2145.95,-63.15,"plant2.png",-.333,0,0,.4,1249.8,-51.45,"plant2.png",-.47,0,0,.565,2305.15,49.3,"vine2.png",-.65,0,0,.782,2057.8,-29,"deco-rock2.png",.59,0,0,.709,1567.05,42.35,"vine4.png",-.397,-.035,-.03,.478,2194.15,61.9,"vine3.png",-.417,0,0,.501,1355.4,61.5,"vine2.png",-.856,0,0,1,1537.8,-32.3,"grass3.png",-.831,.03,.025,1,1742.75,-41.65,"grass4.png",-.831,.03,.024,.973,2106.85,-41.3,"grass3.png",.509,0,0,.544,1322,98.85,"vine5.png",.671,0,0,1,1557.5,-58.25,"plant8.png",-.318,0,0,.382,1468.75,-49.55,"plant1.png",-.587,.073,.061,.705,1510.85,-23.1,"deco-rock2.png",-.367,0,0,.373,2145.8,211.85,"vine5.png",.631,0,0,.71,1853.55,-100.7,"plant9.png",-.52,.781,.649,.625,1300.15,202.2,"plant3.png",-.719,.03,.025,.864,1658.4,115.3,"plant3.png",-.832,0,0,1,2367.7,-33.15,"grass4.png",-.821,.207,-.151,-.81,1133.55,-253.05,"cave_rock1.png",.802,-.126,-.127,-1.088,605.5,-179.25,"cave_rock1.png",-.743,.045,-.032,-.712,295,-286.55,"cave_rock3.png",-.855,.046,-.033,-.812,447.35,-248,"cave_rock2.png",-.888,-.045,.031,-.828,713.75,-222.9,"cave_rock1.png",.933,-.056,.04,.893,-166.1,-865.2,"cave_rock3.png",-1.073,.058,-.041,-1.019,479.1,-494.7,"cave_rock2.png",-1.149,-.059,.04,-1.072,787.1,-470.6,"cave_rock1.png",.906,-.307,-.199,-.796,715.4,-533.85,"cave_rock1.png",-.534,.166,.143,.62,840.85,-394.7,"cave_vine4.png",-.389,0,0,.452,919,-303.95,"flower4.png"],active:[491.45,-155.65,"sceneSwapper"]},{type:"down",level:"1",length:5007.15,floor:[428.6,52.55,8.572,1,-.002,0,2090.25,559.65,27.13,1,22.093,0,4022,1057.75,15.918,1,-.002,0],detail:[1.004,0,0,.877,3042.3,962.05,"grass4.png",1.056,0,0,1.226,1524.2,-281.05,"tree.png",-.612,0,0,.612,2238.3,410.7,"deco-rock.png",-1.69,.435,.521,2.024,2094.05,560.15,"rock1.png",-1.185,.088,.105,1.419,1775.15,258.35,"rock1.png",-1.562,.191,.229,1.871,1732.7,463.25,"rock1.png",-.642,-.028,-.028,.642,2165.75,717.8,"vine4.png",-1.157,.141,.169,1.386,2057.35,361.75,"rock1.png",-1.229,-.144,-.109,.929,3247.55,925.8,"rock4.png",-1.429,.238,.244,1.463,2840.55,898.2,"rock1.png",-1.18,.139,.167,1.413,2638.75,617,"rock1.png",-1.552,.259,.31,1.859,2524.6,748.5,"rock1.png",-.642,0,0,.642,3014.95,1031.2,"vine4.png",.604,-.137,.142,.626,2196.25,1151.3,"vine4.png",-1.01,.168,.202,1.21,2889.55,735.8,"rock1.png",-1.237,0,0,.936,3169.35,1088.05,"rock4.png",-.353,.181,.181,.353,2862.9,686.75,"plant6.png",-.397,0,0,.397,2927.7,706.45,"plant6.png",-.624,-.326,-.44,.831,3331.45,948.1,"grass2.png",-.885,-.305,-.353,1.024,3108.7,837.7,"grass3.png",.527,0,0,.527,2416.75,539.5,"plant7.png",-.508,0,0,.508,2526.1,551.35,"plant7.png",-.936,0,0,.936,2630.35,647.9,"plant5.png",-.885,-.305,-.353,1.024,2712,685,"grass3.png",-.764,-.365,-.403,.845,2315.95,570.4,"grass4.png",-1.01,.168,.202,1.21,1461.25,490.3,"rock1.png",-.642,0,0,.642,1652.55,513.2,"vine4.png",.604,-.137,.142,.626,833.85,633.3,"vine4.png",.527,0,0,.527,1262.9,101.05,"plant7.png",-1.01,.168,.202,1.21,1516.65,190.85,"rock1.png",-.885,-.305,-.291,.844,1639.75,275.2,"grass3.png",-.723,-.18,-.18,.723,2340.15,561.5,"deco-rock2.png",-.723,-.18,-.18,.723,2068.4,456,"deco-rock2.png",-.885,-.305,-.291,.844,2042.95,424,"grass3.png",.669,.164,-.164,.669,3498.1,961.35,"deco-rock3.png",.507,0,0,.507,3858.5,932.8,"plant2.png",.45,0,0,.45,3664.55,928.2,"plant1.png",-.499,0,0,.507,3899.25,936,"plant2.png",1.082,.118,-.108,.994,3945.5,995.45,"rock4.png",1.002,.405,-.424,.915,4286.8,925.75,"rock1.png",.872,.618,-.649,.789,4294.1,1111.15,"rock1.png",1.082,.118,-.108,.994,3918.25,1159.75,"rock4.png",1.592,.121,-.146,1.625,3543.2,983.75,"rock4.png",1.562,0,0,1.434,3265.95,1046.2,"rock2.png",1.348,0,0,1.485,3066.4,1038.45,"rock2.png",1.562,0,0,1.434,3261.95,1216.9,"rock2.png",1.348,0,0,1.485,3066.4,1227.2,"rock2.png",.867,.041,-.041,.867,3378.4,962.65,"grass3.png",.353,0,0,.353,3702.6,951.85,"plant4.png",.456,0,0,.456,3247.75,938.55,"plant2.png",1.167,-.01,.012,.835,3803.2,943.6,"grass2.png",.591,.175,-.175,.591,3966.4,966.8,"deco-rock3.png",-.858,-.007,-.011,.787,866.95,-61.65,"grass2.png",-.661,.177,-.474,-1.77,1059.1,772.2,"upper_tree_1.png",-1.18,.139,.167,1.413,1205.85,38.5,"rock1.png",-1.552,.259,.31,1.859,1254.6,290.2,"rock1.png",-.947,.004,.005,1.003,932,-43,"upper_plateform5.png",-1.157,.141,.169,1.386,2350.15,507.35,"rock1.png",-1.01,.168,.202,1.21,1390.6,150.85,"rock1.png",-.872,-.339,-.393,1.01,1359.25,156.5,"grass3.png",.867,.041,-.041,.867,4222.6,952.65,"grass3.png",.544,-.004,.012,.835,4582.35,942.25,"grass2.png",1.656,.204,-.173,.994,4404.35,972.15,"rock1.png",1.605,.427,-.334,.966,4424,1176.8,"rock1.png",-.917,-.398,.398,-.917,978.5,324.8,"plant1.png",-.566,0,0,1.591,3043.8,-228,"upper_leaf.png",-.768,0,0,1.591,2882.65,-448.05,"upper_leaf.png",-.768,0,0,1.591,3306.75,-448.05,"upper_leaf.png",-.768,0,0,1.591,2194.45,-560.1,"upper_leaf.png"],active:[1013.55,59.25,"sceneSwapper2",2839.85,181.05,"vine",3128.95,320.9,"coin",3186.7,270.85,"coin",3256.4,222.15,"coin",3328.95,201.8,"coin",3328.95,161.8,"coin",3368.95,161.8,"coin",3368.95,201.8,"coin"]},{type:"normal",level:"3",length:9896.45,floor:[145.15,-498.95,2.181,.836,-2.193,1,338.2,-512.65,1.769,.836,-6.393,1,465.5,-518.05,.835,.836,5.556,1,550.35,-521.95,1.056,1,-9.222,1,654.2,-525,1.056,1,5.777,1,754.75,-511.05,1.056,1,9.999,1,857.15,-492.65,1.056,1,9.999,1,962.8,-489.05,1.168,1,-5.002,1,1105.15,-498.95,2.181,.836,-2.193,1,1298.2,-512.65,1.769,.836,-6.393,1,1425.5,-518.05,.835,.836,5.556,1,1510.35,-521.95,1.056,1,-9.222,1,1614.2,-525,1.056,1,5.777,1,1714.75,-511.05,1.056,1,9.999,1,1817.15,-492.65,1.056,1,9.999,1,1922.8,-489.05,1.168,1,-5.002,1,2640.25,-407.75,2.609,1,-2.193,1,2871.1,-424.1,2.116,1,-6.391,1,3023.35,-430.55,.999,1,5.557,1,3262.65,-416.2,3.781,1,2.704,1,3835.2,-519.15,1.334,1.21,-2.958,1,3983.95,-508.2,1.666,1.21,9.746,1,4181.4,-510.55,2.555,1.21,-8.16,1,4807.65,40,97.508,1,0,0,5001.2,-554.6,4.38,1.09,2.543,1,5858.5,-376.6,1.686,1.529,4.504,1,6043.2,-338.55,2.105,1.529,17.207,1,6291,-309.05,3.23,1.529,-.697,1,6609.45,-315.5,3.118,1.195,-2.192,1,6885.4,-335,2.529,1.195,-6.392,1,7067.4,-342.75,1.194,1.195,5.557,1,7717.35,-450.2,3.821,1.529,-.697,1,8474.85,-420.55,2.609,1,-2.193,1,8705.7,-436.9,2.116,1,-6.391,1,8857.95,-443.35,.999,1,5.557,1,9299.55,-564.35,1.056,1,-9.222,1,9403.4,-567.4,1.056,1,5.777,1,9499.95,-554.25,1.056,1,9.999,1,9602.35,-535.85,1.056,1,9.999,1,9708,-532.25,1.168,1,-5.002,1],detail:[],active:["m",.481,0,0,.481,97.8,-332.6,{type:"forceFloor",frame:"force_rock3.png"},126.05,-537.15,"coin",196.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,219.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,258.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",.437,-1.63,1.63,.437,264.05,-591.25,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,269.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},270.05,-549.15,"coin","m",1,0,0,1,299.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},342.05,-559.15,"coin","m",.437,-1.63,1.63,.437,354.2,-238.75,{type:"forceFloor",frame:"force_rock1.png"},"m",-1.687,0,0,-1.104,374.25,-713.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",3.531,-2.36,.556,.831,377.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,377.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},418.05,-565.15,"coin","m",.496,-1.852,.966,.259,421.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,487.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},490.1,-565.15,"coin",554.1,-575.15,"coin","m",.293,-1.095,1.095,.293,556.9,-457,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,607.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},613.7,-576.35,"coin",668.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},728.1,-562.75,"coin","m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,773.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},790.1,-550.35,"coin","m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},849.7,-529.15,"coin","m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},907.3,-528.75,"coin","m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},975.3,-537.95,"coin",1041.3,-537.95,"coin",1106.05,-537.15,"coin",1176.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,1179.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,1218.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",1.481,0,0,1.481,1229.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},1250.05,-549.15,"coin","m",1,0,0,1,1259.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},1322.05,-559.15,"coin","m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,1337.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-2.36,.556,.831,1337.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.437,-1.63,1.63,.437,1367.65,-631.35,{type:"forceFloor",frame:"force_rock1.png"},"m",.496,-1.852,.966,.259,1381.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},1398.05,-565.15,"coin","m",.481,0,0,.481,1447.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,1465.8,-677.1,{type:"forceFloor",frame:"force_rock3.png"},1470.1,-565.15,"coin","m",.481,0,0,.481,1501.8,-661.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.095,1.095,.293,1516.9,-457,{type:"forceFloor",frame:"force_rock1.png"},1534.1,-575.15,"coin","m",.481,0,0,.481,1567.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},1593.7,-576.35,"coin",1648.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},1708.1,-562.75,"coin","m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,1733.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},1770.1,-550.35,"coin","m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},1829.7,-529.15,"coin","m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},1887.3,-528.75,"coin",1955.3,-537.95,"coin",2007,-603.25,"coin",2067,-654.45,"coin",2141.45,-680.9,"coin",2228.55,-690.5,"token",2228.55,-690.5,"token",2228.55,-690.5,"token",2310.3,-689.6,"coin",2384.1,-647.35,"coin",2445.1,-589.15,"coin",2490.9,-515.15,"coin",2544.3,-448.65,"coin",2623.7,-454.45,"coin","m",1.676,-3.327,2.488,2.242,2680.65,-220.95,{type:"forceFloor",frame:"force_rock1.png"},2693.95,-461.7,"coin","m",.324,-1.21,1.21,.324,2724.55,-611.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,2730.65,-132.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2751.55,-241.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,2760.1,-643.9,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2760.25,-132.15,{type:"forceFloor",frame:"force_rock3.png"},2764.9,-472.25,"coin","m",1.116,.342,-.342,1.116,2771.5,-339.5,{type:"forceFloor",frame:"force_plateform2.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,2838.35,-232.45,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,2838.35,-232.45,{type:"forceFloor",frame:"force_rock3.png"},2848.8,-479.2,"coin","m",.496,-2.477,.966,.346,2883.1,-251.9,{type:"forceFloor",frame:"force_rock3.png"},2927.5,-475.25,"coin","m",.481,0,0,.643,2948.6,-274.15,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.465,1.095,.392,2999.6,-338.9,{type:"forceFloor",frame:"force_rock1.png"},3002.7,-472.85,"coin","m",.481,0,0,.481,3068.65,-291,{type:"forceFloor",frame:"force_rock3.png"},3077.15,-473.7,"coin","m",.5,-.866,.878,.507,3106.25,-569.2,{type:"forceFloor",frame:"force_rock3.png"},"m",0,-1.8,1.8,0,3157.75,-254.4,{type:"forceFloor",frame:"force_rock1.png"},3167.3,-467.05,"coin","m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},3247.8,-465.2,"coin","m",1.271,0,0,1.271,3263.8,-327.2,{type:"forceFloor",frame:"force_plateform4.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},3333.4,-465.4,"coin","m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},3388.9,-547.15,"coin",3450.9,-614.75,"coin","m",.5,-.866,.878,.507,3470.3,-271.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.324,-1.21,1.21,.324,3508.75,-281.85,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,3532.25,-733.9,{type:"forceFloor",frame:"force_rock3.png"},3541.5,-648.9,"token",3541.5,-648.9,"token",3541.5,-648.9,"token",3633.7,-658.75,"coin","m",.66,-.66,.637,.637,3654.3,-485.85,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,3692.3,-515.85,{type:"forceFloor",frame:"force_rock3.png"},3716.3,-634.75,"coin",3787.4,-564.05,"coin",3856.8,-556.5,"coin","m",1.314,.352,-.352,1.314,3906.7,-339.7,{type:"forceFloor",frame:"force_rock1.png"},3922.4,-554.4,"coin","m",1.676,-3.327,2.488,2.242,3938.95,-324.6,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,3988.95,-235.8,{type:"forceFloor",frame:"force_rock1.png"},3992.15,-543.2,"coin","m",.697,1.616,-1.208,.933,4009.85,-345.05,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4018.55,-235.8,{type:"forceFloor",frame:"force_rock3.png"},"m",1.205,-.11,.11,1.205,4040,-438,{type:"forceFloor",frame:"force_plateform3.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},4062.75,-536,"coin","m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,4096.65,-336.1,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,4096.65,-336.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-2.477,.966,.346,4141.4,-355.55,{type:"forceFloor",frame:"force_rock3.png"},4144.55,-545.1,"coin",4204.95,-556.3,"coin",4268,-591.2,"coin",4321.75,-653.55,"coin",4383.75,-715.55,"coin",4471.75,-749.55,"coin",4563.75,-759.55,"coin",4654.95,-737.5,"coin",4730.15,-685.05,"coin","m",1,0,0,1,4734.8,-471.25,{type:"forceFloor",frame:"force_rock3.png"},4784.95,-618.65,"coin","m",-.795,-2.393,2.384,-.836,4818.9,-850.6,{type:"forceFloor",frame:"force_rock1.png"},4862.4,-603.2,"coin","m",1.676,-3.327,2.488,2.242,4913.2,-284.95,{type:"forceFloor",frame:"force_rock1.png"},4936,-599.2,"coin","m",1.481,0,0,1.981,4963.2,-196.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4984.1,-305.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4992.8,-196.15,{type:"forceFloor",frame:"force_rock3.png"},"m",1.473,0,0,1.385,5002.55,-457.6,{type:"forceFloor",frame:"force_plateform4.png"},5016,-595.2,"coin","m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",2.292,-.478,.679,2.376,5033.75,-262.45,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,5070.9,-296.45,{type:"forceFloor",frame:"force_rock1.png"},5087.2,-591.2,"coin","m",.496,-2.477,.966,.346,5115.65,-315.9,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.208,.697,-.697,-1.208,5136.15,-852.1,{type:"forceFloor",frame:"force_rock1.png"},5165.25,-595.2,"coin","m",-2.159,.578,-.578,-2.159,5186.75,-464.4,{type:"forceFloor",frame:"force_rock1.png"},"m",-2.159,.578,-.578,-2.159,5214.75,-374.4,{type:"forceFloor",frame:"force_rock1.png"},5234.8,-647.25,"coin",5305.7,-704.45,"coin",5397.9,-724.35,"coin",5491.45,-718.5,"token",5491.45,-718.5,"token",5491.45,-718.5,"token","m",-.795,-2.393,2.384,-.836,5568,-217.65,{type:"forceFloor",frame:"force_rock1.png"},5578.4,-693.85,"coin","m",.5,-.866,.878,.507,5666.05,-417,{type:"forceFloor",frame:"force_rock3.png"},5666.4,-632.25,"coin",5722.4,-568.25,"coin",5770.4,-502.25,"coin",5809.1,-424.2,"coin",5873.5,-423.4,"coin",5937.1,-417,"coin",6009.1,-397.6,"coin",6081.45,-378.55,"coin","m",1.528,.06,-.06,1.528,6101.9,-241.3,{type:"forceFloor",frame:"force_plateform3.png"},6160.4,-358.95,"coin",6253.2,-351.9,"coin",6322.05,-353.95,"coin","m",1.195,0,0,1.195,6335.5,-205.85,{type:"forceFloor",frame:"force_rock3.png"},6408.2,-354.9,"coin","m",.5,-.866,.878,.507,6459.2,-489.1,{type:"forceFloor",frame:"force_rock3.png"},6480.25,-359.95,"coin",6557.25,-360.95,"coin",6629.65,-363.9,"coin",6701.95,-365.9,"coin","m",.834,1.444,-1.444,.834,6742.5,-146.65,{type:"forceFloor",frame:"force_rock1.png"},6770.45,-367.55,"coin","m",1.334,.409,-.409,1.334,6771.35,-233.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",-.948,-1.641,1.669,-.964,6771.4,-578.5,{type:"forceFloor",frame:"force_rock3.png"},6845.65,-374.05,"coin",6923.6,-383.7,"coin",6995.05,-389.1,"coin",7066.2,-389.55,"coin",7116.4,-446.5,"coin",7167.4,-511.1,"coin","m",-.795,-2.393,2.384,-.836,7182.35,-217.65,{type:"forceFloor",frame:"force_rock1.png"},7248,-558.5,"coin",7335.65,-579.45,"token",7335.65,-579.45,"token",7335.65,-579.45,"token",7434.4,-576.1,"coin",7510.4,-542.1,"coin",7575.85,-482,"coin",7652.35,-485.3,"coin","m",1.737,0,0,1.737,7716.9,-290.45,{type:"forceFloor",frame:"force_plateform5.png"},7727.45,-488.15,"coin",7811.35,-491.9,"coin",7882.45,-492.15,"coin",7940.8,-553.7,"coin",8020,-602.5,"coin","m",-.948,-1.641,1.669,-.964,8065.3,-478.4,{type:"forceFloor",frame:"force_rock3.png"},8112.8,-632.1,"coin",8206.4,-620.1,"coin","m",.417,-1.96,1.307,-.099,8210.3,-450.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.954,-.619,.564,.485,8268.6,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8282.4,-586.1,"coin",8354.4,-518.1,"coin",8425.1,-451.9,"coin",8510.25,-456.15,"coin","m",.697,1.208,-1.208,.697,8586.15,-279.3,{type:"forceFloor",frame:"force_rock1.png"},8590.15,-457.65,"coin","m",1.116,.342,-.342,1.116,8610.3,-352.3,{type:"forceFloor",frame:"force_plateform2.png"},8671.65,-462.55,"coin",8745.4,-472.55,"coin",8817.95,-475.4,"coin",8865.8,-547.7,"coin",8915.6,-623.15,"coin","m",-.795,-2.393,2.384,-.836,8952,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8985.15,-676.85,"token",8985.15,-676.85,"token",8985.15,-676.85,"token",9069.2,-706.5,"coin",9152.6,-700.9,"coin",9232.3,-670.1,"coin","m",-1.208,.697,-.697,-1.208,9269.25,-313.8,{type:"forceFloor",frame:"force_rock1.png"},9301,-604.35,"coin","m",1.13,-2.255,2.277,1.094,9368.1,-744.4,{type:"forceFloor",frame:"force_rock1.png"},9375.65,-609.95,"coin",9443.85,-599.15,"coin","m",-1.208,.697,-.697,-1.208,9501.3,-801.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,9513.25,-326.75,{type:"forceFloor",frame:"force_rock1.png"},9517.9,-585.8,"coin","m",1.091,-.329,.329,1.091,9524.4,-482.8,{type:"forceFloor",frame:"force_plateform1.png"},9596.65,-571.7,"coin",9667.8,-562.45,"coin",9733.4,-565.05,"coin"]},{type:"normal",level:"0",length:8182.45,floor:[863.55,50.2,17.294,1,0,0,1081.45,-23.7,10.468,.846,-11.498,0,1415.6,-279.75,4.195,1,-15.421,1,1940.45,136.05,7.127,6.112,0,0,2066.15,-428.2,4.195,1,-3.228,1,2821.15,468.8,1.863,11.923,0,0,2833.8,-539.9,3.889,1,-.002,1,3343.25,-49.85,10.705,1.556,0,0,3652.15,-99.35,3.405,.846,-9.765,0,4091.45,136.05,5.665,6.112,0,0,4590.75,-103.65,4.387,1,-6.697,1,4901.15,468.8,1.863,11.923,0,0,5118.75,-61.4,6,1.556,-5.958,0,5689.2,136.05,5.619,6.112,0,0,6493.15,592.85,1.863,11.923,0,0,7278.55,50.2,15.481,1,0,0],detail:[1.072,0,0,1.3,218.75,-781.3,"tree.png",.498,-.033,.049,.751,4571.1,-102.15,"vine2.png",.995,-.104,.04,.382,4157.7,-105.9,"vine4.png",-.53,.055,-.24,.39,4957.3,-183.75,"vine4.png",1,0,0,1,4214.1,-105.85,"vine6.png",-.362,.027,-.036,-.492,4846.7,-5.45,"vine3.png",.434,-.295,.278,.408,4256.65,24.25,"vine3.png",.342,-.195,.088,.154,4662.5,-111.85,"slide-vine2.png",1.088,-.038,.035,.999,5618.9,323.1,"rock4.png",1.348,0,0,1.485,4812.7,109.8,"rock2.png",1.348,0,0,1.485,4834.75,-82.95,"rock2.png",-1.327,.062,.053,1.631,3952.05,150.2,"rock4.png",-1.327,.062,.053,1.631,3962.55,-189.1,"rock4.png",1.416,.433,-.596,1.65,2854,170.75,"rock1.png",1.348,0,0,1.894,4803.15,348.7,"rock2.png",1.592,.121,-.146,1.625,5028,309.6,"rock4.png",1.088,-.038,.035,.999,5609.2,-147.15,"rock4.png",1.587,.175,-.201,1.62,3832.95,61.15,"rock4.png",1.587,.175,-.201,1.62,3862.6,-203.75,"rock4.png",1.053,.068,-.071,1.101,4019.45,-19.2,"rock4.png",.857,.122,-.181,1.271,4076.7,172,"rock4.png",-1.055,.144,.176,1.084,3053.95,-105.75,"rock4.png",1.047,.132,-.151,1.193,2977.7,-151.4,"rock4.png",-1.045,.203,.236,1.073,3043.5,132.7,"rock4.png",1.055,.032,-.033,1.103,2962.45,110.2,"rock4.png",-1.167,.159,.194,1.199,2021.45,195.95,"rock4.png",-.922,.304,.381,1.064,1977.3,-220.8,"rock4.png",1.088,-.038,.035,.999,836.15,-30.15,"rock4.png",-.962,.131,.16,.989,2023.05,28.3,"rock4.png",1.344,.411,-.596,1.65,1467.3,-269.3,"rock1.png",1.049,.258,-.289,.966,1167.25,-158.55,"rock1.png",.951,.487,-.53,.874,1204.65,38.4,"rock1.png",1.088,-.038,.035,.999,846.7,155.3,"rock4.png",1.592,.121,-.146,1.625,468.3,-37.25,"rock4.png",1.047,.132,-.138,1.095,1962.05,-178.2,"rock4.png",1.562,0,0,1.434,181.3,215.95,"rock2.png",1.055,.032,-.033,1.103,1938.5,5.85,"rock4.png",.861,.093,-.138,1.276,1998.3,197.2,"rock4.png",1.438,.087,-.087,1.438,2189.1,318.3,"rock-jump2.png",1,0,0,1,2223.15,-131.9,"rock-jump.png",.995,.095,-.095,.995,2238.25,116.05,"rock-jump.png",-1.412,.057,.054,1.44,2822.2,422.55,"rock-jump2.png",-.981,-.021,-.021,1,2795.9,-69.2,"rock-jump.png",-.978,.074,.072,.997,2776.3,173.7,"rock-jump.png",1.438,.087,-.087,1.438,4252.2,357.15,"rock-jump2.png",1,0,0,1,4285.15,-131.9,"rock-jump.png",.995,.095,-.095,.995,4300.25,112.75,"rock-jump.png",1.344,.411,-.568,1.573,3297.55,-228.35,"rock1.png",1.348,0,0,1.485,-26.25,206.2,"rock2.png",1.088,-.038,.035,.999,5594.8,-70.35,"rock4.png",1.088,-.038,.035,.999,5617.4,115.1,"rock4.png",1.592,.121,-.146,1.625,5341.7,-109.55,"rock4.png",1.562,0,0,1.434,5076.5,-108.7,"rock2.png",1.562,0,0,1.434,5060.45,123.6,"rock2.png",1.592,.121,-.146,1.625,5309.6,181.6,"rock4.png",-1.413,.008,.005,1.441,4890.35,407.85,"rock-jump2.png",-.979,.056,.057,.998,4864.15,-80.2,"rock-jump.png",-.98,.04,.037,.999,4856.65,168.75,"rock-jump.png",1.587,.175,-.201,1.62,7544.15,-77.3,"rock4.png",1.053,.068,-.071,1.101,7728.8,.8,"rock4.png",.857,.122,-.181,1.271,7801,196.05,"rock4.png",-1.055,.144,.176,1.084,6735.5,-14.3,"rock4.png",1.047,.132,-.151,1.193,6656.05,-47.35,"rock4.png",-1.045,.203,.236,1.073,6727.2,209.05,"rock4.png",1.055,.032,-.033,1.103,6626.4,214.25,"rock4.png",1.416,.433,-.596,1.65,6551.05,308.4,"rock1.png",-1.412,.057,.054,1.44,6507.15,529.8,"rock-jump2.png",-.981,-.021,-.021,1,6474.25,34.85,"rock-jump.png",-.978,.074,.072,.997,6460.15,284.45,"rock-jump.png",1.344,.411,-.568,1.573,6980.3,-123.2,"rock1.png",-1.327,.062,.053,1.631,7673.8,-58.65,"rock4.png",1.592,.121,-.146,1.625,5333.7,-200.75,"rock4.png",1.438,-.094,.094,1.438,5884.85,378.9,"rock-jump2.png",1,0,0,1,5904.95,-116.4,"rock-jump.png",.995,.095,-.095,.995,5922.45,124.2,"rock-jump.png",1.562,0,0,1.434,173.3,25.2,"rock2.png",1.348,0,0,1.485,-26.25,17.45,"rock2.png",.742,0,0,.742,3824.55,-403.35,"tree3.png",.456,0,0,.456,81.5,-87.25,"plant2.png",.959,0,0,1.134,5291.3,-870.95,"tree.png",-.85,-.001,.005,.941,5970.9,-272.35,"grass2.png",-.666,0,0,.959,6020.5,-219.85,"grass4.png",1,-.03,.029,.964,1469.8,-206.95,"grass4.png",1.004,0,0,.877,-59.95,-49.35,"grass4.png",.867,.041,-.041,.867,285.75,-58.35,"grass3.png",1.04,-.196,.16,.819,956.1,-125.7,"grass2.png",-.988,.038,.039,.999,2380.7,-204.9,"grass1.png",.669,.164,-.164,.669,1658.25,-231.2,"deco-rock3.png",.386,0,0,.386,2143.9,-278,"deco-rock.png",.372,0,0,.372,877.6,-122.25,"plant7.png",.353,0,0,.353,609.95,-69.15,"plant4.png",.559,0,0,.34,2628.15,-570.65,"upper_plateform2.png",.646,-.11,.082,.482,1194.7,-290.15,"upper_plateform1.png",1.075,-.042,.039,.999,2636.45,-148.6,"grass1.png",.686,-.108,.146,.928,671.1,-48.15,"grass3.png",.634,-.12,.187,.994,1298.25,-213.2,"grass2.png",-.741,-.004,0,.941,2123.1,-256.3,"grass2.png",.657,-.124,.124,.657,944.6,-155.6,"plant9.png",.319,0,0,.319,1989.85,-227.6,"plant2.png",.364,0,0,.364,1703.8,-244.6,"plant1.png",.335,-.161,.161,.335,846.4,-104.3,"plant7.png",-.499,0,0,.507,2060.2,-260.1,"plant2.png",.833,0,0,1.395,1584,-770.15,"upper_vine2.png",.661,0,0,1.449,1241.25,-792.9,"upper_vine1.png",1,0,0,.773,2965.1,-778.95,"upper_vine2.png",.661,0,0,1.452,2667.3,-1103.05,"upper_vine1.png",-.74,.025,.037,.941,3295.85,-229.8,"grass2.png",-.74,.025,.037,.941,3593.05,-227.85,"grass2.png",.751,-.072,.083,.864,3378.95,-164.7,"grass3.png",-.741,-.001,.005,.941,4116.5,-253.2,"grass2.png",-.875,0,0,1.093,4404.45,-210.25,"grass4.png",.452,0,0,.452,4002.6,-231.4,"plant2.png",.669,.164,-.164,.669,3825.3,-226,"deco-rock3.png",.672,.088,-.088,.672,4204.1,-206.5,"deco-rock2.png",.673,0,0,1.093,4768.7,-187.85,"grass4.png",-.739,.053,.073,.938,5334,-246.7,"grass2.png",-.734,.102,.135,.932,5602,-287.25,"grass2.png",.372,0,0,.372,5111.2,-224.65,"plant7.png",.353,0,0,.353,5317.15,-245.15,"plant4.png",.669,0,0,.669,5828.35,-296.15,"plant9.png",.421,0,0,.453,4945.1,-224.65,"plant1.png",.335,-.161,.161,.335,5064,-201.9,"plant7.png",.523,0,0,.523,5179.4,-294.3,"deco-rock.png",.815,.107,-.107,.815,5238.7,-200.6,"deco-rock2.png",.815,.107,-.107,.815,5704.3,-239,"deco-rock2.png",-.85,-.007,-.003,.941,7541.45,-91.8,"grass2.png",-.665,-.022,-.032,.958,7675.8,-61.9,"grass4.png",.722,.006,-.009,1.093,6361.9,-51.9,"grass4.png",-.739,.047,.066,.939,6935.8,-112.65,"grass2.png",-.741,-.023,-.03,1.191,7262.5,-116,"grass2.png",-1.166,-.009,-.007,.959,8122.5,-61.15,"grass4.png",.655,.028,-.021,.488,1852.4,-485,"upper_plateform1.png",.756,0,0,1.121,2216.3,-787.1,"upper_vine2.png",.661,0,0,-1.372,2668.3,-963.2,"upper_vine1.png",1,-.074,0,-1.735,2965.1,-763.5,"upper_vine2.png",.661,0,0,1.449,1889.95,-976.15,"upper_vine1.png",.799,0,0,-1.121,2214.8,-781.25,"upper_vine2.png",.858,0,0,-1.395,1582.75,-765.6,"upper_vine2.png",-.563,0,0,-1.449,1261.5,-789.65,"upper_vine1.png",.624,0,0,.624,2997.65,-275.25,"tree2.png",.453,0,0,.453,3083.85,-211.25,"plant2.png",1,0,0,1,3112.45,-1110,"upper_leaf.png",2.301,0,0,1.084,2604.7,-1370.2,"upper_leaf.png",1,0,0,1,5268.8,-1058.25,"upper_leaf.png",1,0,0,1,199.6,-962.2,"upper_leaf.png"],
active:[2262,-537.8,"coin",2306.65,-594.15,"coin",2366.5,-634.05,"coin",2432.1,-664.35,"coin",2502,-683.1,"coin",2574,-689.6,"coin",2645.75,-685,"coin",2712.6,-658.55,"coin",3106.3,-712.1,"coin",3126.3,-675.05,"coin",3137.35,-740.55,"coin",3169.1,-679,"coin",3176.1,-718.35,"coin",3281,-770.25,"coin",3301,-733.2,"coin",3312.05,-798.7,"coin",3343.8,-737.15,"coin",3350.8,-776.5,"coin",3437.6,-734.1,"coin",3457.6,-697.05,"coin",3468.65,-762.55,"coin",3500.4,-701,"coin",3507.4,-740.35,"coin",3768.95,-242.75,"magnet",4373.15,-328.95,"coin",4430.85,-371.85,"coin",4497.85,-210.7,"token",4499,-394.85,"coin",4570.2,-407.2,"coin",4642.6,-407.2,"coin",4713.8,-394.85,"coin",4781.95,-371.85,"coin",4839.65,-328.95,"coin",5475.05,-219.7,"kill_vine_2","m",.861,-.045,.045,.861,5519.2,-220.4,{type:"kill_vine_3"},"m",.932,.25,-.25,.932,5562.25,-277,{type:"kill_vine_1"},"m",-.516,1.067,-1.039,-.503,5604.2,-263.85,{type:"kill_vine_4"},5998.9,-322.95,"coin",6056.6,-365.85,"coin",6124.75,-388.85,"coin",6195.95,-401.2,"coin",6268.35,-401.2,"coin",6339.55,-388.85,"coin",6407.7,-365.85,"coin",6465.4,-322.95,"coin",6529.35,-247.8,"coin",6580.55,-158.25,"coin",6628.5,-57.5,"coin","m",.926,.089,-.089,.926,7418.25,-84.45,{type:"kill_vine_1"},"m",.802,.067,-.067,.802,7428.15,-26.45,{type:"kill_vine_3"},"m",-.638,.876,-.854,-.622,7478.1,-52.55,{type:"kill_vine_4"}]},{type:"normal",level:"0",length:5009.75,floor:[2442.35,49.5,48.864,1,0,0,3006.75,94.4,6.571,2.684,-12.231,0,3237.65,70.2,6.571,3.341,-20.48,0,3640.1,-65.15,3.494,2.138,9.718,0,4135.7,45.85,7.116,2.138,14,0],detail:[.999,-.031,.043,1.393,2530.7,-802.45,"tree.png",1.38,0,0,1.38,3180.15,205.2,"rock5.png",1.434,0,0,1.434,-16.4,291.7,"rock2.png",1.295,.269,-.405,1.948,3587.45,-193.75,"rock4.png",1,0,0,1,3054.1,-83.2,"rock1.png",1.223,.343,-.411,1.464,3293.35,-244.35,"rock1.png",1.111,.803,-.961,1.33,4041.85,-238.3,"rock1.png",1.522,.716,-.857,1.822,4316.8,-164.65,"rock1.png",1.657,0,0,1.99,3456.65,377.45,"rock4.png",1.659,.276,-.331,1.987,3788.9,96.1,"rock1.png",-1.117,.166,.174,1.168,4882.6,235.25,"rock4.png",-.973,.139,.189,1.319,4907.35,-15.75,"rock4.png",1.198,0,0,1.572,2659.6,143.5,"rock4.png",1.961,0,0,1.434,1978.55,41.4,"rock2.png",1.961,0,0,1.434,1975.35,268.25,"rock2.png",1.068,0,0,1.614,1730.6,197.75,"rock3.png",.983,.186,-.186,.983,2854.3,-62.5,"rock1.png",1.322,0,0,1,2510.95,18.05,"rock4.png",1,0,0,1,1748.55,31.4,"rock3.png",1.08,.18,-.215,1.293,2949,106.55,"rock1.png",1,0,0,1.306,2342.5,252.2,"rock2.png",1,0,0,1,2348.5,60.15,"rock2.png",1.38,0,0,1.38,3374.85,215.85,"rock5.png",1.322,0,0,1.99,3573.1,88.35,"rock4.png",1.659,.276,-.331,1.987,3087.2,277.85,"rock1.png",1,0,0,1.306,2500.75,231.35,"rock2.png",-.884,.131,.147,.989,1809.5,8.3,"rock4.png",1,0,0,1,750.1,33.85,"rock4.png",1.238,.4,-.535,1.655,1283.1,-105.95,"rock1.png",.952,.307,-.307,.952,1045.95,-50,"rock1.png",.874,.487,-.487,.874,1061.05,163,"rock1.png",1,0,0,1,750.1,213.55,"rock4.png",1.462,.121,-.134,1.625,418.3,-19.05,"rock4.png",1.434,0,0,1.434,156.25,67.45,"rock2.png",1.238,0,0,1.485,-27,59.7,"rock2.png",-.884,.131,.147,.989,1792.4,205.05,"rock4.png",1.434,0,0,1.434,156.25,286.3,"rock2.png",1.462,.121,-.134,1.625,382.15,290.15,"rock4.png",.718,0,0,.718,1737.05,-234.6,"tree3.png",-.82,-.173,-.207,.978,4120.85,-124.6,"grass3.png",.557,0,0,.557,4466.25,65.4,"vine2.png",-.469,.27,.28,.487,2686,87.15,"vine4.png",.516,0,.01,.516,2268.1,62.5,"vine3.png",-.662,0,0,.686,1966.6,83.25,"vine4.png",.47,-.28,.28,.47,2040.65,146.35,"vine5.png",.692,.012,-.009,.943,3395.95,-253.9,"grass2.png",.823,0,0,.823,1275.45,36.15,"vine6.png",.686,0,0,.686,-3.25,49.15,"vine4.png",.59,0,0,.508,1143.05,60.35,"vine3.png",.461,0,0,.461,585.75,55.4,"vine2.png",1.274,0,0,1.356,183.45,-793.45,"tree.png",.799,0,0,.914,1924.35,-37.15,"grass4.png",.801,.031,-.034,.884,1628.1,-51.9,"grass3.png",1,0,0,.921,1296.45,-83.85,"grass2.png",1,0,0,1,1008.6,-42.35,"grass4.png",.825,0,0,.825,726.65,-61.5,"grass2.png",.881,.034,-.034,.881,355.75,-40.55,"grass3.png",1,0,0,.981,-26.55,-81.2,"grass2.png",.731,0,0,.731,765.05,-33.2,"deco-rock2.png",.66,.233,-.233,.66,1366,-54.85,"deco-rock3.png",.446,0,0,.446,826.65,69.05,"vine5.png",1,0,0,1,2577.55,-61.65,"plant5.png",.642,0,0,.642,886.75,-78.9,"plant4.png",.561,0,0,.561,254.65,-72.8,"plant2.png",.521,0,0,.521,659.8,-81.4,"plant1.png",.479,0,0,.479,1600.55,-68.05,"plant2.png",.941,0,0,.941,2331.5,-80.05,"grass2.png",.689,-.152,.203,.919,2727.4,-69.7,"grass2.png",.96,-.281,.295,1.004,2928.55,-70.45,"grass3.png",.791,0,0,.791,1159.85,-128.45,"plant9.png",.379,0,0,.379,2958.15,-130.3,"plant6.png",1.555,0,0,1.555,3212.95,77,"plant3.png",.262,.273,-.273,.262,3037.3,-152.75,"plant6.png",-.82,-.173,-.207,.978,4482.25,-30.25,"grass3.png",1.25,0,0,1.144,4292.95,-53.65,"grass4.png",.778,0,0,.778,4625.8,-141.15,"tree2.png",.791,0,0,.791,4303.3,-122.35,"plant9.png",.551,0,0,.551,4482,-57.75,"plant2.png",.725,-.197,.197,.725,3216.6,-147.45,"deco-rock2.png",.557,0,0,.557,3831.8,-27,"vine2.png",.686,0,0,.686,2764.5,146.55,"vine4.png",.936,0,0,.936,3064.85,-104.5,"vine6.png",-.547,0,0,.558,3854.75,157.6,"vine5.png",.552,0,0,.552,3296,-46.55,"vine5.png",-.577,1.444,-1.444,-.577,2835.35,127.35,"plant3.png",-.686,0,.032,.711,873.3,145.75,"vine4.png",-.524,0,0,.543,2225.65,92,"vine4.png",-.646,-.146,-.152,.669,4198.6,140.2,"vine4.png",.489,.047,-.047,.489,155.05,138.3,"vine5.png",-.646,-.146,-.152,.669,3661.85,271.7,"vine4.png",.638,0,0,.638,4225.8,158.9,"vine5.png",1.123,1.076,-1.076,1.123,3469.15,-58.85,"plant3.png",1.357,-.759,.759,1.357,3877.75,148.7,"plant3.png",.874,1.286,-1.286,.874,2236.8,191.8,"plant3.png",.935,0,0,1.144,4516.9,-30.1,"grass4.png",.799,0,0,.914,2093.95,-37.15,"grass4.png",.328,-.044,.001,.333,3836.95,-341.05,"vine2.png",-1.51,0,0,1,1235.4,-950.2,"upper_leaf.png",-.987,0,0,1,3171.95,-978.15,"upper_leaf.png",.693,.186,-.221,.824,3687.35,-464.55,"tree3.png",.618,0,0,.618,3508.9,-258.35,"plant2.png",.802,.283,-.283,.802,3726.95,-217.75,"deco-rock3.png",.672,0,0,.672,2723.6,-160.05,"deco-rock.png"],active:[991.8,-81.25,"coin",1053,-142.1,"coin",1127.2,-190.8,"coin",1208.1,-215.9,"coin",1289.5,-211.5,"coin",1366.9,-186.1,"coin",1435.15,-142.1,"coin",1506.05,-81.25,"coin",1892.1,-234.6,"token",2339.55,-35.7,"kill_vine_2","m",.733,.041,-.049,.887,2366.8,-74.15,{type:"kill_vine_1"},"m",.677,-.014,.014,.677,2388.85,-24.85,{type:"kill_vine_3"},"m",-.399,.696,.674,.386,2401,-70.75,{type:"kill_vine_4"},2658.5,-60.3,"coin",2741.3,-55.6,"coin",2828.85,-58.9,"coin",2919,-73.85,"coin",3018.25,-98.8,"coin",3112.8,-122,"coin",3202.75,-152.2,"coin",3291.85,-186.4,"coin",3379.8,-221.4,"coin",3456.05,-267.95,"coin",3501.75,-340.35,"coin",3563.3,-398.55,"coin",3633.45,-434.45,"coin",3711.95,-440.2,"coin",3796.75,-424.2,"coin",3870.35,-389,"coin",3927.95,-313.8,"coin",3966.35,-238.6,"coin",3991.95,-150.6,"coin",4367.1,-241.2,"magnet"]},{type:"normal",level:"0",length:12636.45,floor:[700,-175.9,5.176,1,-5.485,1,1375.85,-317.95,4.169,1,2.986,1,1494.5,5.2,9.239,1,-6.454,0,1878.8,-72.1,3.936,1,-20.459,0,2169.9,-483.1,6.167,1,-9.665,1,2238.35,-173.45,3.936,1,-10.468,0,2250.15,49.3,44.972,1,0,0,2613.8,-202.75,3.936,1,2.002,0,2953.15,-213.5,2.987,1,-7.221,0,2959.35,-672.75,3.775,1,-5.942,1,3226.75,-278.9,2.987,1,-18.938,0,3500,-330.05,2.987,1,-1.986,0,3736.35,-313.8,2.101,1,12.506,0,4174.05,-131.3,7.942,1,24.368,0,4206.05,-177.3,7.942,1,24.368,2,4724.45,57.75,5.022,1,10.705,0,4815.35,551.05,1.912,9.29,0,0,5991.8,526.95,12.514,10.202,-3.197,0,6352.4,-39.25,5.048,2.568,-7.194,0,7087.25,-197.85,12.356,2.568,-13.926,0,7809.6,-481.3,10.98,1.783,-27.462,0,8506.4,-536.7,7.235,1,39.185,0,8540.9,-582.7,7.235,1,39.185,2,8863.55,-259.35,1.913,1,32.491,0,8885.6,-313.25,1.619,1,32.49,2,9019.55,-173.95,2.226,1,24.526,0,9025.5,-235.9,1.619,1,24.526,2,9159.85,-126.75,1.999,1,14.335,0,9173.95,-183.15,1.619,1,14.335,2,9322.25,-97.95,1.822,1,6.111,0,9327.15,-155.4,1.619,1,6.111,2,9476.3,-153.1,1.619,1,-4.535,2,9486.15,-96.25,2.074,1,-4.533,0,9621.1,-190.1,1.619,1,-22.779,2,9649.45,-139.7,1.988,1,-22.779,0,9754.25,-266.9,1.619,1,-37.02,2,9769.6,-234.5,1.794,.603,-37.777,0,9795.3,423.5,.75,13.379,0,0,10824.45,487.7,6.76,10.576,0,0,11189.25,-19.65,2.664,1,-13.74,0,11599.3,1.35,6.12,1,9.71,0,11615.3,46.5,16.13,1,0,0],detail:[1.608,-.219,.331,2.431,7192.95,-71.8,"rock3.png",-1.442,-.163,-.208,1.841,6563.5,-88.05,"rock4.png",1.863,.81,-.944,2.172,10643.55,-265.2,"rock1.png",1.616,.273,-.327,1.935,11967.6,-90.65,"rock1.png",1.748,.104,-.12,2.03,9306.45,127.1,"rock1.png",1.637,.621,-.722,1.901,8458.75,-281.55,"rock1.png",-1.726,-.473,-.453,1.654,8873.55,-537.55,"rock1.png",1.875,-.459,.481,1.966,7048.45,-324.95,"rock3.png",-1.38,-.524,.608,-1.603,8400.55,262,"rock1.png",1.608,-.219,.331,2.431,6799.35,-30.2,"rock3.png",1.327,-.181,.273,2.006,6481.3,126.9,"rock3.png",-1.853,-.635,.76,-2.219,6356.6,1328.1,"rock1.png",-.966,.303,.045,.856,6149.65,-120.05,"rock-jump.png",-1.361,-.466,.6,-1.753,6195.65,701.5,"rock1.png",1.254,.336,-.463,1.73,3829.25,-328.15,"rock4.png",1.397,0,0,1.424,2338.25,205.85,"rock2.png",1.434,0,0,1.434,-33.45,291.4,"rock2.png",-1.211,-.101,-.142,1.709,3953.9,-358,"rock4.png",1.223,.343,-.411,1.464,3289.55,-472.75,"rock1.png",.928,1.008,-1.207,1.112,4274.95,-291.1,"rock1.png",1.522,.716,-.857,1.822,4281.75,-152.95,"rock1.png",1.396,.938,-1.123,1.671,4103.8,-29.65,"rock1.png",1.895,-.508,.371,1.385,1950.65,-115.85,"rock2.png",1.961,0,0,1.798,1957.55,69.75,"rock2.png",1.068,0,0,1.614,1713.55,79,"rock3.png",1.084,.205,-.205,1.084,2663.75,-319.3,"rock1.png",1.318,.108,-.104,1.272,2329.45,-301.3,"rock4.png",1.196,-.162,.162,1.196,1709.25,-67.85,"rock3.png",1.861,.31,-.215,1.293,2890.3,-36.5,"rock1.png",1.277,.342,-.478,1.785,3703.7,-57.05,"rock4.png",1.786,.298,-.331,1.987,2630.15,-210.9,"rock1.png",-.884,.131,.147,.989,1830.1,-65.05,"rock4.png",1,0,0,1,733.05,33.55,"rock4.png",1.238,.4,-.535,1.655,1295.15,-145.35,"rock1.png",.952,.307,-.307,.952,1028.9,-50.3,"rock1.png",.874,.487,-.487,.874,1044,162.7,"rock1.png",1,0,0,1,733.05,213.25,"rock4.png",1.462,.121,-.134,1.625,401.25,-19.35,"rock4.png",1.434,0,0,1.434,139.2,67.15,"rock2.png",1.238,0,0,1.485,-44.05,59.4,"rock2.png",-.884,.131,.147,.989,1797.5,133.9,"rock4.png",1.434,0,0,1.434,139.2,286,"rock2.png",1.462,.121,-.134,1.625,365.1,289.85,"rock4.png",1.318,.108,-.118,1.441,2331.35,-94.2,"rock4.png",1.198,0,0,1.572,2544.05,247.3,"rock4.png",1.665,0,0,1.665,2872.4,-357.9,"rock1.png",-1.211,-.101,-.142,1.709,3760.15,-1.55,"rock4.png",1.637,.385,-.461,1.96,4433.05,-69.15,"rock1.png",2.021,.205,-.203,2.004,4278.8,324.1,"rock1.png",1.9,.721,-.841,2.214,5497.35,-169.6,"rock1.png",1.9,.721,-.838,2.206,5514.75,246.05,"rock1.png",-1.649,-.114,-.12,1.681,5474.25,578.5,"rock-jump2.png",-.979,.051,.052,.999,5407.25,100.75,"rock-jump.png",-.978,.074,.072,.997,5415.3,343.65,"rock-jump.png",.688,-.051,.027,.365,439.95,-182.65,"upper_plateform2.png",.622,-.016,.013,.488,2754.4,-704.75,"upper_plateform1.png",1.075,-.042,.039,.999,5251.45,21.35,"grass1.png",.833,0,0,1.395,3112.7,-1125.25,"upper_vine2.png",.661,0,0,1.449,2799.8,-1204.5,"upper_vine1.png",1,0,0,.773,870.95,-426.05,"upper_vine2.png",.661,0,0,1.452,494.55,-718.1,"upper_vine1.png",.649,.09,-.067,.484,1166,-385.5,"upper_plateform1.png",.756,0,0,1.121,1520.9,-654.05,"upper_vine2.png",1,-.074,0,-1.735,870.95,-328.2,"upper_vine2.png",.661,0,0,1.449,1194.55,-872.95,"upper_vine1.png",.799,0,0,-1.121,1519.4,-648.2,"upper_vine2.png",.858,0,0,-1.395,3111.35,-1116.35,"upper_vine2.png",-.563,0,0,-1.449,2820.05,-1178,"upper_vine1.png",-.661,0,0,-1.452,517.1,-631.55,"upper_vine1.png",2.014,-.327,.231,1.644,4762.75,560.95,"rock-jump2.png",1.329,.051,-.071,.999,4836.8,81.2,"rock-jump.png",1.328,.074,-.097,.997,4825.9,324.1,"rock-jump.png",1.327,-.181,.273,2.006,6481.3,-199.5,"rock3.png",1.327,-.181,.273,2.006,6798.1,-279.5,"rock3.png",-1.632,.251,.313,2.034,6651.25,147.95,"rock4.png",-1.921,.295,.313,2.034,6776.55,492.75,"rock4.png",1.585,-.001,.001,2.058,7652.45,-198.55,"rock4.png",-1.469,-.149,.173,-1.706,8421.85,-178.65,"rock1.png",1.654,-.527,.625,1.96,7489.8,-512.9,"rock4.png",1.38,.524,-.608,1.603,8128.65,-144.8,"rock1.png",-2.148,-.114,-.109,2.057,9255.95,-369.15,"rock1.png",1.727,.285,-.331,2.006,9311.55,-351.85,"rock1.png",1.38,.524,-.608,1.603,9098.25,-309.6,"rock1.png",1.38,.524,-.608,1.603,8855.05,-53.6,"rock1.png",-1.756,.322,.309,1.686,9611.15,56.6,"rock1.png",1.327,-.181,.273,2.006,6590.1,427.7,"rock3.png",1.07,.104,-.097,.995,10397.3,-110.1,"grass1.png",-1.821,-.721,.864,-2.181,11431.2,1271.4,"rock1.png",-1.338,-.53,.682,-1.723,11299.95,634.7,"rock1.png",1.951,.568,-.66,2.265,10581.2,175.45,"rock1.png",-1.642,-.192,-.199,1.673,10585.15,481,"rock-jump2.png",-.981,.005,.005,1,10540.8,.6,"rock-jump.png",-.981,.028,.025,.999,10537.4,243.65,"rock-jump.png",-1.594,-.631,.813,-2.053,11546.15,713.4,"rock1.png",1.821,.721,-.864,2.181,11560,202.4,"rock1.png",1.736,.906,-1.085,2.079,11741.35,-252.2,"rock1.png",1.842,.665,-.796,2.206,11967.8,299.5,"rock1.png",-.613,.124,.115,.569,2480.4,-577.2,"upper_plateform5.png",1.097,0,0,1.626,2400.55,-1023.65,"upper_vine2.png",.661,0,0,1.449,1984.95,-996.15,"upper_vine1.png",-.661,0,0,-1.449,2004.65,-982.05,"upper_vine1.png",-1.097,0,0,-1.626,2453.75,-1001.45,"upper_vine2.png",1.615,-.192,.196,1.673,12327.5,539.85,"rock-jump2.png",.964,.005,-.005,1,12371.15,59.45,"rock-jump.png",.964,.028,-.024,.999,12374.45,302.5,"rock-jump.png",1,0,0,1.192,625.2,-634.6,"eggbagasset_00006.png",1,0,0,1.192,2661.4,-1128.75,"eggbagasset_00006.png",1,0,0,1.192,2661.4,-1155.75,"eggbagasset_00006.png",-1,0,0,-1.192,2756,-1130.25,"eggbagasset_00006.png",-1,0,0,-1.192,2756,-1103.25,"eggbagasset_00006.png",1,0,0,1.192,11597.55,-759.55,"eggbagasset_00006.png",1,0,0,1.192,11597.55,-748.15,"eggbagasset_00006.png",-1,0,0,-1.192,11694.85,-735.4,"eggbagasset_00006.png",-1,0,0,-1.192,11692.15,-493.15,"eggbagasset_00006.png",-1,0,0,-1.192,728,-410.2,"eggbagasset_00006.png",-1.414,.328,.418,1.805,6635.75,-237.6,"rock4.png",.688,-.184,.184,.688,6409.3,-381.35,"tree3.png",.914,-.112,.154,1.257,6925.7,-1109.8,"tree.png",.56,-.076,-.003,.571,11311.25,-12,"vine2.png",-.662,0,.039,.632,8932,-299.75,"vine3.png",.56,-.076,-.003,.571,9127.2,-128.75,"vine2.png",-.646,-.146,-.152,.669,6146.5,207.2,"vine4.png",.708,0,0,.708,5565.8,72.9,"vine2.png",1.036,0,0,1.364,11781.65,-792.9,"tree.png",-.532,.158,.14,.473,8784,-522.9,"plant7.png",-.568,-.308,-.273,.504,8869.25,-482.6,"plant7.png",.921,0,0,1.187,3290.75,-1082.45,"tree.png",-.889,0,0,1.144,6134.35,-25.5,"grass4.png",-.97,.175,.175,.927,11376.9,-196,"grass2.png",.948,-.236,.236,.914,7060.25,-425.85,"grass2.png",.935,0,0,1.144,5492.75,-15.9,"grass4.png",.557,0,0,.557,3390.8,-322.2,"vine2.png",-.646,-.146,-.152,.669,3308.05,-36.2,"vine4.png",.499,-.068,-.003,.509,3816.05,-217.05,"vine2.png",-.531,-.072,-.123,.911,3915.85,-390.65,"grass3.png",.557,0,0,.557,4484.55,73.2,"vine2.png",-.469,.27,.28,.487,2642.3,-161.9,"vine4.png",.516,0,.01,.516,2351.75,-222,"vine3.png",-.662,0,0,.686,1984.9,11.35,"vine4.png",.47,-.28,.28,.47,1855.3,5.8,"vine5.png",.692,.012,-.009,.943,3321.25,-478.6,"grass2.png",.823,0,0,.823,1293.75,43.95,"vine6.png",.686,0,0,.686,15.05,56.95,"vine4.png",.59,0,0,.508,1161.35,68.15,"vine3.png",.461,0,0,.461,604.05,63.2,"vine2.png",1.008,-.201,.179,.896,2033.95,-243.65,"grass4.png",.779,-.177,.214,.944,1729.95,-142.55,"grass3.png",.993,-.114,.105,.915,1320.5,-106.5,"grass2.png",.99,-.138,.138,.99,1035.55,-30.85,"grass4.png",.825,0,0,.825,778.2,-64.8,"grass2.png",.881,.034,-.034,.881,374.05,-43.85,"grass3.png",1.121,0,0,.857,-35.05,-73.5,"grass2.png",.731,0,0,.731,783.35,-25.4,"deco-rock2.png",.66,.233,-.233,.66,1384.3,-47.05,"deco-rock3.png",.446,0,0,.446,844.95,76.85,"vine5.png",1,0,0,1,2670.05,-328.35,"plant5.png",.386,0,0,.386,989.8,-41.2,"plant4.png",.309,0,0,.309,735.45,-45.4,"plant1.png",.462,0,0,.462,1008.2,-131.9,"tree3.png",.705,-.019,.022,.805,2643.9,-331.2,"grass2.png",.863,-.253,.295,1.004,2885.2,-294.8,"grass3.png",.527,0,0,.527,2205.65,-331.35,"plant9.png",.51,0,0,.51,2819.45,-402.2,"deco-rock.png",1.555,0,0,1.555,3231.25,84.8,"plant3.png",-.785,-.292,-.349,.937,4311.2,-217.7,"grass3.png",1.25,0,0,1.144,4311.25,-45.85,"grass4.png",.778,0,0,.778,4644.1,-133.35,"tree2.png",.791,0,0,.791,4321.6,-114.55,"plant9.png",.802,.283,-.283,.802,3732.45,-437,"deco-rock3.png",.551,0,0,.551,4500.3,-49.95,"plant2.png",.725,-.197,.197,.725,3201.65,-383.2,"deco-rock2.png",.686,0,0,.686,2602.35,-20.55,"vine4.png",-.547,0,0,.558,3873.05,-173.8,"vine5.png",.552,0,0,.552,3195.9,-104.35,"vine5.png",1.429,-.614,.614,1.429,2473.45,273.2,"plant3.png",-.686,0,.032,.711,891.6,153.55,"vine4.png",-.524,0,0,.543,2429.95,6.8,"vine4.png",-.646,-.146,-.152,.669,4216.9,148,"vine4.png",.489,.047,-.047,.489,173.35,146.1,"vine5.png",.638,0,0,.638,4244.1,166.7,"vine5.png",1.123,1.076,-1.076,1.123,3487.45,-51.05,"plant3.png",1.357,-.759,.759,1.357,3896.05,156.5,"plant3.png",.874,1.286,-1.286,.874,2255.1,199.6,"plant3.png",.935,0,0,1.144,4526.35,-22.3,"grass4.png",.799,0,0,.914,2372.45,-315,"grass4.png",.357,.15,-.15,.357,3956.55,-366.15,"plant2.png",-.639,-.296,-.42,.907,4576.4,-65.75,"grass3.png",.589,.112,-.152,.8,4416.85,-86.4,"grass4.png",-.57,.104,.18,.984,6607.05,-258.9,"grass3.png",-.799,.252,.301,.954,7191.2,-426.4,"grass3.png",-.679,.08,.134,1.136,6843.6,-305.55,"grass4.png",-.578,.068,.134,1.136,7703.15,-528.2,"grass4.png",-.722,.426,.508,.861,7998.15,-752.8,"grass3.png",-.573,.338,.508,.861,8211.2,-869.9,"grass3.png",-.537,-.145,-.298,1.105,8426.7,-802.25,"grass4.png",.729,.651,-.622,.709,8406.7,-828.1,"grass2.png",-.81,-.562,-.532,.779,9092.25,-293.05,"grass2.png",-.637,-.194,-.291,.957,9318.2,-207.6,"grass3.png",-.763,-.198,-.287,1.108,9529.95,-176.45,"grass4.png",.664,-.184,.251,.907,9340.85,-187.6,"grass4.png",-.576,.294,.455,.89,9813.1,-382.7,"grass3.png",-.665,.019,.028,1,11068.15,-102.85,"grass3.png",.779,.176,-.201,.892,11309.7,-173.9,"grass4.png",-.647,-.157,-.236,.972,11916.15,-37.1,"grass3.png",-.813,.032,.036,.913,12121.95,-58.65,"grass4.png",-.831,.02,.024,1,12487.75,-64.75,"grass3.png",.504,-.142,.142,.504,6584.15,-302.95,"plant2.png",1,0,0,1,7412.95,-507.25,"plant5.png",.915,0,0,.915,5705.65,-194.25,"deco-rock.png",.379,0,0,.379,7064.5,-428.85,"plant6.png",.262,.273,-.273,.262,7155,-465.55,"plant6.png",.691,.244,-.244,.691,9330.15,-228.75,"deco-rock3.png",.751,-.002,.002,.751,5763.45,-2.1,"deco-rock2.png",.61,-.067,.067,.61,9358.8,-307.8,"tree2.png",.398,-.005,.005,.398,9229.2,-240.7,"plant2.png",1,0,0,1,9038.55,-299.25,"plant5.png",.573,.331,-.331,.573,8414.7,-774.1,"plant5.png",.383,-.108,.108,.383,9481.65,-250.6,"plant2.png",.725,-.197,.197,.725,6687.95,-278.1,"deco-rock2.png",.573,0,0,.573,9127.8,-287.15,"plant9.png",.379,0,0,.379,10736.5,-128.05,"plant6.png",.262,.273,-.273,.262,10827,-150.35,"plant6.png",.701,.481,-.481,.701,11629.6,-131.95,"deco-rock3.png",.725,-.197,.197,.725,11107.95,-110.1,"deco-rock2.png",.386,.098,-.098,.386,11691.3,-119.6,"plant2.png",.398,-.005,.005,.398,12034.25,-79.1,"plant2.png",.915,0,0,.915,10912.05,-278.65,"deco-rock.png",.499,-.068,-.003,.509,6631.35,-180.9,"vine2.png",-.547,0,0,.558,6377.05,23,"vine5.png",1.357,-.759,.759,1.357,6014.45,674.9,"plant3.png",-.646,-.146,-.152,.669,6765.7,106.4,"vine4.png",-.633,.169,.173,.646,7133.55,-288.75,"vine5.png",.664,.15,-.152,.669,6315.95,370.7,"vine4.png",1.357,-.759,.759,1.357,5992.05,383.7,"plant3.png",1.009,.601,-.601,1.009,6491.7,104.05,"plant3.png",.573,1.025,-1.025,.573,6400.15,424.1,"plant3.png",-.941,-.213,-.221,.975,7719.4,-204.05,"vine4.png",1.386,-.351,.351,1.386,7531.15,-176.4,"plant3.png",.823,0,0,.558,7632.65,-426.6,"vine5.png",-.655,-.148,-.152,.669,8408.45,-325.35,"vine4.png",.632,0,.013,.632,8012.85,-667.75,"vine3.png",-.662,0,.039,.632,9543.2,97.05,"vine3.png",.823,0,0,.558,8666.25,127,"vine5.png",-.941,-.213,-.221,.975,9860.2,51.95,"vine4.png",1.375,.389,-.389,1.375,9312.8,27,"plant3.png",1.375,.389,-.389,1.375,9668,308.6,"plant3.png",-.78,-.177,-.18,.797,8211.5,-57.35,"vine4.png",-.941,-.213,-.221,.975,11095.4,138.35,"vine4.png",-.662,0,.039,.632,11408.8,45.85,"vine3.png",.823,0,0,.558,11127.05,274.2,"vine5.png",-.655,-.148,-.152,.669,11902.85,375.45,"vine4.png",1,0,0,.678,11620.55,60.15,"vine5.png",-.984,-.223,-.228,1.006,12526.5,384.2,"vine4.png",.56,-.076,-.003,.571,12098.45,68,"vine2.png",1.375,.389,-.389,1.375,10893.6,379,"plant3.png",1.429,.02,-.02,1.429,11743.9,406.85,"plant3.png",1.429,.02,-.02,1.429,11318.75,45.1,"plant3.png",.791,0,0,1,1936.25,-1346.45,"upper_leaf.png",-.71,.064,.09,.996,3248.15,-1454.1,"upper_leaf.png",-.815,0,0,1,1667.45,-1119.25,"upper_leaf.png",.791,0,0,1,409.85,-911.25,"upper_leaf.png",.416,0,0,.416,4668.6,-62.7,"plant1.png",.521,0,0,.521,6416.25,-286.85,"plant1.png",.423,0,0,.423,8152.85,-868.8,"plant1.png",.386,0,0,.386,9677.2,-368.25,"plant1.png",.881,.236,.307,-1.147,3303.05,-1151.9,"tree.png",.302,.081,-.129,.482,3580.2,-1170.65,"vine5.png",.538,.047,-.028,.327,6038.15,-146.45,"cave_ronce.png",.799,-.021,.024,.914,6059.6,-197.35,"grass4.png",.791,0,0,.791,6171.1,-289.75,"plant9.png",1,0,0,1,6769.25,-1330.3,"upper_leaf.png",1,0,0,1,11738.4,-926.2,"upper_leaf.png",.287,0,0,.287,2847.1,-328.65,"plant6.png",.199,.207,-.207,.199,2912.1,-350.75,"plant6.png",-.359,.22,.196,.319,2805.35,-350.75,"plant7.png"],active:[538.6,-209.45,"coin",633.9,-222.2,"coin","m",1.705,0,0,1.705,683.2,-291.45,{type:"eggbag"},729,-228.15,"coin",830.75,-240.9,"coin",952.3,-290.85,"coin",1011.95,-372.35,"coin",1101.45,-428.35,"coin",1346.55,-370.95,"coin",1454.6,-365.85,"coin",1532.6,-404.8,"coin",1551.15,-78.95,"kill_vine_2",1610.1,-486.3,"coin","m",.622,-.062,.062,.622,1621.6,-113.2,{type:"kill_vine_1"},"m",.619,-.038,.038,.619,1649.65,-80.35,{type:"kill_vine_3"},1674.1,-542.3,"coin",1840.3,-238.75,"coin",1878.8,-277.25,"coin",1878.8,-200.25,"coin",1878.8,-238.75,"coin",1917.3,-238.75,"coin",2413.4,-607.15,"coin",2465.4,-663.15,"coin",2529.4,-719.15,"coin","m",1.705,0,0,1.705,2713,-811.3,{type:"eggbag"},"m",-.163,.856,-.834,-.159,2811.15,-339.05,{type:"kill_vine_4"},2858.15,-710.6,"coin","m",.758,0,0,.758,2882.25,-339.05,{type:"kill_vine_1"},"m",-.627,.066,.09,.86,2911,-335.7,{type:"kill_vine_1"},2937.05,-720.8,"coin",3021,-731,"coin",3100.6,-739.3,"coin",3261.55,-875.95,"token",3309.45,-541.6,"coin",3347.95,-541.6,"coin",3347.95,-503.1,"coin",3347.95,-580.1,"coin",3386.45,-541.6,"coin",4928,-84.1,"coin",4999.35,-134.1,"coin",5070.7,-170.5,"coin",5142.05,-190.5,"coin",5213.4,-190.5,"coin",5284.6,-156.95,"coin",5355.25,-113.8,"coin",5423.2,-39.5,"coin",8066.55,-830.55,"coin",8096.05,-890.25,"coin",8145.7,-941.2,"coin",8200,-986.7,"coin",8263.25,-1022.05,"coin",8355.85,-1032.75,"magnet",9824.55,-392.35,"coin",9862.3,-447.15,"coin",9918.8,-490.6,"coin",9980.85,-526.75,"coin",10040.6,-553.9,"coin",10120.8,-542.7,"coin",10121.5,-594.65,"coin",10172.8,-542.1,"coin",10173.45,-594.1,"coin",10292.5,-518.5,"coin",10293.2,-570.45,"coin",10344.5,-517.9,"coin",10345.15,-569.9,"coin",11297.2,-188.15,"coin",11342.2,-243.6,"coin",11397.95,-287.95,"coin",11459.45,-325.2,"coin",11529.7,-356,"coin","m",1.705,0,0,1.705,11649.5,-401.95,{type:"eggbag"}]},{type:"normal",level:"0",length:14219,floor:[975.1,-69.8,14.771,1,-10.473,0,1385.45,215.9,27.711,4.328,0,0,1954.4,-203.3,5.282,1,0,0,2442.6,-296.95,5.407,1,-22.942,0,2722,-182.4,1,5.32,0,0,3978,-49.6,3.4,5.096,0,0,4543.65,-138.5,8.538,1,15.972,0,4797.2,68.1,3.4,2.744,0,0,5101.7,-834.15,4.328,1,-10.441,1,5373.2,68.1,3.4,2.744,0,0,5533.1,347.1,34.505,4.392,0,0,5851.5,-1029.5,4.2,1,0,1,5896.4,-208.55,8.537,1,-28.525,0,6540.3,-1192.7,4.2,1,0,1,6617.7,-644.45,8.537,1,-33.776,0,7082.6,-2136,2.474,10.088,0,0,7098.6,-914.7,2.888,1,-15.786,0,7238.8,-356.7,.312,11.025,-3.025,0,7940.4,-158.7,.312,11.025,-3.025,0,8004.7,-663.1,1.864,1.155,32.96,0,8202.05,-453.3,4.824,1,50.167,0,8246.85,-484.4,4.89,1,50.367,2,8463.15,-248.7,1.619,1,38.448,2,8508.9,-145.75,5.017,1,38.984,0,8589.8,-150.85,1.619,1,37.054,2,8701.5,-65.3,1.211,1,37.802,2,8777.4,43.3,2.137,1,21.187,0,8818.9,.8,1.619,1,22.593,2,8947,89.95,1.749,1,6.207,0,8969.15,38.7,1.619,1,5.468,2,9128.05,48.05,1.619,1,1.002,2,9131.75,100.85,2.143,1,1.235,0,9277,38.6,1.436,1,170.979,2,9295.55,93.15,1.374,.998,172.09,0,9414.6,-5.95,1.619,1,-26.232,2,9428.35,46.5,1.741,.974,153.662,0,9573.65,-96.1,2.106,1,-32.055,2,9593.6,-46.95,2.16,.974,147.203,0,9750.45,-206.5,2.106,1,-32.055,2,9770.4,-157.35,2.16,.974,147.203,0,9927.65,-317.7,2.106,1,-32.055,2,9930.15,-241.25,2.16,1.239,147.203,0,10010.8,194.1,.312,11.025,-3.025,0,11107,103.9,10.026,5.928,0,0,11313.95,-214.65,5.343,1.512,-22.235,0,11832.95,-191.4,5.298,4.906,-10.473,0,12433.25,215.9,27.711,4.328,0,0,12702.45,-183.3,14.344,1,-159.541,0],detail:[1.227,1.009,-.756,1.384,5349,-270.7,"rock1.png",-1.401,-.041,-.178,1.61,4854.4,-173.35,"rock4.png",1.275,-.202,.124,1.615,4561.1,-37.5,"rock4.png",1.067,-.336,.508,1.612,11595.35,-354.85,"rock3.png",1.661,-.11,.166,2.51,11728.5,-120.5,"rock3.png",2.234,.443,-.669,3.377,12451.15,53.3,"rock3.png",-1.462,.229,.339,1.384,11029.15,-289.8,"rock1.png",-1.438,.075,.2,1.657,11019.95,24.9,"rock1.png",-1.438,.075,.2,1.657,11023.2,395.2,"rock1.png",1.241,.074,-.088,1.811,9510.7,350,"rock4.png",1.641,.336,-.43,2.097,8871.25,476.65,"rock3.png",1.546,.317,-.43,2.097,9031.25,238.25,"rock3.png",1.575,-.094,.128,2.137,8159.05,495.15,"rock3.png",1.546,.317,-.43,2.097,8285.65,110.25,"rock3.png",-1.079,-.04,-.075,1.637,8265.2,-666.45,"rock4.png",-1.286,-.076,-.1,2.055,8350.6,404.75,"rock4.png",-1.513,-.097,-.124,2.377,8431.45,-338.15,"rock4.png",-1.286,-.076,-.1,2.055,8350.6,124.75,"rock4.png",1.422,-.076,.11,2.055,6779.25,161.55,"rock4.png",-1.178,.15,.146,1.659,4161.55,169.5,"rock1.png",1.623,-.556,-.547,-1.825,4153.85,906.85,"rock1.png",-1.158,.262,.303,1.638,4148.85,-122.75,"rock1.png",1.492,-.337,-.391,-2.111,4099.7,554.15,"rock1.png",1.227,1.009,-.756,1.384,3933,-504.65,"rock1.png",2.138,-.291,.439,3.231,579.25,301.7,"rock3.png",2.257,-.307,.464,3.411,942.6,229.5,"rock3.png",-1.755,.124,.131,1.848,473.6,-66.25,"rock4.png",1.742,.177,-.205,2.023,2225.8,-82.95,"rock1.png",1.915,-.245,.256,2.008,968.4,-116.4,"rock3.png",-2.086,-.792,.92,-2.422,2356,1084.05,"rock1.png",1.327,-.181,.273,2.006,367.35,310.5,"rock3.png",1.327,-.181,.273,2.006,367.35,-36.7,"rock3.png",1.327,-.181,.273,2.006,684.15,-54.3,"rock3.png",-1.632,.251,.313,2.034,466.05,289.95,"rock4.png",-1.921,.295,.313,2.034,662.6,455.05,"rock4.png",1.843,-.001,.001,2.391,1461.7,163.7,"rock4.png",-2.245,-.228,.264,-2.607,2419.4,753.55,"rock1.png",2.031,.443,-.526,2.408,1484.4,-375.55,"rock4.png",2.384,.905,-.869,2.29,1835.4,445.85,"rock1.png",-1.656,1.373,1.315,1.586,2504.7,-583,"rock1.png",1.327,-.181,.273,2.006,476.15,611.3,"rock3.png",2.014,-.327,.231,1.644,2628.1,91.35,"rock-jump2.png",1.329,.051,-.071,.999,2702.15,-388.4,"rock-jump.png",1.328,.074,-.097,.997,2688.05,-145.5,"rock-jump.png",-1.415,-.327,-.162,1.644,3906.5,216.15,"rock-jump2.png",-.934,.051,.05,.999,3854.5,-263.6,"rock-jump.png",-.933,.074,.068,.997,3864.4,-20.7,"rock-jump.png",-1.415,-.327,-.162,1.644,8026.5,-219.05,"rock-jump2.png",-.934,.051,.05,.999,7974.5,-705.2,"rock-jump.png",-.933,.074,.068,.997,7984.4,-462.3,"rock-jump.png",-1.415,-.327,-.162,1.644,8020.1,262.55,"rock-jump2.png",-.933,.074,.068,.997,7978,19.3,"rock-jump.png",-.765,.042,.041,.818,5249.7,-30,"rock-jump.png",.73,-.04,.041,.818,4915.3,-30,"rock-jump.png",1.492,-.337,-.391,-2.111,4501.3,934.95,"rock1.png",-1.178,.15,.146,1.659,5587.15,411.1,"rock1.png",-1.158,.262,.303,1.638,5574.45,118.85,"rock1.png",-1.71,.218,.146,1.659,5351.9,180.7,"rock1.png",-1.642,.526,.446,1.605,5298.4,-24.25,"rock1.png",-1.71,.218,.146,1.659,5351.9,311.9,"rock1.png",1.587,.082,.215,1.562,5473.7,-255.75,"rock1.png",-1.564,.241,.313,2.034,6001.55,11.65,"rock4.png",-1.564,.241,.313,2.034,5966.35,339.65,"rock4.png",-1.234,.99,1.288,1.605,6159.35,-491.25,"rock4.png",1.404,-.191,.289,2.121,5881.6,126.3,"rock3.png",1.404,-.191,.289,2.121,5840,433.5,"rock3.png",1.404,-.191,.289,2.121,6163.1,356.45,"rock3.png",1.404,-.191,.333,2.452,6233.5,-102.75,"rock3.png",1.422,-.082,.119,2.054,6776.55,-498.2,"rock4.png",1.496,.069,-.095,2.055,6781.55,-977.75,"rock4.png",1.422,-.076,.11,2.055,6779.25,-118.45,"rock4.png",1.309,-.327,.15,1.644,7152.9,-439.85,"rock-jump2.png",.864,.051,-.046,.999,7192.2,-926,"rock-jump.png",.863,.074,-.063,.997,7191.85,-683.1,"rock-jump.png",1.309,-.327,.15,1.644,7158.8,41.75,"rock-jump2.png",.863,.074,-.063,.997,7197.75,-201.5,"rock-jump.png",1.391,-.745,1.011,1.887,6116.2,-406.55,"rock3.png",1.317,-.869,1.179,1.787,6348.45,-528.4,"rock3.png",1.482,-.202,.332,2.442,6431.25,-231.7,"rock3.png",1.404,-.191,.315,2.313,6463.1,238.9,"rock3.png",-1.473,-.497,-.635,1.956,8675.75,-259.8,"rock4.png",1.411,.706,-.958,1.914,8542.7,-184.15,"rock3.png",1.575,-.094,.157,2.617,8488.45,385.1,"rock3.png",1.546,.317,-.51,2.491,8823.2,-38.6,"rock3.png",1.382,-.284,.435,2.01,9120.85,17.6,"rock4.png",1.408,.084,-.1,2.055,9254.2,313.7,"rock4.png",1.234,.134,-.209,1.403,9655,-332.8,"rock1.png",1.204,.075,-.168,1.657,9663.5,-41.6,"rock1.png",1.218,-.25,.384,1.772,9344.7,-56.3,"rock4.png",1.204,.075,-.168,1.657,9681.1,326.4,"rock1.png",1.195,-.327,.137,1.644,9946.5,-81.45,"rock-jump2.png",.788,.074,-.058,.997,9982.05,-324.7,"rock-jump.png",1.195,-.327,.137,1.644,9951.9,400.15,"rock-jump2.png",.788,.074,-.058,.997,9987.45,156.9,"rock-jump.png",-1.245,-.327,-.143,1.644,10692.1,67.35,"rock-jump2.png",-.821,.074,.06,.997,10655.05,-175.9,"rock-jump.png",-1.245,-.327,-.143,1.644,10686.45,548.95,"rock-jump2.png",-.821,.074,.06,.997,10649.45,305.7,"rock-jump.png",2.116,.42,-.634,3.199,12021.65,-105.25,"rock3.png",-1.708,.42,.442,1.799,11479.65,-349.9,"rock4.png",1.765,.782,-.819,1.851,12592.95,-356.4,"rock3.png",-2.026,-.934,1.085,-2.353,13773.7,1344.9,"rock1.png",1.277,-.402,.608,1.931,11430.65,45.4,"rock3.png",1.277,-.402,.608,1.931,11332.7,-315.2,"rock3.png",1.314,.26,-.394,1.985,12258.9,-377.5,"rock3.png",-1.566,.523,.652,1.951,11594.7,-77.2,"rock4.png",-1.843,.616,.652,1.951,11783.55,303.25,"rock4.png",1.743,.598,-.776,2.262,12923.45,250.85,"rock4.png",-2.064,-.534,.62,-2.397,13860.05,810.5,"rock1.png",1.777,1.079,-1.279,2.107,13120.1,-251.75,"rock4.png",2.23,1.237,-1.188,2.142,13181.05,563.3,"rock1.png",1.336,-.088,.134,2.02,11620,339.85,"rock3.png",1.307,.29,-.438,1.976,11952.1,-530.1,"rock3.png",-1.37,.444,.622,1.549,11273.1,349.95,"rock1.png",-1.438,.075,.2,1.657,11336.8,10.45,"rock1.png",1,0,0,1.192,6563.45,-1559.1,"eggbagasset_00006.png",1,0,0,1.192,6563.45,-1586.1,"eggbagasset_00006.png",-1,0,0,-1.192,6658.05,-1560.6,"eggbagasset_00006.png",-1,0,0,-1.192,6658.05,-1533.6,"eggbagasset_00006.png",1,0,0,1.192,5757.05,-1379.55,"eggbagasset_00006.png",1,0,0,1.192,5757.05,-1406.55,"eggbagasset_00006.png",-1,0,0,-1.192,5851.65,-1377.85,"eggbagasset_00006.png",-1,0,0,-1.192,5851.65,-1350.85,"eggbagasset_00006.png",-1,0,0,-1.192,5851.65,-1597.85,"eggbagasset_00006.png",-1,0,0,-1.192,5851.65,-1570.85,"eggbagasset_00006.png",.431,-.04,.032,.346,4900.9,-51.9,"cave_ronce.png",.431,.041,-.033,.345,5152.15,-33.85,"cave_ronce.png",.919,-.06,.078,1.185,803.15,-806.95,"tree.png",-.488,.131,.153,.573,606.5,-272.2,"tree3.png",.61,-.067,.067,.61,13499.2,-150.2,"tree2.png",.385,-.073,.073,.385,11476.15,-519.65,"tree3.png",.795,-.3,.362,.961,6760.1,-885.95,"grass4.png",-.553,.055,.043,.517,4584.3,-291,"vine3.png",.61,-.067,.067,.61,9172.8,-98.95,"tree2.png",.378,.021,-.021,.378,915.95,-199.8,"plant6.png",.246,.287,-.287,.246,1008.35,-231.4,"plant6.png",-.679,.08,.147,1.25,708.25,-143.65,"grass4.png",.532,-.072,.072,.532,668.6,-164.55,"plant2.png",.499,-.068,-.003,.509,498.25,-22.4,"vine2.png",-.633,.169,.173,.646,1000.45,-130.25,"vine5.png",-.941,-.213,-.221,.975,1586.3,-45.55,"vine4.png",-.655,-.148,-.152,.669,2502.55,-178.05,"vine4.png",.822,0,.013,.632,1579.4,-235.65,"vine3.png",-.519,.3,.316,.478,6956.85,-816.6,"vine3.png",.56,-.076,-.003,.571,11121.3,-187.85,"vine2.png",-.646,-.146,-.152,.669,9495.8,204.1,"vine4.png",.708,0,0,.708,8915.1,69.8,"vine2.png",-.565,0,0,.996,4190.1,-354.2,"grass4.png",.959,-.187,.188,.924,951.5,-194.25,"grass2.png",.814,0,0,.996,3755.05,-358.65,"grass4.png",-.57,.104,.199,1.09,470.95,-99.25,"grass3.png",-.824,.15,.205,1.125,1066.3,-197.4,"grass3.png",.799,-.021,.024,.914,-94.2,-29.25,"grass4.png",-.581,.038,.075,1.142,1598.8,-263.3,"grass4.png",-.569,.158,.257,.926,1738.95,-324.6,"grass3.png",-.666,.006,.009,.938,2031.35,-296.45,"grass3.png",-.465,-.305,-.628,.957,8167.3,-694.2,"grass4.png",.522,.6,-.706,.625,8128.7,-773.45,"grass2.png",-.78,-.603,-.571,.751,8901.35,-33.6,"grass2.png",-.559,-.17,-.291,.957,9064.8,12.7,"grass3.png",-.777,-.131,-.19,1.128,9339.35,14.05,"grass4.png",.664,-.184,.251,.907,9154.85,21.25,"grass4.png",-.576,.294,.455,.89,9627.1,-181.05,"grass3.png",.998,.056,-.056,.998,1268.2,-258.55,"plant5.png",.796,0,0,.796,3940.3,-513.8,"deco-rock.png",.691,.244,-.244,.691,9144.15,-19.9,"deco-rock3.png",.654,-.002,.002,.654,3990.6,-353.15,"deco-rock2.png",.791,0,0,.791,204.4,-133.6,"plant9.png",.398,-.005,.005,.398,9043.2,-31.85,"plant2.png",-.473,.29,.258,.42,1365.85,-305.45,"plant7.png",.822,0,0,.822,8821.35,-62.75,"plant5.png",.895,.517,-.517,.895,8226.95,-614.15,"plant5.png",.383,-.108,.108,.383,9295.65,-41.75,"plant2.png",.61,0,0,.61,8902,-64.1,"plant9.png",-.547,0,0,.558,266.9,181.5,"vine5.png",1.357,-.759,.759,1.357,6919.5,-786.35,"plant3.png",-.646,-.146,-.152,.669,8377.4,-306.3,"vine4.png",.664,.15,-.152,.669,9617.65,-170.9,"vine4.png",1.357,-.759,.759,1.357,9341.35,380.6,"plant3.png",1.009,.601,-.601,1.009,8103.4,-308.65,"plant3.png",.573,1.025,-1.025,.573,9701.85,-117.5,"plant3.png",1.386,-.351,.351,1.386,1398.05,-17.9,"plant3.png",.823,0,0,.611,1931.55,28.45,"vine5.png",-.51,0,.03,.487,12021.35,-425.6,"vine3.png",.66,0,-.047,.448,10668,-136.9,"vine5.png",-.725,-.164,.17,-.752,11644.45,125.8,"vine4.png",1.119,.317,-.317,1.119,11631.5,-358,"plant3.png",1.018,.288,-.288,1.018,11542.15,3.25,"plant3.png",-.97,-.22,-.224,.991,2100.1,95.05,"vine4.png",.503,-.135,.135,.503,437,-133.25,"plant1.png",.495,.163,-.163,.495,7919.8,-866.3,"plant1.png",.451,-.26,.26,.451,9445.9,-133.65,"plant1.png",.665,-.006,.009,.953,1866.85,-298.75,"grass3.png",.654,-.017,.024,.914,2048.1,-299.65,"grass4.png",.844,-.326,.347,.877,2184.9,-333.65,"grass2.png",-.568,.015,.024,.914,2835.85,-467.55,"grass4.png",.751,-.002,.002,.751,652.65,-131.6,"deco-rock2.png",.516,.506,-.655,.679,8309.9,-534.2,"grass2.png",-.829,.533,.498,.761,9903.3,-409.4,"grass2.png",-.485,.297,.477,.779,10023.95,-449.7,"grass4.png",.648,.235,-.232,.904,4117.05,-414.55,"grass2.png",-.64,-.153,-.183,.924,4931.25,-179.15,"grass2.png",.625,.176,-.181,.892,4386.8,-318.9,"grass2.png",.965,-.037,.035,.897,5100.2,-101.75,"grass1.png",-.83,.451,.427,.787,5828.4,-282.35,"grass4.png",.688,-.121,.177,1.011,5304.55,-124.25,"grass4.png",.821,0,0,.821,5405.45,-295.25,"deco-rock.png",.674,-.002,.002,.674,5457.3,-129.55,"deco-rock2.png",-.727,-.165,-.199,.875,5052.55,-99.1,"grass1.png",.756,-.423,.503,.759,5662.25,-231.75,"grass2.png",.756,-.423,.503,.759,5961.45,-402.55,"grass2.png",-.724,.473,.554,.722,6644.25,-828.8,"grass2.png",.691,-.496,.599,.834,6542.85,-715,"grass4.png",-.969,.3,.248,.953,7313.85,-1051.65,"grass1.png",.698,-.018,.023,.902,10728.35,-240.1,"grass4.png",.96,.105,-.098,.892,10527.1,-250.55,"grass1.png",-.698,.207,.214,.723,11291,-312.45,"grass4.png",-.693,.324,.391,.821,11500.25,-480.1,"grass2.png",-.898,.225,.228,.88,11904.5,-570.1,"grass2.png",.698,-.018,.023,.902,11805.15,-521.7,"grass4.png",-.794,-.269,-.29,.855,12401.65,-427.1,"grass4.png",-.863,-.335,-.316,.834,12736.05,-340.95,"grass2.png",-.926,.012,.019,.891,13872.65,-101.3,"grass2.png",-.8,-.398,-.402,.808,13004.6,-180.35,"grass4.png",-.982,-.381,-.316,.834,13343.5,-112.75,"grass2.png",-.735,-.149,-.179,.884,13508.95,-50.35,"grass4.png",.504,.009,-.08,.502,12054.6,-403.85,"vine2.png",-.374,-.429,-.438,.382,12639.15,-43.75,"vine5.png",-.821,-.507,-.526,.851,13109.25,147.85,"vine4.png",-.539,.093,.094,.55,11870.45,-252.05,"vine5.png",.794,.491,-.501,.811,13002.6,-158.1,"vine4.png",.821,0,0,.821,10896.65,-394.45,"deco-rock.png",.674,-.002,.002,.674,10948.5,-228.75,"deco-rock2.png",.383,-.108,.108,.383,11757.95,-521.55,"plant2.png",.495,.163,-.163,.495,13350.2,-155.9,"plant1.png",.791,0,0,.791,13205.9,-179.3,"plant9.png",-.655,-.148,-.152,.669,6730.55,-298.05,"vine4.png",.607,0,.009,.467,5937.65,-260.1,"vine3.png",.823,0,0,.611,6222.75,-38.75,"vine5.png",-.97,-.22,-.224,.991,6391.3,27.85,"vine4.png",.821,0,0,.821,11578.75,-621.75,"deco-rock.png",.573,0,0,.513,6321.35,-1235.2,"upper_plateform2.png",.787,0,0,1.496,6680.85,-1777.65,"upper_vine1.png",.814,0,0,2.02,6369.7,-1820.3,"upper_vine2.png",.785,0,0,-1.849,6369.7,-1760.5,"upper_vine2.png",.657,0,0,-1.496,6681.7,-1763.15,"upper_vine1.png",.495,0,0,-.919,6013.15,-1367.15,"upper_vine1.png",.708,0,0,.708,5689.15,-1001.85,"vine2.png",.455,.012,-.012,.455,5610.6,-1053.7,"upper_plateform5.png",.496,.026,0,1.933,5674.05,-1627.55,"upper_vine2.png",.631,0,0,.919,6011.55,-1370.5,"upper_vine1.png",-.495,0,0,.919,6033.95,-2091.35,"upper_vine1.png",.488,.026,0,-1.933,5674.2,-1598.5,"upper_vine2.png",.679,0,0,.859,5586,-2155.95,"upper_leaf.png",-.628,.185,.183,.604,5286.9,-943.3,"upper_plateform1.png",-.641,-.011,-.02,1.079,5273.6,-1263.55,"upper_vine1.png",-.641,-.011,.02,-1.079,5274.6,-1262.55,"upper_vine1.png",.597,-.006,.035,1.581,4904.25,-1399.5,"upper_vine1.png",.544,-.006,-.024,-1.079,4907.1,-1384.5,"upper_vine1.png",-.683,-.1,-.216,1.428,5375,-1898.65,"upper_leaf.png",.679,0,0,1.591,2835.6,-1334.95,"upper_leaf.png",-.566,0,0,1.591,4250,-1472.55,"upper_leaf.png",-.783,.092,.109,.972,3906.7,-1445.45,"upper_leaf.png",-.689,-.041,-.071,1.118,6842.7,-2024.6,"upper_leaf.png",-.689,-.041,-.084,1.314,7338.05,-1968.3,"upper_leaf.png",-1.015,.119,.109,.972,3602.05,-1597.9,"upper_leaf.png",-1.188,.139,.166,1.475,4058.8,-1838.65,"upper_leaf.png",-1.188,.139,.166,1.475,4550.25,-1838.8,"upper_leaf.png",.666,0,0,.902,4927.95,80.8,"grass4.png"],
active:["m",.983,-.186,.186,.983,903.05,-197.55,{type:"kill_vine_1"},"m",.983,-.186,.186,.983,1523.4,-304.9,{type:"kill_vine_1"},1832.9,-321.1,"coin",1906.3,-326.3,"coin",1979.7,-331.55,"coin",2053.1,-333.6,"coin",2126.5,-338.8,"coin",2199.9,-344.05,"coin",2700.35,-507.55,"coin",2749.55,-565.15,"coin",2815.35,-602.65,"coin",2884.35,-633.7,"coin",2980,-652.2,"coin",3103.25,-916.3,"vine",3452.35,-902.15,"coin",3454.15,-861.75,"coin",3494.45,-902.15,"coin",3497.05,-862.05,"coin",3611.55,-975.75,"coin",3613.35,-935.35,"coin",3653.65,-975.75,"coin",3656.25,-935.65,"coin",3792.35,-942.95,"coin",3794.15,-902.55,"coin",3834.45,-942.95,"coin",3837.05,-902.85,"coin",4032.05,-1063.5,"vine",4415.35,-286,"coin",4489.75,-266,"coin",4564.95,-248.4,"coin",4645.35,-226,"coin",4719.75,-206,"coin",4794.95,-190.4,"coin",4951.15,-841.7,"coin",5022.65,-859.2,"coin","m",1,0,0,1,5084.65,41.25,{type:"kill_vine_1"},5094.1,-876.75,"coin","m",.237,1.188,-1.188,.237,5109.5,5.1,{type:"kill_vine_4"},5166.1,-891.2,"coin",5237.55,-908.65,"coin",5705.15,-220.75,"coin",5777.15,-262.75,"coin","m",1.241,0,0,1.241,5807.4,-1129.6,{type:"eggbag"},5857.15,-296.75,"coin",5921.15,-330.75,"coin",6001.15,-354.75,"coin","m",1.241,0,0,1.241,6614.7,-1296.15,{type:"eggbag"},7111.25,-1645.1,"vine",7225.65,-1108.5,"coin",7329.25,-1241.75,"coin",7422.35,-1570.35,"magnet",7460.85,-1304.05,"coin",7482,-1640.85,"coin",7540.85,-1694.45,"coin",7592.45,-1283.75,"coin",7603.7,-1730.75,"coin",7666.55,-1740.75,"coin",7724.05,-1204.8,"coin",7725.4,-1740.75,"coin",7784.25,-1720.45,"coin",7843.1,-1685.65,"coin",7855.65,-1094.8,"coin",7901.95,-1641.5,"coin",7960.8,-1590.9,"coin",8019.65,-1531.5,"coin",8098.45,-1409.6,"token",10068.7,-587.2,"coin",10145.15,-632.95,"coin",10229.05,-660.2,"coin",10321.95,-674.85,"coin",10409.45,-673.1,"coin",10492.05,-629.1,"coin",10533.95,-587.1,"coin",10533.95,-671.1,"coin",10534,-629.1,"coin",10576,-629.1,"coin",11193.2,-333.65,"coin",11288,-376.2,"coin",11375.7,-416.85,"coin",12889.2,-320.9,"coin",12959.95,-356.2,"coin",13031.5,-378.75,"coin",13103.05,-401.4,"coin",13175.3,-411.35,"coin",13241.9,-408.75,"coin",13290.9,-457.75,"coin",13290.9,-359.7,"coin",13290.9,-408.7,"magnet",13339.9,-408.75,"coin"]},{type:"normal",level:"0",length:13545.8,floor:[483.35,49.5,9.617,1,0,0,700.1,-68.2,7.601,1.094,-21.266,0,893.6,345.5,2.534,9.802,0,0,1443.7,89.45,2.534,9.802,0,0,1647.2,-472.95,7.708,.99,-20.759,0,1906,-98.6,1.836,9.802,0,0,2508.75,-368.65,2.478,9.065,.498,0,2876.9,-540.05,6.888,9.518,-23.48,0,3061.4,-1086,4.985,1,-24.579,0,3351,-1242.8,1.927,1,-39.58,0,3512.25,-1366.4,2.227,1,-35.614,0,3536.65,-548.85,.937,16.472,0,0,6011.2,-475.45,.424,10.012,0,0,6065.65,-934.15,1.685,.909,-131.915,0,6066.35,-1005.8,.868,.91,-132.213,2,6142.25,-922.05,1.412,.911,-132.346,2,6163.85,-835.4,1.677,.913,-132.916,0,6237.85,-833.55,1.31,.945,37.651,2,6386.4,-678.6,4.054,.964,-149.243,0,6454.65,-706.55,3.845,.97,-151.822,2,6806.6,49.5,15.885,1,0,0,6950.4,-563.2,11.24,1,3.423,0,7366.1,-631,5.343,1,-22.871,0,7564,-361.3,1.128,7.718,0,0,8406.4,-412.8,6.182,6.824,0,0,8661.75,-689.45,4.138,2.216,-14.999,0,9206.5,-399.9,7.595,9.003,0,0,10729.55,-150.4,17.707,7.468,0,0,12265.85,49.5,17.934,1,0,0],detail:[2.158,.009,-.014,3.261,8658,44.05,"rock3.png",1.459,.012,-.041,1.772,9125.7,-246.85,"rock4.png",1.459,.012,-.041,1.772,9125.7,-572.1,"rock4.png",1.38,-.042,.027,1.677,9137.45,-866.85,"rock4.png",-1.65,-.029,-.036,2.057,8608.55,-71.7,"rock4.png",-1.758,.078,.082,1.851,8635.85,-798.15,"rock4.png",-1.644,.143,.179,2.05,8578.4,-461.9,"rock4.png",-1.65,-.029,-.036,2.057,10373.4,169.2,"rock4.png",-1.059,.002,.003,2.094,11624.2,-174.55,"rock3.png",-1.077,-.189,-.232,1.218,6368.5,-880.4,"rock4.png",-1.534,-.145,-.186,1.695,6515,-749.55,"rock4.png",1.387,.402,-.383,1.586,409.85,447.05,"rock1.png",1.387,.402,-.383,1.586,593.85,426.15,"rock1.png",1.429,.134,-.14,1.491,579.05,140.1,"rock1.png",1.429,.134,-.14,1.491,579.05,-213.45,"rock1.png",1.388,.367,-.383,1.448,408.95,-148.8,"rock1.png",1.602,.423,-.442,1.671,408.95,133.6,"rock1.png",1.066,.064,-.067,1.112,3233.2,-1376,"rock1.png",1.387,.402,-.383,1.586,1381.3,32.5,"rock1.png",1.387,.402,-.383,1.586,1565.3,11.6,"rock1.png",1.429,.134,-.14,1.491,1550.5,-274.45,"rock1.png",1.429,.134,-.14,1.491,1550.5,-614.95,"rock1.png",2.158,.009,-.014,3.261,10404.85,-176.75,"rock3.png",2.278,.01,-.015,3.443,10774.65,-197.75,"rock3.png",-1.758,.078,.082,1.851,10400.7,-547.25,"rock4.png",1.931,.024,-.025,2.024,10848.3,-536.7,"rock3.png",1.339,.006,-.009,2.024,10193.75,-197.5,"rock3.png",1.339,.006,-.009,2.024,10242,-541.3,"rock3.png",1.339,.006,-.009,2.024,10558.15,-514.7,"rock3.png",-1.644,.143,.179,2.05,10343.25,-221,"rock4.png",-1.435,-.136,-.214,1.953,6472.25,-399.1,"rock4.png",1.339,.006,-.009,2.024,10259.7,115.5,"rock3.png",-1.752,-.385,-.201,1.932,6105.15,-413.95,"rock-jump2.png",-1.156,.06,.061,1.174,6040.75,-977.8,"rock-jump.png",-1.155,.087,.085,1.172,6053,-692.3,"rock-jump.png",.504,.002,-.073,.503,10369.65,-508.95,"vine2.png",-.65,.08,.082,.664,10881.95,-545.95,"vine5.png",-.902,-.342,-.354,.935,11450.35,-380.7,"vine4.png",-.542,-.076,-.078,.553,10189.9,-394.6,"vine5.png",1.927,.195,-.25,2.468,2997.5,-778.25,"rock1.png",-2.086,-.792,.92,-2.422,3428.9,-164.35,"rock1.png",-1.938,-.197,.237,-2.342,3227.15,-260.4,"rock1.png",1.6,-.328,.342,1.669,2940.7,-1253.25,"rock1.png",2.014,-.327,.231,1.644,3425.8,-920.65,"rock-jump2.png",1.329,.051,-.071,.999,3499.85,-1400.4,"rock-jump.png",1.328,.074,-.097,.997,3485.75,-1157.5,"rock-jump.png",-2.245,-.228,.264,-2.607,3062.95,284.3,"rock1.png",1.429,-.134,.185,1.977,2349.5,-1000.95,"rock1.png",2.014,-.327,.231,1.644,1851.5,-123.5,"rock-jump2.png",1.329,.051,-.071,.999,1925.55,-603.25,"rock-jump.png",1.328,.074,-.097,.997,1911.45,-360.35,"rock-jump.png",1.388,.367,-.383,1.448,1380.4,-563.35,"rock1.png",1.602,.423,-.442,1.671,1373.4,-298,"rock1.png",-1.354,-.327,-.155,1.644,1414.85,116.85,"rock-jump2.png",-.894,.051,.048,.999,1365.05,-362.9,"rock-jump.png",-.893,.074,.065,.997,1374.55,-120,"rock-jump.png",-1.983,-.412,-.227,2.069,2538.45,-225.75,"rock-jump2.png",-1.309,.064,.07,1.257,2465.5,-829.6,"rock-jump.png",-1.307,.093,.096,1.255,2479.4,-523.85,"rock-jump.png",1.328,.074,-.097,.997,3485.75,-492.5,"rock-jump.png",2.014,-.327,.231,1.644,880.05,287.1,"rock-jump2.png",1.329,.051,-.071,.999,954.1,-192.65,"rock-jump.png",1.328,.074,-.097,.997,940,50.25,"rock-jump.png",1.777,.47,-.49,1.854,-7,-200.55,"rock1.png",1.777,.47,-.49,1.854,-7,208.05,"rock1.png",1.777,.47,-.49,1.854,-7,484.45,"rock1.png",1.329,.169,-.256,2.008,6374.85,-368.95,"rock3.png",1.329,.169,-.228,1.79,6328.8,-661.4,"rock3.png",1.329,.169,-.228,1.79,6673.3,-637.35,"rock3.png",1.459,.012,-.041,1.772,7148,-387.4,"rock4.png",1.38,-.042,.027,1.677,7159.75,-682.15,"rock4.png",1.815,.057,-.064,2.023,6683,-300.15,"rock3.png",1.815,.057,-.064,2.023,6741.1,-604.6,"rock3.png",.726,.636,-.591,.675,5954.85,-1132.15,"grass1.png",.773,.004,-.073,.503,6524.6,-609.3,"vine2.png",-.776,.02,.021,.826,6884.8,-684.35,"grass4.png",-.569,.07,.1,.82,7653,-807.85,"grass4.png",.821,0,0,.821,6674.7,-838.05,"deco-rock.png",.674,-.002,.002,.674,6726.55,-672.35,"deco-rock2.png",1.477,-.385,.169,1.932,7507.6,-133.9,"rock-jump2.png",.975,.06,-.052,1.174,7561.9,-697.75,"rock-jump.png",.973,.087,-.071,1.172,7551.55,-412.25,"rock-jump.png",-1.059,.002,.003,2.094,11624.2,-519.9,"rock3.png",-1.603,-.385,-.184,1.932,9971.2,64.9,"rock-jump2.png",-1.058,.06,.056,1.174,9912.25,-498.95,"rock-jump.png",-1.057,.087,.077,1.172,9923.5,-213.45,"rock-jump.png",.772,.048,-.041,.944,11569.55,-492.35,"rock-jump.png",.771,.07,-.056,.943,11561.3,-262.6,"rock-jump.png",2.261,.275,-.403,3.313,11442.6,-57.15,"rock3.png",2.007,.087,-.128,2.941,12018.1,-9.4,"rock3.png",1.713,.074,-.109,2.51,12565.9,-2.05,"rock3.png",1.713,.074,-.109,2.51,12411.3,411.55,"rock3.png",1.713,.074,-.109,2.51,11999.7,419.55,"rock3.png",-1.603,-.385,-.184,1.932,8208.3,-168,"rock-jump2.png",-1.058,.06,.056,1.174,8149.35,-731.85,"rock-jump.png",-1.057,.087,.077,1.172,8160.6,-446.35,"rock-jump.png",1.81,-.385,.207,1.932,9457.2,-256.35,"rock-jump2.png",1.195,.06,-.064,1.174,9523.8,-820.2,"rock-jump.png",1.193,.087,-.087,1.172,9511.1,-534.7,"rock-jump.png",2.158,.009,-.014,3.261,8591.75,-463.9,"rock3.png",1.439,.006,-.009,2.175,8380.8,-519.25,"rock3.png",1.339,.006,-.009,2.024,8440.9,-797.45,"rock3.png",1.606,.007,-.009,2.024,8745.05,-801.85,"rock3.png",1.339,.006,-.009,2.024,8446.6,-171.65,"rock3.png",1.606,.007,-.009,2.024,8752.15,-837.85,"rock3.png",1.339,.006,-.009,2.024,8446.6,149.6,"rock3.png",.821,0,0,.821,1663.1,-771.8,"deco-rock.png",.504,.002,-.073,.503,8377.85,-737.8,"vine2.png",-.65,.08,.082,.664,8986.5,-786.85,"vine5.png",-.902,-.342,-.354,.935,9528.8,-625.65,"vine4.png",-.542,-.076,-.078,.553,8439.05,-637.55,"vine5.png",.665,.252,-.261,.689,7216.2,-702.8,"vine4.png",-.597,.073,.075,.609,7225.4,-578.75,"vine5.png",1.713,.074,-.109,2.51,12773.95,-2.05,"rock3.png",1,0,0,1.192,10077.65,-1377.65,"eggbagasset_00006.png",1,0,0,1.192,10077.65,-1404.65,"eggbagasset_00006.png",-1,0,0,-1.192,10172.25,-1379.15,"eggbagasset_00006.png",-1,0,0,-1.192,10172.25,-1352.15,"eggbagasset_00006.png",1.337,-.641,0,.708,969.05,-223.7,"vine2.png",1.801,-.864,0,.708,1932.55,-622.95,"vine2.png",1,0,0,1.192,11982.15,-1113.55,"eggbagasset_00006.png",1,0,0,1.192,11982.15,-1140.55,"eggbagasset_00006.png",-1,0,0,-1.192,12076.75,-1115.05,"eggbagasset_00006.png",-1,0,0,-1.192,12076.75,-1088.05,"eggbagasset_00006.png",.761,-.094,.094,.761,10351.95,-765.25,"tree3.png",.968,-.009,.009,.968,6862.45,-915.05,"tree3.png",.572,-.223,.223,.572,3093.8,-1341.85,"tree2.png",.371,.074,-.074,.371,10807.95,-626.6,"plant6.png",.204,.319,-.319,.204,10903.85,-645.05,"plant6.png",-.521,.193,.171,.463,10867.4,-658.8,"plant7.png",-.684,-.015,-.028,1.258,10594.5,-599.85,"grass4.png",.537,.002,-.002,.537,10558.1,-626.1,"plant2.png",.92,-.044,.057,1.186,8877.3,-1566.6,"tree.png",.544,.398,-.551,.766,6166.15,-1018.1,"grass2.png",-.578,.024,.046,1.107,10353.3,-588.85,"grass3.png",-.837,.034,.046,1.142,10956.5,-603.3,"grass3.png",.794,.09,-.103,.908,9819.05,-593.15,"grass4.png",-.58,-.043,-.085,1.141,11493,-594.55,"grass4.png",-.59,.009,.014,.961,11642.2,-588.35,"grass3.png",.688,.096,-.096,.688,10102.2,-638.75,"plant9.png",1.421,-.155,.155,1.421,11260.1,-379.45,"plant3.png",.392,-.048,.048,.392,10358.65,-614.95,"plant1.png",.744,.102,-.102,.744,10537.7,-595.65,"deco-rock2.png",.679,0,0,1.591,3745.9,-2449,"upper_leaf.png",-.632,.241,.48,1.075,2996.35,-1181.2,"grass4.png",-.504,.268,.487,.791,2779.8,-1098.8,"grass3.png",-.692,.424,.703,.867,3285.9,-1354.4,"grass3.png",.739,-.289,.345,.777,2279.1,-856.95,"grass4.png",-.767,.377,.403,.82,3592.75,-1495.7,"grass4.png",.746,0,0,1.591,4462.95,-2649.25,"upper_leaf.png",-.523,.248,.474,1.002,1724.9,-628.35,"grass3.png",-.714,.251,.379,1.078,2014.4,-723.15,"grass3.png",.766,-.227,.259,.876,1231.4,-423.65,"grass4.png",-.511,.272,.521,.978,741.25,-217.05,"grass3.png",-.701,.284,.43,1.059,1025.95,-325.5,"grass3.png",.72,-.347,.397,.823,308.6,-10.9,"grass4.png",.936,-.077,.075,.911,-42.85,-41.35,"grass4.png",.651,.294,-.346,.784,6359.05,-846.6,"grass2.png",-.745,-.016,.047,1.13,7215.5,-670.7,"grass3.png",-.682,.279,.493,1.018,7507.7,-794.75,"grass3.png",-.747,.011,.014,.961,11318.95,-589.75,"grass3.png",-.684,-.015,-.028,1.258,12327.25,-71.75,"grass4.png",-.578,.024,.046,1.107,12086.05,-60.75,"grass3.png",-.837,.034,.046,1.142,12689.25,-75.2,"grass3.png",.794,.09,-.103,.908,11551.8,-65.05,"grass4.png",-.59,.009,.014,.961,13188.25,-60.25,"grass3.png",-.747,.011,.014,.961,13051.7,-61.65,"grass3.png",.799,0,0,.914,8030.15,-804.1,"grass4.png",-.882,.08,.101,1.11,9276.8,-931.7,"grass4.png",-.694,.068,.102,1.039,9108.5,-917.85,"grass3.png",-.761,.031,.046,1.142,9618.15,-924.85,"grass3.png",.823,-.216,.203,.772,8324.3,-748.45,"grass4.png",.791,0,0,.791,232.45,-132.35,"plant9.png",.52,.029,-.029,.52,8332.6,-838.35,"plant1.png",.371,.074,-.074,.371,9310.1,-943.9,"plant6.png",.204,.319,-.319,.204,9406,-962.35,"plant6.png",-.521,.193,.171,.463,9369.55,-976.1,"plant7.png",.537,.002,-.002,.537,8966.9,-951.4,"plant2.png",.981,.194,-.194,.981,1960.05,-701.05,"plant5.png",.674,-.002,.002,.674,8115.95,-797.8,"deco-rock2.png",.674,-.002,.002,.674,9088.75,-912.25,"deco-rock2.png",.497,-.204,.204,.497,1332.95,-485.85,"plant2.png",.649,-.262,.262,.649,3058.35,-1291.45,"plant9.png",1.421,-.155,.155,1.421,9344.6,-608.35,"plant3.png",-.927,0,0,1,7698.2,-782,"plant8.png",-.575,.104,.187,1.027,8895.65,-910.95,"grass3.png",1.179,0,0,1.591,3803.5,-2749.8,"upper_leaf.png",-.65,.08,.082,.664,2934.55,-989.7,"vine5.png",-.902,-.342,-.354,.935,3476.85,-828.5,"vine4.png",.796,-.087,.087,.796,10662.3,-773.25,"plant3.png",.122,-.791,.791,.122,10670.25,-764.05,"plant3.png",.473,.646,-.646,.473,10661.8,-772.85,"plant3.png",.207,-.47,.752,.331,10646.9,-766.3,"plant3.png",.234,-.063,.063,.234,10632.35,-786.1,"flower3.png"],active:[483.8,-74.35,"coin",543.8,-98.35,"coin",603.8,-122.35,"coin",663.8,-148.35,"coin",723.8,-174.35,"coin",783.8,-198.35,"coin",959.7,-272.5,"coin",985.85,-333.75,"coin",1032.65,-387.45,"coin",1086.4,-435.15,"coin",1139.55,-473.5,"coin",1203.55,-502.3,"coin",1949.85,-723.3,"coin",1976,-784.55,"coin",2022.8,-838.25,"coin",2076.55,-885.95,"coin",2129.7,-924.3,"coin",2203.3,-959.5,"coin",3692.6,-1698.5,"magnet",3953.8,-1978.05,"vine",4160.5,-1899.65,"coin",4207.9,-1940.85,"coin",4263.05,-1985.15,"coin",4319.55,-2012.65,"coin",4383.15,-2035.35,"coin",4445.8,-2030.95,"coin",4722.15,-2190.1,"vine",4968.7,-2107.7,"coin",5016.1,-2148.9,"coin",5071.25,-2193.2,"coin",5127.75,-2220.7,"coin",5191.35,-2243.4,"coin",5254,-2239,"coin",7121.5,-654.3,"coin",7164.7,-642.55,"coin",7199.95,-669.95,"coin",7243.1,-658.15,"coin",7278.45,-685.6,"coin",7579.05,-890.1,"coin",7635.05,-946.1,"coin",7715.05,-998.1,"coin",7818.1,-1022.1,"coin",7923.3,-1015.75,"coin",8027.55,-969.7,"coin",8106.5,-895.7,"coin",8597.75,-824.45,"coin",8664.95,-846.85,"coin",8729.05,-868.1,"coin",8793.85,-887.3,"coin",9045.95,-907.2,"kill_vine_2","m",.737,0,0,.737,9088.75,-893.85,{type:"kill_vine_3"},"m",-.239,.891,-.891,-.239,9155.95,-946.15,{type:"kill_vine_4"},9557.3,-924.6,"coin",9605.45,-993.75,"coin",9663.8,-1050.55,"coin",9727.55,-1083.85,"coin",9788.35,-1108.25,"coin",9858.75,-1121.05,"coin",9932.35,-1117.85,"coin",10008,-593.15,"token","m",1.705,0,0,1.705,10127.95,-1105.2,{type:"eggbag"},11598.05,-644.95,"coin",11635.6,-699.9,"coin",11691.95,-743.55,"coin",11753.95,-779.9,"coin",11813.5,-807.15,"coin",11887.1,-822.2,"coin","m",1.705,0,0,1.705,12032.45,-841.1,{type:"eggbag"}]},{type:"normal",level:"1",length:9474.85,floor:[97.15,295.75,4.54,1.953,-89.866,0,219.3,36.5,4.399,.742,0,0,908.1,-139.6,3.681,1,-.002,1,1578,-240.35,2.268,1,-15.967,1,1795.1,-288.45,2.268,1,-9.985,1,2317.05,-405.2,3.088,1,-.002,1,4055.9,-428.3,3.494,.552,-17.174,0,4066.7,298.9,3.942,14.211,0,0,4297.75,-500.95,1.664,.419,-11.174,0,4449.8,-545.9,1.67,.419,-22.865,0,4936.5,-699,3.269,1,-15.001,1,5680.95,-569.05,1.118,.796,-15.001,1,5776.45,-583.8,.864,.796,-.297,1,5856.35,-579.7,.864,.796,6.407,1,5924.6,-583.6,.64,.796,-15.001,1,5979.65,-607.35,.64,.796,-30.002,1,6032,-641.5,.64,.796,-35.984,1,6616.7,-690.45,2.764,.915,10.924,1,6821.45,-681.15,1.542,.913,-10.742,1,6927.5,-704.8,.789,.916,-16.803,1,7034.85,-714.2,1.355,.912,.893,1,7050.55,77,3.537,15.148,0,0,7204.85,-705.5,2.103,.912,4.094,1,7888.1,-602.35,3.889,1,8.223,1,8898.9,418.85,7.006,3.574,-89.866,0,9079.2,36.5,6.937,.742,0,0],detail:[.498,-.242,.242,.498,5594,-554.4,"upper_plateform3.png",.615,.088,-.081,.566,719.4,-219.5,"upper_plateform1.png",1.043,0,0,1.884,1046.3,-727.15,"upper_vine2.png",1.049,0,0,1.598,737.95,-761.7,"upper_vine1.png",-.754,0,0,.865,1190.3,-925.25,"upper_leaf.png",.472,-.092,.092,.472,1436.05,-234.2,"upper_plateform5.png",.893,.131,.047,1.387,1493.2,-654.6,"upper_vine2.png",.62,-.022,.031,.903,1839.2,-643.05,"upper_vine1.png",.62,-.022,-.046,-1.333,1839.3,-639.8,"upper_vine1.png",.83,.122,-.047,-1.387,1497.05,-639.2,"upper_vine2.png",.791,0,0,1,1350.35,-1352.8,"upper_leaf.png",.531,.076,-.081,.566,2138.1,-476.7,"upper_plateform1.png",.823,0,0,1.884,2407.9,-987.95,"upper_vine2.png",.809,0,0,1.598,2163.55,-1022.5,"upper_vine1.png",-.754,0,0,1.251,3137.5,-1259.65,"upper_leaf.png",.532,-.064,.068,.567,4752.9,-724.05,"upper_plateform1.png",.823,0,0,1.907,5057.5,-1341.55,"upper_vine2.png",.809,0,0,1.646,4793.95,-1292.9,"upper_vine1.png",-.744,.121,.139,.854,5168.3,-1580.2,"upper_leaf.png",.814,0,0,2.525,-48.8,-7.15,"upper_tree_1.png",.468,-.002,.002,.517,.7,-29.4,"upper_plateform5.png",.721,.131,.038,1.387,5650.75,-998.6,"upper_vine2.png",.62,-.022,.04,1.146,5997.85,-1042.05,"upper_vine1.png",.62,-.022,-.046,-1.333,5999.3,-1031.8,"upper_vine1.png",.671,.122,-.038,-1.387,5653.85,-983.2,"upper_vine2.png",.959,.126,-.13,.991,5477.55,-1556.25,"upper_leaf.png",-.634,.006,.012,.63,8096.85,-662.2,"upper_plateform1.png",-.651,.005,.017,1.978,7746.6,-1245.8,"upper_vine2.png",-.856,.011,.023,1.815,8027.65,-1281.65,"upper_vine1.png",.959,.126,-.13,.991,7563.95,-1492.25,"upper_leaf.png",.912,0,0,1.772,8630.1,-22.75,"upper_tree_1.png",.715,-.003,.003,.676,8689.1,-38.35,"upper_plateform5.png",1,0,0,1.192,6473.25,-1207.45,"eggbagasset_00006.png",1,0,0,1.192,6479.25,-1299.5,"eggbagasset_00006.png",-1,0,0,-1.192,6573.85,-1274,"eggbagasset_00006.png",-1,0,0,-1.192,6573.85,-1247,"eggbagasset_00006.png",1,0,0,1.458,2020.15,-917.35,"eggbagasset_00006.png",1,0,0,1.458,2020.15,-950.35,"eggbagasset_00006.png",-1,0,0,-1.458,2114.75,-919.2,"eggbagasset_00006.png",-1,0,0,-1.458,2114.75,-886.15,"eggbagasset_00006.png",-.754,0,0,.865,2583.9,-1211.65,"upper_leaf.png",.912,0,0,1.202,3803.8,-474.9,"upper_tree_1.png",.912,0,0,-4.434,3806.35,1931.75,"upper_tree_1.png",.912,0,0,-4.465,6772.6,1762.35,"upper_tree_1.png",.912,0,0,1.317,6776.6,-731.5,"upper_tree_1.png",.653,-.178,.178,.653,3854.4,-434.55,"upper_plateform5.png",1.003,.278,-.203,.733,6510.6,-896.4,"upper_plateform4.png"],active:[431.95,-111.1,"coin",494.4,-191.8,"coin",563.45,-242.45,"coin",651.95,-263.75,"coin",1113.6,-225.6,"coin",1156.8,-284.8,"coin",1220.8,-332.8,"coin",1297.6,-364.8,"coin",1507.15,-262.2,"coin",1542.9,-306.15,"coin",1597.85,-288.65,"coin",1635.2,-332.55,"coin",1690.15,-315.05,"coin",1739.25,-326.6,"coin",1764.55,-395.4,"coin",1812.9,-459.2,"coin",1877.85,-511.05,"coin","m",1.705,0,0,1.705,2070,-598.25,{type:"eggbag"},2412,-431.2,"coin",2455.2,-490.4,"coin",2519.2,-538.4,"coin",2596,-570.4,"coin",2913.45,-886.95,"vine",3200.9,-825.65,"magnet",3999.4,-506.35,"coin",4066.15,-520.7,"coin",4120,-549.15,"coin",4186.8,-563.55,"coin",4249,-575.3,"coin",4315.75,-591.95,"coin",4375.2,-603.95,"coin",4434.5,-631.45,"coin",4809.9,-713.45,"coin",4874.1,-748.4,"coin",4946.3,-746.6,"coin",5008.2,-785.7,"coin",5076.25,-781.8,"coin",5126.7,-866.3,"coin",5169.9,-925.5,"coin",5233.9,-973.5,"coin",5310.7,-1005.5,"coin",5859.45,-647.7,"token",6066.2,-781.25,"coin",6109.4,-840.45,"coin",6173.4,-888.45,"coin",6250.2,-920.45,"coin","m",1.705,0,0,1.705,6530.35,-976.6,{type:"eggbag"},7244.2,-758.45,"coin",7287.4,-817.65,"coin",7351.4,-865.65,"coin",7428.2,-897.65,"coin",7760.55,-666.95,"coin",7828.5,-675.1,"coin",7887.25,-648.6,"coin",7955.15,-656.75,"coin",8013.9,-630.3,"coin",8875.1,-59.1,"coin",8939.1,-59.1,"coin",9003.1,-59.1,"coin",9067.1,-59.1,"coin",9131.1,-59.1,"coin",9195.1,-59.1,"coin",9259.1,-59.1,"coin"]},{type:"normal",level:"1",length:11561.8,floor:[349,49.5,7.012,1,0,0,556,369.85,2.922,5.736,0,0,3743.35,-685.4,1.958,.464,-3.535,0,3931.05,-676.3,1.958,.464,8.705,0,4076.2,-668.65,1.218,.464,-6.294,0,4462.45,-503.35,3.137,.38,6.484,0,5068.15,-545.8,2.959,.464,-.257,0,5277.95,-41.6,2.922,10.54,0,0,5401.9,-1067.4,3.382,.464,-8.723,0,5855.65,-951.15,1.958,.464,-5.488,0,5855.65,-405.95,1.958,.464,-5.488,0,6043.6,-948.45,1.958,.464,6.755,0,6043.6,-403.25,1.958,.464,6.755,0,6188.9,-400.55,1.218,.464,-8.246,0,6198.3,-941.95,1.218,.464,-8.246,0,6633.9,-557.6,3.382,.464,-8.723,0,7147.75,-686.55,2.223,.464,.975,0,7339.4,-707.4,2.223,.464,-11.532,0,7624.35,-449.7,1.131,.464,-15,0,7753.15,-463.3,1.628,.464,.001,0,7866.45,-468.75,.819,.464,-9.965,0,7932.5,-487,.886,.464,-24.966,0,8009.2,-528.85,.886,.464,-33.675,0,8522.8,-564.65,1.973,.352,-6.011,0,8710.7,-561.9,1.973,.352,6.695,0,8863.3,-559.2,1.26,.352,-8.305,0,9502.5,-721.7,4.702,.352,-.837,0,9779.55,212.5,3.674,19.049,0,0,10899.95,316.75,11.227,6.55,0,0],detail:[1.39,-.373,-.508,-1.897,6147.1,-1512.3,"upper_leaf.png",.8,-.059,.069,.938,5073.25,-538.5,"upper_tree_2.png",-.607,0,0,-3.196,5442.45,1284.7,"upper_tree_1.png",-.544,-.003,-.002,.573,5455.5,-593.2,"upper_plateform5.png",.514,.013,-.013,.514,5749.6,-463.1,"upper_plateform5.png",.741,.135,0,1.933,5826.6,-1041.25,"upper_vine2.png",.631,-.011,.019,1.079,6123.5,-837.1,"upper_vine1.png",.631,-.011,-.019,-1.079,6123.8,-819.5,"upper_vine1.png",-.386,.007,.019,1.079,6128.3,-1669.3,"upper_vine1.png",.669,.06,0,-1.933,5828.2,-1034.2,"upper_vine2.png",-.792,0,0,1.453,6476.55,-1875.75,"upper_leaf.png",.568,-.072,.065,.509,7020.65,-734,"upper_plateform2.png",.787,0,0,1.496,7386.4,-1314.6,"upper_vine1.png",.814,0,0,2.02,7075.25,-1339.65,"upper_vine2.png",.785,0,0,-1.849,7075.25,-1279.85,"upper_vine2.png",.657,0,0,-1.496,7387.25,-1282.5,"upper_vine1.png",.839,0,0,.942,6939.4,-2066.65,"upper_leaf.png",.498,-.242,.242,.498,7541.45,-464.05,"upper_plateform3.png",.631,-.08,0,-.919,8885.8,-934.65,"upper_vine1.png",.514,.013,-.013,.514,8422,-623.1,"upper_plateform5.png",.747,.025,0,2.107,8508.3,-1263.5,"upper_vine2.png",.631,-.08,0,.919,8885.8,-934.65,"upper_vine1.png",.62,0,0,-1.135,8617.15,-1366.55,"upper_leaf.png",.668,.022,0,-2.107,8509.1,-1259.3,"upper_vine2.png",.851,0,0,1.186,8263.45,-2038.5,"upper_leaf.png",-.731,0,0,1.135,9104.55,-1865.05,"upper_leaf.png",-.811,0,0,.912,785.95,35.6,"upper_tree_1.png",-.767,-.004,-.003,.728,761.85,-38.45,"upper_plateform5.png",.495,0,0,-.919,4046.7,-1048.1,"upper_vine1.png",.514,.013,-.013,.514,3629.3,-738.3,"upper_plateform5.png",.653,.026,0,1.933,3722,-1316.5,"upper_vine2.png",.631,0,0,.919,4045.1,-1051.45,"upper_vine1.png",-.495,0,0,.919,4067.5,-1772.3,"upper_vine1.png",.643,.026,0,-1.933,3722.2,-1287.45,"upper_vine2.png",.679,0,0,.859,3677.15,-1836.9,"upper_leaf.png",.532,-.022,.02,.488,5224.6,-1131.6,"upper_plateform1.png",.475,.111,-.12,.513,4318.4,-605,"upper_plateform1.png",.532,-.022,.02,.488,6448.9,-622,"upper_plateform1.png",-.811,0,0,1.245,10008.1,-734.2,"upper_tree_1.png",.518,0,0,1.13,5257.1,-1422.25,"upper_vine2.png",.541,0,0,1.389,5531.4,-1648.3,"upper_vine1.png",.542,0,0,-1.13,5255.8,-1417.35,"upper_vine2.png",-.955,-.256,-.281,1.049,5897.75,-1771.8,"upper_leaf.png",.518,0,0,1.13,6487.8,-915.05,"upper_vine2.png",.54,-.038,.096,1.385,6690.75,-1125.95,"upper_vine1.png",.542,0,0,-1.13,6486.5,-910.15,"upper_vine2.png",-.542,0,0,1.13,6514.6,-1636.65,"upper_vine2.png",.497,-.035,-.096,-1.385,6691.15,-1121.65,"upper_vine1.png",.631,-.011,.019,1.079,4328.5,-960.5,"upper_vine1.png",.631,-.011,-.019,-1.079,4329.1,-956.3,"upper_vine1.png",-.386,.007,.019,1.079,4329.6,-1696.5,"upper_vine1.png",-.535,-.006,-.024,1.079,4608.8,-904.95,"upper_vine1.png",-.535,-.006,.024,-1.079,4608.75,-899.05,"upper_vine1.png",.328,.003,-.024,1.079,4606.75,-1640.5,"upper_vine1.png",.672,-.1,.274,1.844,4185.4,-1703.05,"upper_leaf.png",.641,-.003,.003,.728,10299.35,-51.35,"upper_plateform5.png",.755,0,0,.912,10262.95,22.8,"upper_tree_1.png",-.587,-.003,-.002,.728,11491.45,-51.4,"upper_plateform5.png",-.736,0,0,.912,11536.55,22.8,"upper_tree_1.png",.787,0,0,1.496,7962.4,-1101.6,"upper_vine1.png",.531,0,0,2.02,7606.45,-1113.85,"upper_vine2.png",.513,0,0,-1.282,7606.8,-1101,"upper_vine2.png",.657,0,0,-1.496,7963.25,-1083.3,"upper_vine1.png",.832,0,0,1.405,7573.35,-1698.75,"upper_leaf.png",-.681,0,0,1.596,2121.95,-1227.25,"upper_leaf.png",.679,0,0,1.591,2582.75,-1379.9,"upper_leaf.png",.679,0,0,1.688,822.75,-1008.1,"upper_leaf.png",-.811,0,0,-3.196,10008.1,1165.05,"upper_tree_1.png",1,0,0,1,9608.4,-720.75,"vine2.png",-.731,-.003,-.003,.697,9982.6,-771.9,"upper_plateform5.png",.861,0,0,1,9489.45,-382.65,"vine4.png",.75,0,0,1,5111.85,-537.25,"vine6.png",.645,0,0,1,5054.15,-244.6,"vine4.png",.514,.013,-.013,.514,5749.6,-1008.3,"upper_plateform5.png"],active:[713.4,-76.3,"coin",736.35,-114.7,"coin",780.85,-119.25,"coin",803.95,-157.65,"coin",848.35,-162.2,"coin",871.4,-200.55,"coin",915.8,-205.2,"coin",1065.45,-499.75,"vine",1393.15,-397.7,"coin",1416.1,-436.1,"coin",1460.6,-440.65,"coin",1483.7,-479.05,"coin",1528.1,-483.6,"coin",1551.15,-521.95,"coin",1595.55,-526.6,"coin",1942.25,-730.15,"vine",2250.2,-678.45,"coin",2273.15,-716.85,"coin",2317.65,-721.4,"coin",2340.75,-759.8,"coin",2385.15,-764.35,"coin",2408.2,-802.7,"coin",2452.6,-807.35,"coin",2831.85,-895.55,"vine",3125.75,-812.95,"coin",3148.7,-851.35,"coin",3193.2,-855.9,"coin",3216.3,-894.3,"coin",3260.7,-898.85,"coin",3283.75,-937.2,"coin",3328.15,-941.85,"coin",4112.15,-752.85,"coin",4200.8,-736.2,"coin",4291,-685,"coin",4349,-610.95,"coin",4409.45,-1219.75,"vine",4690.05,-1151.5,"magnet",4782.65,-1216.75,"coin",4822.8,-1269.9,"coin",4881.15,-1310.7,"coin",4944.9,-1344,"coin",4985.9,-671.7,"coin",4986.3,-619.7,"coin",5005.7,-1368.4,"coin",5037.9,-672.25,"coin",5038.35,-620.2,"coin",5077.7,-1406.05,"coin",5078.1,-1354.05,"coin",5129.7,-1406.6,"coin",5130.15,-1354.55,"coin",5291.8,-1112.4,"coin",5325.3,-671.7,"coin",5325.7,-619.7,"coin",5371.05,-1123.45,"coin",5377.3,-672.25,"coin",5377.75,-620.2,"coin",5450.25,-1134.5,"coin",5529.5,-1145.55,"coin",5978.55,-535.05,"coin",5978.95,-483.05,"coin",6030.55,-535.6,"coin",6031,-483.55,"coin",6512.9,-621.2,"coin",6592.15,-632.25,"coin",6671.35,-643.3,"coin",6750.6,-654.35,"coin",7697.5,-546.95,"coin",7780.45,-543.2,"coin",7855.95,-546.85,"coin",7892.8,-1297.9,"vine",7935.2,-576.4,"coin",8182.15,-1155.45,"coin",8222.3,-1208.6,"coin",8280.65,-1249.4,"coin",8344.4,-1282.7,"coin",8405.2,-1307.1,"coin",8849.6,-1397.1,"vine",9159.55,-1291.6,"coin",9199.7,-1344.75,"coin",9258.05,-1385.55,"coin",9320.15,-781.35,"coin",9321.8,-1418.85,"coin",9382.6,-1443.25,"coin",9393.75,-802.85,"coin",9425.3,-1473.75,"coin",9437.85,-1423.25,"coin",9473.75,-781.35,"coin",9475.7,-1486.35,"coin",9488.3,-1435.9,"coin",9553.75,-810.25,"coin",9580.85,-1450.2,"token",9633.75,-781.35,"coin",9704.1,-806.55,"coin",9784.1,-785.05,"coin",9864.1,-813.95,"coin",9971.35,-859.2,"coin",10011.5,-912.35,"coin",10069.85,-953.15,"coin",10133.6,-986.45,"coin",10194.4,-1010.85,"coin"]},{type:"normal",level:"1",length:15720.35,floor:[192.05,573.7,3.793,9.983,0,0,325.15,50,6.509,1,180,0,1113.05,-146.5,3.209,1,-14.999,1,1729.4,-377.15,1.993,.859,-5.718,1,1925.35,-375.6,1.993,.859,6.478,1,2067.95,-370.7,1.129,.859,-8.52,1,4381.35,-959.8,2.024,.444,41.452,0,4400.45,-988,1.952,.99,42.278,2,4519,-849.4,2.024,.444,34.478,0,4534.5,-879.7,1.952,.99,35.302,2,4680.3,-764.55,2.024,.444,19.478,0,4689.65,-796.95,1.904,.99,20.304,2,4826.15,-717.9,1.161,.444,13.026,0,4828,-752.2,1.177,.992,14.307,2,4941.55,-695.75,1.237,.444,7.309,0,4943.15,-730.95,1.277,.998,6.692,2,5053.35,-726.1,1.059,1,-1.558,2,5059.75,-690.85,1.237,.444,-2.881,0,5154,-741.2,1.126,.994,-15.743,2,5165.9,-707.1,1.237,.444,-15.688,0,5242.4,-774.95,.857,.98,-26.652,2,5271.8,-750.7,1.237,.444,-27.916,0,5304.4,-813.35,.857,.98,-35.093,2,5410.95,-903.8,2.095,.98,-42.067,2,5413.35,-858.55,2.626,.444,-40.879,0,9812.95,-932.6,2.024,.444,48.419,0,9835.35,-958.25,1.952,.99,49.246,2,9936.2,-806.3,2.024,.444,41.446,0,9955.2,-834.55,1.952,.99,42.271,2,10086,-702.45,2.024,.444,26.445,0,10099.2,-733.6,1.904,.99,27.273,2,10225.1,-638.55,1.161,.444,19.995,0,10231.15,-672.4,1.177,.992,21.275,2,10337,-602.55,1.237,.444,14.276,0,10342.8,-637.25,1.277,.998,13.66,2,10451.6,-619.15,1.059,1,5.41,2,10453.75,-583.4,1.237,.444,4.087,0,10553.35,-621.95,1.126,.994,-8.776,2,10561.05,-586.5,1.237,.444,-8.72,0,10645.15,-644.75,.857,.98,-19.685,2,10671.5,-617,1.237,.444,-20.947,0,10711.4,-675.3,.857,.98,-28.125,2,10773.3,-672.15,1.378,.444,-33.911,0,10781.75,-720.15,.857,.98,-37.05,2,11369.65,-646.5,1.131,.464,-15,0,11498.45,-660.1,1.628,.464,.001,0,11611.75,-665.55,.819,.464,-9.965,0,11677.8,-683.8,.886,.464,-24.966,0,11754.5,-725.65,.886,.464,-33.675,0,12254.6,-909.5,3.382,.464,-8.723,0,12834.05,-1001.65,2.223,.464,.975,0,13025.7,-1022.5,2.223,.464,-11.532,0,14871.95,55,15.231,1,180,0,15174.45,573.7,3.793,9.983,0,0],detail:[.532,-.022,.02,.488,12069.6,-973.9,"upper_plateform1.png",.518,0,0,1.13,12108.5,-1266.95,"upper_vine2.png",.54,-.038,.096,1.385,12311.45,-1477.85,"upper_vine1.png",.542,0,0,-1.13,12107.2,-1262.05,"upper_vine2.png",-.542,0,0,1.13,12135.3,-1988.55,"upper_vine2.png",.497,-.035,-.096,-1.385,12311.85,-1473.55,"upper_vine1.png",.787,0,0,1.496,11707.7,-1298.4,"upper_vine1.png",.531,0,0,2.02,11351.75,-1310.65,"upper_vine2.png",-.59,0,0,-2.02,11379.2,-1289.15,"upper_vine2.png",.704,0,0,-1.496,11707.65,-1283.35,"upper_vine1.png",.495,0,0,-.919,2033.9,-704.1,"upper_vine1.png",.653,.026,0,1.933,1709.2,-972.5,"upper_vine2.png",.631,0,0,.919,2032.3,-707.45,"upper_vine1.png",-.495,0,0,.919,2054.7,-1428.3,"upper_vine1.png",.643,.026,0,-1.933,1709.4,-943.45,"upper_vine2.png",.679,0,0,.859,1606.75,-1492.9,"upper_leaf.png",.679,0,0,1.466,2329.95,-1316.85,"upper_leaf.png",.679,0,0,1.842,5619.55,-2051.25,"upper_leaf.png",.679,0,0,2.015,6483.55,-2382.45,"upper_leaf.png",.679,0,0,1.63,3163.55,-1649.65,"upper_leaf.png",.679,0,0,2.034,7245.15,-2689.65,"upper_leaf.png",.679,0,0,1.919,8083.55,-2987.25,"upper_leaf.png",1.39,-.373,-.508,-1.897,11713.4,-1624.2,"upper_leaf.png",-.792,0,0,1.453,11847.65,-1987.65,"upper_leaf.png",.568,-.072,.065,.509,12706.95,-1049.1,"upper_plateform2.png",.814,0,0,2.02,12761.55,-1654.75,"upper_vine2.png",.785,0,0,-1.849,12761.55,-1594.95,"upper_vine2.png",.839,0,0,.942,12505.7,-2178.55,"upper_leaf.png",.498,-.242,.242,.498,11286.75,-660.85,"upper_plateform3.png",.54,-.038,.096,1.385,13049.05,-1591.45,"upper_vine1.png",.497,-.035,-.096,-1.385,13049.45,-1587.15,"upper_vine1.png",.679,0,0,1.919,13222.75,-2184.05,"upper_leaf.png",.914,-.036,.025,.635,4653.7,-805.45,"slide-vine1.png",.756,.055,-.051,.705,9703.25,-1059.25,"slide-vine2.png",-.916,-.039,-.026,.619,4711.95,-1012.75,"slide-vine5.png",.936,-.405,.338,.781,5049.2,-784.5,"slide-vine6.png",-.879,.074,.051,.608,10308.35,-855.25,"slide-vine5.png",.969,.296,-.275,.909,10191.1,-780.4,"slide-vine6.png",.627,-.159,.144,.569,10546.3,-675.2,"slide-vine4.png",.6,.003,.006,-1.112,5334.3,-1261.35,"upper_vine1.png",.915,.195,-.291,2.135,4490.4,-1644.7,"upper_vine2.png",.836,.004,-.006,1.218,5334.35,-1275.4,"upper_vine1.png",-.6,-.003,-.006,1.112,5363.6,-2081.9,"upper_vine1.png",.801,.171,.261,-1.914,4490.9,-1640.85,"upper_vine2.png",.91,-.124,-.15,-1.102,10662.15,-1217.05,"upper_vine1.png",.934,.066,.01,2.155,9802.8,-1643.35,"upper_vine2.png",.911,-.124,.18,1.327,10663.6,-1225.55,"upper_vine1.png",-.871,.118,.206,1.514,10564.35,-2253.3,"upper_vine1.png",.817,.057,-.009,-1.931,9803.8,-1639.65,"upper_vine2.png",-1.251,.088,.162,2.295,10718.9,-2745.25,"upper_leaf.png",-1.463,.103,.195,2.757,10426.25,-3207.9,"upper_leaf.png",-1.358,-.095,-.192,2.757,5492.85,-2596.3,"upper_leaf.png",1.081,0,0,1.659,5741.2,-2307.25,"upper_leaf.png",1.081,0,0,1.659,6579.6,-2697.65,"upper_leaf.png",1.081,0,0,1.659,7411.6,-2972.85,"upper_leaf.png",1.081,0,0,1.659,2403.6,-1667.25,"upper_leaf.png",1,0,0,1.192,14197.15,-1997.8,"eggbagasset_00006.png",1,0,0,1.192,14197.15,-2024.8,"eggbagasset_00006.png",-1,0,0,-1.192,14291.75,-1999.3,"eggbagasset_00006.png",-1,0,0,-1.192,14291.75,-1972.3,"eggbagasset_00006.png",.912,0,0,.912,-69.15,33.65,"upper_tree_1.png",.674,-.004,.002,.728,-22.45,-33.75,"upper_plateform5.png",.912,0,0,.912,14913.25,33.65,"upper_tree_1.png",.674,-.004,.002,.728,14959.95,-33.75,"upper_plateform5.png",.527,-.079,.072,.483,930.6,-162.35,"upper_plateform1.png",.518,0,0,1.13,982.6,-465.35,"upper_vine2.png",.541,-.012,.03,1.389,1219.25,-720,"upper_vine1.png",.542,0,0,-1.13,981.3,-460.45,"upper_vine2.png",-.542,0,0,1.13,1009.4,-1186.95,"upper_vine2.png",.498,-.011,-.03,-1.389,1219.45,-715.65,"upper_vine1.png",.504,.013,-.013,.514,1626.45,-409,"upper_plateform5.png"],
active:[1175.6,-201,"coin",1203.65,-266.45,"coin",1253,-329.4,"coin",1668.35,-426.85,"coin",1729.95,-409.25,"coin",1776.55,-440.6,"coin",1828,-419.4,"coin",1901,-443.15,"coin",1973.6,-414.3,"coin",2033.4,-446.85,"coin",2096.05,-407.65,"coin",2582.25,-917.1,"vine",3415.85,-1192.3,"vine",4564.8,-934,"coin",4637.9,-877.95,"coin",4729.35,-834.1,"coin",4833.45,-813,"coin",4920.4,-799.2,"coin",5004.2,-793.35,"coin",5087.55,-803.6,"coin",5177.95,-823.7,"coin",5269.2,-867.1,"coin",5871.85,-1526.7,"vine",6723.05,-1784.3,"vine",7484.65,-2091.5,"vine",8307.05,-2408.3,"vine",8643.3,-2371.3,"coin",8683.45,-2424.45,"coin",8741.8,-2465.25,"coin",8805.55,-2498.55,"coin",8866.35,-2522.95,"coin",8909.05,-2553.45,"coin",8921.6,-2502.95,"coin",8940.55,-2534.4,"coin",8959.45,-2566.05,"coin",8972.05,-2515.6,"coin",9059.75,-2538,"magnet",9953.05,-930.6,"coin",10019.1,-858.25,"coin",10096.9,-801.2,"coin",10192.1,-747.75,"coin",10292.3,-705.6,"coin",10400.7,-681.15,"coin",10494.4,-674.5,"coin",10603.55,-685.3,"coin",11442.8,-761.35,"coin",11525.75,-757.6,"coin",11601.25,-761.25,"coin",11680.5,-790.8,"coin",12133.6,-990.7,"coin",12212.85,-1001.75,"coin",12292.05,-1012.8,"coin",12371.3,-1023.85,"coin",12930.15,-1093.25,"magnet",13462.25,-1585.9,"vine",13777.7,-1563.3,"coin",13817.85,-1616.45,"coin",13876.2,-1657.25,"coin",13939.95,-1690.55,"coin",14000.75,-1714.95,"coin","m",1.705,0,0,1.705,14247.8,-1733.5,{type:"eggbag"},15136,-120.3,"token"]},{type:"tutorial",level:"0",length:14523.3,floor:[442.9,62.6,8.872,1,0,0,1135.85,75,5.155,1.733,-5.279,0,2222.7,57.4,16.91,1.848,0,0,2968.4,60.4,4.229,1.999,-10.193,0,3364.55,-21.65,3.992,1.971,-12.892,0,3378.2,-118.5,3.301,.237,-18.721,0,3404.75,419.65,3.456,7.624,0,0,4081.2,503.75,1.802,9.92,0,0,4125.15,-87.65,2.633,2.152,4.914,0,4361,96.4,3.832,2.152,19.913,0,4807.9,189,12.568,3.414,0,0,5541.9,82.4,4.229,1.999,-10.193,0,5571.75,-10.8,3.301,.237,-18.721,0,5677.6,626.75,1.802,9.92,0,0,6286.75,498.4,11.025,2.525,0,0,7979.25,391.2,23.894,14.617,0,0,9273.65,-281.6,2.1,.981,5.038,0,9286.25,-333.15,1.888,1,2.493,2,9472.7,-250.95,2.1,.981,12.533,0,9482.9,-305.75,2.094,1,12.727,2,9666.7,-195.1,2.1,.981,19.281,0,9682.8,-248.9,2.094,1,18.924,2,9848.65,-113.6,2.1,.981,28.744,0,9870.1,-161.1,2.094,1,31.144,2,10033.9,-24.95,2.1,.981,22.278,0,10191.45,23.35,2.1,.981,13.3,0,10328.45,49.6,2.1,.981,7.518,0,10588.45,50.1,2.1,.981,-11.434,0,10946.05,-115.65,1.387,2.831,0,7,11359.55,-841.35,3.683,11.684,0,6,12239.65,-238.9,7.817,5.293,0,6,12245,62.6,37.255,1.003,0,0],detail:[.435,.036,.074,-.888,11800.2,-121.55,"cave_rock3.png",1,0,0,1,12128.05,-491.4,"cave_vine3.png",.977,0,0,-.891,12160.4,-115.85,"cave_rock3.png",1.136,0,0,-1.476,12073.05,383.95,"cave_rock3.png",.523,0,0,.387,12615.1,-40.55,"cave_platform2.png",.435,0,0,.343,12909,-56.25,"cave_platform1.png",.833,0,0,-.891,11917.9,-115.85,"cave_rock3.png",.523,0,0,.387,12062,-560.55,"cave_platform2.png",.721,.046,-.06,.941,10085.3,-73.9,"grass4.png",1.563,.515,-.506,1.534,9518.65,-299.25,"rock2.png",1.895,.197,-.325,1.612,9275.85,-1.55,"rock2.png",1.916,-.235,.167,1.607,9780.9,20.05,"rock2.png",1.895,.197,-.325,1.612,10161.45,-24.75,"rock2.png",1.166,.496,-.62,1.388,9807.15,-170.5,"rock2.png",1.267,-.026,.004,1.52,9615.6,110.75,"rock2.png",1.881,-.3,.103,1.641,10127.5,276.4,"rock2.png",1.916,-.235,.167,1.607,9740.9,250.45,"rock2.png",2.129,.121,-.118,2.088,8508.65,-5.65,"rock2.png",2.129,.121,-.118,2.088,8793.45,-341.65,"rock2.png",2.129,.121,-.118,2.088,8126.25,-47.25,"rock2.png",1.829,-.381,.374,1.795,8134.65,-264.65,"rock2.png",1.596,-.005,-.018,1.632,10488.6,-.6,"rock4.png",1.572,.28,-.308,1.603,10490.65,243.6,"rock4.png",1.866,.106,-.104,1.83,8454.2,-342.75,"rock2.png",.624,0,0,.624,1643.55,-177.65,"tree2.png",.453,0,0,.453,1729.75,-113.65,"plant2.png",1.053,.068,-.071,1.101,2706.35,-36.55,"rock4.png",.857,.122,-.181,1.271,2757.55,172.7,"rock4.png",2.129,.121,-.118,2.088,2726.25,266.35,"rock2.png",1.829,-.381,.374,1.795,2734.65,48.95,"rock2.png",1.596,-.005,-.018,1.632,3079,230.75,"rock4.png",1.59,-.137,.117,1.628,3062.7,-102.75,"rock4.png",2.129,.121,-.118,2.088,954.4,314.6,"rock2.png",1.019,.02,-.024,1,701.9,509.4,"rock4.png",1.26,.071,-.084,1.483,-39.55,253.75,"rock2.png",1.26,.071,-.084,1.483,-8.05,62.45,"rock2.png",-1.327,.062,.053,1.631,5321.4,322.05,"rock4.png",-1.327,.062,.053,1.631,5331.9,-17.25,"rock4.png",1.706,.464,-.669,1.65,4116.75,190.6,"rock1.png",1.26,.071,-.107,1.891,-62.05,491.8,"rock2.png",1.481,.205,-.228,1.615,150.35,464.65,"rock4.png",1.019,.02,-.024,1,719.4,39.4,"rock4.png",1.587,.175,-.201,1.62,5202.3,233,"rock4.png",1.761,-.076,.053,1.812,5199,-39.1,"rock4.png",1.201,.077,-.071,1.101,5388.8,152.65,"rock4.png",1.007,.144,-.181,1.271,5446.05,343.85,"rock4.png",-1.186,.144,.266,1.463,4341.95,-188.8,"rock4.png",1.773,.224,-.151,1.193,4211.05,4.45,"rock4.png",-1.174,.203,.266,1.073,4348.9,152.55,"rock4.png",1.24,.037,-.036,1.208,4272.65,207.65,"rock4.png",-1.412,.057,.054,1.44,4111.55,565.6,"rock-jump2.png",-.981,-.021,-.027,1.274,4058.75,-148.55,"rock-jump.png",-.978,.074,.072,.997,4037.65,164.75,"rock-jump.png",1.441,.006,-.006,1.441,5675.75,459.85,"rock-jump2.png",.998,-.056,.056,.998,5681.1,-30.3,"rock-jump.png",.999,.039,-.039,.999,5709.9,213.1,"rock-jump.png",1.344,.411,-.568,1.573,4666.9,-56.5,"rock1.png",1.019,.02,-.024,1,701.65,115.3,"rock4.png",2.129,.121,-.118,2.088,954.4,-35.95,"rock2.png",1.019,.02,-.024,1,712.3,301.65,"rock4.png",1.481,.205,-.228,1.615,467.3,62.75,"rock4.png",1.46,.083,-.081,1.432,219.35,49.55,"rock2.png",1.46,.083,-.081,1.432,191.25,280.65,"rock2.png",1.481,.205,-.228,1.615,420.8,351.75,"rock4.png",1.353,.149,-.172,1.381,2534.4,-64.05,"rock4.png",-1.055,.144,.176,1.084,1692.05,-37.65,"rock4.png",1.047,.132,-.151,1.193,1612.6,-70.7,"rock4.png",-1.045,.203,.236,1.073,1683.75,185.7,"rock4.png",1.055,.032,-.033,1.103,1582.95,190.9,"rock4.png",1.416,.433,-.596,1.65,1507.6,285.05,"rock1.png",-1.412,.057,.054,1.44,1463.7,506.45,"rock-jump2.png",-.981,-.021,-.021,1,1430.8,11.5,"rock-jump.png",1.055,.032,-.033,1.103,1065.25,234.3,"rock4.png",-.978,.074,.072,.997,1416.7,261.1,"rock-jump.png",1.344,.411,-.568,1.573,1936.85,-146.55,"rock1.png",-1.327,.062,.053,1.631,2630.35,-82,"rock4.png",1.481,.205,-.228,1.615,464.95,-28.7,"rock4.png",1.055,.032,-.033,1.103,1065.25,-3.65,"rock4.png",.925,.147,-.145,.989,996.85,326.9,"rock-jump.png",.742,0,0,.742,5193.9,-231.5,"tree3.png",.897,-.023,.029,1.133,2089.9,-703.25,"tree.png",-.794,-.046,-.049,.94,1064.55,-66.45,"grass2.png",-.622,-.035,-.054,.957,1108,-11.4,"grass4.png",1.295,.085,-.066,.998,3883.55,-234.5,"grass1.png",-.837,-.159,-.17,.926,4668.1,-35.1,"grass2.png",-.74,.025,.037,.941,4962.4,-56,"grass2.png",.751,-.072,.083,.864,4748.3,7.15,"grass3.png",-.741,-.001,.005,.941,5485.85,-81.35,"grass2.png",-.845,.226,.283,1.056,5753.75,-148.9,"grass4.png",.452,0,0,.452,5371.95,-59.55,"plant2.png",.669,.164,-.164,.669,5194.65,-54.15,"deco-rock3.png",.671,-.089,.089,.671,5561.25,-93.4,"deco-rock2.png",.629,.036,-.062,1.091,-63.9,-45.75,"grass4.png",-.694,.014,.015,.941,467.85,-74.55,"grass2.png",-.692,.063,.073,.937,720.6,-100.85,"grass2.png",.347,.02,-.021,.371,258.35,-64.35,"plant7.png",.33,.019,-.02,.353,452,-73.9,"plant4.png",.625,.035,-.038,.668,932.7,-97.75,"plant9.png",.393,.022,-.026,.453,103.1,-73.15,"plant1.png",.322,-.143,.132,.343,212.9,-44.15,"plant7.png",.488,.028,-.03,.522,326.05,-130.3,"deco-rock.png",.756,.15,-.146,.808,376.15,-33.6,"deco-rock2.png",.756,.15,-.146,.808,813.5,-47.3,"deco-rock2.png",-.85,-.007,-.003,.941,2498,-115.15,"grass2.png",-.665,-.022,-.032,.958,2632.35,-85.25,"grass4.png",.722,.006,-.009,1.093,1318.45,-75.25,"grass4.png",-.739,.047,.066,.939,1892.35,-136,"grass2.png",-.741,-.023,-.03,1.191,2219.05,-139.35,"grass2.png",-1.166,-.009,-.007,.959,3079.05,-84.5,"grass4.png",1.344,.411,-.568,1.573,4615.7,305.1,"rock1.png",1.344,.411,-.568,1.573,1872.85,211.85,"rock1.png",-1.327,.062,.053,1.631,2571.15,271.6,"rock4.png",1.587,.175,-.201,1.62,2449.5,208.15,"rock4.png",-1.145,.223,.183,.941,3336.6,-174.1,"grass4.png",-.995,.313,.3,.954,3611.45,-267.2,"grass1.png",-.721,.17,.255,1.058,3362.65,-250.2,"grass2.png",1.345,-.105,.1,1.437,3495.1,354.35,"rock-jump2.png",.936,-.008,.008,1,3509.9,-141.2,"rock-jump.png",.933,.087,-.081,.996,3528.25,99.3,"rock-jump.png",.624,0,0,.624,7059.55,-494.45,"tree2.png",.453,0,0,.453,7145.75,-430.45,"plant2.png",1.053,.068,-.071,1.101,8122.35,-353.35,"rock4.png",.857,.122,-.181,1.271,8173.55,-144.1,"rock4.png",1.353,.149,-.191,1.541,7907.35,-404.85,"rock4.png",-1.055,.144,.176,1.084,7108.05,-354.45,"rock4.png",1.047,.132,-.151,1.193,7028.6,-387.5,"rock4.png",-1.045,.203,.236,1.073,7099.75,-131.1,"rock4.png",1.055,.032,-.033,1.103,6998.95,-125.9,"rock4.png",1.416,.433,-.596,1.65,6923.6,-31.75,"rock1.png",-1.412,.057,.054,1.44,6879.7,189.65,"rock-jump2.png",-.981,-.021,-.021,1,6846.8,-305.3,"rock-jump.png",-.978,.074,.072,.997,6832.7,-55.7,"rock-jump.png",1.344,.411,-.568,1.573,7352.85,-463.35,"rock1.png",-1.327,.062,.053,1.631,8046.35,-398.8,"rock4.png",.897,-.023,.029,1.133,7311.9,-1000.05,"tree.png",-.85,-.007,-.003,.941,7914,-431.95,"grass2.png",-.665,-.022,-.032,.958,8048.35,-402.05,"grass4.png",.722,.006,-.009,1.093,6734.45,-392.05,"grass4.png",-.741,.022,.033,.941,7312,-434.25,"grass2.png",-.741,-.023,-.03,1.191,7633.3,-447.15,"grass2.png",-1.166,-.039,-.032,.958,8496.95,-391.75,"grass4.png",1.344,.411,-.568,1.573,7288.85,-104.95,"rock1.png",-1.327,.062,.053,1.631,7987.15,-45.2,"rock4.png",1.587,.175,-.201,1.62,7849.5,-105.45,"rock4.png",-1.166,.017,.014,.958,8802.45,-396.95,"grass4.png",-.74,-.025,-.031,1.088,9210.1,-433.8,"grass2.png",-.741,-.023,-.022,.895,9471.4,-414.45,"grass2.png",.754,.026,-.03,.867,8495.3,-390.7,"grass3.png",.679,.317,-.367,.786,9553.25,-362.7,"grass3.png",-.673,-.31,-.37,.815,10228.55,-90.6,"grass2.png",.713,.114,-.149,.931,9322,-391.35,"grass4.png",.669,.018,-.023,.867,10313.7,-49.15,"grass3.png",.722,.006,-.009,1.093,10585.65,-43.25,"grass4.png",-.74,-.036,-.041,.94,11169.85,-68.5,"grass2.png",1.644,.093,-.091,1.612,9192.5,-319.55,"rock2.png",1.916,-.235,.167,1.607,8895.3,43.25,"rock2.png",.679,0,0,1.283,5691.55,-894.5,"upper_leaf.png",.679,0,0,1.283,6254.75,-1158.5,"upper_leaf.png",1.112,0,.005,1.475,5625.75,-1195.3,"upper_leaf.png",1.596,-.005,-.018,1.632,11897.05,-.6,"rock4.png",1.572,.28,-.308,1.603,11899.1,243.6,"rock4.png",1.353,.149,-.172,1.381,12901.7,-52.5,"rock4.png",2.129,.121,-.118,2.088,13093.55,337.2,"rock2.png",1.053,.068,-.071,1.101,13080.7,31.1,"rock4.png",.857,.122,-.181,1.271,13140.85,240.35,"rock4.png",1.344,.411,-.568,1.573,12320.15,-78.9,"rock1.png",1.344,.411,-.568,1.573,12256.15,279.5,"rock1.png",-1.327,.062,.053,1.631,12932.9,317.7,"rock4.png",1.587,.175,-.201,1.62,12773.7,214.35,"rock4.png",-1.31,.217,.244,1.614,12963.55,-76.65,"rock4.png",1.353,.149,-.172,1.381,11493.25,-52.5,"rock4.png",.722,.006,-.009,1.093,11032.1,-43.25,"grass4.png",2.129,.121,-.118,2.088,11685.1,337.2,"rock2.png",1.053,.068,-.071,1.101,11672.25,31.1,"rock4.png",.857,.122,-.181,1.271,11732.4,240.35,"rock4.png",1.344,.411,-.568,1.573,10911.7,-78.9,"rock1.png",1.344,.411,-.568,1.573,10847.7,279.5,"rock1.png",-1.327,.062,.053,1.631,11524.45,317.7,"rock4.png",1.587,.175,-.201,1.62,11365.25,214.35,"rock4.png",.523,0,0,.387,11185.7,-45.75,"cave_platform2.png",.439,0,0,.343,11455.75,-61.45,"cave_platform1.png",-1.31,.217,.244,1.614,11555.1,-76.65,"rock4.png",.986,.264,.299,-1.116,11736.85,207.95,"cave_rock3.png",.68,0,0,.59,11848.9,-323.3,"cave_vine2.png",1,0,0,1,12128.05,-491.4,"cave_vine3.png",.358,0,0,.343,12322.7,-576.25,"cave_platform1.png",.439,0,0,.343,11812,-576.25,"cave_platform1.png",1,0,0,1,11515.95,-1.75,"vine4.png",.804,0,0,.691,11980.5,-15.35,"vine5.png",1,0,0,1,12205.85,-101.95,"vine6.png",1,0,0,1,11763.45,130.05,"vine4.png",.624,0,0,.624,13433.1,-138.4,"tree2.png",.453,0,0,.453,13519.3,-74.4,"plant2.png",-1.055,.144,.176,1.084,13481.6,1.6,"rock4.png",1.047,.132,-.151,1.193,13402.15,-31.45,"rock4.png",-1.045,.203,.236,1.073,13473.3,224.95,"rock4.png",1.055,.032,-.033,1.103,13372.5,230.15,"rock4.png",1.416,.433,-.596,1.65,13297.15,324.3,"rock1.png",1.344,.411,-.568,1.573,13726.4,-107.3,"rock1.png",.722,.006,-.009,1.093,13866.95,-32,"grass4.png",.722,.006,-.009,1.093,13108,-36,"grass4.png",-.739,.047,.066,.939,13681.9,-96.75,"grass2.png",-.741,-.023,-.03,1.191,13981.6,-89.15,"grass2.png",1.344,.411,-.568,1.573,13662.4,251.1,"rock1.png",1.344,.411,-.568,1.573,13982.05,-72.45,"rock1.png",1.344,.411,-.568,1.573,13890.45,303.1,"rock1.png",-.978,.074,.072,.997,4063.05,372.65,"rock-jump.png",.288,-1.074,1.426,.377,7560.05,-969.8,"upper_leaf.png",1.112,0,.005,1.475,7182.1,-1295.35,"upper_leaf.png",1.112,0,.005,1.475,6922.05,-1559.45,"upper_leaf.png",-.737,.073,.125,1.184,1261.25,-129.55,"grass2.png",-.665,-.022,-.032,.958,1490.8,-77.25,"grass4.png",1.416,.433,-.596,1.65,1120.05,269.1,"rock1.png",-.768,-.126,.169,-1.037,11501.35,-1035.85,"cave_rock1.png",-.858,.052,.062,1.011,11576.55,-1218.75,"cave_rock1.png",-.775,.078,-.105,-1.046,11600.5,-1081.75,"cave_rock1.png",-.802,-.063,.082,-1.048,11548.55,-349.15,"cave_rock1.png",-.812,-.014,.019,-1.075,11569.7,-201.7,"cave_rock1.png",-.584,0,0,-.754,11604.5,-1131.9,"cave_vine6.png",-.584,0,0,-.754,11592.9,-218,"cave_vine6.png",-.584,0,0,-.866,11599.5,-630,"cave_vine6.png",.584,0,0,.394,11797.1,-498.25,"cave_vine6.png",.584,0,0,.504,11801.15,-281,"cave_vine6.png",.392,-.226,.226,.392,11800.1,-471.6,"flower5.png",-.293,-.293,-.316,.316,11581.2,-256.55,"flower4.png",.537,0,0,.59,11189.95,-906.15,"cave_vine2.png",-.429,.058,-.165,-1.219,12736.45,44.7,"cave_rock1.png",.68,0,0,.59,12297.25,-51.65,"cave_vine2.png"],active:[725.4,-213.55,"board1",1035.15,-87.35,"coin",1138.9,-193.25,"coin",1246.55,-239.9,"coin",1358.85,-214.05,"coin",1475.4,-122.35,"coin",3772.35,-311,"board2",4628.3,-26.55,"coin",4708.65,-26.55,"coin",4789,-26.55,"coin",4869.35,-26.55,"coin",4949.7,-26.55,"coin",5030.05,-26.55,"coin",5110.4,-26.55,"coin",5190.75,-26.55,"coin",5271.1,-26.55,"coin",5398.15,-227.2,"board4","m",1,0,0,1,5855.9,355.95,{type:"kill_vine_3"},5917.35,-507.65,"vine","m",1,0,0,1,5974.2,355.95,{type:"kill_vine_3"},"m",1,0,0,1,6106.7,355.95,{type:"kill_vine_3"},"m",.782,0,0,1,6239.2,355.95,{type:"kill_vine_3"},"m",.782,0,0,1,6409.65,355.95,{type:"kill_vine_3"},6464.55,-790.8,"vine","m",1,0,0,1,6472.6,355.95,{type:"kill_vine_3"},"m",.782,0,0,1,6612.25,355.95,{type:"kill_vine_3"},"m",.782,0,0,1,6715.8,355.95,{type:"kill_vine_3"},7971.7,-535.2,"board3","m",1,0,0,1,8678.45,-410.25,{type:"kill_vine_1"},"m",1,0,0,1,8714.65,-370.7,{type:"kill_vine_3"},9321.65,-368.35,"coin",9411.5,-361.75,"coin",9501.35,-340.9,"coin",9591.2,-318.35,"coin",9681.05,-280.3,"coin",9770.9,-246.65,"coin",9860.75,-205.75,"coin",9950.6,-154.75,"coin",10040.45,-121.65,"coin",10130.3,-87.35,"coin",10220.15,-65,"coin",10310,-44.15,"coin",10399.85,-26.55,"coin",10489.7,-26.55,"coin",11225.1,-218.35,"board5",11595.15,-507.8,"coin",11640.55,-440.75,"coin",11688.55,-372.75,"coin",11688.55,-638.85,"coin",11740.55,-308.75,"coin",11785.25,-245.7,"coin",11793.25,-717.9,"coin",11917.3,-713.9,"coin",12021.3,-645.85,"coin",12153.35,-557.85,"coin",12423.55,-559.35,"magnet",12753.35,-517.85,"coin",12823.35,-463.85,"coin",12889.35,-397.85,"coin",12954.35,-323.85,"coin",13021.35,-241.85,"coin",13068.35,-163.85,"coin",13113.35,-77.85,"coin",13588.45,-195.25,"board6"]},{type:"start",level:"0",length:3410.25,floor:[1585.75,49.6,31.757,1,0,0],detail:[1.089,0,0,1.306,2666.5,202.4,"rock2.png",1.271,-.293,.353,1.531,2781.8,141.45,"rock4.png",2.136,0,0,1.434,2094.4,20.45,"rock2.png",2.136,0,0,1.434,2094.4,239.3,"rock2.png",1.163,0,0,1.614,1818.5,174.2,"rock3.png",-.962,.131,.16,.989,1930.15,-20.65,"rock4.png",1.089,0,0,1,760.35,4.9,"rock4.png",1.348,.4,-.582,1.655,1340.7,-134.9,"rock1.png",1.036,.307,-.335,.952,1082.45,-78.95,"rock1.png",.951,.487,-.53,.874,1098.9,134.05,"rock1.png",1.089,0,0,1,760.35,184.6,"rock4.png",1.592,.121,-.146,1.625,399.05,-48,"rock4.png",1.562,0,0,1.434,113.75,38.5,"rock2.png",1.44,0,0,1,2780,-9.9,"rock4.png",1.348,0,0,1.485,-85.8,30.75,"rock2.png",-.962,.131,.16,.989,1895.2,176.1,"rock4.png",1.562,0,0,1.434,109.75,209.2,"rock2.png",1.089,0,0,1,1885,26.2,"rock3.png",1.089,0,0,1.306,2494.15,215.25,"rock2.png",1.647,0,0,1,2512.7,39.2,"rock2.png",-.843,0,0,.898,2407.4,141.55,"vine4.png",.669,0,0,.596,2004.45,62.7,"vine3.png",.524,0,0,.524,151,-88.35,"plant2.png",.4,0,0,.4,1228.4,-76.65,"plant2.png",.565,0,0,.565,-40.4,24.1,"vine2.png",.577,0,0,.577,1495.8,27.45,"vine7.png",.792,0,0,.809,2662.5,6.55,"vine6.png",.538,0,0,.538,2930.5,7.9,"vine2.png",.676,0,0,.676,2420.7,-3.1,"vine4.png",.835,0,0,.835,1723.65,-22.5,"vine6.png",.435,0,0,.435,2191.5,45.75,"vine7.png",.782,0,0,.782,257,-54.2,"deco-rock2.png",.834,.032,-.032,.834,1314.4,-16.8,"vine6.png",.898,0,0,.898,407.35,-22,"vine4.png",.478,-.035,.035,.478,93.05,36.7,"vine3.png",.739,0,0,.739,1091.45,21.05,"vine2.png",1,0,0,.854,1669.6,-92.05,"grass2.png",1,0,0,1,1306.95,-68.35,"grass4.png",1,0,0,1,2754.2,-73.9,"grass4.png",1,0,0,1,933.7,-57.5,"grass3.png",1,0,0,1,2028.05,-68.25,"grass4.png",1,.03,-.03,1,635.75,-66.85,"grass4.png",1,.03,-.029,.973,198,-66.5,"grass3.png",1,0,0,1,-120.5,-58.65,"grass4.png",1,0,0,1,2349.25,-69.6,"grass3.png",.706,0,0,.706,2516,-214.75,"deco-rock.png",.544,0,0,.544,828,73.65,"vine5.png",.611,0,0,.611,1935.5,-120.2,"plant9.png",1,0,0,1,861.55,-84.3,"plant8.png",.63,0,0,.63,1659.5,-55.05,"plant5.png",.339,0,0,.339,2248.8,-96.75,"plant4.png",1,0,0,1,1861.6,134.7,"plant3.png",.416,0,0,.416,2912.55,-106.3,"plant2.png",.382,0,0,.382,960.4,-94.75,"plant1.png",.573,.075,-.075,.573,2477.35,-75.3,"deco-rock3.png",.737,.193,-.193,.737,3014.5,-96.1,"deco-rock3.png",.705,.073,-.073,.705,914.6,-48.3,"deco-rock2.png",.441,0,0,.373,151.2,186.65,"vine5.png",-.027,1,-1,-.027,1449.15,210.8,"plant3.png",-.027,1,-1,-.027,2384.8,192.7,"plant3.png",.71,0,0,.71,410.25,-125.9,"plant9.png",.339,0,0,.339,2800.5,-87.6,"plant4.png",.339,0,0,.339,3081.05,-78.7,"plant4.png",.625,.781,-.781,.625,1167.9,177,"plant3.png",.864,.03,-.03,.864,737.2,90.1,"plant3.png"],active:[]},{type:"normal",level:"3",length:9896.45,floor:[145.15,-498.95,2.181,.836,-2.193,1,338.2,-512.65,1.769,.836,-6.393,1,465.5,-518.05,.835,.836,5.556,1,550.35,-521.95,1.056,1,-9.222,1,654.2,-525,1.056,1,5.777,1,754.75,-511.05,1.056,1,9.999,1,857.15,-492.65,1.056,1,9.999,1,962.8,-489.05,1.168,1,-5.002,1,1105.15,-498.95,2.181,.836,-2.193,1,1298.2,-512.65,1.769,.836,-6.393,1,1425.5,-518.05,.835,.836,5.556,1,1510.35,-521.95,1.056,1,-9.222,1,1614.2,-525,1.056,1,5.777,1,1714.75,-511.05,1.056,1,9.999,1,1817.15,-492.65,1.056,1,9.999,1,1922.8,-489.05,1.168,1,-5.002,1,2640.25,-407.75,2.609,1,-2.193,1,2871.1,-424.1,2.116,1,-6.391,1,3023.35,-430.55,.999,1,5.557,1,3262.65,-416.2,3.781,1,2.704,1,3835.2,-519.15,1.334,1.21,-2.958,1,3983.95,-508.2,1.666,1.21,9.746,1,4181.4,-510.55,2.555,1.21,-8.16,1,4807.65,40,97.508,1,0,0,5001.2,-554.6,4.38,1.09,2.543,1,5858.5,-376.6,1.686,1.529,4.504,1,6043.2,-338.55,2.105,1.529,17.207,1,6291,-309.05,3.23,1.529,-.697,1,6609.45,-315.5,3.118,1.195,-2.192,1,6885.4,-335,2.529,1.195,-6.392,1,7067.4,-342.75,1.194,1.195,5.557,1,7717.35,-450.2,3.821,1.529,-.697,1,8474.85,-420.55,2.609,1,-2.193,1,8705.7,-436.9,2.116,1,-6.391,1,8857.95,-443.35,.999,1,5.557,1,9299.55,-564.35,1.056,1,-9.222,1,9403.4,-567.4,1.056,1,5.777,1,9499.95,-554.25,1.056,1,9.999,1,9602.35,-535.85,1.056,1,9.999,1,9708,-532.25,1.168,1,-5.002,1],detail:[],active:["m",.481,0,0,.481,97.8,-332.6,{type:"forceFloor",frame:"force_rock3.png"},126.05,-537.15,"coin",196.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,219.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,258.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",.437,-1.63,1.63,.437,264.05,-591.25,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,269.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},270.05,-549.15,"coin","m",1,0,0,1,299.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},342.05,-559.15,"coin","m",.437,-1.63,1.63,.437,354.2,-238.75,{type:"forceFloor",frame:"force_rock1.png"},"m",-1.687,0,0,-1.104,374.25,-713.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",3.531,-2.36,.556,.831,377.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,377.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},418.05,-565.15,"coin","m",.496,-1.852,.966,.259,421.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,487.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},490.1,-565.15,"coin",554.1,-575.15,"coin","m",.293,-1.095,1.095,.293,556.9,-457,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,607.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},613.7,-576.35,"coin",668.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},728.1,-562.75,"coin","m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,773.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},790.1,-550.35,"coin","m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},849.7,-529.15,"coin","m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},907.3,-528.75,"coin","m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},975.3,-537.95,"coin",1041.3,-537.95,"coin",1106.05,-537.15,"coin",1176.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,1179.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,1218.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",1.481,0,0,1.481,1229.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},1250.05,-549.15,"coin","m",1,0,0,1,1259.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},1322.05,-559.15,"coin","m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,1337.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-2.36,.556,.831,1337.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.437,-1.63,1.63,.437,1367.65,-631.35,{type:"forceFloor",frame:"force_rock1.png"},"m",.496,-1.852,.966,.259,1381.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},1398.05,-565.15,"coin","m",.481,0,0,.481,1447.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,1465.8,-677.1,{type:"forceFloor",frame:"force_rock3.png"},1470.1,-565.15,"coin","m",.481,0,0,.481,1501.8,-661.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.095,1.095,.293,1516.9,-457,{type:"forceFloor",frame:"force_rock1.png"},1534.1,-575.15,"coin","m",.481,0,0,.481,1567.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},1593.7,-576.35,"coin",1648.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},1708.1,-562.75,"coin","m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,1733.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},1770.1,-550.35,"coin","m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},1829.7,-529.15,"coin","m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},1887.3,-528.75,"coin",1955.3,-537.95,"coin",2007,-603.25,"coin",2067,-654.45,"coin",2141.45,-680.9,"coin",2228.55,-690.5,"token",2228.55,-690.5,"token",2228.55,-690.5,"token",2310.3,-689.6,"coin",2384.1,-647.35,"coin",2445.1,-589.15,"coin",2490.9,-515.15,"coin",2544.3,-448.65,"coin",2623.7,-454.45,"coin","m",1.676,-3.327,2.488,2.242,2680.65,-220.95,{type:"forceFloor",frame:"force_rock1.png"},2693.95,-461.7,"coin","m",.324,-1.21,1.21,.324,2724.55,-611.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,2730.65,-132.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2751.55,-241.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,2760.1,-643.9,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2760.25,-132.15,{type:"forceFloor",frame:"force_rock3.png"},2764.9,-472.25,"coin","m",1.116,.342,-.342,1.116,2771.5,-339.5,{type:"forceFloor",frame:"force_plateform2.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,2838.35,-232.45,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,2838.35,-232.45,{type:"forceFloor",frame:"force_rock3.png"},2848.8,-479.2,"coin","m",.496,-2.477,.966,.346,2883.1,-251.9,{type:"forceFloor",frame:"force_rock3.png"},2927.5,-475.25,"coin","m",.481,0,0,.643,2948.6,-274.15,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.465,1.095,.392,2999.6,-338.9,{type:"forceFloor",frame:"force_rock1.png"},3002.7,-472.85,"coin","m",.481,0,0,.481,3068.65,-291,{type:"forceFloor",frame:"force_rock3.png"},3077.15,-473.7,"coin","m",.5,-.866,.878,.507,3106.25,-569.2,{type:"forceFloor",frame:"force_rock3.png"},"m",0,-1.8,1.8,0,3157.75,-254.4,{type:"forceFloor",frame:"force_rock1.png"},3167.3,-467.05,"coin","m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},3247.8,-465.2,"coin","m",1.271,0,0,1.271,3263.8,-327.2,{type:"forceFloor",frame:"force_plateform4.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},3333.4,-465.4,"coin","m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{
type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},3388.9,-547.15,"coin",3450.9,-614.75,"coin","m",.5,-.866,.878,.507,3470.3,-271.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.324,-1.21,1.21,.324,3508.75,-281.85,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,3532.25,-733.9,{type:"forceFloor",frame:"force_rock3.png"},3541.5,-648.9,"token",3541.5,-648.9,"token",3541.5,-648.9,"token",3633.7,-658.75,"coin","m",.66,-.66,.637,.637,3654.3,-485.85,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,3692.3,-515.85,{type:"forceFloor",frame:"force_rock3.png"},3716.3,-634.75,"coin",3787.4,-564.05,"coin",3856.8,-556.5,"coin","m",1.314,.352,-.352,1.314,3906.7,-339.7,{type:"forceFloor",frame:"force_rock1.png"},3922.4,-554.4,"coin","m",1.676,-3.327,2.488,2.242,3938.95,-324.6,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,3988.95,-235.8,{type:"forceFloor",frame:"force_rock1.png"},3992.15,-543.2,"coin","m",.697,1.616,-1.208,.933,4009.85,-345.05,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4018.55,-235.8,{type:"forceFloor",frame:"force_rock3.png"},"m",1.205,-.11,.11,1.205,4040,-438,{type:"forceFloor",frame:"force_plateform3.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},4062.75,-536,"coin","m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,4096.65,-336.1,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,4096.65,-336.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-2.477,.966,.346,4141.4,-355.55,{type:"forceFloor",frame:"force_rock3.png"},4144.55,-545.1,"coin",4204.95,-556.3,"coin",4268,-591.2,"coin",4321.75,-653.55,"coin",4383.75,-715.55,"coin",4471.75,-749.55,"coin",4563.75,-759.55,"coin",4654.95,-737.5,"coin",4730.15,-685.05,"coin","m",1,0,0,1,4734.8,-471.25,{type:"forceFloor",frame:"force_rock3.png"},4784.95,-618.65,"coin","m",-.795,-2.393,2.384,-.836,4818.9,-850.6,{type:"forceFloor",frame:"force_rock1.png"},4862.4,-603.2,"coin","m",1.676,-3.327,2.488,2.242,4913.2,-284.95,{type:"forceFloor",frame:"force_rock1.png"},4936,-599.2,"coin","m",1.481,0,0,1.981,4963.2,-196.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4984.1,-305.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4992.8,-196.15,{type:"forceFloor",frame:"force_rock3.png"},"m",1.473,0,0,1.385,5002.55,-457.6,{type:"forceFloor",frame:"force_plateform4.png"},5016,-595.2,"coin","m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",2.292,-.478,.679,2.376,5033.75,-262.45,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,5070.9,-296.45,{type:"forceFloor",frame:"force_rock1.png"},5087.2,-591.2,"coin","m",.496,-2.477,.966,.346,5115.65,-315.9,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.208,.697,-.697,-1.208,5136.15,-852.1,{type:"forceFloor",frame:"force_rock1.png"},5165.25,-595.2,"coin","m",-2.159,.578,-.578,-2.159,5186.75,-464.4,{type:"forceFloor",frame:"force_rock1.png"},"m",-2.159,.578,-.578,-2.159,5214.75,-374.4,{type:"forceFloor",frame:"force_rock1.png"},5234.8,-647.25,"coin",5305.7,-704.45,"coin",5397.9,-724.35,"coin",5491.45,-718.5,"token",5491.45,-718.5,"token",5491.45,-718.5,"token","m",-.795,-2.393,2.384,-.836,5568,-217.65,{type:"forceFloor",frame:"force_rock1.png"},5578.4,-693.85,"coin","m",.5,-.866,.878,.507,5666.05,-417,{type:"forceFloor",frame:"force_rock3.png"},5666.4,-632.25,"coin",5722.4,-568.25,"coin",5770.4,-502.25,"coin",5809.1,-424.2,"coin",5873.5,-423.4,"coin",5937.1,-417,"coin",6009.1,-397.6,"coin",6081.45,-378.55,"coin","m",1.528,.06,-.06,1.528,6101.9,-241.3,{type:"forceFloor",frame:"force_plateform3.png"},6160.4,-358.95,"coin",6253.2,-351.9,"coin",6322.05,-353.95,"coin","m",1.195,0,0,1.195,6335.5,-205.85,{type:"forceFloor",frame:"force_rock3.png"},6408.2,-354.9,"coin","m",.5,-.866,.878,.507,6459.2,-489.1,{type:"forceFloor",frame:"force_rock3.png"},6480.25,-359.95,"coin",6557.25,-360.95,"coin",6629.65,-363.9,"coin",6701.95,-365.9,"coin","m",.834,1.444,-1.444,.834,6742.5,-146.65,{type:"forceFloor",frame:"force_rock1.png"},6770.45,-367.55,"coin","m",1.334,.409,-.409,1.334,6771.35,-233.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",-.948,-1.641,1.669,-.964,6771.4,-578.5,{type:"forceFloor",frame:"force_rock3.png"},6845.65,-374.05,"coin",6923.6,-383.7,"coin",6995.05,-389.1,"coin",7066.2,-389.55,"coin",7116.4,-446.5,"coin",7167.4,-511.1,"coin","m",-.795,-2.393,2.384,-.836,7182.35,-217.65,{type:"forceFloor",frame:"force_rock1.png"},7248,-558.5,"coin",7335.65,-579.45,"token",7335.65,-579.45,"token",7335.65,-579.45,"token",7434.4,-576.1,"coin",7510.4,-542.1,"coin",7575.85,-482,"coin",7652.35,-485.3,"coin","m",1.737,0,0,1.737,7716.9,-290.45,{type:"forceFloor",frame:"force_plateform5.png"},7727.45,-488.15,"coin",7811.35,-491.9,"coin",7882.45,-492.15,"coin",7940.8,-553.7,"coin",8020,-602.5,"coin","m",-.948,-1.641,1.669,-.964,8065.3,-478.4,{type:"forceFloor",frame:"force_rock3.png"},8112.8,-632.1,"coin",8206.4,-620.1,"coin","m",.417,-1.96,1.307,-.099,8210.3,-450.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.954,-.619,.564,.485,8268.6,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8282.4,-586.1,"coin",8354.4,-518.1,"coin",8425.1,-451.9,"coin",8510.25,-456.15,"coin","m",.697,1.208,-1.208,.697,8586.15,-279.3,{type:"forceFloor",frame:"force_rock1.png"},8590.15,-457.65,"coin","m",1.116,.342,-.342,1.116,8610.3,-352.3,{type:"forceFloor",frame:"force_plateform2.png"},8671.65,-462.55,"coin",8745.4,-472.55,"coin",8817.95,-475.4,"coin",8865.8,-547.7,"coin",8915.6,-623.15,"coin","m",-.795,-2.393,2.384,-.836,8952,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8985.15,-676.85,"token",8985.15,-676.85,"token",8985.15,-676.85,"token",9069.2,-706.5,"coin",9152.6,-700.9,"coin",9232.3,-670.1,"coin","m",-1.208,.697,-.697,-1.208,9269.25,-313.8,{type:"forceFloor",frame:"force_rock1.png"},9301,-604.35,"coin","m",1.13,-2.255,2.277,1.094,9368.1,-744.4,{type:"forceFloor",frame:"force_rock1.png"},9375.65,-609.95,"coin",9443.85,-599.15,"coin","m",-1.208,.697,-.697,-1.208,9501.3,-801.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,9513.25,-326.75,{type:"forceFloor",frame:"force_rock1.png"},9517.9,-585.8,"coin","m",1.091,-.329,.329,1.091,9524.4,-482.8,{type:"forceFloor",frame:"force_plateform1.png"},9596.65,-571.7,"coin",9667.8,-562.45,"coin",9733.4,-565.05,"coin"]},{type:"normal",level:"3",length:9896.45,floor:[145.15,-498.95,2.181,.836,-2.193,1,338.2,-512.65,1.769,.836,-6.393,1,465.5,-518.05,.835,.836,5.556,1,550.35,-521.95,1.056,1,-9.222,1,654.2,-525,1.056,1,5.777,1,754.75,-511.05,1.056,1,9.999,1,857.15,-492.65,1.056,1,9.999,1,962.8,-489.05,1.168,1,-5.002,1,1105.15,-498.95,2.181,.836,-2.193,1,1298.2,-512.65,1.769,.836,-6.393,1,1425.5,-518.05,.835,.836,5.556,1,1510.35,-521.95,1.056,1,-9.222,1,1614.2,-525,1.056,1,5.777,1,1714.75,-511.05,1.056,1,9.999,1,1817.15,-492.65,1.056,1,9.999,1,1922.8,-489.05,1.168,1,-5.002,1,2640.25,-407.75,2.609,1,-2.193,1,2871.1,-424.1,2.116,1,-6.391,1,3023.35,-430.55,.999,1,5.557,1,3262.65,-416.2,3.781,1,2.704,1,3835.2,-519.15,1.334,1.21,-2.958,1,3983.95,-508.2,1.666,1.21,9.746,1,4181.4,-510.55,2.555,1.21,-8.16,1,4807.65,40,97.508,1,0,0,5001.2,-554.6,4.38,1.09,2.543,1,5858.5,-376.6,1.686,1.529,4.504,1,6043.2,-338.55,2.105,1.529,17.207,1,6291,-309.05,3.23,1.529,-.697,1,6609.45,-315.5,3.118,1.195,-2.192,1,6885.4,-335,2.529,1.195,-6.392,1,7067.4,-342.75,1.194,1.195,5.557,1,7717.35,-450.2,3.821,1.529,-.697,1,8474.85,-420.55,2.609,1,-2.193,1,8705.7,-436.9,2.116,1,-6.391,1,8857.95,-443.35,.999,1,5.557,1,9299.55,-564.35,1.056,1,-9.222,1,9403.4,-567.4,1.056,1,5.777,1,9499.95,-554.25,1.056,1,9.999,1,9602.35,-535.85,1.056,1,9.999,1,9708,-532.25,1.168,1,-5.002,1],detail:[],active:["m",.481,0,0,.481,97.8,-332.6,{type:"forceFloor",frame:"force_rock3.png"},126.05,-537.15,"coin",196.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,219.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,258.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",.437,-1.63,1.63,.437,264.05,-591.25,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,269.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},270.05,-549.15,"coin","m",1,0,0,1,299.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,339.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},342.05,-559.15,"coin","m",.437,-1.63,1.63,.437,354.2,-238.75,{type:"forceFloor",frame:"force_rock1.png"},"m",-1.687,0,0,-1.104,374.25,-713.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,374.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",3.531,-2.36,.556,.831,377.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,377.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},418.05,-565.15,"coin","m",.496,-1.852,.966,.259,421.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,487.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},490.1,-565.15,"coin",554.1,-575.15,"coin","m",.293,-1.095,1.095,.293,556.9,-457,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,607.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},613.7,-576.35,"coin",668.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,718,-344.35,{type:"forceFloor",frame:"force_rock1.png"},728.1,-562.75,"coin","m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,768,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,773.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},790.1,-550.35,"coin","m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,811.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,838.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},849.7,-529.15,"coin","m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,873.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},907.3,-528.75,"coin","m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,920.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},975.3,-537.95,"coin",1041.3,-537.95,"coin",1106.05,-537.15,"coin",1176.05,-545.15,"coin","m",1.676,-2.488,2.488,1.676,1179.5,-368.8,{type:"forceFloor",frame:"force_rock1.png"},"m",.933,.286,-.286,.933,1218.4,-441.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",1.481,0,0,1.481,1229.5,-302.4,{type:"forceFloor",frame:"force_rock1.png"},1250.05,-549.15,"coin","m",1,0,0,1,1259.1,-302.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1299.95,-311.1,{type:"forceFloor",frame:"force_rock1.png"},1322.05,-559.15,"coin","m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1334.85,-334.7,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-2.263,2.263,-1.969,1337.2,-377.4,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-2.36,.556,.831,1337.2,-377.4,{type:"forceFloor",frame:"force_rock3.png"},"m",.437,-1.63,1.63,.437,1367.65,-631.35,{type:"forceFloor",frame:"force_rock1.png"},"m",.496,-1.852,.966,.259,1381.95,-391.95,{type:"forceFloor",frame:"force_rock3.png"},1398.05,-565.15,"coin","m",.481,0,0,.481,1447.45,-408.6,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,1465.8,-677.1,{type:"forceFloor",frame:"force_rock3.png"},1470.1,-565.15,"coin","m",.481,0,0,.481,1501.8,-661.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.095,1.095,.293,1516.9,-457,{type:"forceFloor",frame:"force_rock1.png"},1534.1,-575.15,"coin","m",.481,0,0,.481,1567.5,-408.6,{type:"forceFloor",frame:"force_rock3.png"},1593.7,-576.35,"coin",1648.9,-571.15,"coin","m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,1678,-344.35,{type:"forceFloor",frame:"force_rock1.png"},1708.1,-562.75,"coin","m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,1728,-277.95,{type:"forceFloor",frame:"force_rock1.png"},"m",1.091,-.329,.329,1.091,1733.6,-439.6,{type:"forceFloor",frame:"force_plateform1.png"},1770.1,-550.35,"coin","m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1771.2,-254.35,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,1798.45,-286.65,{type:"forceFloor",frame:"force_rock1.png"},1829.7,-529.15,"coin","m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,1833.35,-310.25,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,1880.45,-367.5,{type:"forceFloor",frame:"force_rock3.png"},1887.3,-528.75,"coin",1955.3,-537.95,"coin",2007,-603.25,"coin",2067,-654.45,"coin",2141.45,-680.9,"coin",2228.55,-690.5,"token",2228.55,-690.5,"token",2228.55,-690.5,"token",2310.3,-689.6,"coin",2384.1,-647.35,"coin",2445.1,-589.15,"coin",2490.9,-515.15,"coin",2544.3,-448.65,"coin",2623.7,-454.45,"coin","m",1.676,-3.327,2.488,2.242,2680.65,-220.95,{type:"forceFloor",frame:"force_rock1.png"},2693.95,-461.7,"coin","m",.324,-1.21,1.21,.324,2724.55,-611.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,2730.65,-132.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2751.55,-241.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,2760.1,-643.9,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2760.25,-132.15,{type:"forceFloor",frame:"force_rock3.png"},2764.9,-472.25,"coin","m",1.116,.342,-.342,1.116,2771.5,-339.5,{type:"forceFloor",frame:"force_plateform2.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,2801.1,-143.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,2836,-175.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,2838.35,-232.45,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,2838.35,-232.45,{type:"forceFloor",frame:"force_rock3.png"},2848.8,-479.2,"coin","m",.496,-2.477,.966,.346,2883.1,-251.9,{type:"forceFloor",frame:"force_rock3.png"},2927.5,-475.25,"coin","m",.481,0,0,.643,2948.6,-274.15,{type:"forceFloor",frame:"force_rock3.png"},"m",.293,-1.465,1.095,.392,2999.6,-338.9,{type:"forceFloor",frame:"force_rock1.png"},3002.7,-472.85,"coin","m",.481,0,0,.481,3068.65,-291,{type:"forceFloor",frame:"force_rock3.png"},3077.15,-473.7,"coin","m",.5,-.866,.878,.507,3106.25,-569.2,{type:"forceFloor",frame:"force_rock3.png"},"m",0,-1.8,1.8,0,3157.75,-254.4,{type:"forceFloor",frame:"force_rock1.png"},3167.3,-467.05,"coin","m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.676,-2.488,2.488,1.676,3179.15,-226.75,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,3229.15,-160.35,{type:"forceFloor",frame:"force_rock1.png"},3247.8,-465.2,"coin","m",1.271,0,0,1.271,3263.8,-327.2,{type:"forceFloor",frame:"force_plateform4.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3272.35,-136.75,{type:"forceFloor",frame:"force_rock3.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.208,-1.208,.697,3299.6,-169.05,{type:"forceFloor",frame:"force_rock1.png"},3333.4,-465.4,"coin","m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1,3334.5,-192.65,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-1.852,.966,.259,3381.6,-249.9,{type:"forceFloor",frame:"force_rock3.png"},3388.9,-547.15,"coin",3450.9,-614.75,"coin","m",.5,-.866,.878,.507,3470.3,-271.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.324,-1.21,1.21,.324,3508.75,-281.85,{type:"forceFloor",frame:"force_rock1.png"},"m",.481,0,0,.481,3532.25,-733.9,{type:"forceFloor",frame:"force_rock3.png"},3541.5,-648.9,"token",3541.5,-648.9,"token",3541.5,-648.9,"token",3633.7,-658.75,"coin","m",.66,-.66,.637,.637,3654.3,-485.85,{type:"forceFloor",frame:"force_rock3.png"},"m",.481,0,0,.481,3692.3,-515.85,{type:"forceFloor",frame:"force_rock3.png"},3716.3,-634.75,"coin",3787.4,-564.05,"coin",3856.8,-556.5,"coin","m",1.314,.352,-.352,1.314,3906.7,-339.7,{type:"forceFloor",frame:"force_rock1.png"},3922.4,-554.4,"coin","m",1.676,-3.327,2.488,2.242,3938.95,-324.6,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.981,3988.95,-235.8,{type:"forceFloor",frame:"force_rock1.png"},3992.15,-543.2,"coin","m",.697,1.616,-1.208,.933,4009.85,-345.05,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4018.55,-235.8,{type:"forceFloor",frame:"force_rock3.png"},"m",1.205,-.11,.11,1.205,4040,-438,{type:"forceFloor",frame:"force_plateform3.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4059.4,-247.4,{type:"forceFloor",frame:"force_rock1.png"},4062.75,-536,"coin","m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,4094.3,-279,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,4096.65,-336.1,{type:"forceFloor",frame:"force_rock1.png"},"m",3.531,-3.156,.556,1.112,4096.65,-336.1,{type:"forceFloor",frame:"force_rock3.png"},"m",.496,-2.477,.966,.346,4141.4,-355.55,{type:"forceFloor",frame:"force_rock3.png"},4144.55,-545.1,"coin",4204.95,-556.3,"coin",4268,-591.2,"coin",4321.75,-653.55,"coin",4383.75,-715.55,"coin",4471.75,-749.55,"coin",4563.75,-759.55,"coin",4654.95,-737.5,"coin",4730.15,-685.05,"coin","m",1,0,0,1,4734.8,-471.25,{type:"forceFloor",frame:"force_rock3.png"},4784.95,-618.65,"coin","m",-.795,-2.393,2.384,-.836,4818.9,-850.6,{type:"forceFloor",frame:"force_rock1.png"},4862.4,-603.2,"coin","m",1.676,-3.327,2.488,2.242,4913.2,-284.95,{type:"forceFloor",frame:"force_rock1.png"},4936,-599.2,"coin","m",1.481,0,0,1.981,4963.2,-196.15,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,4984.1,-305.4,{type:"forceFloor",frame:"force_rock1.png"},"m",1,0,0,1.337,4992.8,-196.15,{type:"forceFloor",frame:"force_rock3.png"},"m",1.473,0,0,1.385,5002.55,-457.6,{type:"forceFloor",frame:"force_plateform4.png"},5016,-595.2,"coin","m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",.697,1.616,-1.208,.933,5033.65,-207.75,{type:"forceFloor",frame:"force_rock1.png"},"m",2.292,-.478,.679,2.376,5033.75,-262.45,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",1,0,0,1.337,5068.55,-239.35,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.969,-3.026,2.263,-2.634,5070.9,-296.45,{type:"forceFloor",frame:"force_rock1.png"},5087.2,-591.2,"coin","m",.496,-2.477,.966,.346,5115.65,-315.9,{type:"forceFloor",frame:"force_rock3.png"},"m",-1.208,.697,-.697,-1.208,5136.15,-852.1,{type:"forceFloor",frame:"force_rock1.png"},5165.25,-595.2,"coin","m",-2.159,.578,-.578,-2.159,5186.75,-464.4,{type:"forceFloor",frame:"force_rock1.png"},"m",-2.159,.578,-.578,-2.159,5214.75,-374.4,{type:"forceFloor",frame:"force_rock1.png"},5234.8,-647.25,"coin",5305.7,-704.45,"coin",5397.9,-724.35,"coin",5491.45,-718.5,"token",5491.45,-718.5,"token",5491.45,-718.5,"token","m",-.795,-2.393,2.384,-.836,5568,-217.65,{type:"forceFloor",frame:"force_rock1.png"},5578.4,-693.85,"coin","m",.5,-.866,.878,.507,5666.05,-417,{type:"forceFloor",frame:"force_rock3.png"},5666.4,-632.25,"coin",5722.4,-568.25,"coin",5770.4,-502.25,"coin",5809.1,-424.2,"coin",5873.5,-423.4,"coin",5937.1,-417,"coin",6009.1,-397.6,"coin",6081.45,-378.55,"coin","m",1.528,.06,-.06,1.528,6101.9,-241.3,{type:"forceFloor",frame:"force_plateform3.png"},6160.4,-358.95,"coin",6253.2,-351.9,"coin",6322.05,-353.95,"coin","m",1.195,0,0,1.195,6335.5,-205.85,{type:"forceFloor",frame:"force_rock3.png"},6408.2,-354.9,"coin","m",.5,-.866,.878,.507,6459.2,-489.1,{type:"forceFloor",frame:"force_rock3.png"},6480.25,-359.95,"coin",6557.25,-360.95,"coin",6629.65,-363.9,"coin",6701.95,-365.9,"coin","m",.834,1.444,-1.444,.834,6742.5,-146.65,{type:"forceFloor",frame:"force_rock1.png"},6770.45,-367.55,"coin","m",1.334,.409,-.409,1.334,6771.35,-233.9,{type:"forceFloor",frame:"force_plateform2.png"},"m",-.948,-1.641,1.669,-.964,6771.4,-578.5,{type:"forceFloor",frame:"force_rock3.png"},6845.65,-374.05,"coin",6923.6,-383.7,"coin",6995.05,-389.1,"coin",7066.2,-389.55,"coin",7116.4,-446.5,"coin",7167.4,-511.1,"coin","m",-.795,-2.393,2.384,-.836,7182.35,-217.65,{type:"forceFloor",frame:"force_rock1.png"},7248,-558.5,"coin",7335.65,-579.45,"token",7335.65,-579.45,"token",7335.65,-579.45,"token",7434.4,-576.1,"coin",7510.4,-542.1,"coin",7575.85,-482,"coin",7652.35,-485.3,"coin","m",1.737,0,0,1.737,7716.9,-290.45,{type:"forceFloor",frame:"force_plateform5.png"},7727.45,-488.15,"coin",7811.35,-491.9,"coin",7882.45,-492.15,"coin",7940.8,-553.7,"coin",8020,-602.5,"coin","m",-.948,-1.641,1.669,-.964,8065.3,-478.4,{type:"forceFloor",frame:"force_rock3.png"},8112.8,-632.1,"coin",8206.4,-620.1,"coin","m",.417,-1.96,1.307,-.099,8210.3,-450.1,{type:"forceFloor",frame:"force_rock1.png"},"m",.954,-.619,.564,.485,8268.6,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8282.4,-586.1,"coin",8354.4,-518.1,"coin",8425.1,-451.9,"coin",8510.25,-456.15,"coin","m",.697,1.208,-1.208,.697,8586.15,-279.3,{type:"forceFloor",frame:"force_rock1.png"},8590.15,-457.65,"coin","m",1.116,.342,-.342,1.116,8610.3,-352.3,{type:"forceFloor",frame:"force_plateform2.png"},8671.65,-462.55,"coin",8745.4,-472.55,"coin",8817.95,-475.4,"coin",8865.8,-547.7,"coin",8915.6,-623.15,"coin","m",-.795,-2.393,2.384,-.836,8952,-352.3,{type:"forceFloor",frame:"force_rock1.png"},8985.15,-676.85,"token",8985.15,-676.85,"token",8985.15,-676.85,"token",9069.2,-706.5,"coin",9152.6,-700.9,"coin",9232.3,-670.1,"coin","m",-1.208,.697,-.697,-1.208,9269.25,-313.8,{type:"forceFloor",frame:"force_rock1.png"},9301,-604.35,"coin","m",1.13,-2.255,2.277,1.094,9368.1,-744.4,{type:"forceFloor",frame:"force_rock1.png"},9375.65,-609.95,"coin",9443.85,-599.15,"coin","m",-1.208,.697,-.697,-1.208,9501.3,-801.9,{type:"forceFloor",frame:"force_rock1.png"},"m",1.481,0,0,1.481,9513.25,-326.75,{type:"forceFloor",frame:"force_rock1.png"},9517.9,-585.8,"coin","m",1.091,-.329,.329,1.091,9524.4,-482.8,{type:"forceFloor",frame:"force_plateform1.png"},9596.65,-571.7,"coin",9667.8,-562.45,"coin",9733.4,-565.05,"coin"]},{type:"normal",level:"1",length:5698,floor:[337.15,43.05,6.736,1,-1.226,0,1054.95,-165.5,3.889,1,1.733,1,1615.25,-332.55,2.321,1,-5.718,1,1843.45,-330.7,2.321,1,6.479,1,2009.5,-325,1.314,1,-8.522,1,2682.15,-306.65,6.159,.904,-178.791,0,3271.05,-397.85,1.192,1,1.976,1,3380.4,-367.25,1.119,.998,28.816,1,3478.55,-314.25,1.119,1.001,26.344,1,3579.95,-279.1,1.119,1.001,10.933,1,3704.2,-266.95,1.41,1.001,1.125,1,4254.3,-286.6,2.121,1,6.395,1,4457.45,-292.55,2.121,1,-9.744,1,5155.8,33.95,8.723,1,0,0],detail:[.826,0,0,1.174,2567.05,-333.4,"upper_tree_1.png",.803,0,0,.856,5275.2,13.9,"upper_tree_2.png",-.739,0,0,.739,5066,19.05,"upper_tree_3.png",.598,.015,-.015,.598,1495.4,-369.65,"upper_plateform5.png",.572,-.04,.036,.512,4132.2,-317.5,"upper_plateform2.png",.615,.088,-.081,.566,842.7,-238.8,"upper_plateform1.png",1.052,.191,0,1.644,1595.85,-846.15,"upper_vine2.png",.734,0,0,1.07,1979.6,-734.3,"upper_vine1.png",1.043,0,0,1.734,1169.6,-693.65,"upper_vine2.png",1.049,0,0,1.54,861.25,-753.8,"upper_vine1.png",.912,0,0,.912,-54.4,13.9,"upper_tree_1.png",-.754,0,0,.865,1369.6,-835.75,"upper_leaf.png",.909,.004,-.004,.909,4683.25,-60.4,"upper_plateform5.png",.696,-.012,.012,.696,3169.25,-414.45,"upper_plateform3.png",1.378,0,0,2.145,3238.35,-1072.95,"upper_vine2.png",1.378,0,0,2.555,3668.95,-1087.8,"upper_vine2.png",.959,.126,-.13,.991,3160.15,-1262.2,"upper_leaf.png",1.027,0,0,1.496,4488.5,-882.55,"upper_vine1.png",1.378,0,0,2.02,4177.35,-906,"upper_vine2.png",.839,0,0,.942,4025.85,-1105.3,"upper_leaf.png",.676,-.003,.003,.676,-.25,-30.3,"upper_plateform5.png",.734,0,0,-1.07,1979.6,-730.4,"upper_vine1.png",.791,0,0,1,1508.25,-1045.3,"upper_leaf.png",-.62,-.003,-.003,.676,2990.95,-385.5,"upper_plateform5.png"],active:[1226.55,-284.15,"coin",1288,-355,"coin",1369.45,-416.9,"coin",1450.9,-448.1,"coin",1532.35,-409.3,"coin",2011.7,-398.65,"coin",2073.15,-469.5,"coin",2154.6,-531.4,"coin",2236.05,-562.6,"coin",2317.5,-523.8,"coin",2398.95,-461.9,"coin",2460.4,-391.05,"coin",3321.35,-441.8,"coin",3415.05,-406.6,"coin",3511.05,-358.75,"coin",3605.45,-322.2,"coin",3702.35,-312.55,"coin",4655.2,-452.7,"coin",4663.6,-494.7,"coin",4695.7,-443.1,"coin",4706.1,-485.5,"coin",4825.2,-515.9,"coin",4831.6,-557.9,"coin",4863.7,-506.7,"coin",4870.5,-548.7,"coin",4989.6,-456.7,"coin",4996,-498.7,"coin",5028.1,-447.5,"coin",5034.9,-489.5,"coin"]}],define("trackData",function(){}),(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var o=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;for(var i,o,r=n.length;--r>-1;)if(o=this.vars[n[r]])for(i=o.length;--i>-1;)"{self}"===o[i]&&(o=this.vars[n[r]]=o.concat(),
o[i]=this);this.vars.tweens instanceof Array&&this.add(this.vars.tweens,0,this.vars.align,this.vars.stagger)},n=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],r=[],s=function(e){var t,i={};for(t in e)i[t]=e[t];return i},a=o.prototype=new t;return o.version="1.8.0",a.constructor=o,a.kill()._gc=!1,a.to=function(e,t,o,n){return this.add(new i(e,t,o),n)},a.from=function(e,t,o,n){return this.add(i.from(e,t,o),n)},a.fromTo=function(e,t,o,n,r){return this.add(i.fromTo(e,t,o,n),r)},a.staggerTo=function(e,t,n,r,a,h,c,l){var p=new o({onComplete:h,onCompleteParams:c,onCompleteScope:l});r=r||0;for(var u=0;e.length>u;u++)null!=n.startAt&&(n.startAt=s(n.startAt)),p.add(new i(e[u],t,s(n)),u*r);return this.add(p,a)},a.staggerFrom=function(e,t,i,o,n,r,s,a){return null==i.immediateRender&&(i.immediateRender=!0),i.runBackwards=!0,this.staggerTo(e,t,i,o,n,r,s,a)},a.staggerFromTo=function(e,t,i,o,n,r,s,a,h){return o.startAt=i,i.immediateRender&&(o.immediateRender=!0),this.staggerTo(e,t,o,n,r,s,a,h)},a.call=function(e,t,o,n){return this.add(i.delayedCall(0,e,t,o),n)},a.set=function(e,t,o){return t.immediateRender=!1,this.add(new i(e,0,t),o)},o.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var n=new o(e),r=n._timeline;null==t&&(t=!0),r._remove(n,!0),n._startTime=0,n._rawPrevTime=n._time=n._totalTime=r._time;for(var s,a=r._first;a;)s=a._next,t&&a instanceof i&&a.target===a.vars.onComplete||n.add(a,a._startTime-a._delay),a=s;return r.add(n,0),n},a.add=function(n,r,s,a){if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,n)),n instanceof e);else{if(n instanceof Array){s=s||"normal",a=a||0;var h,c,l=r,p=n.length;for(h=0;p>h;h++)(c=n[h])instanceof Array&&(c=new o({tweens:c})),this.add(c,l),"string"!=typeof c&&"function"!=typeof c&&("sequence"===s?l=c._startTime+c.totalDuration()/c._timeScale:"start"===s&&(c._startTime-=c.delay())),l+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,r);if("function"!=typeof n)throw"Cannot add "+n+" into the TimelineLite/Max: it is neither a tween, timeline, function, nor a String.";n=i.delayedCall(0,n)}if(t.prototype.add.call(this,n,r),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(var u=this;u._gc&&u._timeline;)u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._enabled(!0,!1),u=u._timeline;return this},a.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},a.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},a.insert=a.insertMultiple=function(e,t,i,o){return this.add(e,t||0,i,o)},a.appendMultiple=function(e,t,i,o){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,o)},a.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},a.removeLabel=function(e){return delete this._labels[e],this},a.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},a._parseTimeOrLabel=function(t,i,o,n){var r;if(n instanceof e&&n.timeline===this)this.remove(n);else if(n instanceof Array)for(r=n.length;--r>-1;)n[r]instanceof e&&n[r].timeline===this&&this.remove(n[r]);if("string"==typeof i)return this._parseTimeOrLabel(i,o&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,o);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(r=t.indexOf("="),-1===r)return null==this._labels[t]?o?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(r-1)+"1",10)*Number(t.substr(r+1)),t=r>1?this._parseTimeOrLabel(t.substr(0,r-1),0,o):this.duration()}return Number(t)+i},a.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},a.stop=function(){return this.paused(!0)},a.gotoAndPlay=function(e,i){return t.prototype.play.call(this,e,i)},a.gotoAndStop=function(e,t){return this.pause(e,t)},a.render=function(e,t,i){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var o,n,s,a,h=this._dirty?this.totalDuration():this._totalDuration,c=this._time,l=this._startTime,p=this._timeScale,u=this._paused;if(e>=h?(this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(n=!0,a="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(i=!0)),this._rawPrevTime=e,e=h+1e-6):0>=e?(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime>0)&&(a="onReverseComplete",n=this._reversed),0>e?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&(i=!0)):this._initted||(i=!0),this._rawPrevTime=e,e=-1e-6):this._totalTime=this._time=this._rawPrevTime=e,this._time!==c||i){if(this._initted||(this._initted=!0),0===c&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||r)),this._time>c)for(o=this._first;o&&(s=o._next,!this._paused||u);)(o._active||o._startTime<=this._time&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,!1):o.render((e-o._startTime)*o._timeScale,t,!1)),o=s;else for(o=this._last;o&&(s=o._prev,!this._paused||u);)(o._active||c>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,!1):o.render((e-o._startTime)*o._timeScale,t,!1)),o=s;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||r)),a&&(this._gc||(l===this._startTime||p!=this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||r)))}},a._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof o&&e._hasPausedChild())return!0;e=e._next}return!1},a.getChildren=function(e,t,o,n){n=n||-9999999999;for(var r=[],s=this._first,a=0;s;)n>s._startTime||(s instanceof i?t!==!1&&(r[a++]=s):(o!==!1&&(r[a++]=s),e!==!1&&(r=r.concat(s.getChildren(!0,t,o)),a=r.length))),s=s._next;return r},a.getTweensOf=function(e,t){for(var o=i.getTweensOf(e),n=o.length,r=[],s=0;--n>-1;)(o[n].timeline===this||t&&this._contains(o[n]))&&(r[s++]=o[n]);return r},a._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},a.shiftChildren=function(e,t,i){i=i||0;for(var o=this._first;o;)o._startTime>=i&&(o._startTime+=e),o=o._next;if(t)for(var n in this._labels)this._labels[n]>=i&&(this._labels[n]+=e);return this._uncache(!0)},a._kill=function(e,t){if(null==e&&null==t)return this._enabled(!1,!1);for(var i=null==t?this.getChildren(!0,!0,!1):this.getTweensOf(t),o=i.length,n=!1;--o>-1;)i[o]._kill(e,t)&&(n=!0);return n},a.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},a.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},a._enabled=function(e,i){if(e===this._gc)for(var o=this._first;o;)o._enabled(e,!0),o=o._next;return t.prototype._enabled.call(this,e,i)},a.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},a.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},a.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,o=0,n=this._first,r=-999999999999;n;)t=n._next,r>n._startTime&&this._sortChildren?this.add(n,n._startTime-n._delay):r=n._startTime,0>n._startTime&&(o-=n._startTime,this.shiftChildren(-n._startTime,!1,-9999999999)),i=n._startTime+(n._dirty?n.totalDuration():n._totalDuration)/n._timeScale,i>o&&(o=i),n=t;this._duration=this._totalDuration=o,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},a.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},a.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},o},!0)}),window._gsDefine&&_gsQueue.pop()(),define("TIMELINE",function(){}),define("com/fighter/app/FallbackFighter",["require","exports","module"],function(e,t,i){var o=function(e){this.domElement=e||document.body;var t={message:'<p>Uh-oh! It looks like you need to update your browser before you\'ll be able to play this game</p><p>In the meantime, check out <a href="#brand_url">this</a> or <a href="#cbeebies_games_url">this</a>.',brand_url:"http://www.someurl.tld/",games_url:"http://www.someurl.tld/",enabled:!0},i=t.message;i=i.replace("#brand_url",t.brand_url),i=i.replace("#games_url",t.games_url),this.active=!1,this.checkDevice(navigator.userAgent),this.checkCanvas(),this.checkCookies()};o.prototype.constructor=o,o.prototype={checkDevice:function(e){for(var t=[/(Mobile\/8C148)/,/(Mobile\/8C148a)/,/(Mobile\/8A293)/,/(Mobile\/8A306)/,/(Mobile\/8A400)/,/(Mobile\/8B117)/,/(Mobile\/8E128)/,/(Mobile\/8E200)/,/(Mobile\/8E303)/,/(Mobile\/8E401)/,/(Mobile\/8E600)/,/(Mobile\/8E501)/,/(Mobile\/8G4)/,/(Mobile\/8H7)/,/(Mobile\/8J2)/,/(Mobile\/8K2)/,/(Mobile\/8L1)/,/(Mobile\/9A334)/,/(Mobile\/10A523)/,/(Mobile\/9A405)/],i=0;i<t.length;i++)if(e.match(t[i])){var o=ASSET_URL+"img/translations/unsupported.jpg";return this.createBigImage(o),!1}if(!Device.instance.webGL||Device.instance.iOS&&Device.instance.firefox||10===Device.instance.ieVersion){var o=ASSET_URL+"img/translations/unsupported.jpg";return this.createBigImage(o),!1}if(/iP[ao]d|iPhone/i.test(e)){var n=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;if(6>n){var o=ASSET_URL+"img/translations/unsupported.jpg";return this.createBigImage(o),!1}}},checkCanvas:function(){if(!this.hasCanvasSupport()){var e=ASSET_URL+"img/translations/unsupported.jpg";return this.createBigImage(e),!1}return!0},hasCanvasSupport:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},checkCookies:function(){if(!this.cookiesEnabled()){var e=ASSET_URL+"img/cookies.jpg";this.createBigImage(e)}},cookiesEnabled:function(){var e=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")?!0:!1),e},createBigImage2:function(e){var t=document.createElement("div");t.style.backgroundPosition="50% 50%",t.style.backgroundColor="#3b3b3b",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.bottom="0",t.style.right="0",t.style.zIndex=1e5,t.height="100%",t.width="100%",t.style.backgroundImage="url("+e+")",this.domElement.appendChild(t),this.active=!0},createBigImage:function(e){var t=new Image;t.style.backgroundPosition="50% 50%",t.style.backgroundColor="#3b3b3b",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.bottom="0",t.style.right="0",t.style.zIndex=1e5,t.src=e,this.domElement.appendChild(t),window.onresize=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=e/750;o>1&&(o=1),t.width=750*o,t.height=500*o,t.style.left=e/2-750*o/2+"px",t.style.top=i/2-500*o/2+"px"},window.onresize(),this.active=!0}},i.exports=o}),define("fido/utils/PixiQuickShapes",["require","exports","module","PIXI"],function(e,t,i){var o=e("PIXI");o.Graphics.quickRect=function(e,t,i){return(new o.Graphics).beginFill(i||16711680).drawRect(0,0,e,t)},o.Graphics.quickCircle=function(e,t){return(new o.Graphics).beginFill(t||16711680).drawCircle(0,0,e)},i.exports={}}),define("PixiMonkeyPatch",["require","exports","module","PIXI","fido/system/Ticker","fido/bob/World","fido/system/DelayedCalls","starwars/buttons/GoldenButton","com/fighter/game/engine/Item","fido/utils/Utils","fido/bob/Group","com/fighter/game/engine/GameObjectPool","fido/system/Ticker"],function(e,t,i){var o=e("PIXI"),n=(e("fido/system/Ticker"),e("fido/bob/World")),r=e("fido/system/DelayedCalls"),s=e("starwars/buttons/GoldenButton"),a=(e("com/fighter/game/engine/Item"),e("fido/utils/Utils")),h=e("fido/bob/Group");e("com/fighter/game/engine/GameObjectPool"),e("fido/system/Ticker");n.prototype.changeItemGroups=function(e,t){for(var i=0;i<e.groups.length;i++)var o=e.groups[i],n=this.groups[o].remove(e);for(var r=0;r<t.length;r++){var o=t[r],n=this.groups[o];n||(n=this.groups[o]=new h),n.add(e)}},n.prototype.addGroups=function(e){for(var t=0;t<e.length;t++){var i=e[t];this.groups[i]||(this.groups[i]=new h)}},r.prototype.getRemainingTime=function(e){var t=this.delayedCalls[e];return t&&t.delay?60*t.delay-t.tick:0},s.prototype.hover=function(){if(Device.instance.desktop&&(!Device.instance.desktop||window.moved)){var e=.8;this.cacheAsBitmap=!1,TweenLite.to(this.icon.scale,e,{x:1.3,y:1.3,onComplete:function(){},onCompleteScope:this,ease:Elastic.easeOut}),TweenLite.to(this.background.scale,.5*e,{x:1.1,y:1.1,ease:Power4.easeOut}),TweenLite.to(this.outerRingContainer.scale,.5*e,{x:1.1,y:1.1,ease:Power4.easeOut}),TweenLite.to(this.groove,.5*e,{rotation:.5*Math.PI,ease:Back.easeOut});for(var t=0;t<this.rings.length;t++){var i=this.rings[t];TweenLite.to(i,.5*e,{alpha:2*i._defaultAlpha,ease:Power4.easeOut});var o=(1-.2*t)*i._defaultScale;i._defaultScale<1&&(o+=.4*i._defaultScale),TweenLite.to(i.scale,.5*e,{x:o,y:o,ease:Power4.easeOut})}}},s.prototype.showRings=function(){for(var e=0;e<this.rings.length;e++)this.addChildAt(this.rings[e],1),this.rings[e].visible=!0},a.getResolutionOfUrl=function(e){return resolution=/_mip/.test(e)?.5:1},a.getTexturesFromFramesWithPrefixMore=function(e,t,i,n){var r=[];void 0==i&&(i=0);for(var s=0;t>s;s++){var a=s+i;if(10>a)var h=e.replace("%%%","00"+a);else if(100>a)var h=e.replace("%%%","0"+a);else var h=e.replace("%%%",a);if(n)var h=e.replace("%%",a);r.push(new o.Texture.fromFrame(h))}return r},a.getTexturesFromImagesWithPrefix=function(e,t,i,n){var r=[];void 0==i&&(i=0);for(var s=0;t>s;s++){var a=s+i,h=e.replace("%%",10>a?"0"+a:a);if(n)var h=e.replace("%%",a);r.push(new o.Texture.fromImage(h))}return r},i.exports={}}),window.ASSET_URL="media/",config={app:"com/rebels/app/RebelsApp"},window.console||(window.console={log:function(e){}}),window.console.log||(window.console.log=function(e){}),document.body.style["background-color"]="black",require.config({baseUrl:"./js",paths:{PIXI:"libs/pixi",perlin:"libs/perlin",TWEEN:"libs/TweenMax.min",EASEPACK:"libs/EasePack.min",TIMELINE:"libs/TimelineLite.min",webfontloader:"libs/webfontloader",signals:"../node_modules/signals/dist/signals",starwars:"../node_modules/starwars-common/scripts",SM2:"libs/soundmanager2/script/soundmanager2-nodebug",fido:"../node_modules/fido.js",APP_root:"com/fighter/app/FighterApp",stats:"libs/stats.min",HOWLER:"libs/howler.min",tracker:"com/fighter/app/system/Tracking"}}),window.DEVICE_SCALE=window.devicePixelRatio||1,hasCanvasSupport()?require(["TWEEN","com/fighter/app/Easings","com/fighter/game/engine_shooter/EasingsGame","perlin","EASEPACK","signals","PIXI","HOWLER","APP_root","stats","webfontloader","fido/system/Device","trackData","TIMELINE","fido/app/Fallback","com/fighter/app/FallbackFighter","fido/utils/PixiQuickShapes","SM2","./PixiMonkeyPatch"],function(e,t,i,o,n,r,s,a,h,c,l,p,u,d,g,f,m,v,y){require(["./pixi-spine"],function(e){function o(){document.getElementById("container");p.instance.iOS&&p.instance.iOS_version<7||window.scrollTo(0,0),window.scrollTo(0,0),s.resize(window.innerWidth,window.innerHeight)}window.Easings=t.instance,window.EasingsGame=i.instance;var n=function(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!(!i||!i.getContextAttributes().stencil)}catch(o){return!1}}(),r=!n||p.instance.iOS&&p.instance.iOS_version<6||p.instance.iOS&&p.instance.firefox||10===p.instance.ieVersion;if(p.instance.useSM2&&!r&&(v.defaultOptions.autoLoad=!0,v.setup({url:"libs/arzvhaebfazdsc/soundmanager2/swf/",flashVersion:9,onready:function(){var e=new h;window.app=e,e&&e.onSoundReady.dispatch()},ontimeout:function(){window.noSound=!0}})),window.stats=new Stats,window.stats.domElement.style.position="absolute",window.stats.domElement.style.top="0px",window.stats.domElement.style.zIndex=3,r)require(["com/fighter/app/FallbackFighter"],function(){new f(document.body)});else{if(!s){var s=new h;window.app=s}var a=document.getElementById("container");a.appendChild(s.view),a.style.background="black",s.view.style.top=0,s.view.style.left=0,window.addEventListener("resize",function(){o()}),o()}})}):require(["fido/app/Fallback"],function(){new Fallback(document.body)}),define("Boot",function(){});